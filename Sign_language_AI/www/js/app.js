/*! For license information please see app.js.LICENSE.txt */
!function(){var e={883:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.loadFromFiles=t.load=t.loadTruncatedMobileNet=t.CustomMobileNet=t.getTopKClasses=t.IMAGE_SIZE=void 0;var o=n(714),i=n(714),s=n(233),l=n(542),u=n(572),c=.25,p=.35;t.IMAGE_SIZE=224;var d=function(e){return e.packageVersion=e.packageVersion||u.version,e.packageName=e.packageName||"@teachablemachine/image",e.timeStamp=e.timeStamp||(new Date).toISOString(),e.userMetadata=e.userMetadata||{},e.modelName=e.modelName||"untitled",e.labels=e.labels||[],e.imageSize=e.imageSize||t.IMAGE_SIZE,e},f=function(e,t){if(1===e){if(.25!==t&&.5!==t&&.75!==t&&1!==t)return console.warn("Invalid alpha. Options are: 0.25, 0.50, 0.75 or 1.00."),console.log("Loading model with alpha: ",c.toFixed(2)),c}else if(.35!==t&&.5!==t&&.75!==t&&1!==t)return console.warn("Invalid alpha. Options are: 0.35, 0.50, 0.75 or 1.00."),console.log("Loading model with alpha: ",p.toFixed(2)),p;return t},h=function(e){return r(void 0,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return"string"!=typeof e?[3,3]:[4,fetch(e)];case 1:return[4,n.sent().json()];case 2:return t=n.sent(),[3,4];case 3:if(!(r=e)||!Array.isArray(r.labels))throw new Error("Invalid Metadata provided");t=e,n.label=4;case 4:return[2,d(t)]}var r}))}))};function v(e,t,n){return void 0===n&&(n=3),r(this,void 0,void 0,(function(){var r;return a(this,(function(a){switch(a.label){case 0:return[4,t.data()];case 1:return r=a.sent(),[2,o.tidy((function(){n=Math.min(n,r.length);for(var t=[],a=0;a<r.length;a++)t.push({value:r[a],index:a});t.sort((function(e,t){return t.value-e.value}));var o=new Float32Array(n),i=new Int32Array(n);for(a=0;a<n;a++)o[a]=t[a].value,i[a]=t[a].index;var s=[];for(a=0;a<i.length;a++)s.push({className:e[i[a]],probability:o[a]});return s}))]}}))}))}t.getTopKClasses=v;var m=function(){function e(e,t){this.model=e,this._metadata=d(t)}return Object.defineProperty(e,"EXPECTED_IMAGE_SIZE",{get:function(){return t.IMAGE_SIZE},enumerable:!1,configurable:!0}),e.prototype.getMetadata=function(){return this._metadata},e.prototype.getTotalClasses=function(){return this.model.output.shape[1]},e.prototype.getClassLabels=function(){return this._metadata.labels},e.prototype.predictTopK=function(e,t,n){return void 0===t&&(t=10),void 0===n&&(n=!1),r(this,void 0,void 0,(function(){var r,u,c,p=this;return a(this,(function(a){switch(a.label){case 0:return r=l.cropTo(e,this._metadata.imageSize,n),u=o.tidy((function(){var e=s.capture(r,p._metadata.grayscale);return p.model.predict(e)})),[4,v(this._metadata.labels,u,t)];case 1:return c=a.sent(),i.dispose(u),[2,c]}}))}))},e.prototype.predict=function(e,t){return void 0===t&&(t=!1),r(this,void 0,void 0,(function(){var n,r,u,c,p,d=this;return a(this,(function(a){switch(a.label){case 0:return n=l.cropTo(e,this._metadata.imageSize,t),[4,(r=o.tidy((function(){var e=s.capture(n,d._metadata.grayscale);return d.model.predict(e)}))).data()];case 1:for(u=a.sent(),c=[],p=0;p<u.length;p++)c.push({className:this._metadata.labels[p],probability:u[p]});return i.dispose(r),[2,c]}}))}))},e.prototype.dispose=function(){this.truncatedModel.dispose()},e}();t.CustomMobileNet=m,t.loadTruncatedMobileNet=function(e){return r(this,void 0,void 0,(function(){var n,r,i,s,l,u,d;return a(this,(function(a){switch(a.label){case 0:return n=function(e){if((e=e||{}).checkpointUrl&&e.trainingLayer)return(e.alpha||e.version)&&console.warn("Checkpoint URL passed to modelOptions, alpha options are ignored"),[e.checkpointUrl,e.trainingLayer];if(e.version=e.version||1,1===e.version){e.alpha=e.alpha||c,e.alpha=f(e.version,e.alpha),console.log("Loading mobilenet "+e.version+" and alpha "+e.alpha);var n=e.alpha.toFixed(2);return"1.00"===n&&(n="1.0"),["https://storage.googleapis.com/tfjs-models/tfjs/mobilenet_v1_"+n+"_"+t.IMAGE_SIZE+"/model.json","conv_pw_13_relu"]}if(2===e.version)return e.alpha=e.alpha||p,e.alpha=f(e.version,e.alpha),console.log("Loading mobilenet "+e.version+" and alpha "+e.alpha),["https://storage.googleapis.com/teachable-machine-models/mobilenet_v2_weights_tf_dim_ordering_tf_kernels_"+e.alpha.toFixed(2)+"_"+t.IMAGE_SIZE+"_no_top/model.json","out_relu"];throw new Error("MobileNet V"+e.version+" doesn't exist")}(e),r=n[0],i=n[1],[4,o.loadLayersModel(r)];case 1:return s=a.sent(),e&&1===e.version?(l=s.getLayer(i),u=o.model({inputs:s.inputs,outputs:l.output}),(d=o.sequential()).add(u),d.add(o.layers.flatten()),[2,d]):(l=s.getLayer(i),u=o.model({inputs:s.inputs,outputs:l.output}),(d=o.sequential()).add(u),d.add(o.layers.globalAveragePooling2d({})),[2,d])}}))}))},t.load=function(e,t){return r(this,void 0,void 0,(function(){var n,r;return a(this,(function(a){switch(a.label){case 0:return[4,o.loadLayersModel(e)];case 1:return n=a.sent(),t?[4,h(t)]:[3,3];case 2:return r=a.sent(),[3,4];case 3:r=null,a.label=4;case 4:return[2,new m(n,r)]}}))}))},t.loadFromFiles=function(e,t,n){return r(this,void 0,void 0,(function(){var r,i,s;return a(this,(function(a){switch(a.label){case 0:return[4,o.loadLayersModel(o.io.browserFiles([e,t]))];case 1:return r=a.sent(),[4,new Response(n).json()];case 2:return i=a.sent(),n?[4,h(i)]:[3,4];case 3:return s=a.sent(),[3,5];case 4:s=null,a.label=5;case 5:return[2,new m(r,s)]}}))}))}},211:function(e,t,n){"use strict";var r=n(883);Object.defineProperty(t,"zD",{enumerable:!0,get:function(){return r.load}});var a=n(425);var o=n(590);var i=n(572)},425:function(e,t,n){"use strict";var r,a=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.createTeachable=t.TeachableMobileNet=void 0;var s=n(714),l=n(714),u=n(233),c=n(883),p=n(377);function d(e,t){for(var n,r=e.length,a=e.slice(),o=r-1;o>0;o-=1){var i=void 0;n=[a[i=t?Math.floor(t()*(o+1)):Math.floor(Math.random()*(o+1))],a[o]],a[o]=n[0],a[i]=n[1]}return a}var f=function(e){function t(t,n){var r=e.call(this,s.sequential(),n)||this;return r.totalSamples=0,r.examples=[],r.truncatedModel=t,r}return a(t,e),Object.defineProperty(t.prototype,"asSequentialModel",{get:function(){return this.model},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isTrained",{get:function(){return!!this.model&&this.model.layers&&this.model.layers.length>2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPrepared",{get:function(){return!!this.trainDataset},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numClasses",{get:function(){return this._metadata.labels.length},enumerable:!1,configurable:!0}),t.prototype.addExample=function(e,t){return o(this,void 0,void 0,(function(){var n,r,a;return i(this,(function(o){var i;return n="object"==typeof(i=t).dataId&&"object"==typeof i.shape?t:u.capture(t,this._metadata.grayscale),r=this.truncatedModel.predict(n),a=r.dataSync(),n.dispose(),r.dispose(),this.examples[e].push(a),this.totalSamples++,[2]}))}))},t.prototype.predict=function(t,n){return void 0===n&&(n=!1),o(this,void 0,void 0,(function(){return i(this,(function(r){if(!this.model)throw new Error("Model has not been trained yet, called train() first");return[2,e.prototype.predict.call(this,t,n)]}))}))},t.prototype.predictTopK=function(t,n,r){return void 0===n&&(n=10),void 0===r&&(r=!1),o(this,void 0,void 0,(function(){return i(this,(function(a){if(!this.model)throw new Error("Model has not been trained yet, called train() first");return[2,e.prototype.predictTopK.call(this,t,n,r)]}))}))},t.prototype.prepare=function(){for(var e in this.examples)if(0===e.length)throw new Error("Add some examples before training");var t=this.convertToTfDataset();this.trainDataset=t.trainDataset,this.validationDataset=t.validationDataset},t.prototype.convertToTfDataset=function(){for(var e=0;e<this.examples.length;e++)this.examples[e]=d(this.examples[e],this.seed);var t=[],n=[],r=function(e){var r,o,i,s=(r=e,o=a.numClasses,(i=new Array(o).fill(0))[r]=1,i),l=a.examples[e].length,u=l-Math.ceil(.15*l),c=a.examples[e].slice(0,u).map((function(e){return{data:e,label:s}})),p=a.examples[e].slice(u).map((function(e){return{data:e,label:s}}));t=t.concat(c),n=n.concat(p)},a=this;for(e=0;e<this.examples.length;e++)r(e);t=d(t,this.seed),n=d(n,this.seed);var o=s.data.array(t.map((function(e){return e.data}))),i=s.data.array(n.map((function(e){return e.data}))),l=s.data.array(t.map((function(e){return e.label}))),u=s.data.array(n.map((function(e){return e.label})));return{trainDataset:s.data.zip({xs:o,ys:l}),validationDataset:s.data.zip({xs:i,ys:u})}},t.prototype.save=function(e,t){return o(this,void 0,void 0,(function(){return i(this,(function(n){return[2,this.model.save(e,t)]}))}))},t.prototype.train=function(e,t){return void 0===t&&(t={}),o(this,void 0,void 0,(function(){var n,r,a,o,u,c,p,d,f,h=this;return i(this,(function(i){switch(i.label){case 0:if(n=t.onTrainEnd||function(){},t.onTrainEnd=function(e){h.__stopTrainingResolve&&(h.__stopTrainingResolve(),h.__stopTrainingResolve=null),n(e)},this.isPrepared||this.prepare(),r=this.getLabels().length,l.util.assert(r===this.numClasses,(function(){return"Can not train, has "+r+" labels and "+h.numClasses+" classes"})),a=this.truncatedModel.outputs[0].shape.slice(1),o=s.util.sizeFromShape(a),u=this.seed?s.initializers.varianceScaling({seed:3.14}):s.initializers.varianceScaling({}),this.trainingModel=s.sequential({layers:[s.layers.dense({inputShape:[o],units:e.denseUnits,activation:"relu",kernelInitializer:u,useBias:!0}),s.layers.dense({kernelInitializer:u,useBias:!1,activation:"softmax",units:this.numClasses})]}),c=s.train.adam(e.learningRate),this.trainingModel.compile({optimizer:c,loss:"categoricalCrossentropy",metrics:["accuracy"]}),!(e.batchSize>0))throw new Error("Batch size is 0 or NaN. Please choose a non-zero fraction");return p=this.trainDataset.batch(e.batchSize),d=this.validationDataset.batch(e.batchSize),[4,this.trainingModel.fitDataset(p,{epochs:e.epochs,validationData:d,callbacks:t})];case 1:return i.sent(),(f=s.sequential()).add(this.truncatedModel),f.add(this.trainingModel),this.model=f,c.dispose(),[2,this.model]}}))}))},t.prototype.prepareDataset=function(){for(var e=0;e<this.numClasses;e++)this.examples[e]=[]},t.prototype.setLabel=function(e,t){this._metadata.labels[e]=t},t.prototype.setLabels=function(e){this._metadata.labels=e,this.prepareDataset()},t.prototype.getLabel=function(e){return this._metadata.labels[e]},t.prototype.getLabels=function(){return this._metadata.labels},t.prototype.setName=function(e){this._metadata.modelName=e},t.prototype.getName=function(){return this._metadata.modelName},t.prototype.stopTraining=function(){var e=this;return new Promise((function(t,n){e.trainingModel.stopTraining=!0,e.__stopTrainingResolve=t}))},t.prototype.dispose=function(){this.trainingModel.dispose(),e.prototype.dispose.call(this)},t.prototype.calculateAccuracyPerClass=function(){return o(this,void 0,void 0,(function(){var e,t,n,r,a,l,u,c,p,d,f,h,v,m,g,b,y,w,x=this;return i(this,(function(C){switch(C.label){case 0:return e=this.validationDataset.mapAsync((function(e){return o(x,void 0,void 0,(function(){return i(this,(function(t){return[2,e.xs]}))}))})),t=this.validationDataset.mapAsync((function(e){return o(x,void 0,void 0,(function(){return i(this,(function(t){return[2,e.ys]}))}))})),n=Math.min(t.size,32),r=Math.ceil(t.size/n),a=e.batch(n),l=t.batch(n),[4,a.iterator()];case 1:return u=C.sent(),[4,l.iterator()];case 2:c=C.sent(),p=[],d=[],w=0,C.label=3;case 3:return w<r?[4,u.next()]:[3,7];case 4:return f=C.sent(),h=this.trainingModel.predict(f.value),v=h.argMax(1),p.push(v),[4,c.next()];case 5:m=C.sent(),g=m.value.argMax(1),d.push(g),f.value.dispose(),h.dispose(),m.value.dispose(),C.label=6;case 6:return w++,[3,3];case 7:if(b=s.concat(d),y=s.concat(p),1!==r)for(w=0;w<p.length;w++)p[w].dispose(),d[w].dispose();return[2,{reference:b,predictions:y}]}}))}))},t.prototype.setSeed=function(e){this.seed=p(e)},t}(c.CustomMobileNet);t.TeachableMobileNet=f,t.createTeachable=function(e,t){return o(this,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return[4,c.loadTruncatedMobileNet(t)];case 1:return n=r.sent(),[2,new f(n,e)]}}))}))}},542:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cropTo=t.resizeMinTo=t.resizeMaxTo=t.resize=void 0;var n=function(){return document.createElement("canvas")};function r(e,t,r){return void 0===r&&(r=n()),r.width=e.width*t,r.height=e.height*t,r.getContext("2d").drawImage(e,0,0,r.width,r.height),r}t.resize=r,t.resizeMaxTo=function(e,t,a){return void 0===a&&(a=n()),r(e,t/Math.max(e.width,e.height),a)},t.resizeMinTo=function(e,t,a){return void 0===a&&(a=n()),r(e,t/Math.min(e.width,e.height),a)},t.cropTo=function(e,t,r,a){void 0===r&&(r=!1),void 0===a&&(a=n());var o=e.width,i=e.height;e instanceof HTMLVideoElement&&(o=e.videoWidth,i=e.videoHeight);var s=t/Math.min(o,i),l=Math.ceil(o*s),u=Math.ceil(i*s),c=l-t,p=u-t;a.width=a.height=t;var d=a.getContext("2d");return d.drawImage(e,-1*~~(c/2),-1*~~(p/2),l,u),r&&(d.scale(-1,1),d.drawImage(a,-1*t,0)),a}},233:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cropTensor=t.capture=void 0;var r=n(714);function a(e,t,n){var a=Math.min(e.shape[0],e.shape[1]),o=e.shape[0]/2-a/2,i=e.shape[1]/2-a/2;if(t&&!n){var s=e.slice([o,i,0],[a,a,3]);s=s.reshape([a*a,1,3]);return s=(s=r.mul(s,[.2989,.587,.114])).reshape([a,a,3]),s=r.sum(s,-1),s=r.expandDims(s,-1)}return e.slice([o,i,0],[a,a,3])}t.capture=function(e,t){return r.tidy((function(){return a(r.browser.fromPixels(e),t).expandDims(0).toFloat().div(r.scalar(127)).sub(r.scalar(1))}))},t.cropTensor=a},590:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Webcam=void 0;var i=n(368),s=n(542),l={facingMode:"user",frameRate:24},u=function(){function e(e,t,n){void 0===e&&(e=400),void 0===t&&(t=400),void 0===n&&(n=!1),this.width=e,this.height=t,this.flip=n}return e.prototype.getWebcam=function(e){if(void 0===e&&(e={}),!window.navigator.mediaDevices||!window.navigator.mediaDevices.getUserMedia)return Promise.reject("Your browser does not support WebRTC. Please try another one.");e.width=640;var t=function(e){return e.facingMode=e.facingMode||l.facingMode,e.frameRate=e.frameRate||l.frameRate,e.aspectRatio=e.aspectRatio||l.aspectRatio,e}(e),n=document.createElement("video");return window.navigator.mediaDevices.getUserMedia({video:t}).then((function(e){return n.srcObject=e,n.addEventListener("loadedmetadata",(function(e){var t=n.videoWidth,r=n.videoHeight;n.width=t,n.height=r})),n}),(function(){return Promise.reject("Could not open your camera. You may have denied access.")}))},e.prototype.setup=function(e){return void 0===e&&(e={}),a(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return this.webcam?[3,2]:(t=this,[4,this.getWebcam(e)]);case 1:t.webcam=n.sent(),this.canvas||(this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height),n.label=2;case 2:return[2]}}))}))},e.prototype.play=function(){return this.webcam.play()},e.prototype.pause=function(){this.webcam.pause()},e.prototype.stop=function(){this.stopStreamedVideo(this.webcam)},e.prototype.update=function(){this.renderCameraToCanvas()},e.prototype.stopStreamedVideo=function(e){e.srcObject.getTracks().forEach((function(e){e.stop()})),e.srcObject=null},e.prototype.renderCameraToCanvas=function(){if(this.canvas&&this.webcam){var e=this.canvas.getContext("2d");if(0!==this.webcam.videoWidth){var t=s.cropTo(this.webcam,this.width,this.flip);e.drawImage(t,0,0)}}},r([i.default],e.prototype,"getWebcam",null),r([i.default],e.prototype,"setup",null),r([i.default],e.prototype,"play",null),r([i.default],e.prototype,"pause",null),r([i.default],e.prototype,"stop",null),r([i.default],e.prototype,"update",null),r([i.default],e.prototype,"stopStreamedVideo",null),r([i.default],e.prototype,"renderCameraToCanvas",null),e}();t.Webcam=u},572:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0;t.version="0.8.4-alpha2"},714:function(e,t,n){"use strict";n.r(t),n.d(t,{AdadeltaOptimizer:function(){return Od},AdagradOptimizer:function(){return Id},AdamOptimizer:function(){return Nd},AdamaxOptimizer:function(){return Ad},Callback:function(){return zb},CallbackList:function(){return ov},CustomCallback:function(){return lv},DataStorage:function(){return oa},ENV:function(){return c},EarlyStopping:function(){return Vb},Environment:function(){return l},GraphModel:function(){return Gy},History:function(){return sv},InputSpec:function(){return qh},KernelBackend:function(){return ia},LayerVariable:function(){return Hh},LayersModel:function(){return ym},MomentumOptimizer:function(){return Rd},Optimizer:function(){return Td},RMSPropOptimizer:function(){return Md},RNN:function(){return cb},Rank:function(){return me},Reduction:function(){return Rc},SGDOptimizer:function(){return _d},Sequential:function(){return xm},SymbolicTensor:function(){return Gh},Tensor:function(){return ve},TensorBuffer:function(){return pe},Variable:function(){return xe},abs:function(){return _s},acos:function(){return Rs},acosh:function(){return Ms},add:function(){return _l},addN:function(){return Rl},addStrict:function(){return Ml},all:function(){return Ku},any:function(){return Ju},argMax:function(){return Qu},argMin:function(){return Zu},asin:function(){return Ps},asinh:function(){return Ds},atan:function(){return Bs},atan2:function(){return Pl},atanh:function(){return Ls},avgPool:function(){return $u},avgPool3d:function(){return Hu},backend:function(){return rn},backend_util:function(){return Ta},basicLSTMCell:function(){return mc},batchNorm:function(){return xl},batchNorm2d:function(){return Cl},batchNorm3d:function(){return El},batchNorm4d:function(){return kl},batchNormalization:function(){return wl},batchNormalization2d:function(){return gl},batchNormalization3d:function(){return bl},batchNormalization4d:function(){return yl},batchToSpaceND:function(){return lr},booleanMaskAsync:function(){return hu},browser:function(){return vd},buffer:function(){return ir},callbacks:function(){return Wb},cast:function(){return ur},ceil:function(){return zs},clipByValue:function(){return Fs},clone:function(){return cr},complex:function(){return Cn},concat:function(){return jn},concat1d:function(){return Hn},concat2d:function(){return Wn},concat3d:function(){return Un},concat4d:function(){return qn},constraints:function(){return Tf},conv1d:function(){return bu},conv2d:function(){return yu},conv2dTranspose:function(){return Ou},conv3d:function(){return wu},conv3dTranspose:function(){return Iu},cos:function(){return $s},cosh:function(){return Vs},cumsum:function(){return pr},customGrad:function(){return ta},data:function(){return r},deprecationWarn:function(){return Vt},depthToSpace:function(){return dr},depthwiseConv2d:function(){return Eu},deregisterOp:function(){return Jb},diag:function(){return Nc},disableDeprecationWarnings:function(){return $t},dispose:function(){return Gt},disposeVariables:function(){return jt},div:function(){return Dl},divStrict:function(){return Bl},dot:function(){return Au},dropout:function(){return Ac},elu:function(){return sc},enableDebugMode:function(){return Ft},enableProdMode:function(){return zt},engine:function(){return Ht},env:function(){return u},equal:function(){return Ql},equalStrict:function(){return Zl},erf:function(){return js},exp:function(){return Hs},expandDims:function(){return fr},expm1:function(){return Ws},eye:function(){return hr},fft:function(){return Cc},fill:function(){return Ln},findBackend:function(){return en},findBackendFactory:function(){return tn},floor:function(){return Us},floorDiv:function(){return Ll},frame:function(){return Dc},fused:function(){return dp},gather:function(){return du},gatherND:function(){return Ic},getBackend:function(){return Qt},getKernel:function(){return d},getKernelsForBackend:function(){return f},grad:function(){return Kr},grads:function(){return Jr},greater:function(){return eu},greaterEqual:function(){return tu},greaterEqualStrict:function(){return nu},greaterStrict:function(){return ru},hammingWindow:function(){return Pc},hannWindow:function(){return Mc},ifft:function(){return Ec},imag:function(){return kn},image:function(){return ap},inTopKAsync:function(){return zc},initializers:function(){return Rh},input:function(){return Sm},io:function(){return pd},irfft:function(){return Sc},isFinite:function(){return rl},isInf:function(){return nl},isNaN:function(){return tl},keep:function(){return Xt},layers:function(){return Pb},leakyRelu:function(){return lc},less:function(){return au},lessEqual:function(){return ou},lessEqualStrict:function(){return iu},lessStrict:function(){return su},linalg:function(){return Qc},linspace:function(){return zn},loadGraphModel:function(){return Xy},loadLayersModel:function(){return km},localResponseNormalization:function(){return hc},log:function(){return qs},log1p:function(){return Gs},logSigmoid:function(){return Xs},logSoftmax:function(){return aa},logSumExp:function(){return ec},logicalAnd:function(){return Sl},logicalNot:function(){return Tl},logicalOr:function(){return Ol},logicalXor:function(){return Il},losses:function(){return Xc},matMul:function(){return Nu},math:function(){return fd},max:function(){return tc},maxPool:function(){return Fu},maxPool3d:function(){return ju},maximum:function(){return zl},maximumStrict:function(){return Fl},mean:function(){return nc},memory:function(){return Wt},metrics:function(){return Db},min:function(){return rc},minimum:function(){return $l},minimumStrict:function(){return Vl},mod:function(){return jl},modStrict:function(){return Hl},model:function(){return Cm},models:function(){return Bb},moments:function(){return ac},movingAverage:function(){return bc},mul:function(){return Wl},mulStrict:function(){return Ul},multiRNNCell:function(){return gc},multinomial:function(){return vr},neg:function(){return Ys},nextFrame:function(){return Ld},norm:function(){return vc},notEqual:function(){return lu},notEqualStrict:function(){return uu},oneHot:function(){return mr},ones:function(){return Dn},onesLike:function(){return $n},op:function(){return xn},outerProduct:function(){return _u},pad:function(){return gr},pad1d:function(){return br},pad2d:function(){return yr},pad3d:function(){return wr},pad4d:function(){return xr},pool:function(){return Vu},pow:function(){return ql},powStrict:function(){return Gl},prelu:function(){return uc},print:function(){return sr},prod:function(){return ic},profile:function(){return Ut},rand:function(){return Cr},randomGamma:function(){return kr},randomNormal:function(){return Er},randomUniform:function(){return Sr},range:function(){return Fn},ready:function(){return Jt},real:function(){return En},reciprocal:function(){return Ks},registerBackend:function(){return nn},registerCallbackConstructor:function(){return Tm},registerKernel:function(){return h},registerOp:function(){return Yb},regularizers:function(){return Lb},relu:function(){return cc},relu6:function(){return pc},removeBackend:function(){return Zt},reshape:function(){return Tr},reverse:function(){return Ru},reverse1d:function(){return Mu},reverse2d:function(){return Pu},reverse3d:function(){return Du},reverse4d:function(){return Bu},rfft:function(){return kc},round:function(){return Js},rsqrt:function(){return Qs},scalar:function(){return On},scatterND:function(){return xc},selu:function(){return dc},separableConv2d:function(){return Tu},sequential:function(){return Em},serialization:function(){return yd},setBackend:function(){return Kt},setPlatform:function(){return an},setdiff1dAsync:function(){return Mr},sigmoid:function(){return Zs},sign:function(){return el},signal:function(){return Lc},sin:function(){return al},sinh:function(){return ol},slice:function(){return Wu},slice1d:function(){return Uu},slice2d:function(){return qu},slice3d:function(){return Gu},slice4d:function(){return Xu},slice_util:function(){return Yr},softmax:function(){return ra},softplus:function(){return il},spaceToBatchND:function(){return Or},sparseToDense:function(){return Oc},spectral:function(){return Tc},split:function(){return Gn},sqrt:function(){return sl},square:function(){return As},squaredDifference:function(){return Xl},squaredDifferenceStrict:function(){return Yl},squeeze:function(){return Ir},stack:function(){return Nr},step:function(){return ll},stft:function(){return Bc},stridedSlice:function(){return yc},sub:function(){return Kl},subStrict:function(){return Jl},sum:function(){return oc},tan:function(){return ul},tanh:function(){return cl},tensor:function(){return Sn},tensor1d:function(){return In},tensor2d:function(){return Nn},tensor3d:function(){return An},tensor4d:function(){return _n},tensor5d:function(){return Rn},tensor6d:function(){return Mn},tensor_util:function(){return Ne},test_util:function(){return Ed},tidy:function(){return qt},tile:function(){return Ar},time:function(){return Yt},topk:function(){return wc},train:function(){return Dd},transpose:function(){return fc},truncatedNormal:function(){return _r},unregisterKernel:function(){return v},unsortedSegmentSum:function(){return fu},unstack:function(){return Rr},util:function(){return ae},valueAndGrad:function(){return Qr},valueAndGrads:function(){return Zr},variable:function(){return Pn},variableGrads:function(){return ea},version:function(){return Cx},version_converter:function(){return Yy},version_core:function(){return kd},version_layers:function(){return Wv},webgl:function(){return Sd},where:function(){return Nl},whereAsync:function(){return Al},zeros:function(){return Bn},zerosLike:function(){return Vn}});var r={};n.r(r),n.d(r,{CSVDataset:function(){return ex},Dataset:function(){return Vw},FileDataSource:function(){return hx},TextLineDataset:function(){return Gw},URLDataSource:function(){return vx},array:function(){return Hw},csv:function(){return mx},func:function(){return gx},generator:function(){return bx},microphone:function(){return wx},version_data:function(){return xx},webcam:function(){return yx},zip:function(){return Ww}});var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function i(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?a(e.value):new n((function(t){t(e.value)})).then(i,s)}l((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var l=function(){function e(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.populateURLFlags()}return e.prototype.setPlatform=function(e,t){null!=this.platform&&console.warn("Platform "+this.platformName+" has already been set. Overwriting the platform with "+t+"."),this.platformName=e,this.platform=t},e.prototype.registerFlag=function(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){var r=this.urlFlags[e];console.warn("Setting feature override from URL "+e+": "+r+"."),this.set(e,r)}},e.prototype.get=function(e){return e in this.flags||(this.flags[e]=this.evaluateFlag(e)),this.flags[e]},e.prototype.getNumber=function(e){return this.get(e)},e.prototype.getBool=function(e){return this.get(e)},e.prototype.getFlags=function(){return this.flags},Object.defineProperty(e.prototype,"features",{get:function(){return this.flags},enumerable:!0,configurable:!0}),e.prototype.set=function(e,t){if(null==this.flagRegistry[e])throw new Error("Cannot set flag "+e+" as it has not been registered.");this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)},e.prototype.evaluateFlag=function(e){if(null==this.flagRegistry[e])throw new Error("Cannot evaluate flag '"+e+"': no evaluation function found.");return this.flagRegistry[e].evaluationFn()},e.prototype.setFlags=function(e){this.flags=Object.assign({},e)},e.prototype.reset=function(){this.flags={},this.urlFlags={},this.populateURLFlags()},e.prototype.populateURLFlags=function(){var e=this;if(void 0!==this.global&&void 0!==this.global.location&&void 0!==this.global.location.search){var t,n,r=(t=this.global.location.search,n={},t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(n,t[0],t[1]),t.join("=")})),n);"tfjsflags"in r&&r.tfjsflags.split(",").forEach((function(t){var n=t.split(":"),r=n[0],a=n[1];e.urlFlags[r]=function(e,t){if("true"===(t=t.toLowerCase())||"false"===t)return"true"===t;if(""+ +t===t)return+t;throw new Error("Could not parse value flag value "+t+" for flag "+e+".")}(r,a)}))}},e}();function u(){return c}var c=null,p=new Map;function d(e,t){var n=m(e,t);return p.get(n)}function f(e){for(var t=p.entries(),n=[];;){var r=t.next(),a=r.done,o=r.value;if(a)break;var i=o[0],s=o[1];i.split("_")[0]===e&&n.push(s)}return n}function h(e){var t=e.kernelName,n=e.backendName,r=m(t,n);if(p.has(r))throw new Error("The kernel '"+t+"' for backend '"+n+"' is already registered");p.set(r,e)}function v(e,t){var n=m(e,t);if(!p.has(n))throw new Error("The kernel '"+e+"' for backend '"+t+"' is not registered");p.delete(n)}function m(e,t){return t+"_"+e}function g(e){for(var t=e.length,n=0,r=0;t>0;)r=Math.random()*t|0,n=e[--t],e[t]=e[r],e[r]=n}function b(e,t,n){return Math.max(e,Math.min(t,n))}function y(e){return e%2==0?e:e+1}function w(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t}function x(e,t){if(!e)throw new Error("string"==typeof t?t:t())}function C(e,t,n){void 0===n&&(n=""),x(T(e,t),(function(){return n+" Shapes "+e+" and "+t+" must match"}))}function E(e){x(null!=e,(function(){return"The input to the tensor constructor must be a non-null value."}))}function k(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=!1),null==t&&(t=[]),Array.isArray(e)||$(e)&&!n)for(var r=0;r<e.length;++r)k(e[r],t,n);else t.push(e);return t}function S(e){if(0===e.length)return 1;for(var t=e[0],n=1;n<e.length;n++)t*=e[n];return t}function T(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function O(e){return e%1==0}function I(e){if(null!=Math.tanh)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;var t=Math.exp(2*e);return(t-1)/(t+1)}function N(e){var t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function A(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function _(e,t,n){return void 0===t&&(t=function(e){return 0}),new Promise((function(r,a){var o=0,i=function(){if(e())r();else{var s=t(++o);null!=n&&o>=n?a():setTimeout(i,s)}};i()}))}function R(e,t){for(var n=1,r=-1,a=0;a<e.length;++a)if(e[a]>=0)n*=e[a];else if(-1===e[a]){if(-1!==r)throw Error("Shapes can only have 1 implicit size. Found -1 at dim "+r+" and dim "+a);r=a}else if(e[a]<0)throw Error("Shapes can not be < 0. Found "+e[a]+" at dim "+a);if(-1===r){if(t>0&&t!==n)throw Error("Size("+t+") must match the product of shape "+e);return e}if(0===n)throw Error("Cannot infer the missing size in ["+e+"] when there are 0 elements");if(t%n!=0)throw Error("The implicit shape can't be a fractional number. Got "+t+" / "+n);var o=e.slice();return o[r]=t/n,o}function M(e,t){var n=t.length;return x((e=null==e?t.map((function(e,t){return t})):[].concat(e)).every((function(e){return e>=-n&&e<n})),(function(){return"All values in axis param must be in range [-"+n+", "+n+") but got axis "+e})),x(e.every((function(e){return O(e)})),(function(){return"All values in axis param must be integers but got axis "+e})),e.map((function(e){return e<0?n+e:e}))}function P(e,t){for(var n=[],r=[],a=null!=t&&Array.isArray(t)&&0===t.length,o=null==t||a?null:M(t,e).sort(),i=0,s=0;s<e.length;++s){if(null!=o){if(o[i]===s&&1!==e[s])throw new Error("Can't squeeze axis "+s+" since its dim '"+e[s]+"' is not 1");(null==o[i]||o[i]>s)&&1===e[s]&&(n.push(e[s]),r.push(s)),o[i]<=s&&i++}1!==e[s]&&(n.push(e[s]),r.push(s))}return{newShape:n,keptDims:r}}function D(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else{if("bool"!==e)throw new Error("Unknown data type "+e);n=new Uint8Array(t)}return n}function B(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error("Unknown data type "+e);n=new Array(t)}return n}function L(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type "+t+" being uploaded contains "+r+".")}}function z(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}function F(e,t){return!("complex64"===t||"float32"===t&&"complex64"!==e||"int32"===t&&"float32"!==e&&"complex64"!==e||"bool"===t&&"bool"===e)}function $(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array}function V(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error("Unknown dtype "+e)}function j(e){if(null==e)return 0;var t=0;return e.forEach((function(e){return t+=e.length})),t}function H(e){return"string"==typeof e||e instanceof String}function W(e){return"boolean"==typeof e}function U(e){return"number"==typeof e}function q(e){return Array.isArray(e)?q(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array?"int32":U(e)?"float32":H(e)?"string":W(e)?"bool":"float32"}function G(e){return!!(e&&e.constructor&&e.call&&e.apply)}function X(e,t){for(var n=t;n<e;++n)if(e%n==0)return n;return e}function Y(e){var t=e.length;if(t<2)return[];var n=new Array(t-1);n[t-2]=e[t-1];for(var r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function K(e,t,n){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=k(e)),n&&L(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){for(var r=new Uint8Array(e.length),a=0;a<r.length;++a)0!==Math.round(e[a])&&(r[a]=1);return r}throw new Error("Unknown data type "+t)}function J(e,t){if(0===e.length)return t[0];var n=e.reduce((function(e,t){return e*t}));if(0===n)return[];if(n!==t.length)throw new Error("["+e+"] does not match the input size.");return function e(t,n,r){var a=new Array;if(1===n.length)for(var o=n[0],i=0;i<o;i++)a[i]=r[t+i];else{o=n[0];var s=n.slice(1),l=s.reduce((function(e,t){return e*t}));for(i=0;i<o;i++)a[i]=e(t+i*l,s,r)}return a}(0,e,t)}function Q(e,t){for(var n=Z(e,t),r=0;r<n.length;r++)n[r]=1;return n}function Z(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error("Unknown data type "+t)}function ee(){return u().platform.now()}function te(e){e.forEach((function(t){x(Number.isInteger(t)&&t>=0,(function(){return"Tensor must have a shape comprised of positive integers but got shape ["+e+"]."}))}))}function ne(e,t){return void 0===t&&(t="utf-8"),t=t||"utf-8",u().platform.encode(e,t)}function re(e,t){return void 0===t&&(t="utf-8"),t=t||"utf-8",u().platform.decode(e,t)}var ae=Object.freeze({shuffle:g,clamp:b,nearestLargerEven:y,sum:w,randUniform:function(e,t){var n=Math.random();return t*n+(1-n)*e},distSquared:function(e,t){for(var n=0,r=0;r<e.length;r++){var a=Number(e[r])-Number(t[r]);n+=a*a}return n},assert:x,assertShapesMatch:C,assertNonNull:E,flatten:k,sizeFromShape:S,isScalarShape:function(e){return 0===e.length},arraysEqual:T,isInt:O,tanh:I,sizeToSquarishShape:N,createShuffledIndices:function(e){for(var t=new Uint32Array(e),n=0;n<e;++n)t[n]=n;return g(t),t},rightPad:A,repeatedTry:_,inferFromImplicitShape:R,parseAxisParam:M,squeezeShape:P,getTypedArrayFromDType:D,getArrayFromDType:B,checkConversionForErrors:L,isValidDtype:z,hasEncodingLoss:F,isTypedArray:$,bytesPerElement:V,bytesFromStringArray:j,isString:H,isBoolean:W,isNumber:U,inferDtype:q,isFunction:G,nearestDivisor:X,computeStrides:Y,toTypedArray:K,toNestedArray:J,makeOnesTypedArray:Q,makeZerosTypedArray:Z,now:ee,assertNonNegativeIntegerDimensions:te,fetch:function(e,t){return u().platform.fetch(e,t)},encodeString:ne,decodeString:re}),oe=function(){function e(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new ie)}return e.prototype.profileKernel=function(e,t,n){var r,a=this,o=this.backendTimer.time((function(){r=n()}));return r.forEach((function(n){n.data().then((function(r){!function(e,t,n){if("float32"!==t)return!1;for(var r=0;r<e.length;r++){var a=e[r];if(isNaN(a)||!isFinite(a))return console.warn("Found "+a+" in the result of '"+n+"'"),!0}}(r,n.dtype,e),o.then((function(o){var i="";null!=o.getExtraProfileInfo&&(i=o.getExtraProfileInfo()),a.logger.logKernelProfile(e,n,r,o.kernelMs,t,i)}))}))})),r},e}(),ie=function(){function e(){}return e.prototype.logKernelProfile=function(e,t,n,r,a,o){var i=A(r+"ms",9),s=A(e,25),l=t.rank,u=t.size,c=A(t.shape.toString(),14),p="";for(var d in a){var f=a[d].shape,h=f.length;p+=d+": "+h+"D "+(h>0?f:"")+" "}console.log("%c"+s+"\t%c"+i+"\t%c"+l+"D "+c+"\t%c"+u+"\t%c"+p+"\t%c"+o,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")},e}(),se=7;function le(e,t,n){return A(Array.isArray(e)?parseFloat(e[0].toFixed(se))+" + "+parseFloat(e[1].toFixed(se))+"j":H(e)?"'"+e+"'":"bool"===n?ue(e):parseFloat(e.toFixed(se)).toString(),t)}function ue(e){return 0===e?"false":"true"}function ce(e){for(var t=[],n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}var pe=function(){function e(e,t,n){var r=this;if(this.dtype=t,this.shape=e.slice(),this.size=S(e),null!=n){var a=n.length;x(a===this.size,(function(){return"Length of values '"+a+"' does not match the size inferred by the shape '"+r.size+"'."}))}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||B(t,this.size),this.strides=Y(e)}return e.prototype.set=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];0===n.length&&(n=[0]),x(n.length===this.rank,(function(){return"The number of provided coordinates ("+n.length+") must match the rank ("+t.rank+")"}));var a=this.locToIndex(n);this.values[a]=e},e.prototype.get=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];0===e.length&&(e=[0]);for(var n=0,r=0,a=e;r<a.length;r++){var o=a[r];if(o<0||o>=this.shape[n]){var i="Requested out of range element at "+e+".   Buffer shape="+this.shape;throw new Error(i)}n++}for(var s=e[e.length-1],l=0;l<e.length-1;++l)s+=this.strides[l]*e[l];return this.values[s]},e.prototype.locToIndex=function(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];for(var t=e[e.length-1],n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t},e.prototype.indexToLoc=function(e){if(0===this.rank)return[];if(1===this.rank)return[e];for(var t=new Array(this.shape.length),n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.toTensor=function(){return de().makeTensor(this.values,this.shape,this.dtype)},e}(),de=null,fe=null,he=null,ve=function(){function e(e,t,n,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=S(e),this.strides=Y(e),this.dataId=n,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}return e.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D()},e.prototype.asScalar=function(){return this.throwIfDisposed(),x(1===this.size,(function(){return"The array must have only 1 element."})),this.reshape([])},e.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},e.prototype.as2D=function(e,t){return this.throwIfDisposed(),this.reshape([e,t])},e.prototype.as3D=function(e,t,n){return this.throwIfDisposed(),this.reshape([e,t,n])},e.prototype.as4D=function(e,t,n,r){return this.throwIfDisposed(),this.reshape([e,t,n,r])},e.prototype.as5D=function(e,t,n,r,a){return this.throwIfDisposed(),this.reshape([e,t,n,r,a])},e.prototype.asType=function(e){return this.throwIfDisposed(),fe.cast(this,e)},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.buffer=function(){return i(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return[4,this.data()];case 1:return e=t.sent(),[2,fe.buffer(this.shape,this.dtype,e)]}}))}))},e.prototype.bufferSync=function(){return fe.buffer(this.shape,this.dtype,this.dataSync())},e.prototype.array=function(){return i(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return[4,this.data()];case 1:return e=t.sent(),[2,J(this.shape,e)]}}))}))},e.prototype.arraySync=function(){return J(this.shape,this.dataSync())},e.prototype.data=function(){return i(this,void 0,void 0,(function(){var e,t;return s(this,(function(n){switch(n.label){case 0:return this.throwIfDisposed(),e=de().read(this.dataId),"string"!==this.dtype?[3,2]:[4,e];case 1:t=n.sent();try{return[2,t.map((function(e){return re(e)}))]}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}n.label=2;case 2:return[2,e]}}))}))},e.prototype.dataSync=function(){this.throwIfDisposed();var e=de().readSync(this.dataId);if("string"===this.dtype)try{return e.map((function(e){return re(e)}))}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e},e.prototype.bytes=function(){return i(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return this.throwIfDisposed(),[4,de().read(this.dataId)];case 1:return e=t.sent(),"string"===this.dtype?[2,e]:[2,new Uint8Array(e.buffer)]}}))}))},e.prototype.dispose=function(){this.isDisposed||(de().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),e.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},e.prototype.toFloat=function(){return this.asType("float32")},e.prototype.toInt=function(){return this.asType("int32")},e.prototype.toBool=function(){return this.asType("bool")},e.prototype.print=function(e){return void 0===e&&(e=!1),fe.print(this,e)},e.prototype.reshape=function(e){return this.throwIfDisposed(),fe.reshape(this,e)},e.prototype.reshapeAs=function(e){return this.throwIfDisposed(),this.reshape(e.shape)},e.prototype.expandDims=function(e){return void 0===e&&(e=0),fe.expandDims(this,e)},e.prototype.cumsum=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=!1),void 0===n&&(n=!1),fe.cumsum(this,e,t,n)},e.prototype.squeeze=function(e){return this.throwIfDisposed(),fe.squeeze(this,e)},e.prototype.clone=function(){return this.throwIfDisposed(),fe.clone(this)},e.prototype.oneHot=function(e,t,n){return this.throwIfDisposed(),fe.oneHot(this,e,t,n)},e.prototype.toString=function(e){return void 0===e&&(e=!1),function(e,t,n,r){var a=Y(t),o=function(e,t,n,r){var a=S(t),o=r[r.length-1],i=new Array(o).fill(0),s=t.length,l="complex64"===n?ce(e):e;if(s>1)for(var u=0;u<a/o;u++)for(var c=u*o,p=0;p<o;p++)i[p]=Math.max(i[p],le(l[c+p],0,n).length);return i}(e,t,n,a),i=t.length,s=function e(t,n,r,a,o,i){void 0===i&&(i=!0);var s="complex64"===r?2:1,l=n[0],u=n.length;if(0===u)return"complex64"===r?[le(ce(t)[0],0,r)]:"bool"===r?[ue(t[0])]:[t[0].toString()];if(1===u){if(l>20){var c=3*s,p=Array.from(t.slice(0,c)),d=Array.from(t.slice(l-3*s,l));return"complex64"===r&&(p=ce(p),d=ce(d)),["["+p.map((function(e,t){return le(e,o[t],r)})).join(", ")+", ..., "+d.map((function(e,t){return le(e,o[l-3+t],r)})).join(", ")+"]"]}return["["+("complex64"===r?ce(t):Array.from(t)).map((function(e,t){return le(e,o[t],r)})).join(", ")+"]"]}var f=n.slice(1),h=a.slice(1),v=a[0]*s,m=[];if(l>20){for(var g=0;g<3;g++){var b=(y=g*v)+v;m.push.apply(m,e(t.slice(y,b),f,r,h,o,!1))}for(m.push("..."),g=l-3;g<l;g++)b=(y=g*v)+v,m.push.apply(m,e(t.slice(y,b),f,r,h,o,g===l-1))}else for(g=0;g<l;g++){var y;b=(y=g*v)+v,m.push.apply(m,e(t.slice(y,b),f,r,h,o,g===l-1))}var w=2===u?",":"";for(m[0]="["+m[0]+w,g=1;g<m.length-1;g++)m[g]=" "+m[g]+w;var x=",\n";for(g=2;g<u;g++)x+="\n";return m[m.length-1]=" "+m[m.length-1]+"]"+(i?"":x),m}(e,t,n,a,o),l=["Tensor"];return r&&(l.push("  dtype: "+n),l.push("  rank: "+i),l.push("  shape: ["+t+"]"),l.push("  values:")),l.push(s.map((function(e){return"    "+e})).join("\n")),l.join("\n")}(this.dataSync(),this.shape,this.dtype,e)},e.prototype.tile=function(e){return this.throwIfDisposed(),fe.tile(this,e)},e.prototype.gather=function(e,t){return void 0===t&&(t=0),this.throwIfDisposed(),fe.gather(this,e,t)},e.prototype.matMul=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=!1),this.throwIfDisposed(),fe.matMul(this,e,t,n)},e.prototype.dot=function(e){return this.throwIfDisposed(),fe.dot(this,e)},e.prototype.norm=function(e,t,n){return void 0===e&&(e="euclidean"),void 0===t&&(t=null),void 0===n&&(n=!1),this.throwIfDisposed(),fe.norm(this,e,t,n)},e.prototype.slice=function(e,t){return this.throwIfDisposed(),fe.slice(this,e,t)},e.prototype.reverse=function(e){return this.throwIfDisposed(),fe.reverse(this,e)},e.prototype.concat=function(t,n){return void 0===n&&(n=0),this.throwIfDisposed(),t instanceof e&&(t=[t]),fe.concat([this].concat(t),n)},e.prototype.split=function(e,t){return void 0===t&&(t=0),this.throwIfDisposed(),fe.split(this,e,t)},e.prototype.stack=function(e,t){return void 0===t&&(t=0),fe.stack([this,e],t)},e.prototype.unstack=function(e){return void 0===e&&(e=0),fe.unstack(this,e)},e.prototype.pad=function(e,t){return void 0===t&&(t=0),fe.pad(this,e,t)},e.prototype.batchNormalization=function(e,t,n,r,a){return void 0===n&&(n=.001),he("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon"),this.batchNorm(e,t,a,r,n)},e.prototype.batchNorm=function(e,t,n,r,a){return void 0===a&&(a=.001),this.throwIfDisposed(),fe.batchNorm(this,e,t,n,r,a)},e.prototype.all=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),fe.all(this,e,t)},e.prototype.any=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),fe.any(this,e,t)},e.prototype.logSumExp=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),fe.logSumExp(this,e,t)},e.prototype.sum=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),fe.sum(this,e,t)},e.prototype.prod=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),fe.prod(this,e,t)},e.prototype.mean=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),fe.mean(this,e,t)},e.prototype.min=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),fe.min(this,e,t)},e.prototype.max=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),fe.max(this,e,t)},e.prototype.argMin=function(e){return void 0===e&&(e=null),this.throwIfDisposed(),fe.argMin(this,e)},e.prototype.argMax=function(e){return void 0===e&&(e=null),this.throwIfDisposed(),fe.argMax(this,e)},e.prototype.cast=function(e){return this.throwIfDisposed(),fe.cast(this,e)},e.prototype.add=function(e){return this.throwIfDisposed(),fe.add(this,e)},e.prototype.addStrict=function(e){return this.throwIfDisposed(),fe.addStrict(this,e)},e.prototype.atan2=function(e){return this.throwIfDisposed(),fe.atan2(this,e)},e.prototype.sub=function(e){return this.throwIfDisposed(),fe.sub(this,e)},e.prototype.subStrict=function(e){return this.throwIfDisposed(),fe.subStrict(this,e)},e.prototype.pow=function(e){return this.throwIfDisposed(),fe.pow(this,e)},e.prototype.powStrict=function(e){return this.throwIfDisposed(),fe.powStrict(this,e)},e.prototype.mul=function(e){return this.throwIfDisposed(),fe.mul(this,e)},e.prototype.mulStrict=function(e){return this.throwIfDisposed(),fe.mulStrict(this,e)},e.prototype.div=function(e){return this.throwIfDisposed(),fe.div(this,e)},e.prototype.floorDiv=function(e){return this.throwIfDisposed(),fe.floorDiv(this,e)},e.prototype.divStrict=function(e){return this.throwIfDisposed(),fe.divStrict(this,e)},e.prototype.minimum=function(e){return this.throwIfDisposed(),fe.minimum(this,e)},e.prototype.minimumStrict=function(e){return this.throwIfDisposed(),fe.minimumStrict(this,e)},e.prototype.maximum=function(e){return this.throwIfDisposed(),fe.maximum(this,e)},e.prototype.maximumStrict=function(e){return this.throwIfDisposed(),fe.maximumStrict(this,e)},e.prototype.mod=function(e){return this.throwIfDisposed(),fe.mod(this,e)},e.prototype.modStrict=function(e){return this.throwIfDisposed(),fe.modStrict(this,e)},e.prototype.squaredDifference=function(e){return this.throwIfDisposed(),fe.squaredDifference(this,e)},e.prototype.squaredDifferenceStrict=function(e){return this.throwIfDisposed(),fe.squaredDifferenceStrict(this,e)},e.prototype.transpose=function(e){return this.throwIfDisposed(),fe.transpose(this,e)},e.prototype.notEqual=function(e){return this.throwIfDisposed(),fe.notEqual(this,e)},e.prototype.notEqualStrict=function(e){return this.throwIfDisposed(),fe.notEqualStrict(this,e)},e.prototype.less=function(e){return this.throwIfDisposed(),fe.less(this,e)},e.prototype.lessStrict=function(e){return this.throwIfDisposed(),fe.lessStrict(this,e)},e.prototype.equal=function(e){return this.throwIfDisposed(),fe.equal(this,e)},e.prototype.equalStrict=function(e){return this.throwIfDisposed(),fe.equalStrict(this,e)},e.prototype.lessEqual=function(e){return this.throwIfDisposed(),fe.lessEqual(this,e)},e.prototype.lessEqualStrict=function(e){return this.throwIfDisposed(),fe.lessEqualStrict(this,e)},e.prototype.greater=function(e){return this.throwIfDisposed(),fe.greater(this,e)},e.prototype.greaterStrict=function(e){return this.throwIfDisposed(),fe.greaterStrict(this,e)},e.prototype.greaterEqual=function(e){return this.throwIfDisposed(),fe.greaterEqual(this,e)},e.prototype.greaterEqualStrict=function(e){return this.throwIfDisposed(),fe.greaterEqualStrict(this,e)},e.prototype.logicalAnd=function(e){return this.throwIfDisposed(),fe.logicalAnd(this,e)},e.prototype.logicalOr=function(e){return this.throwIfDisposed(),fe.logicalOr(this,e)},e.prototype.logicalNot=function(){return this.throwIfDisposed(),fe.logicalNot(this)},e.prototype.logicalXor=function(e){return this.throwIfDisposed(),fe.logicalXor(this,e)},e.prototype.where=function(e,t){return this.throwIfDisposed(),fe.where(e,this,t)},e.prototype.neg=function(){return this.throwIfDisposed(),fe.neg(this)},e.prototype.ceil=function(){return this.throwIfDisposed(),fe.ceil(this)},e.prototype.floor=function(){return this.throwIfDisposed(),fe.floor(this)},e.prototype.sign=function(){return this.throwIfDisposed(),fe.sign(this)},e.prototype.isNaN=function(){return this.throwIfDisposed(),fe.isNaN(this)},e.prototype.isInf=function(){return this.throwIfDisposed(),fe.isInf(this)},e.prototype.isFinite=function(){return this.throwIfDisposed(),fe.isFinite(this)},e.prototype.exp=function(){return this.throwIfDisposed(),fe.exp(this)},e.prototype.expm1=function(){return this.throwIfDisposed(),fe.expm1(this)},e.prototype.log=function(){return this.throwIfDisposed(),fe.log(this)},e.prototype.log1p=function(){return this.throwIfDisposed(),fe.log1p(this)},e.prototype.sqrt=function(){return this.throwIfDisposed(),fe.sqrt(this)},e.prototype.rsqrt=function(){return this.throwIfDisposed(),fe.rsqrt(this)},e.prototype.square=function(){return this.throwIfDisposed(),fe.square(this)},e.prototype.reciprocal=function(){return this.throwIfDisposed(),fe.reciprocal(this)},e.prototype.abs=function(){return this.throwIfDisposed(),fe.abs(this)},e.prototype.clipByValue=function(e,t){return this.throwIfDisposed(),fe.clipByValue(this,e,t)},e.prototype.relu=function(){return this.throwIfDisposed(),fe.relu(this)},e.prototype.relu6=function(){return this.throwIfDisposed(),fe.relu6(this)},e.prototype.elu=function(){return this.throwIfDisposed(),fe.elu(this)},e.prototype.selu=function(){return this.throwIfDisposed(),fe.selu(this)},e.prototype.leakyRelu=function(e){return void 0===e&&(e=.2),this.throwIfDisposed(),fe.leakyRelu(this,e)},e.prototype.prelu=function(e){return this.throwIfDisposed(),fe.prelu(this,e)},e.prototype.sigmoid=function(){return this.throwIfDisposed(),fe.sigmoid(this)},e.prototype.logSigmoid=function(){return this.throwIfDisposed(),fe.logSigmoid(this)},e.prototype.softplus=function(){return this.throwIfDisposed(),fe.softplus(this)},e.prototype.zerosLike=function(){return this.throwIfDisposed(),fe.zerosLike(this)},e.prototype.onesLike=function(){return this.throwIfDisposed(),fe.onesLike(this)},e.prototype.sin=function(){return this.throwIfDisposed(),fe.sin(this)},e.prototype.cos=function(){return this.throwIfDisposed(),fe.cos(this)},e.prototype.tan=function(){return this.throwIfDisposed(),fe.tan(this)},e.prototype.asin=function(){return this.throwIfDisposed(),fe.asin(this)},e.prototype.acos=function(){return this.throwIfDisposed(),fe.acos(this)},e.prototype.atan=function(){return this.throwIfDisposed(),fe.atan(this)},e.prototype.sinh=function(){return this.throwIfDisposed(),fe.sinh(this)},e.prototype.cosh=function(){return this.throwIfDisposed(),fe.cosh(this)},e.prototype.tanh=function(){return this.throwIfDisposed(),fe.tanh(this)},e.prototype.asinh=function(){return this.throwIfDisposed(),fe.asinh(this)},e.prototype.acosh=function(){return this.throwIfDisposed(),fe.acosh(this)},e.prototype.atanh=function(){return this.throwIfDisposed(),fe.atanh(this)},e.prototype.erf=function(){return this.throwIfDisposed(),fe.erf(this)},e.prototype.round=function(){return this.throwIfDisposed(),fe.round(this)},e.prototype.step=function(e){return void 0===e&&(e=0),this.throwIfDisposed(),fe.step(this,e)},e.prototype.softmax=function(e){return void 0===e&&(e=-1),this.throwIfDisposed(),fe.softmax(this,e)},e.prototype.logSoftmax=function(e){return void 0===e&&(e=-1),this.throwIfDisposed(),fe.logSoftmax(this,e)},e.prototype.resizeBilinear=function(e,t){return void 0===t&&(t=!1),this.throwIfDisposed(),fe.image.resizeBilinear(this,e,t)},e.prototype.resizeNearestNeighbor=function(e,t){return void 0===t&&(t=!1),this.throwIfDisposed(),fe.image.resizeNearestNeighbor(this,e,t)},e.prototype.conv1d=function(e,t,n,r,a,o){return void 0===r&&(r="NWC"),void 0===a&&(a=1),this.throwIfDisposed(),fe.conv1d(this,e,t,n,r,a,o)},e.prototype.conv2d=function(e,t,n,r,a,o){return void 0===r&&(r="NHWC"),void 0===a&&(a=[1,1]),this.throwIfDisposed(),fe.conv2d(this,e,t,n,r,a,o)},e.prototype.conv2dTranspose=function(e,t,n,r,a){return this.throwIfDisposed(),fe.conv2dTranspose(this,e,t,n,r,a)},e.prototype.depthwiseConv2D=function(e,t,n,r,a,o){return void 0===r&&(r="NHWC"),void 0===a&&(a=[1,1]),this.throwIfDisposed(),fe.depthwiseConv2d(this,e,t,n,r,a,o)},e.prototype.separableConv2d=function(e,t,n,r,a,o){return void 0===a&&(a=[1,1]),void 0===o&&(o="NHWC"),this.throwIfDisposed(),fe.separableConv2d(this,e,t,n,r,a,o)},e.prototype.avgPool=function(e,t,n,r){return this.throwIfDisposed(),fe.avgPool(this,e,t,n,r)},e.prototype.maxPool=function(e,t,n,r){return this.throwIfDisposed(),fe.maxPool(this,e,t,n,r)},e.prototype.localResponseNormalization=function(e,t,n,r){return void 0===e&&(e=5),void 0===t&&(t=1),void 0===n&&(n=1),void 0===r&&(r=.5),fe.localResponseNormalization(this,e,t,n,r)},e.prototype.pool=function(e,t,n,r,a){return this.throwIfDisposed(),fe.pool(this,e,t,n,r,a)},e.prototype.variable=function(e,t,n){return void 0===e&&(e=!0),this.throwIfDisposed(),de().makeVariable(this,e,t,n)},e.prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),fe.unsortedSegmentSum(this,e,t)},e.prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),fe.batchToSpaceND(this,e,t)},e.prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),fe.spaceToBatchND(this,e,t)},e.prototype.topk=function(e,t){return void 0===e&&(e=1),void 0===t&&(t=!0),this.throwIfDisposed(),fe.topk(this,e,t)},e.prototype.stridedSlice=function(e,t,n,r,a,o,i,s){return void 0===r&&(r=0),void 0===a&&(a=0),void 0===o&&(o=0),void 0===i&&(i=0),void 0===s&&(s=0),this.throwIfDisposed(),fe.stridedSlice(this,e,t,n,r,a,o,i,s)},e.prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),fe.depthToSpace(this,e,t)},e.prototype.fft=function(){return this.throwIfDisposed(),fe.spectral.fft(this)},e.prototype.ifft=function(){return this.throwIfDisposed(),fe.spectral.ifft(this)},e.prototype.rfft=function(){return this.throwIfDisposed(),fe.spectral.rfft(this)},e.prototype.irfft=function(){return this.throwIfDisposed(),fe.spectral.irfft(this)},e}();Object.defineProperty(ve,Symbol.hasInstance,{value:function(e){return!!e&&null!=e.dataId&&null!=e.shape&&null!=e.dtype}});var me,ge,be,ye,we,xe=function(e){function t(t,n,r,a){var o=e.call(this,t.shape,t.dtype,t.dataId,a)||this;return o.trainable=n,o.name=r,o}return o(t,e),t.prototype.assign=function(e){if(e.dtype!==this.dtype)throw new Error("dtype of the new value ("+e.dtype+") and previous value ("+this.dtype+") must match");if(!T(e.shape,this.shape))throw new Error("shape of the new value ("+e.shape+") and previous value ("+this.shape+") must match");de().disposeTensor(this),this.dataId=e.dataId,de().incRef(this,null)},t.prototype.dispose=function(){de().disposeVariable(this),this.isDisposedInternal=!0},t}(ve);Object.defineProperty(xe,Symbol.hasInstance,{value:function(e){return e instanceof ve&&null!=e.assign&&e.assign instanceof Function}}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(me||(me={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(ge||(ge={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(be||(be={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(ye||(ye={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(we||(we={}));var Ce={float32:ye,int32:ge,bool:be,complex64:we};function Ee(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error("Can not upcast "+e+" with "+t)}return Ce[e][t]}function ke(e){return Ee(e,"int32")}function Se(e,t){if(e.dtype===t.dtype)return[e,t];var n=Ee(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function Te(e,t){x(e.dtype===t.dtype,(function(){return"The dtypes of the first("+e.dtype+") and second("+t.dtype+") input must match"}))}function Oe(e){var t=[];return function e(t,n,r){if(null!=t)if(t instanceof ve)n.push(t);else if(a=t,Array.isArray(a)||"object"==typeof a){var a,o=t;for(var i in o){var s=o[i];r.has(s)||(r.add(s),e(s,n,r))}}}(e,t,new Set),t}var Ie,Ne=Object.freeze({makeTypesMatch:Se,assertTypesMatch:Te,isTensorInList:function(e,t){for(var n=0;n<t.length;n++)if(t[n].id===e.id)return!0;return!1},getTensorsInContainer:Oe}),Ae=function(){function e(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null}}return e.prototype.dispose=function(){for(var e in this.registeredVariables)this.registeredVariables[e].dispose()},e}(),_e=function(){function e(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new Ae}return e.prototype.ready=function(){return i(this,void 0,void 0,(function(){var e,t,n;return s(this,(function(r){switch(r.label){case 0:if(null!=this.pendingBackendInit)return[2,this.pendingBackendInit.then((function(){}))];if(null!=this.backendInstance)return[2];e=this.getSortedBackends(),t=0,r.label=1;case 1:return t<e.length?(n=e[t],[4,this.initializeBackend(n).success]):[3,5];case 2:return r.sent()?[4,this.setBackend(n)]:[3,4];case 3:return r.sent(),[2];case 4:return t++,[3,1];case 5:throw new Error("Could not initialize any backends, all backend initializations failed.")}}))}))},Object.defineProperty(e.prototype,"backend",{get:function(){if(null!=this.pendingBackendInit)throw new Error("Backend '"+this.backendName+"' has not yet been initialized. Make sure to await tf.ready() before calling other methods");if(null==this.backendInstance){var e=this.initializeBackendsAndReturnBest(),t=e.name;if(e.asyncInit)throw new Error("The highest priority backend '"+t+"' has not yet been initialized. Make sure to await tf.ready() before calling other methods");this.setBackend(t)}return this.backendInstance},enumerable:!0,configurable:!0}),e.prototype.backendNames=function(){return Object.keys(this.registryFactory)},e.prototype.findBackend=function(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;if(this.initializeBackend(e).asyncInit)return null}return this.registry[e]},e.prototype.findBackendFactory=function(e){return e in this.registryFactory?this.registryFactory[e].factory:null},e.prototype.registerBackend=function(e,t,n){return void 0===n&&(n=1),e in this.registryFactory?(console.warn(e+" backend was already registered. Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:t,priority:n},!0)},e.prototype.setBackend=function(e){return i(this,void 0,void 0,(function(){var t,n,r;return s(this,(function(a){switch(a.label){case 0:if(null==this.registryFactory[e])throw new Error("Backend name '"+e+"' not found in registry");return this.backendName=e,null!=this.registry[e]?[3,4]:(this.backendInstance=null,t=this.initializeBackend(e),n=t.success,t.asyncInit?[4,n]:[3,2]);case 1:return r=a.sent(),[3,3];case 2:r=n,a.label=3;case 3:if(!r)return[2,!1];a.label=4;case 4:return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new oe(this.backendInstance),[2,!0]}}))}))},e.prototype.setupRegisteredKernels=function(){var e=this;f(this.backendName).forEach((function(t){null!=t.setupFunc&&t.setupFunc(e.backendInstance)}))},e.prototype.disposeRegisteredKernels=function(e){var t=this;f(e).forEach((function(n){null!=n.disposeFunc&&n.disposeFunc(t.registry[e])}))},e.prototype.initializeBackend=function(e){var t=this,n=this.registryFactory[e];if(null==n)throw new Error("Cannot initialize backend "+e+", no registration found.");try{var r=n.factory();if(Promise.resolve(r)===r){var a=++this.pendingBackendInitId,o=r.then((function(n){return!(a<t.pendingBackendInitId||(t.registry[e]=n,t.pendingBackendInit=null,0))})).catch((function(n){return!(a<t.pendingBackendInitId||(t.pendingBackendInit=null,console.warn("Initialization of backend "+e+" failed"),console.warn(n.stack||n.message),1))}));return this.pendingBackendInit=o,{success:o,asyncInit:!0}}return this.registry[e]=r,{success:!0,asyncInit:!1}}catch(t){return console.warn("Initialization of backend "+e+" failed"),console.warn(t.stack||t.message),{success:!1,asyncInit:!1}}},e.prototype.removeBackend=function(e){if(!(e in this.registryFactory))throw new Error(e+" backend not found in registry");this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)},e.prototype.getSortedBackends=function(){var e=this;if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((function(t,n){return e.registryFactory[n].priority-e.registryFactory[t].priority}))},e.prototype.initializeBackendsAndReturnBest=function(){for(var e=this.getSortedBackends(),t=0;t<e.length;t++){var n=e[t],r=this.initializeBackend(n),a=r.success,o=r.asyncInit;if(o||a)return{name:n,asyncInit:o}}throw new Error("Could not initialize any backends, all backend initializations failed.")},e.prototype.moveData=function(e,t){var n=this.state.tensorInfo.get(t),r=n.backend,a=this.readSync(t);r.disposeData(t),n.backend=e,e.move(t,a,n.shape,n.dtype),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++},e.prototype.tidy=function(e,t){var n,r=this,a=null;if(null==t){if("function"!=typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!=typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");a=e}return this.scopedRun((function(){return r.startScope(a)}),(function(){return r.endScope(n)}),(function(){return(n=t())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n}))},e.prototype.scopedRun=function(e,t,n){e();try{var r=n();return t(),r}catch(e){throw t(),e}},e.prototype.nextTensorId=function(){return e.nextTensorId++},e.prototype.nextVariableId=function(){return e.nextVariableId++},e.prototype.clone=function(e){var t=this.makeTensorFromDataId(e.dataId,e.shape,e.dtype),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(function(e){return{x:function(){return e.toFloat()}}}),[]),t},e.prototype.runKernel=function(e,t,n,r,a){return this.runKernelFunc(null,t,null,e,n,r,a)},e.prototype.shouldCheckForMemLeaks=function(){return this.ENV.getBool("IS_TEST")},e.prototype.checkKernelForMemLeak=function(e,t,n){var r=this.backend.numDataIds(),a=0;n.forEach((function(e){a+="complex64"===e.dtype?3:1}));var o=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],i=r-t-a-o;if(i>0)throw new Error("Backend '"+this.backendName+"' has an internal memory leak ("+i+" data ids) after running '"+e+"'")},e.prototype.runKernelFunc=function(e,t,n,r,a,o,i){var s,l=this;void 0===o&&(o=[]),void 0===i&&(i=[]);var u,c=[],p=this.isTapeOn(),f=null!=this.state.activeScope?this.state.activeScope.name:"",h=function(e){p&&(c=e.map((function(e){return l.keep(l.clone(e))})))},v=this.state.numBytes,m=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);var g,b=d(r,this.backendName);return u=null!=b?function(){var e=l.backend.numDataIds();g=b.kernelFunc({inputs:t,attrs:a,backend:l.backend});var n=Array.isArray(g)?g:[g];l.shouldCheckForMemLeaks()&&l.checkKernelForMemLeak(f,e,n);var r=n.map((function(e){var t=e.dataId,n=e.shape,r=e.dtype;return l.makeTensorFromDataId(t,n,r)})),s=r.filter((function(e,t){return i[t]}));return h(o.slice().concat(s)),r}:function(){var t=l.backend.numDataIds();g=l.tidy((function(){return e(l.backend,h)}));var n=Array.isArray(g)?g:[g];return l.shouldCheckForMemLeaks()&&l.checkKernelForMemLeak(f,t,n),n},this.scopedRun((function(){return l.state.kernelDepth++}),(function(){return l.state.kernelDepth--}),(function(){s=l.ENV.getBool("DEBUG")?l.profiler.profileKernel(f,t,(function(){return u()})):u()})),p&&this.addTapeNode(f,t,s,n,c),this.state.profiling&&this.state.activeProfile.kernels.push({name:f,bytesAdded:this.state.numBytes-v,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-m,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(t).map((function(e){return t[e].shape})),outputShapes:s.map((function(e){return e.shape}))}),Array.isArray(g)?s:s[0]},e.prototype.makeTensor=function(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;var a=e;"string"===n&&H(e[0])&&(a=e.map((function(e){return ne(e)})));var o=r.write(a,t,n),i=new ve(t,n,o,this.nextTensorId());if(this.incRef(i,r),"string"===n){var s=this.state.tensorInfo.get(o),l=j(a);this.state.numBytes+=l-s.bytes,s.bytes=l}return i},e.prototype.makeTensorFromDataId=function(e,t,n,r){var a=new ve(t,n=n||"float32",e,this.nextTensorId());return this.incRef(a,r),a},e.prototype.makeVariable=function(e,t,n,r){void 0===t&&(t=!0),n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.asType(r));var a=new xe(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[a.name])throw new Error("Variable with name "+a.name+" was already registered");return this.state.registeredVariables[a.name]=a,this.incRef(a,this.backend),a},e.prototype.incRef=function(e,t){var n=this.state.tensorInfo.has(e.dataId)?this.state.tensorInfo.get(e.dataId).refCount:0;if(this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++,0===n){this.state.numDataBuffers++;var r=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(r=e.size*V(e.dtype)),this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:r,refCount:0}),this.state.numBytes+=r}this.state.tensorInfo.get(e.dataId).refCount++,e instanceof xe||this.track(e)},e.prototype.disposeTensor=function(e){if(this.state.tensorInfo.has(e.dataId)){this.state.numTensors--,"string"===e.dtype&&this.state.numStringTensors--;var t=this.state.tensorInfo.get(e.dataId);t.refCount<=1?("complex64"!==e.dtype&&(this.state.numBytes-=t.bytes),this.state.numDataBuffers--,t.backend.disposeData(e.dataId),this.state.tensorInfo.delete(e.dataId)):this.state.tensorInfo.get(e.dataId).refCount--}},e.prototype.disposeVariables=function(){for(var e in this.state.registeredVariables){var t=this.state.registeredVariables[e];this.disposeVariable(t)}},e.prototype.disposeVariable=function(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]},e.prototype.memory=function(){var e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e},e.prototype.profile=function(e){return i(this,void 0,void 0,(function(){var t,n;return s(this,(function(r){return this.state.profiling=!0,t=this.state.numBytes,n=this.state.numTensors,this.state.activeProfile.kernels=[],this.state.activeProfile.result=e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,this.state.activeProfile.kernels.map((function(e){return e.totalBytesSnapshot}))),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n,[2,this.state.activeProfile]}))}))},e.prototype.isTapeOn=function(){return this.state.gradientDepth>0&&0===this.state.kernelDepth},e.prototype.addTapeNode=function(e,t,n,r,a){var o=this,i={id:this.state.nextTapeNodeId++,name:e,inputs:t,outputs:n,saved:a};null!=r&&(i.gradient=function(e){return e=e.map((function(e,t){if(null==e){var r=n[t],a=Z(r.size,r.dtype);return o.makeTensor(a,r.shape,r.dtype)}return e})),r(e.length>1?e:e[0],a)}),this.state.activeTape.push(i)},e.prototype.keep=function(e){return e.kept=!0,e},e.prototype.startTape=function(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++},e.prototype.endTape=function(){this.state.gradientDepth--},e.prototype.startScope=function(e){var t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t},e.prototype.endScope=function(e){for(var t=this,n=Oe(e),r=new Set(n.map((function(e){return e.id}))),a=0;a<this.state.activeScope.track.length;a++){var o=this.state.activeScope.track[a];o.kept||r.has(o.id)||o.dispose()}var i=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach((function(e){e.kept||e.scopeId!==i.id||t.track(e)}))},e.prototype.gradients=function(e,t,n,r){var a=this;if(void 0===r&&(r=!1),x(t.length>0,(function(){return"gradients() received an empty list of xs."})),null!=n&&"float32"!==n.dtype)throw new Error("dy must have 'float32' dtype, but has '"+n.dtype+"'");var o=this.scopedRun((function(){return a.startTape()}),(function(){return a.endTape()}),(function(){return a.tidy("forward",e)}));x(o instanceof ve,(function(){return"The result y returned by f() must be a tensor."}));var i=function(e,t,n){for(var r={},a={},o=0;o<t.length;o++)r[t[o].id]=!0;for(o=0;o<e.length;o++){var i=(h=e[o]).inputs;for(var s in i){for(var l=i[s],u=!1,c=0;c<t.length;c++)if(r[l.id]){h.outputs.forEach((function(e){return r[e.id]=!0})),u=!0,a[h.id]=!0;break}if(u)break}}var p={};p[n.id]=!0;var d={};for(o=e.length-1;o>=0;o--)for(i=(h=e[o]).inputs,c=0;c<h.outputs.length;c++)if(p[h.outputs[c].id]){for(var s in i)p[i[s].id]=!0,d[h.id]=!0;break}var f=[];for(o=0;o<e.length;o++){var h;if(a[(h=e[o]).id]&&d[h.id]){var v={};for(var s in h.inputs){var m=h.inputs[s];r[m.id]&&(v[s]=m)}var g=Object.assign({},h);g.inputs=v,g.outputs=h.outputs,f.push(g)}}return f}(this.state.activeTape,t,o);if(!r&&0===i.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(function(){var e,r,s={};s[o.id]=null==n?(r=Q(S(e=o.shape),"float32"),Re.makeTensor(r,e,"float32")):n,function(e,t,n){for(var r=function(r){var a=t[r],o=[];if(a.outputs.forEach((function(t){var n=e[t.id];null!=n?o.push(n):o.push(null)})),null==a.gradient)throw new Error("Cannot compute gradient: gradient function not found for "+a.name+".");var i=a.gradient(o),s=function(t){if(!(t in i))throw new Error("Cannot backprop through input "+t+". Available gradients found: "+Object.keys(i)+".");var r=n((function(){return i[t]()}));if("float32"!==r.dtype)throw new Error("Error in gradient for op "+a.name+". The gradient of input "+t+" must have 'float32' dtype, but has '"+r.dtype+"'");var o=a.inputs[t];if(!T(r.shape,o.shape))throw new Error("Error in gradient for op "+a.name+". The gradient of input '"+t+"' has shape '"+r.shape+"', which does not match the shape of the input '"+o.shape+"'");if(null==e[o.id])e[o.id]=r;else{var s=e[o.id];e[o.id]=s.add(r),s.dispose()}};for(var l in a.inputs)s(l)},a=t.length-1;a>=0;a--)r(a)}(s,i,(function(e){return a.tidy(e)}));var l=t.map((function(e){return s[e.id]}));return 0===a.state.gradientDepth&&(a.state.activeTape.forEach((function(e){for(var t in e.saved)e.saved[t].dispose()})),a.state.activeTape=null),{value:o,grads:l}}))},e.prototype.customGrad=function(e){var t=this;return x(G(e),(function(){return"The f passed in customGrad(f) must be a function."})),function(){for(var n,r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];x(r.every((function(e){return e instanceof ve})),(function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"}));var o={};return r.forEach((function(e,t){o[t]=e})),t.runKernelFunc((function(t,a){return x((n=e.apply(void 0,r.concat([a]))).value instanceof ve,(function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"})),x(G(n.gradFunc),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."})),n.value}),o,(function(e,t){var a=n.gradFunc(e,t),o=Array.isArray(a)?a:[a];x(o.length===r.length,(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."})),x(o.every((function(e){return e instanceof ve})),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."}));var i={};return o.forEach((function(e,t){i[t]=function(){return e}})),i}))}},e.prototype.readSync=function(e){return this.state.tensorInfo.get(e).backend.readSync(e)},e.prototype.read=function(e){return this.state.tensorInfo.get(e).backend.read(e)},e.prototype.fromPixels=function(e,t){return this.backend.fromPixels(e,t)},e.prototype.time=function(e){return i(this,void 0,void 0,(function(){var t,n;return s(this,(function(r){switch(r.label){case 0:return t=ee(),[4,this.backend.time(e)];case 1:return(n=r.sent()).wallMs=ee()-t,[2,n]}}))}))},e.prototype.track=function(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e},Object.defineProperty(e.prototype,"registeredVariables",{get:function(){return this.state.registeredVariables},enumerable:!0,configurable:!0}),e.prototype.reset=function(){for(var e in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new Ae,this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null},e.nextTensorId=0,e.nextVariableId=0,e}(),Re=function(){var e=function(){if(null==Ie){var e=void 0;if("undefined"!=typeof window)e=window;else if(void 0!==n.g)e=n.g;else if("undefined"!=typeof process)e=process;else{if("undefined"==typeof self)throw new Error("Could not find a global object");e=self}Ie=e}return Ie}();if(null==e._tfengine){var t=new l(e);e._tfengine=new _e(t)}return function(e){c=e}(e._tfengine.ENV),de=function(){return e._tfengine},e._tfengine}();function Me(){return"undefined"!=typeof window&&null!=window.document||"undefined"!=typeof WorkerGlobalScope}var Pe=u();Pe.registerFlag("DEBUG",(function(){return!1}),(function(e){e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),Pe.registerFlag("IS_BROWSER",(function(){return Me()})),Pe.registerFlag("IS_NODE",(function(){return"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node})),Pe.registerFlag("IS_CHROME",(function(){return"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)})),Pe.registerFlag("PROD",(function(){return!1})),Pe.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(function(){return Pe.getBool("DEBUG")})),Pe.registerFlag("DEPRECATION_WARNINGS_ENABLED",(function(){return!0})),Pe.registerFlag("IS_TEST",(function(){return!1}));var De,Be,Le,ze={},Fe={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function $e(e,t){ze[e]=t}function Ve(e){e in ze||(ze[e]=function(e){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var t=je(e);return t.addEventListener("webglcontextlost",(function(t){t.preventDefault(),delete ze[e]}),!1),1===e?t.getContext("webgl",Fe)||t.getContext("experimental-webgl",Fe):t.getContext("webgl2",Fe)}(e));var t=ze[e];return t.isContextLost()?(delete ze[e],Ve(e)):(t.disable(t.DEPTH_TEST),t.disable(t.STENCIL_TEST),t.disable(t.BLEND),t.disable(t.DITHER),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SAMPLE_COVERAGE),t.enable(t.SCISSOR_TEST),t.enable(t.CULL_FACE),t.cullFace(t.BACK),ze[e])}function je(e){if("undefined"!=typeof OffscreenCanvas&&2===e)return new OffscreenCanvas(300,150);if("undefined"!=typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}function He(e,t){return[t,e]}function We(e){var t=S(e);return N(Math.ceil(t/4))}function Ue(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function qe(e,t){var n,r,a,o,i,s,l,c,p,d=e;return 2===u().getNumber("WEBGL_VERSION")?(n=d.R32F,r=d.R16F,a=d.RGBA16F,o=d.RGBA32F,i=d.RED,s=4,l=1,c=d.HALF_FLOAT,p=d.FLOAT):(n=e.RGBA,r=e.RGBA,a=e.RGBA,o=d.RGBA,i=e.RGBA,s=4,l=4,c=null!=t?t.HALF_FLOAT_OES:null,p=e.FLOAT),{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:a,internalFormatPackedFloat:o,textureFormatFloat:i,downloadTextureFormat:e.RGBA,downloadUnpackNumChannels:s,defaultNumChannels:l,textureTypeHalfFloat:c,textureTypeFloat:p}}function Ge(e,t,n){var r=n();return t&&function(e){var t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+Ye(e,t))}(e),r}!function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"}(De||(De={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(Be||(Be={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(Le||(Le={}));function Xe(e){return!!(u().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||5.96e-8<Math.abs(e)&&Math.abs(e)<65504)}function Ye(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+t}}function Ke(e,t,n){return yt(e,t,(function(){return e.getExtension(n)}),'Extension "'+n+'" not supported on this browser.')}function Je(e,t,n){var r=yt(e,t,(function(){return e.createShader(e.VERTEX_SHADER)}),"Unable to create vertex WebGLShader.");if(Ge(e,t,(function(){return e.shaderSource(r,n)})),Ge(e,t,(function(){return e.compileShader(r)})),!1===e.getShaderParameter(r,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(r)),new Error("Failed to compile vertex shader.");return r}function Qe(e,t,n){var r=yt(e,t,(function(){return e.createShader(e.FRAGMENT_SHADER)}),"Unable to create fragment WebGLShader.");if(Ge(e,t,(function(){return e.shaderSource(r,n)})),Ge(e,t,(function(){return e.compileShader(r)})),!1===e.getShaderParameter(r,e.COMPILE_STATUS))throw function(e,t){var n=tt.exec(t);if(null==n)return console.log("Couldn't parse line number in error: "+t),void console.log(e);for(var r=+n[1],a=e.split("\n"),o=a.length.toString().length+2,i=a.map((function(e,t){return A((t+1).toString(),o)+e})),s=0,l=0;l<i.length;l++)s=Math.max(i[l].length,s);var u=i.slice(0,r-1),c=i.slice(r-1,r),p=i.slice(r);console.log(u.join("\n")),console.log(t.split("\n")[0]),console.log("%c "+A(c[0],s),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(p.join("\n"))}(n,e.getShaderInfoLog(r)),new Error("Failed to compile fragment shader.");return r}var Ze,et,tt=/ERROR: [0-9]+:([0-9]+):/g;function nt(e,t){return yt(e,t,(function(){return e.createProgram()}),"Unable to create WebGLProgram.")}function rt(e,t,n){if(Ge(e,t,(function(){return e.linkProgram(n)})),!1===e.getProgramParameter(n,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(n)),new Error("Failed to link vertex and fragment shaders.")}function at(e,t,n){if(Ge(e,t,(function(){return e.validateProgram(n)})),!1===e.getProgramParameter(n,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(n)),new Error("Shader program validation failed.")}function ot(e,t,n){var r=yt(e,t,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return Ge(e,t,(function(){return e.bindBuffer(e.ARRAY_BUFFER,r)})),Ge(e,t,(function(){return e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)})),r}function it(e,t,n){var r=yt(e,t,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return Ge(e,t,(function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r)})),Ge(e,t,(function(){return e.bufferData(e.ELEMENT_ARRAY_BUFFER,n,e.STATIC_DRAW)})),r}function st(e,t){return yt(e,t,(function(){return e.createTexture()}),"Unable to create WebGLTexture.")}function lt(e,t){var n=u().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){var r="["+e+"x"+t+"]";throw new Error("Requested texture size "+r+" is invalid.")}if(e>n||t>n)throw r="["+e+"x"+t+"]",new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU ["+n+"x"+n+"].")}function ut(e,t){return yt(e,t,(function(){return e.createFramebuffer()}),"Unable to create WebGLFramebuffer.")}function ct(e,t,n,r,a,o,i,s){var l=e.getAttribLocation(n,r);return-1!==l&&(Ge(e,t,(function(){return e.bindBuffer(e.ARRAY_BUFFER,a)})),Ge(e,t,(function(){return e.vertexAttribPointer(l,o,e.FLOAT,!1,i,s)})),Ge(e,t,(function(){return e.enableVertexAttribArray(l)})),!0)}function pt(e,t,n,r){wt(e,r),Ge(e,t,(function(){return e.activeTexture(e.TEXTURE0+r)})),Ge(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,n)}))}function dt(e,t,n,r){return yt(e,t,(function(){return e.getUniformLocation(n,r)}),'uniform "'+r+'" not present in program.')}function ft(e,t,n){return e.getUniformLocation(t,n)}function ht(e,t,n,r,a,o){Ge(e,t,(function(){return pt(e,t,r,o)})),Ge(e,t,(function(){return e.uniform1i(a,o)}))}function vt(e,t,n,r){Ge(e,t,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,r)})),Ge(e,t,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0)}))}function mt(e,t,n){Ge(e,t,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,n)})),Ge(e,t,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)}))}function gt(e){var t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+bt(e,t))}function bt(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+t}}function yt(e,t,n,r){var a=Ge(e,t,(function(){return n()}));if(null==a)throw new Error(r);return a}function wt(e,t){var n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n)throw new Error("textureUnit must be in [gl.TEXTURE0, gl.TEXTURE"+n+"].")}function xt(e,t){return void 0===t&&(t=2),S(e.slice(0,e.length-t))}function Ct(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function Et(e){var t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[xt(e)].concat(Ct(e))),t}function kt(e,t){var n;void 0===t&&(t=!1);var r=u().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t&&(r*=2,1===(e=e.map((function(t,n){return n>=e.length-2?y(e[n]):e[n]}))).length&&(e=[2,e[0]])),2!==e.length){var a=P(e);e=a.newShape}var o=S(e);if(e.length<=1&&o<=r)return[1,o];if(2===e.length&&e[0]<=r&&e[1]<=r)return e;if(3===e.length&&e[0]*e[1]<=r&&e[2]<=r)return[e[0]*e[1],e[2]];if(3===e.length&&e[0]<=r&&e[1]*e[2]<=r)return[e[0],e[1]*e[2]];if(4===e.length&&e[0]*e[1]*e[2]<=r&&e[3]<=r)return[e[0]*e[1]*e[2],e[3]];if(4===e.length&&e[0]<=r&&e[1]*e[2]*e[3]<=r)return[e[0],e[1]*e[2]*e[3]];if(t){var i=xt(e),s=2,l=2;return e.length&&(s=(n=Ct(e))[0],l=n[1]),N(o=i*(s/2)*(l/2)).map((function(e){return 2*e}))}return N(o)}function St(e){return e%2==0}function Tt(e,t){if(T(e=e.slice(-2),t=t.slice(-2)))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){var n=e.slice(-1)[0],r=t.slice(-1)[0];if(n===r)return!0;if(St(n)&&St(r)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&St(e[0])&&St(t[0])}function Ot(e){if(null==Ze){var t=Ve(e);Ze=t.getParameter(t.MAX_TEXTURE_SIZE)}return Ze}function It(e){if(null==et){var t=Ve(e);et=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,et)}function Nt(e){if(0===e)return 0;var t=Ve(e);return At(t,"EXT_disjoint_timer_query_webgl2")&&2===e?2:At(t,"EXT_disjoint_timer_query")?1:0}function At(e,t){return null!=e.getExtension(t)}function _t(e){try{if(null!=Ve(e))return!0}catch(e){return!1}return!1}function Rt(e){if(0===e)return!1;var t=Ve(e);if(1===e){if(!At(t,"OES_texture_float"))return!1}else if(!At(t,"EXT_color_buffer_float"))return!1;return Pt(t)}function Mt(e){if(0===e)return!1;var t=Ve(e);if(1!==e){if(At(t,"EXT_color_buffer_float"))return Pt(t);if(At(t,"EXT_color_buffer_half_float")){var n=t.getExtension("EXT_color_buffer_half_float");return function(e,t){var n=qe(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,1,1,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);var a=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,a),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);var o=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(a),o}(t,n)}return!1}return!!At(t,"OES_texture_float")&&!!At(t,"WEBGL_color_buffer_float")&&Pt(t)}function Pt(e){var t=qe(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);var r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);var a=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),a}function Dt(e){return 2===e&&null!=Ve(e).fenceSync}var Bt=Object.freeze({callAndCheck:Ge,canBeRepresented:Xe,getWebGLErrorMessage:Ye,getExtensionOrThrow:Ke,createVertexShader:Je,createFragmentShader:Qe,createProgram:nt,linkProgram:rt,validateProgram:at,createStaticVertexBuffer:ot,createStaticIndexBuffer:it,getNumChannels:function(){return 2===u().getNumber("WEBGL_VERSION")?1:4},createTexture:st,validateTextureSize:lt,createFramebuffer:ut,bindVertexBufferToProgramAttribute:ct,bindTextureUnit:pt,unbindTextureUnit:function(e,t,n){wt(e,n),Ge(e,t,(function(){return e.activeTexture(e.TEXTURE0+n)})),Ge(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))},getProgramUniformLocationOrThrow:dt,getProgramUniformLocation:ft,bindTextureToProgramUniformSampler:ht,bindCanvasToFramebuffer:function(e,t){Ge(e,t,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,null)})),Ge(e,t,(function(){return e.viewport(0,0,e.canvas.width,e.canvas.height)})),Ge(e,t,(function(){return e.scissor(0,0,e.canvas.width,e.canvas.height)}))},bindColorTextureToFramebuffer:vt,unbindColorTextureFromFramebuffer:mt,validateFramebuffer:gt,getFramebufferErrorMessage:bt,getBatchDim:xt,getRowsCols:Ct,getShapeAs3D:Et,getTextureShapeFromLogicalShape:kt,isReshapeFree:Tt,getWebGLMaxTextureSize:Ot,resetMaxTextureSize:function(){Ze=null},resetMaxTexturesInShader:function(){et=null},getMaxTexturesInShader:It,getWebGLDisjointQueryTimerVersion:Nt,hasExtension:At,isWebGLVersionEnabled:_t,isCapableOfRenderingToFloatTexture:Rt,isDownloadFloatTextureEnabled:Mt,isWebGLFenceEnabled:Dt}),Lt=u();function zt(){u().set("PROD",!0)}function Ft(){u().set("DEBUG",!0)}function $t(){u().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function Vt(e){u().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function jt(){Re.disposeVariables()}function Ht(){return Re}function Wt(){return Re.memory()}function Ut(e){return Re.profile(e)}function qt(e,t){return Re.tidy(e,t)}function Gt(e){Oe(e).forEach((function(e){return e.dispose()}))}function Xt(e){return Re.keep(e)}function Yt(e){return Re.time(e)}function Kt(e){return Re.setBackend(e)}function Jt(){return Re.ready()}function Qt(){return Re.backendName}function Zt(e){Re.removeBackend(e)}function en(e){return Re.findBackend(e)}function tn(e){return Re.findBackendFactory(e)}function nn(e,t,n){return void 0===n&&(n=1),Re.registerBackend(e,t,n)}function rn(){return Re.backend}function an(e,t){u().setPlatform(e,t)}function on(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];u().getBool("IS_TEST")||console.warn.apply(console,e)}function sn(e,t){var n=e;if($(e))return"string"===t?[]:[e.length];if(!Array.isArray(e))return[];for(var r=[];Array.isArray(n)||$(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&u().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&function e(t,n,r){if(r=r||[],Array.isArray(t)||$(t)){x(n.length>0,(function(){return"Element arr["+r.join("][")+"] should be a primitive, but is an array of "+t.length+" elements"})),x(t.length===n[0],(function(){return"Element arr["+r.join("][")+"] should have "+n[0]+" elements, but has "+t.length+" elements"}));for(var a=n.slice(1),o=0;o<t.length;++o)e(t[o],a,r.concat(o))}else x(0===n.length,(function(){return"Element arr["+r.join("][")+"] is a primitive, but should be an array/TypedArray of "+n[0]+" elements"}))}(e,r,[]),r}function ln(e,t,n,r){if(null!=e&&("numeric"!==e&&e!==t||"numeric"===e&&"string"===t))throw new Error("Argument '"+n+"' passed to '"+r+"' must be "+e+" tensor, but got "+t+" tensor")}function un(e,t,n,r){if(void 0===r&&(r="numeric"),e instanceof ve)return ln(r,e.dtype,t,n),e;var a=q(e);if("string"!==a&&["bool","int32","float32"].indexOf(r)>=0&&(a=r),ln(r,a,t,n),null==e||!$(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e){var o=null==e?"null":e.constructor.name;throw new Error("Argument '"+t+"' passed to '"+n+"' must be a Tensor or TensorLike, but got '"+o+"'")}var i=sn(e,a);$(e)||Array.isArray(e)||(e=[e]);var s="string"!==a?K(e,a,u().getBool("DEBUG")):k(e,[],!0);return Re.makeTensor(s,i,a)}function cn(e,t,n,r){if(void 0===r&&(r="numeric"),!Array.isArray(e))throw new Error("Argument "+t+" passed to "+n+" must be a `Tensor[]` or `TensorLike[]`");return e.map((function(e,r){return un(e,t+"["+r+"]",n)}),r)}function pn(e,t){for(var n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function dn(e,t,n){for(var r=e.length+t.length,a=[],o=0,i=0,s=0;s<r;s++)-1===n.indexOf(s)?a.push(e[o++]):a.push(t[i++]);return a}function fn(e,t){for(var n=[],r=e.length,a=0;a<r;a++)-1===t.indexOf(a)&&n.push(e[a]);return[n,t.map((function(t){return e[t]}))]}function hn(e,t){return dn(e,t.map((function(e){return 1})),t)}function vn(e,t,n){x(pn(t,n),(function(){return e+" supports only inner-most axes for now. Got axes "+t+" and rank-"+n+" input."}))}function mn(e,t){if(pn(e,t))return null;for(var n=[],r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach((function(e){return n.push(e)})),n}function gn(e){return e.map((function(e,t){return[t,e]})).sort((function(e,t){return e[1]-t[1]})).map((function(e){return e[0]}))}function bn(e,t){for(var n=[],r=t-e;r<t;++r)n.push(r);return n}function yn(e,t){var n=e[0].length;e.forEach((function(e,t){x(e.length===n,(function(){return"Error in concat"+n+"D: rank of tensors["+t+"] must be the same as the rank of the rest ("+n+")"}))})),x(t>=0&&t<n,(function(){return"Error in concat"+n+"D: axis must be between 0 and "+(n-1)+"."}));var r=e[0];e.forEach((function(e,a){for(var o=0;o<n;o++)x(o===t||e[o]===r[o],(function(){return"Error in concat"+n+"D: Shape of tensors["+a+"] ("+e+") does not match the shape of the rest ("+r+") along the non-concatenated axis "+a+"."}))}))}function wn(e,t){for(var n=e[0].slice(),r=1;r<e.length;r++)n[t]+=e[r][t];return n}function xn(e){var t=Object.keys(e);if(1!==t.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+t.length+" keys.");var n=t[0],r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1));var a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Re.startScope(n);try{var a=r.apply(void 0,e);return a instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),Re.endScope(a),a}catch(e){throw Re.endScope(null),e}};return Object.defineProperty(a,"name",{value:n,configurable:!0}),a}Lt.registerFlag("HAS_WEBGL",(function(){return Lt.getNumber("WEBGL_VERSION")>0})),Lt.registerFlag("WEBGL_VERSION",(function(){return _t(2)?2:_t(1)?1:0})),Lt.registerFlag("WEBGL_BUFFER_SUPPORTED",(function(){return 2===Lt.get("WEBGL_VERSION")})),Lt.registerFlag("WEBGL_CPU_FORWARD",(function(){return!0})),Lt.registerFlag("WEBGL_FORCE_F16_TEXTURES",(function(){return!1})),Lt.registerFlag("WEBGL_PACK",(function(){return Lt.getBool("HAS_WEBGL")})),Lt.registerFlag("WEBGL_PACK_NORMALIZATION",(function(){return Lt.getBool("WEBGL_PACK")})),Lt.registerFlag("WEBGL_PACK_CLIP",(function(){return Lt.getBool("WEBGL_PACK")})),Lt.registerFlag("WEBGL_PACK_DEPTHWISECONV",(function(){return!1})),Lt.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(function(){return Lt.getBool("WEBGL_PACK")})),Lt.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(function(){return Lt.getBool("WEBGL_PACK")})),Lt.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(function(){return Lt.getBool("WEBGL_PACK")})),Lt.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(function(){return Lt.getBool("WEBGL_PACK")})),Lt.registerFlag("WEBGL_PACK_REDUCE",(function(){return Lt.getBool("WEBGL_PACK")})),Lt.registerFlag("WEBGL_LAZILY_UNPACK",(function(){return Lt.getBool("WEBGL_PACK")})),Lt.registerFlag("WEBGL_CONV_IM2COL",(function(){return Lt.getBool("WEBGL_PACK")})),Lt.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(function(){return Ot(Lt.getNumber("WEBGL_VERSION"))})),Lt.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(function(){return It(Lt.getNumber("WEBGL_VERSION"))})),Lt.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(function(){var e=Lt.getNumber("WEBGL_VERSION");return 0===e?0:Nt(e)})),Lt.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(function(){return Lt.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&(e=navigator.userAgent||navigator.vendor||window.opera,!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))));var e})),Lt.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(function(){return Rt(Lt.getNumber("WEBGL_VERSION"))})),Lt.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(function(){return!Lt.getBool("WEBGL_FORCE_F16_TEXTURES")&&Lt.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")})),Lt.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(function(){return Mt(Lt.getNumber("WEBGL_VERSION"))})),Lt.registerFlag("WEBGL_FENCE_API_ENABLED",(function(){return Dt(Lt.getNumber("WEBGL_VERSION"))})),Lt.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(function(){return Lt.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0})),he=Vt;var Cn=xn({complex_:function(e,t){var n=un(e,"real","complex"),r=un(t,"imag","complex");return C(n.shape,r.shape,"real and imag shapes, "+n.shape+" and "+r.shape+", must match in call to tf.complex()."),Re.runKernelFunc((function(e){return e.complex(n,r)}),{$real:n,$imag:r})}}),En=xn({real_:function(e){var t=un(e,"input","real");return Re.runKernelFunc((function(e){return e.real(t)}),{$input:t})}}),kn=xn({imag_:function(e){var t=un(e,"input","imag");return Re.runKernelFunc((function(e){return e.imag(t)}),{$input:t})}});function Sn(e,t,n){return Tn(e,t,sn(e,n),n)}function Tn(e,t,n,r){if(null==r&&(r=q(e)),"complex64"===r)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!$(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){te(t);var a=S(t),o=S(n);x(a===o,(function(){return"Based on the provided shape, ["+t+"], the tensor should have "+a+" values but has "+o}));for(var i=0;i<n.length;++i){var s=n[i],l=i!==n.length-1||s!==S(t.slice(i));x(n[i]===t[i]||!l,(function(){return"Error creating a new Tensor. Inferred shape ("+n+") does not match the provided shape ("+t+"). "}))}}return $(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==r?K(e,r,u().getBool("DEBUG")):k(e,[],!0),Re.makeTensor(e,t,r)}function On(e,t){if(($(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&$(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Tn(e,[],[],t)}function In(e,t){E(e);var n=sn(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Tn(e,null,n,t)}function Nn(e,t,n){if(E(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");var r=sn(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Tn(e,t,r,n)}function An(e,t,n){if(E(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");var r=sn(e,n);if(3!==r.length&&1!==r.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Tn(e,t,r,n)}function _n(e,t,n){if(E(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");var r=sn(e,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Tn(e,t,r,n)}function Rn(e,t,n){if(E(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");var r=sn(e,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Tn(e,t,r,n)}function Mn(e,t,n){if(E(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");var r=sn(e,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return Tn(e,t=t||r,r,n)}function Pn(e,t,n,r){return void 0===t&&(t=!0),Re.makeVariable(e,t,n,r)}function Dn(e,t){if(void 0===t&&(t="float32"),"complex64"===t){var n=Dn(e,"float32"),r=Bn(e,"float32");return Cn(n,r)}var a=Q(S(e),t);return Re.makeTensor(a,e,t)}function Bn(e,t){if(void 0===t&&(t="float32"),"complex64"===t){var n=Bn(e,"float32"),r=Bn(e,"float32");return Cn(n,r)}var a=Z(S(e),t);return Re.makeTensor(a,e,t)}function Ln(e,t,n){return Re.runKernelFunc((function(r){return r.fill(e,t,n)}),{})}function zn(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");return Re.runKernelFunc((function(r){return r.linspace(e,t,n)}),{})}function Fn(e,t,n,r){if(void 0===n&&(n=1),void 0===r&&(r="float32"),0===n)throw new Error("Cannot have a step of zero");if(e===t||e<t&&n<0||t<e&&n>1)return Bn([0],r);var a=Z(Math.abs(Math.ceil((t-e)/n)),r);t<e&&1===n&&(n=-1),a[0]=e;for(var o=1;o<a.length;o++)a[o]=a[o-1]+n;return In(a,r)}var $n=xn({onesLike_:function(e){var t=un(e,"x","onesLike");if("complex64"===t.dtype){var n=$n(En(t)),r=Vn(kn(t));return Cn(n,r)}return Re.runKernelFunc((function(e){return e.onesLike(t)}),{$x:t},(function(e,t){return{$x:function(){return Vn(e)}}}))}}),Vn=xn({zerosLike_:function(e){var t=un(e,"x","zerosLike");return Re.runKernelFunc((function(e){return e.zerosLike(t)}),{$x:t},(function(e,t){return{$x:function(){return Vn(e)}}}))}}),jn=xn({concat_:function(e,t){void 0===t&&(t=0),x(e.length>=1,(function(){return"Pass at least one tensor to concat"}));var n=cn(e,"tensors","concat");"complex64"===n[0].dtype&&n.forEach((function(e){if("complex64"!==e.dtype)throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype "+e.dtype+". ")})),t=M(t,n[0].shape)[0];var r=wn(n.map((function(e){return e.shape})),t);if(0===S(r))return Sn([],r);if(1===(n=n.filter((function(e){return e.size>0}))).length)return n[0];var a=n.map((function(e){return e.shape}));yn(a,t);var o=n;return Re.runKernelFunc((function(e){return e.concat(n,t)}),o,(function(e){var n=a.map((function(e){return e[t]}));return Gn(e,n,t).map((function(e){return function(){return e}}))}))}}),Hn=xn({concat1d_:function(e){return jn(e,0)}}),Wn=xn({concat2d_:function(e,t){return jn(e,t)}}),Un=xn({concat3d_:function(e,t){return jn(e,t)}}),qn=xn({concat4d_:function(e,t){return jn(e,t)}}),Gn=xn({split_:function(e,t,n){void 0===n&&(n=0);var r,a=un(e,"x","split");return n=M(n,a.shape)[0],"number"==typeof t?(x(a.shape[n]%t==0,(function(){return"Number of splits must evenly divide the axis."})),r=new Array(t).fill(a.shape[n]/t)):(x(a.shape[n]===t.reduce((function(e,t){return e+t})),(function(){return"The sum of sizes must match the size of the axis dimension."})),r=t),Re.runKernelFunc((function(e){return e.split(a,r,n)}),{$x:a},(function(e){return{$x:function(){return jn(e,n)}}}))}});function Xn(e,t){return e(t={exports:{}},t.exports),t.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self&&self;var Yn=Xn((function(e){!function(e,t,n){function r(e){var t,n=this,r=(t=4022871197,function(e){e=e.toString();for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)});n.next=function(){var e=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=e-(n.c=0|e)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(e),n.s0<0&&(n.s0+=1),n.s1-=r(e),n.s1<0&&(n.s1+=1),n.s2-=r(e),n.s2<0&&(n.s2+=1),r=null}function a(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function o(e,t){var n=new r(e),o=t&&t.state,i=n.next;return i.int32=function(){return 4294967296*n.next()|0},i.double=function(){return i()+11102230246251565e-32*(2097152*i()|0)},i.quick=i,o&&("object"==typeof o&&a(o,n),i.state=function(){return a(n,{})}),i}t&&t.exports?t.exports=o:this.alea=o}(0,e)})),Kn=Xn((function(e){!function(e,t,n){function r(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function a(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function o(e,t){var n=new r(e),o=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,o&&("object"==typeof o&&a(o,n),i.state=function(){return a(n,{})}),i}t&&t.exports?t.exports=o:this.xor128=o}(0,e)})),Jn=Xn((function(e){!function(e,t,n){function r(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function a(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function o(e,t){var n=new r(e),o=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,o&&("object"==typeof o&&a(o,n),i.state=function(){return a(n,{})}),i}t&&t.exports?t.exports=o:this.xorwow=o}(0,e)})),Qn=Xn((function(e){!function(e,t,n){function r(e){var t=this;t.next=function(){var e,n,r=t.x,a=t.i;return e=r[a],n=(e^=e>>>7)^e<<24,n^=(e=r[a+1&7])^e>>>10,n^=(e=r[a+3&7])^e>>>3,n^=(e=r[a+4&7])^e<<7,e=r[a+7&7],n^=(e^=e<<13)^e<<9,r[a]=n,t.i=a+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function a(e,t){return t.x=e.x.slice(),t.i=e.i,t}function o(e,t){null==e&&(e=+new Date);var n=new r(e),o=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,o&&(o.x&&a(o,n),i.state=function(){return a(n,{})}),i}t&&t.exports?t.exports=o:this.xorshift7=o}(0,e)})),Zn=Xn((function(e){!function(e,t,n){function r(e){var t=this;t.next=function(){var e,n,r=t.w,a=t.X,o=t.i;return t.w=r=r+1640531527|0,n=a[o+34&127],e=a[o=o+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=a[o]=n^e,t.i=o,n+(r^r>>>16)|0},function(e,t){var n,r,a,o,i,s=[],l=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,l=Math.max(l,t.length)),a=0,o=-32;o<l;++o)t&&(r^=t.charCodeAt((o+32)%t.length)),0===o&&(i=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,o>=0&&(i=i+1640531527|0,a=0==(n=s[127&o]^=r+i)?a+1:0);for(a>=128&&(s[127&(t&&t.length||0)]=-1),a=127,o=512;o>0;--o)r=s[a+34&127],n=s[a=a+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[a]=r^n;e.w=i,e.X=s,e.i=a}(t,e)}function a(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function o(e,t){null==e&&(e=+new Date);var n=new r(e),o=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,o&&(o.X&&a(o,n),i.state=function(){return a(n,{})}),i}t&&t.exports?t.exports=o:this.xor4096=o}(0,e)})),er=Xn((function(e){!function(e,t,n){function r(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,a=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^a,a=a-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^a,t.a=a-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function a(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function o(e,t){var n=new r(e),o=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,o&&("object"==typeof o&&a(o,n),i.state=function(){return a(n,{})}),i}t&&t.exports?t.exports=o:this.tychei=o}(0,e)})),tr=Xn((function(e){!function(t,r){var a,o=this,i=256,s="random",l=r.pow(i,6),u=r.pow(2,52),c=2*u,p=i-1;function d(e,n,p){var d=[],g=v(function e(t,n){var r,a=[],o=typeof t;if(n&&"object"==o)for(r in t)try{a.push(e(t[r],n-1))}catch(e){}return a.length?a:"string"==o?t:t+"\0"}((n=1==n?{entropy:!0}:n||{}).entropy?[e,m(t)]:null==e?function(){try{var e;return a&&(e=a.randomBytes)?e=e(i):(e=new Uint8Array(i),(o.crypto||o.msCrypto).getRandomValues(e)),m(e)}catch(e){var n=o.navigator,r=n&&n.plugins;return[+new Date,o,r,o.screen,m(t)]}}():e,3),d),b=new f(d),y=function(){for(var e=b.g(6),t=l,n=0;e<u;)e=(e+n)*i,t*=i,n=b.g(1);for(;e>=c;)e/=2,t/=2,n>>>=1;return(e+n)/t};return y.int32=function(){return 0|b.g(4)},y.quick=function(){return b.g(4)/4294967296},y.double=y,v(m(b.S),t),(n.pass||p||function(e,t,n,a){return a&&(a.S&&h(a,b),e.state=function(){return h(b,{})}),n?(r[s]=e,t):e})(y,g,"global"in n?n.global:this==r,n.state)}function f(e){var t,n=e.length,r=this,a=0,o=r.i=r.j=0,s=r.S=[];for(n||(e=[n++]);a<i;)s[a]=a++;for(a=0;a<i;a++)s[a]=s[o=p&o+e[a%n]+(t=s[a])],s[o]=t;(r.g=function(e){for(var t,n=0,a=r.i,o=r.j,s=r.S;e--;)t=s[a=p&a+1],n=n*i+s[p&(s[a]=s[o=p&o+t])+(s[o]=t)];return r.i=a,r.j=o,n})(i)}function h(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function v(e,t){for(var n,r=e+"",a=0;a<r.length;)t[p&a]=p&(n^=19*t[p&a])+r.charCodeAt(a++);return m(t)}function m(e){return String.fromCharCode.apply(0,e)}if(r["seed"+s]=d,v(r.random(),t),e.exports){e.exports=d;try{a=n(902)}catch(e){}}}([],Math)}));tr.alea=Yn,tr.xor128=Kn,tr.xorwow=Jn,tr.xorshift7=Qn,tr.xor4096=Zn,tr.tychei=er;var nr=tr.alea,rr=function(){function e(e,t,n,r,a){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var o=a||Math.random();this.random=nr(o.toString())}return e.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var e=this.nextVal;return this.nextVal=NaN,e}for(var t,n,r=!1;!r;){var a=void 0,o=void 0,i=void 0;do{i=(a=2*this.random()-1)*a+(o=2*this.random()-1)*o}while(i>=1||0===i);var s=Math.sqrt(-2*Math.log(i)/i);t=this.mean+this.stdDev*a*s,n=this.mean+this.stdDev*o*s,this.truncated&&!this.isValidTruncated(t)||(r=!0)}return this.truncated&&!this.isValidTruncated(n)||(this.nextVal=this.convertValue(n)),this.convertValue(t)},e.prototype.convertValue=function(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)},e.prototype.isValidTruncated=function(e){return e<=this.upper&&e>=this.lower},e}(),ar=function(){function e(e,t,n,r){this.alpha=e,this.beta=1/t,this.dtype=n;var a=r||Math.random();this.randu=nr(a.toString()),this.randn=new rr(0,1,n,!1,this.randu()),this.d=e<1?e+2/3:e-1/3,this.c=1/Math.sqrt(9*this.d)}return e.prototype.nextValue=function(){for(var e,t,n,r,a,o;;){do{r=this.randn.nextValue(),o=1+this.c*r}while(o<=0);if(o*=o*o,t=1-.331*(e=r*r)*e,n=.5*e+this.d*(1-o+Math.log(o)),(a=this.randu())<t||Math.log(a)<n)break}return o=1/this.beta*this.d*o,this.alpha<1&&(o*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(o)},e.prototype.convertValue=function(e){return"float32"===this.dtype?e:Math.round(e)},e}(),or=function(){function e(e,t,n,r){var a=this;if(void 0===e&&(e=0),void 0===t&&(t=1),this.canReturnFloat=function(){return null==a.dtype||"float32"===a.dtype},this.min=e,this.range=t-e,this.dtype=n,null==r&&(r=Math.random()),"number"==typeof r&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between "+e+" - "+t+" <= 1 and dtype is not float");this.random=nr(r)}return e.prototype.convertValue=function(e){return this.canReturnFloat()?e:Math.round(e)},e.prototype.nextValue=function(){return this.convertValue(this.min+this.range*this.random())},e}();function ir(e,t,n){return void 0===t&&(t="float32"),t=t||"float32",te(e),new pe(e,t,n)}function sr(e,t){void 0===t&&(t=!1),console.log(e.toString(t))}var lr=xn({batchToSpaceND_:function(e,t,n){var r=un(e,"x","batchToSpaceND"),a=t.reduce((function(e,t){return e*t}));return x(r.rank>=1+t.length,(function(){return"input rank is "+r.rank+" but should be > than blockShape.length "+t.length})),x(n.length===t.length,(function(){return"crops.length is "+n.length+" but should be equal to blockShape.length  "+t.length})),x(r.shape[0]%a==0,(function(){return"input tensor batch is "+r.shape[0]+" but is not divisible by the product of the elements of blockShape "+t.join(" * ")+" === "+a})),Re.runKernelFunc((function(e){return e.batchToSpaceND(r,t,n)}),{$x:r},(function(e){return{$x:function(){return e.spaceToBatchND(t,n)}}}))}}),ur=xn({cast_:function(e,t){var n=un(e,"x","cast");if(!z(t))throw new Error("Failed to cast to unknown dtype "+t);if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");var r={dtype:t};return Re.runKernelFunc((function(e){return e.cast(n,t)}),{x:n},(function(e){return{x:function(){return e.clone()}}}),"Cast",r)}}),cr=xn({clone_:function(e){var t=un(e,"x","clone",null);return Re.runKernelFunc((function(){return Re.makeTensorFromDataId(t.dataId,t.shape,t.dtype)}),{$x:t},(function(e){return{$x:function(){return e.toFloat()}}}))}}),pr=xn({cumsum_:function(e,t,n,r){void 0===t&&(t=0),void 0===n&&(n=!1),void 0===r&&(r=!1);var a=un(e,"x","cumsum"),o=mn([t|=0],a.rank),i=a;null!=o&&(i=a.transpose(o));var s=bn(1,a.rank)[0],l=Re.runKernelFunc((function(e){return e.cumsum(i,s,n,r)}),{permutedX:i},(function(e){return{permutedX:function(){return e.cumsum(t,n,!r)}}}));return null!=o&&(l=l.transpose(o)),l}}),dr=xn({depthToSpace_:function(e,t,n){void 0===n&&(n="NHWC");var r=un(e,"x","depthToSpace"),a="NHWC"===n?r.shape[1]:r.shape[2],o="NHWC"===n?r.shape[2]:r.shape[3],i="NHWC"===n?r.shape[3]:r.shape[1];return x(a*t>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n      "+a+" and "+t+"  for depthToSpace with input shape\n      "+r.shape})),x(o*t>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n      "+o+" and "+t+" for depthToSpace with input shape\n          "+r.shape})),x(i%(t*t)==0,(function(){return"Dimension size must be evenly divisible by "+t*t+" but is "+i+" for depthToSpace with input shape "+r.shape})),Re.runKernelFunc((function(e){return e.depthToSpace(r,t,n)}),{$x:r})}}),fr=xn({expandDims_:function(e,t){void 0===t&&(t=0);var n=un(e,"x","expandDims",null);x(t<=n.rank,(function(){return"Axis must be <= rank of the tensor"}));var r=n.shape.slice();return t<0&&(x(-(n.rank+1)<=t,(function(){return"Axis must be in the interval ["+-(n.rank+1)+", "+n.rank+"]"})),t=n.rank+t+1),r.splice(t,0,1),Tr(n,r)}}),hr=xn({eye_:function(e,t,n,r){void 0===r&&(r="float32"),null==t&&(t=e);for(var a=ir([e,t],r),o=e<=t?e:t,i=0;i<o;++i)a.set(1,i,i);var s=a.toTensor().as2D(e,t);if(null==n)return s;if(1===n.length)return Ar(fr(s,0),[n[0],1,1]);if(2===n.length)return Ar(fr(fr(s,0),0),[n[0],n[1],1,1]);if(3===n.length)return Ar(fr(fr(fr(s,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D batchShapes, but received "+n.length+"D.")}}),vr=xn({multinomial_:function(e,t,n,r){void 0===r&&(r=!1);var a=un(e,"logits","multinomial"),o=a.size,i=a.rank;if(o<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+o+".");if(i>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+i);n=n||Math.random();var s=1===i?a.as2D(1,-1):a,l=Re.runKernelFunc((function(e){return e.multinomial(s,r,t,n)}),{logits2D:s});return 1===i?l.as1D():l}}),mr=xn({oneHot_:function(e,t,n,r){if(void 0===n&&(n=1),void 0===r&&(r=0),t<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+t);var a=un(e,"indices","oneHot","int32"),o=a.shape.concat([t]);return a=a.flatten(),Re.runKernelFunc((function(e){return e.oneHot(a,t,n,r)}),{$indices:a},(function(e){return{$indices:function(){return Bn(a.shape,"float32")}}})).reshape(o)}}),gr=xn({pad_:function(e,t,n){void 0===n&&(n=0);var r=un(e,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var a=t.map((function(e){return e[0]}));return Re.runKernelFunc((function(e){return e.pad(r,t,n)}),{$x:r},(function(e){return{$x:function(){return e.slice(a,r.shape)}}}))}}),br=xn({pad1d_:function(e,t,n){return void 0===n&&(n=0),x(2===t.length,(function(){return"Invalid number of paddings. Must be length of 2."})),gr(e,[t],n)}}),yr=xn({pad2d_:function(e,t,n){return void 0===n&&(n=0),x(2===t.length&&2===t[0].length&&2===t[1].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),gr(e,t,n)}}),wr=xn({pad3d_:function(e,t,n){return void 0===n&&(n=0),x(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),gr(e,t,n)}}),xr=xn({pad4d_:function(e,t,n){return void 0===n&&(n=0),x(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),gr(e,t,n)}}),Cr=xn({rand_:function(e,t,n){var r=S(e),a=null;if(null==n||"float32"===n)a=new Float32Array(r);else if("int32"===n)a=new Int32Array(r);else{if("bool"!==n)throw new Error("Unknown data type "+n);a=new Uint8Array(r)}for(var o=0;o<r;o++)a[o]=t();return Re.makeTensor(a,e,n)}}),Er=xn({randomNormal_:function(e,t,n,r,a){if(void 0===t&&(t=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);for(var o=new rr(t,n,r,!1,a),i=ir(e,r),s=0;s<i.values.length;s++)i.values[s]=o.nextValue();return i.toTensor()}}),kr=xn({randomGamma_:function(e,t,n,r,a){if(void 0===n&&(n=1),void 0===r&&(r="float32"),null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error("Unsupported data type "+r);for(var o=new ar(t,n,r,a),i=ir(e,r),s=0;s<i.values.length;s++)i.values[s]=o.nextValue();return i.toTensor()}}),Sr=xn({randomUniform_:function(e,t,n,r,a){void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r="float32");for(var o=ir(e,r),i=new or(t,n,null,a),s=0;s<o.values.length;s++)o.values[s]=i.nextValue();return o.toTensor()}}),Tr=xn({reshape_:function(e,t){var n=un(e,"x","reshape",null);t=R(t,n.size),x(n.size===S(t),(function(){return"new shape and old shape must have the same number of elements."}));var r={shape:t};return Re.runKernelFunc((function(e){return e.reshape(n,t)}),{x:n},(function(e){return{x:function(){return e.reshape(n.shape)}}}),"Reshape",r)}}),Or=xn({spaceToBatchND_:function(e,t,n){var r=un(e,"x","spaceToBatchND");return x(r.rank>=1+t.length,(function(){return"input rank "+r.rank+" should be > than [blockShape] "+t.length})),x(n.length===t.length,(function(){return"paddings.shape[0] "+n.length+" must be equal to [blockShape] "+t.length})),x(r.shape.reduce((function(e,r,a){return a>0&&a<=t.length?e&&(r+n[a-1][0]+n[a-1][1])%t[a-1]==0:e}),!0),(function(){return"input spatial dimensions "+r.shape.slice(1)+" with paddings "+n.toString()+" must be divisible by blockShapes "+t.toString()})),Re.runKernelFunc((function(e){return e.spaceToBatchND(r,t,n)}),{$x:r},(function(e){return{$x:function(){return e.batchToSpaceND(t,n)}}}))}}),Ir=xn({squeeze_:function(e,t){var n=un(e,"x","squeeze");return Tr(n,P(n.shape,t).newShape)}}),Nr=xn({stack_:function(e,t){void 0===t&&(t=0);var n=cn(e,"tensors","stack");if(x(n.length>=1,(function(){return"Pass at least one tensor to tf.stack"})),1===n.length)return n[0].expandDims(t);var r=n[0].rank,a=n[0].shape,o=n[0].dtype;x(t<=r,(function(){return"Axis must be <= rank of the tensor"})),n.forEach((function(e){C(a,e.shape,"All tensors passed to stack must have matching shapes")})),n.forEach((function(e){x(o===e.dtype,(function(){return"All tensors passed to stack must have matching dtypes"}))}));var i=n.map((function(e){return e.expandDims(t)}));return jn(i,t)}}),Ar=xn({tile_:function(e,t){var n=un(e,"x","tile",null);return x(n.rank===t.length,(function(){return"Error in transpose: rank of input "+n.rank+" must match length of reps "+t+"."})),Re.runKernelFunc((function(e,r){var a=e.tile(n,t);return r([n]),a}),{$x:n},(function(e,n){var r=n[0];return{$x:function(){var n=Vn(r);if(1===r.rank)for(var a=0;a<t[0];++a)n=n.add(e.slice([a*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(a=0;a<t[0];++a)for(var o=0;o<t[1];++o)n=n.add(e.slice([a*r.shape[0],o*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(a=0;a<t[0];++a)for(o=0;o<t[1];++o)for(var i=0;i<t[2];++i)n=n.add(e.slice([a*r.shape[0],o*r.shape[1],i*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error("Gradient for tile operation is not implemented for rank-"+r.rank+" tensors yet.");for(a=0;a<t[0];++a)for(o=0;o<t[1];++o)for(i=0;i<t[2];++i)for(var s=0;s<t[3];++s)n=n.add(e.slice([a*r.shape[0],o*r.shape[1],i*r.shape[2],s*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return n}}}))}}),_r=xn({truncatedNormal_:function(e,t,n,r,a){if(void 0===t&&(t=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);for(var o=new rr(t,n,r,!0,a),i=ir(e,r),s=0;s<i.values.length;s++)i.values[s]=o.nextValue();return i.toTensor()}}),Rr=xn({unstack_:function(e,t){void 0===t&&(t=0),t=t||0;var n=un(e,"x","unstack");return x(t>=-n.shape.length&&t<n.shape.length,(function(){return"Axis = "+t+" is not in [-"+n.shape.length+", "+n.shape.length+")"})),t<0&&(t+=n.shape.length),Re.runKernelFunc((function(e){return e.unstack(n,t)}),{$x:n},(function(e){return{$x:function(){return Nr(e,t)}}}))}}),Mr=function(e,t){return i(this,void 0,void 0,(function(){var n,r,a,o,i,l,u,c,p,d;return s(this,(function(s){switch(s.label){case 0:return n=un(e,"x","setdiff1d"),r=un(t,"y","setdiff1d"),x(n.dtype===r.dtype,(function(){return"x and y should have the same dtype, but got x ("+n.dtype+") and y ("+r.dtype+")."})),x(1===n.rank,(function(){return"x should be 1D tensor, but got x ("+n.shape+")."})),x(1===r.rank,(function(){return"y should be 1D tensor, but got y ("+r.shape+")."})),[4,n.data()];case 1:return a=s.sent(),[4,r.data()];case 2:for(o=s.sent(),i=new Set(o),l=0,p=0;p<a.length;p++)i.has(a[p])||l++;for(u=new pe([l],n.dtype),c=new pe([l],"int32"),p=0,d=0;p<a.length;p++)i.has(a[p])||(u.values[d]=a[p],c.values[d]=p,d++);return[2,[u.toTensor(),c.toTensor()]]}}))}))};function Pr(e,t,n,r){void 0===r&&(r=!0);var a=[];if(r)(a=a.concat(t.slice(0))).push(e[0]/n),a=a.concat(e.slice(1));else{a=a.concat(e[0]);for(var o=t.length,i=0;i<o;++i)a=a.concat([e[i+1]/t[i],t[i]]);a=a.concat(e.slice(o+1))}return a}function Dr(e,t,n){void 0===n&&(n=!0);var r=[];if(n){r.push(t);for(var a=t+1;a<e;++a)a<=2*t?(r.push(a),r.push(a-(t+1))):r.push(a)}else{var o=[],i=[];for(a=1;a<e;++a)a>=2*t+1||a%2==1?i.push(a):o.push(a);r.push.apply(r,o),r.push(0),r.push.apply(r,i)}return r}function Br(e,t,n,r){void 0===r&&(r=!0);var a=[];r?a.push(e[0]/n):a.push(e[0]*n);for(var o=1;o<e.length;++o)o<=t.length?r?a.push(t[o-1]*e[o]):a.push(e[o]/t[o-1]):a.push(e[o]);return a}function Lr(e,t){for(var n=[0],r=0;r<t;++r)n.push(e[r][0]);return n}function zr(e,t,n){for(var r=e.slice(0,1),a=0;a<n;++a)r.push(e[a+1]-t[a][0]-t[a][1]);return r}function Fr(e,t){if(e.rank<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher, but the rank was "+e.rank+".");if(t.rank<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher, but the rank was "+t.rank+".");if("int32"!==t.dtype)throw new Error("tf.gatherND() expects the indices to be int32 type, but the dtype was "+t.dtype+".");if(t.shape[t.rank-1]>e.rank)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+t.shape[t.rank-1]+" vs. "+e.rank);if(0===e.size)throw new Error("Requested more than 0 entries, but input is empty. Input shape: "+e.shape+".");for(var n=t.shape,r=n[n.length-1],a=1,o=0;o<n.length-1;++o)a*=n[o];var i=e.shape,s=n.slice();s.pop();var l=1;for(o=r;o<e.rank;++o)l*=i[o],s.push(i[o]);var u=Y(e.shape).map((function(e){return e/l})).concat([1]).slice(0,r);return[s,a,l,u]}function $r(e){return e<=30?e:X(e,Math.floor(Math.sqrt(e)))}function Vr(e,t,n){for(var r=t.rank>1?t.shape[t.rank-1]:1,a=n.length,o=1,i=r;i<a;++i)o*=n[i];var s=r<1?1:r;return{sliceRank:r,numUpdates:t.size/s,sliceSize:o,strides:Y(n.slice(0,r)).concat([1]),outputSize:S(n)}}function jr(e,t,n){x(e.rank===t.length,(function(){return"Error in slice"+e.rank+"D: Length of begin "+t+" must match the rank of the array ("+e.rank+")."})),x(e.rank===n.length,(function(){return"Error in slice"+e.rank+"D: Length of size "+n+" must match the rank of the array ("+e.rank+")."}));for(var r=function(r){x(t[r]+n[r]<=e.shape[r],(function(){return"Error in slice"+e.rank+"D: begin["+r+"] + size["+r+"] ("+(t[r]+n[r])+") would overflow input.shape["+r+"] ("+e.shape[r]+")"}))},a=0;a<e.rank;++a)r(a)}function Hr(e){for(var t=[],n=0;e>0;)1&e&&t.push(n),e/=2,n++;return t}function Wr(e,t,n){for(var r=[],a=0;a<e.length;a++)r[a]=Math.ceil((t[a]-e[a])/n[a]);return r}function Ur(e,t,n,r,a){var o=t[a],i=n[a]||1;(e&1<<a||null==o)&&(o=i>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var s=r[a];return o<0&&(o+=s),b(0,o,s-1)}function qr(e,t,n,r,a){var o=t[a],i=n[a]||1;(e&1<<a||null==o)&&(o=i>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var s=r[a];return o<0&&(o+=s),i>0?b(0,o,s):b(-1,o,s-1)}function Gr(e,t,n){for(var r=n.length,a=0;a<n.length;a++)if(n[a]>1){r=a;break}for(a=r+1;a<n.length;a++)if(t[a]>0||n[a]!==e[a])return!1;return!0}function Xr(e,t){for(var n=e.length>0?e[e.length-1]:1,r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}var Yr=Object.freeze({assertParamsValid:jr,maskToAxes:Hr,computeOutShape:Wr,startForAxis:Ur,stopForAxis:qr,isSliceContinous:Gr,computeFlatOffset:Xr});function Kr(e){return x(G(e),(function(){return"The f passed in grad(f) must be a function"})),function(t,n){var r=un(t,"x","tf.grad",null),a=null!=n?un(n,"dy","tf.grad"):null;return Re.tidy((function(){var t=Re.gradients((function(){return e(r)}),[r],a),n=t.value,o=t.grads;return null!=a&&C(n.shape,a.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),na(o),o[0]}))}}function Jr(e){return x(G(e),(function(){return"The f passed in grads(f) must be a function"})),function(t,n){x(Array.isArray(t),(function(){return"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s"}));var r=cn(t,"args","tf.grads",null),a=null!=n?un(n,"dy","tf.grads"):null;return Re.tidy((function(){var t=Re.gradients((function(){return e.apply(void 0,r)}),r,a),n=t.value,o=t.grads;return null!=a&&C(n.shape,a.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),na(o),o}))}}function Qr(e){return x(G(e),(function(){return"The f passed in valueAndGrad(f) must be a function"})),function(t,n){x(t instanceof ve,(function(){return"The x passed in valueAndGrad(f)(x) must be a tensor"})),x(null==n||n instanceof ve,(function(){return"The dy passed in valueAndGrad(f)(x, dy) must be a tensor"}));var r=Re.gradients((function(){return e(t)}),[t],n),a=r.grads,o=r.value;return na(a),{grad:a[0],value:o}}}function Zr(e){return x(G(e),(function(){return"The f passed in valueAndGrads(f) must be a function"})),function(t,n){x(Array.isArray(t)&&t.every((function(e){return e instanceof ve})),(function(){return"The args passed in valueAndGrads(f)(args) must be array of tensors"})),x(null==n||n instanceof ve,(function(){return"The dy passed in valueAndGrads(f)(args, dy) must be a tensor"}));var r=Re.gradients((function(){return e.apply(void 0,t)}),t,n);return null!=n&&C(r.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),na(r.grads),r}}function ea(e,t){x(G(e),(function(){return"The f passed in variableGrads(f) must be a function"})),x(null==t||Array.isArray(t)&&t.every((function(e){return e instanceof xe})),(function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"}));var n=null!=t;if(!n)for(var r in t=[],Re.registeredVariables)t.push(Re.registeredVariables[r]);var a=n?t.filter((function(e){return!e.trainable})):null,o=t.length;x((t=t.filter((function(e){return e.trainable}))).length>0,(function(){return"variableGrads() expects at least one of the input variables to be trainable, but none of the "+o+" variables is trainable."}));var i=Re.gradients(e,t,null,!0),s=i.value,l=i.grads;x(l.some((function(e){return null!=e})),(function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."})),x(0===s.rank,(function(){return"The f passed in variableGrads(f) must return a scalar, but it returned a rank-"+s.rank+" tensor"}));var u={};return t.forEach((function(e,t){null!=l[t]&&(u[e.name]=l[t])})),null!=a&&a.forEach((function(e){return u[e.name]=null})),{value:s,grads:u}}function ta(e){return Re.customGrad(e)}function na(e){if(e.filter((function(e){return null==e})).length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that\n    the f you passed encloses all operations that lead from x to y.")}var ra=xn({softmax_:function(e,t){void 0===t&&(t=-1);var n=un(e,"logits","softmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and dim was "+t);return ta((function(e,n){var r=e.logSumExp([t],!0),a=e.toFloat().sub(r).exp();return n([a]),{value:a,gradFunc:function(e,n){var r=n[0],a=e.mul(r);return a.sub(a.sum([t],!0).mul(r))}}}))(n)}}),aa=xn({logSoftmax_:function(e,t){void 0===t&&(t=-1);var n=un(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and axis was "+t);return ta((function(e,n){var r=e.max(t,!0),a=e.sub(r),o=a.toFloat().sub(a.exp().sum(t,!0).log());return n([o]),{value:o,gradFunc:function(e,n){var r=n[0].exp();return e.sub(e.sum(t,!0).mul(r))}}}))(n)}}),oa=function(){function e(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}return e.prototype.get=function(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)},e.prototype.set=function(e,t){this.dataIdsCount++,this.data.set(e,t)},e.prototype.has=function(e){return this.data.has(e)},e.prototype.delete=function(e){return this.dataIdsCount--,this.data.delete(e)},e.prototype.numDataIds=function(){return this.dataIdsCount},e}(),ia=function(){function e(){}return e.prototype.time=function(e){return sa()},e.prototype.read=function(e){return sa()},e.prototype.readSync=function(e){return sa()},e.prototype.numDataIds=function(){return sa()},e.prototype.disposeData=function(e){return sa()},e.prototype.fromPixels=function(e,t){return sa()},e.prototype.write=function(e,t,n){return sa()},e.prototype.move=function(e,t,n,r){return sa()},e.prototype.memory=function(){return sa()},e.prototype.floatPrecision=function(){return sa()},e.prototype.epsilon=function(){return 32===this.floatPrecision()?1e-7:1e-4},e.prototype.batchMatMul=function(e,t,n,r){return sa()},e.prototype.fusedBatchMatMul=function(e){return e.a,e.b,e.transposeA,e.transposeB,e.bias,e.activation,e.preluActivationWeights,sa()},e.prototype.slice=function(e,t,n){return sa()},e.prototype.stridedSlice=function(e,t,n,r){return sa()},e.prototype.unstack=function(e,t){return sa()},e.prototype.reverse=function(e,t){return sa()},e.prototype.concat=function(e,t){return sa()},e.prototype.neg=function(e){return sa()},e.prototype.add=function(e,t){return sa()},e.prototype.addN=function(e){return sa()},e.prototype.subtract=function(e,t){return sa()},e.prototype.multiply=function(e,t){return sa()},e.prototype.realDivide=function(e,t){return sa()},e.prototype.floorDiv=function(e,t){return sa()},e.prototype.sum=function(e,t){return sa()},e.prototype.prod=function(e,t){return sa()},e.prototype.unsortedSegmentSum=function(e,t,n){return sa()},e.prototype.argMin=function(e,t){return sa()},e.prototype.argMax=function(e,t){return sa()},e.prototype.equal=function(e,t){return sa()},e.prototype.notEqual=function(e,t){return sa()},e.prototype.less=function(e,t){return sa()},e.prototype.lessEqual=function(e,t){return sa()},e.prototype.greater=function(e,t){return sa()},e.prototype.greaterEqual=function(e,t){return sa()},e.prototype.logicalNot=function(e){return sa()},e.prototype.logicalAnd=function(e,t){return sa()},e.prototype.logicalOr=function(e,t){return sa()},e.prototype.where=function(e){return sa()},e.prototype.select=function(e,t,n){return sa()},e.prototype.topk=function(e,t,n){return sa()},e.prototype.min=function(e,t){return sa()},e.prototype.minimum=function(e,t){return sa()},e.prototype.mod=function(e,t){return sa()},e.prototype.max=function(e,t){return sa()},e.prototype.maximum=function(e,t){return sa()},e.prototype.all=function(e,t){return sa()},e.prototype.any=function(e,t){return sa()},e.prototype.squaredDifference=function(e,t){return sa()},e.prototype.ceil=function(e){return sa()},e.prototype.floor=function(e){return sa()},e.prototype.round=function(e){return sa()},e.prototype.sign=function(e){return sa()},e.prototype.isNaN=function(e){return sa()},e.prototype.isInf=function(e){return sa()},e.prototype.isFinite=function(e){return sa()},e.prototype.pow=function(e,t){return sa()},e.prototype.exp=function(e){return sa()},e.prototype.expm1=function(e){return sa()},e.prototype.log=function(e){return sa()},e.prototype.log1p=function(e){return sa()},e.prototype.sqrt=function(e){return sa()},e.prototype.rsqrt=function(e){return sa()},e.prototype.square=function(e){return sa()},e.prototype.reciprocal=function(e){return sa()},e.prototype.relu=function(e){return sa()},e.prototype.relu6=function(e){return sa()},e.prototype.prelu=function(e,t){return sa()},e.prototype.elu=function(e){return sa()},e.prototype.eluDer=function(e,t){return sa()},e.prototype.selu=function(e){return sa()},e.prototype.int=function(e){return sa()},e.prototype.clip=function(e,t,n){return sa()},e.prototype.abs=function(e){return sa()},e.prototype.complexAbs=function(e){return sa()},e.prototype.sigmoid=function(e){return sa()},e.prototype.softplus=function(e){return sa()},e.prototype.sin=function(e){return sa()},e.prototype.cos=function(e){return sa()},e.prototype.tan=function(e){return sa()},e.prototype.asin=function(e){return sa()},e.prototype.acos=function(e){return sa()},e.prototype.atan=function(e){return sa()},e.prototype.atan2=function(e,t){return sa()},e.prototype.sinh=function(e){return sa()},e.prototype.cosh=function(e){return sa()},e.prototype.tanh=function(e){return sa()},e.prototype.asinh=function(e){return sa()},e.prototype.acosh=function(e){return sa()},e.prototype.atanh=function(e){return sa()},e.prototype.erf=function(e){return sa()},e.prototype.step=function(e,t){return sa()},e.prototype.fusedConv2d=function(e){return e.input,e.filter,e.convInfo,e.bias,e.activation,e.preluActivationWeights,sa()},e.prototype.conv2d=function(e,t,n){return sa()},e.prototype.conv2dDerInput=function(e,t,n){return sa()},e.prototype.conv2dDerFilter=function(e,t,n){return sa()},e.prototype.fusedDepthwiseConv2D=function(e){return e.input,e.filter,e.convInfo,e.bias,e.activation,e.preluActivationWeights,sa()},e.prototype.depthwiseConv2D=function(e,t,n){return sa()},e.prototype.depthwiseConv2DDerInput=function(e,t,n){return sa()},e.prototype.depthwiseConv2DDerFilter=function(e,t,n){return sa()},e.prototype.conv3d=function(e,t,n){return sa()},e.prototype.conv3dDerInput=function(e,t,n){return sa()},e.prototype.conv3dDerFilter=function(e,t,n){return sa()},e.prototype.maxPool=function(e,t){return sa()},e.prototype.maxPoolBackprop=function(e,t,n,r){return sa()},e.prototype.avgPool=function(e,t){return sa()},e.prototype.avgPoolBackprop=function(e,t,n){return sa()},e.prototype.avgPool3d=function(e,t){return sa()},e.prototype.avgPool3dBackprop=function(e,t,n){return sa()},e.prototype.maxPool3d=function(e,t){return sa()},e.prototype.maxPool3dBackprop=function(e,t,n,r){return sa()},e.prototype.reshape=function(e,t){return sa()},e.prototype.cast=function(e,t){return sa()},e.prototype.tile=function(e,t){return sa()},e.prototype.pad=function(e,t,n){return sa()},e.prototype.transpose=function(e,t){return sa()},e.prototype.gather=function(e,t,n){return sa()},e.prototype.gatherND=function(e,t){return sa()},e.prototype.scatterND=function(e,t,n){return sa()},e.prototype.batchToSpaceND=function(e,t,n){return sa()},e.prototype.spaceToBatchND=function(e,t,n){return sa()},e.prototype.resizeBilinear=function(e,t,n,r){return sa()},e.prototype.resizeBilinearBackprop=function(e,t,n){return sa()},e.prototype.resizeNearestNeighbor=function(e,t,n,r){return sa()},e.prototype.resizeNearestNeighborBackprop=function(e,t,n){return sa()},e.prototype.batchNormalization=function(e,t,n,r,a,o){return sa()},e.prototype.localResponseNormalization4D=function(e,t,n,r,a){return sa()},e.prototype.LRNGrad=function(e,t,n,r,a,o,i){return sa()},e.prototype.multinomial=function(e,t,n,r){return sa()},e.prototype.oneHot=function(e,t,n,r){return sa()},e.prototype.cumsum=function(e,t,n,r){return sa()},e.prototype.nonMaxSuppression=function(e,t,n,r,a){return sa()},e.prototype.fft=function(e){return sa()},e.prototype.ifft=function(e){return sa()},e.prototype.complex=function(e,t){return sa()},e.prototype.real=function(e){return sa()},e.prototype.imag=function(e){return sa()},e.prototype.cropAndResize=function(e,t,n,r,a,o){return sa()},e.prototype.depthToSpace=function(e,t,n){return sa()},e.prototype.split=function(e,t,n){return sa()},e.prototype.sparseToDense=function(e,t,n,r){return sa()},e.prototype.diag=function(e){return sa()},e.prototype.fill=function(e,t,n){throw new Error("Not yet implemented.")},e.prototype.onesLike=function(e){return sa()},e.prototype.zerosLike=function(e){return sa()},e.prototype.linspace=function(e,t,n){return sa()},e.prototype.dispose=function(){return sa()},e}();function sa(){throw new Error("Not yet implemented or not found in the registry. Did you forget to import the kernel?")}function la(e,t){for(var n=e.length,r=[],a=0;a<n;a++){var o=n-1-a,i=e[o]||1;(t[t.length-1-a]||1)>1&&1===i&&r.unshift(o)}return r}function ua(e,t){for(var n=[],r=0;r<t.length;r++){var a=e[e.length-r-1],o=t.length-r-1,i=t[o];(null==a||1===a&&i>1)&&n.unshift(o)}return n}function ca(e,t){for(var n=[],r=Math.max(e.length,t.length),a=0;a<r;a++){var o=e[e.length-a-1];null==o&&(o=1);var i=t[t.length-a-1];if(null==i&&(i=1),1===o)n.unshift(i);else if(1===i)n.unshift(o);else{if(o!==i)throw Error("Operands could not be broadcast together with shapes "+e+" and "+t+".");n.unshift(o)}}return n}function pa(e,t,n,r,a,o,i){void 0===i&&(i="channelsLast");var s,l=ma(t),u=l[0],c=l[1];if("channelsLast"===i)s=[u,c,e[3],e[3]];else{if("channelsFirst"!==i)throw new Error("Unknown dataFormat "+i);s=[u,c,e[1],e[1]]}return fa(e,s,n,r,a,o,!1,i)}function da(e,t,n,r,a,o,i){void 0===i&&(i="NDHWC");var s,l,u=ga(t),c=u[0],p=u[1],d=u[2];if("NDHWC"===i)l="channelsLast",s=[c,p,d,e[4],e[4]];else{if("NCDHW"!==i)throw new Error("Unknown dataFormat "+i);l="channelsFirst",s=[c,p,d,e[1],e[1]]}return ha(e,s,n,r,a,!1,l,o)}function fa(e,t,n,r,a,o,i,s){void 0===i&&(i=!1),void 0===s&&(s="channelsLast");var l=[-1,-1,-1,-1],u=l[0],c=l[1],p=l[2],d=l[3];if("channelsLast"===s)u=e[0],c=e[1],p=e[2],d=e[3];else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat "+s);u=e[0],d=e[1],c=e[2],p=e[3]}var f,h=t[0],v=t[1],m=t[3],g=ma(n),b=g[0],y=g[1],w=ma(r),C=w[0],E=w[1],k=ba(h,C),S=ba(v,E),T=function(e,t,n,r,a,o,i,s){var l,u,c;if("number"==typeof e){l={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};var p=function(e,t,n,r,a){null==r&&(r=va(e,t,n));var o=e[1],i=ya((e[0]-t+2*r)/n+1,a);x(O(i),(function(){return"The output # of rows ("+i+") must be an integer. Change the stride and/or zero pad parameters"}));var s=ya((o-t+2*r)/n+1,a);return x(O(s),(function(){return"The output # of columns ("+s+") must be an integer. Change the stride and/or zero pad parameters"})),[i,s]}([t,n],o,r,e,s);u=p[0],c=p[1]}else if("same"===e){u=Math.ceil(t/r),c=Math.ceil(n/a);var d=Math.max(0,(u-1)*r+o-t),f=Math.max(0,(c-1)*a+i-n),h=Math.floor(d/2),v=d-h,m=Math.floor(f/2);l={top:h,bottom:v,left:m,right:f-m,type:"SAME"}}else{if("valid"!==e)throw Error("Unknown padding parameter: "+e);l={top:0,bottom:0,left:0,right:0,type:"VALID"},u=Math.ceil((t-o+1)/r),c=Math.ceil((n-i+1)/a)}return{padInfo:l,outHeight:u,outWidth:c}}(a,c,p,b,y,k,S,o),I=T.padInfo,N=T.outHeight,A=T.outWidth,_=i?m*d:m;return"channelsFirst"===s?f=[u,_,N,A]:"channelsLast"===s&&(f=[u,N,A,_]),{batchSize:u,dataFormat:s,inHeight:c,inWidth:p,inChannels:d,outHeight:N,outWidth:A,outChannels:_,padInfo:I,strideHeight:b,strideWidth:y,filterHeight:h,filterWidth:v,effectiveFilterHeight:k,effectiveFilterWidth:S,dilationHeight:C,dilationWidth:E,inShape:e,outShape:f,filterShape:t}}function ha(e,t,n,r,a,o,i,s){void 0===o&&(o=!1),void 0===i&&(i="channelsLast");var l=[-1,-1,-1,-1,-1],u=l[0],c=l[1],p=l[2],d=l[3],f=l[4];if("channelsLast"===i)u=e[0],c=e[1],p=e[2],d=e[3],f=e[4];else{if("channelsFirst"!==i)throw new Error("Unknown dataFormat "+i);u=e[0],f=e[1],c=e[2],p=e[3],d=e[4]}var h,v=t[0],m=t[1],g=t[2],b=t[4],y=ga(n),w=y[0],C=y[1],E=y[2],k=ga(r),S=k[0],T=k[1],I=k[2],N=ba(v,S),A=ba(m,T),_=ba(g,I),R=function(e,t,n,r,a,o,i,s,l,u,c){var p,d,f,h;if("number"==typeof e){p={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};var v=function(e,t,n,r,a,o){null==a&&(a=va(e,t,r));var i=e[1],s=e[2],l=ya((e[0]-t+2*a)/r+1,o);x(O(l),(function(){return"The output # of depths ("+l+") must be an integer. Change the stride and/or zero pad parameters"}));var u=ya((i-t+2*a)/r+1,o);x(O(u),(function(){return"The output # of rows ("+u+") must be an integer. Change the stride and/or zero pad parameters"}));var c=ya((s-t+2*a)/r+1,o);return x(O(c),(function(){return"The output # of columns ("+c+") must be an integer. Change the stride and/or zero pad parameters"})),[l,u,c,1]}([t,n,r,1],s,0,a,e,c);d=v[0],f=v[1],h=v[2]}else if("same"===e){var m=((d=Math.ceil(t/a))-1)*a+s-t,g=((f=Math.ceil(n/o))-1)*o+l-n,b=((h=Math.ceil(r/i))-1)*i+u-r,y=Math.floor(m/2),w=m-y,C=Math.floor(g/2),E=g-C,k=Math.floor(b/2);p={top:C,bottom:E,left:k,right:b-k,front:y,back:w,type:"SAME"}}else{if("valid"!==e)throw Error("Unknown padding parameter: "+e);p={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},d=Math.ceil((t-s+1)/a),f=Math.ceil((n-l+1)/o),h=Math.ceil((r-u+1)/i)}return{padInfo:p,outDepth:d,outHeight:f,outWidth:h}}(a,c,p,d,w,C,E,N,A,_,s),M=R.padInfo,P=R.outDepth,D=R.outHeight,B=R.outWidth,L=o?b*f:b;return"channelsFirst"===i?h=[u,L,P,D,B]:"channelsLast"===i&&(h=[u,P,D,B,L]),{batchSize:u,dataFormat:i,inDepth:c,inHeight:p,inWidth:d,inChannels:f,outDepth:P,outHeight:D,outWidth:B,outChannels:L,padInfo:M,strideDepth:w,strideHeight:C,strideWidth:E,filterDepth:v,filterHeight:m,filterWidth:g,effectiveFilterDepth:N,effectiveFilterHeight:A,effectiveFilterWidth:_,dilationDepth:S,dilationHeight:T,dilationWidth:I,inShape:e,outShape:h,filterShape:t}}function va(e,t,n,r){void 0===r&&(r=1);var a=ba(t,r);return Math.floor((e[0]*(n-1)-n+a)/2)}function ma(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function ga(e){return"number"==typeof e?[e,e,e]:e}function ba(e,t){return t<=1?e:e+(e-1)*(t-1)}function ya(e,t){if(!t)return e;switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode "+t)}}function wa(e){var t=ma(e),n=t[0],r=t[1],a=t[2];return 1===n&&1===r&&1===a}function xa(e,t){return wa(e)||wa(t)}function Ca(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error("Unknown dataFormat "+e)}function Ea(e,t,n){if("complex64"===t){if("complex64"===e.dtype)return e.clone();var r=Bn(e.shape),a=e.toFloat(),o=n.complex(a,r);return r.dispose(),a.dispose(),o}if(!F(e.dtype,t))return Re.makeTensorFromDataId(e.dataId,e.shape,t);if("complex64"===e.dtype){var i=n.real(e);return o=i.cast(t),i.dispose(),o}if("int32"===t)return n.int(e);if("bool"===t){var s=On(0,e.dtype);return o=n.notEqual(e,s),s.dispose(),o}throw new Error("Error in Cast: failed to cast "+e.dtype+" to "+t)}function ka(e,t){return Re.makeTensorFromDataId(e.dataId,t,e.dtype)}function Sa(e,t,n){var r=(t-e)/(n-1),a=Z(n,"float32");a[0]=e;for(var o=1;o<a.length;o++)a[o]=a[o-1]+r;return In(a,"float32")}var Ta=Object.freeze({castTensor:Ea,reshapeTensor:ka,linspaceImpl:Sa,upcastType:Ee,axesAreInnerMostDims:pn,combineLocations:dn,computeOutAndReduceShapes:fn,expandShapeToKeepDim:hn,assertAxesAreInnerMostDims:vn,getAxesPermutation:mn,getUndoAxesPermutation:gn,getInnerMostAxes:bn,getBroadcastDims:la,getReductionAxes:ua,assertAndGetBroadcastShape:ca,assertParamsConsistent:yn,computeOutShape:wn,computePool2DInfo:pa,computePool3DInfo:da,computeConv2DInfo:fa,computeConv3DInfo:ha,computeDefaultPad:va,tupleValuesAreOne:wa,eitherStridesOrDilationsAreOne:xa,convertConv2DDataFormat:Ca});function Oa(e,t){if(e.length!==t.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+e.length+", imag: "+t.length+".");for(var n=new Float32Array(2*e.length),r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function Ia(e,t){return{real:e[2*t],imag:e[2*t+1]}}function Na(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function Aa(e,t,n){var r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}function _a(e,t,n,r,a){for(var o=Array.from(t).map((function(e,t){return{score:e,boxIndex:t}})).filter((function(e){return e.score>a})).sort((function(e,t){return t.score-e.score})),i=[],s=0;s<o.length;s++){var l=o[s],u=l.score,c=l.boxIndex;if(u<a)break;for(var p=!1,d=i.length-1;d>=0;--d)if(Ra(e,c,i[d])>=r){p=!0;break}if(!p&&(i.push(c),i.length>=n))break}return In(i,"int32")}function Ra(e,t,n){var r=e.subarray(4*t,4*t+4),a=e.subarray(4*n,4*n+4),o=Math.min(r[0],r[2]),i=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]),u=Math.min(a[0],a[2]),c=Math.min(a[1],a[3]),p=Math.max(a[0],a[2]),d=Math.max(a[1],a[3]),f=(s-o)*(l-i),h=(p-u)*(d-c);if(f<=0||h<=0)return 0;var v=Math.max(o,u),m=Math.max(i,c),g=Math.min(s,p),b=Math.min(l,d),y=Math.max(g-v,0)*Math.max(b-m,0);return y/(f+h-y)}function Ma(e,t,n){var r=new Array(e.rank).fill(0),a=e.shape.slice();return t.map((function(t){a[n]=t;var o=e.slice(r,a);return r[n]+=t,o}))}function Pa(e,t){for(var n=new Array(e.rank),r=0;r<n.length;r++)n[r]=e.shape[r]*t[r];var a=ir(n,e.dtype);for(r=0;r<a.values.length;++r){for(var o=a.indexToLoc(r),i=new Array(e.rank),s=0;s<i.length;s++)i[s]=o[s]%e.shape[s];var l=e.locToIndex(i);a.values[r]=e.values[l]}return a.toTensor()}function Da(e,t,n,r,a){for(var o=t[t.length-1],i=[e.length/o,o],s=i[0],l=i[1],u=D(n,s*r),c=D("int32",s*r),p=0;p<s;p++){for(var d=p*l,f=e.subarray(d,d+l),h=[],v=0;v<f.length;v++)h.push({value:f[v],index:v});h.sort((function(e,t){return t.value-e.value}));var m=p*r,g=u.subarray(m,m+r),b=c.subarray(m,m+r);for(v=0;v<r;v++)g[v]=h[v].value,b[v]=h[v].index}var y=t.slice();return y[y.length-1]=r,[Sn(u,y,n),Sn(c,y,"int32")]}function Ba(e,t){for(var n=[],r=0;r<t.length;r++)t[r]&&n.push(r);var a=ir(e,"int32"),o=ir([n.length,e.length],"int32");for(r=0;r<n.length;r++){var i=a.indexToLoc(n[r]),s=r*e.length;o.values.set(i,s)}return o.toTensor()}var La=function(e,t){this.outputShape=[],this.outputShape=e,this.variableNames=t.map((function(e,t){return"T"+t}));var n=[];this.variableNames.forEach((function(e){n.push("float v"+e+" = get"+e+"AtOutCoords();")}));var r=this.variableNames.map((function(e){return"v"+e})).join(" + ");this.userCode="\n      void main() {\n        "+n.join("\n        ")+"\n\n        float result = "+r+";\n        setOutput(result);\n      }\n    "},za=function(e,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=t.map((function(e,t){return"T"+t}));var n=[];this.variableNames.forEach((function(e){n.push("vec4 v"+e+" = get"+e+"AtOutCoords();")}));var r=this.variableNames.map((function(e){return"v"+e})).join(" + ");this.userCode="\n      void main() {\n        "+n.join("\n        ")+"\n\n        vec4 result = "+r+";\n        setOutput(result);\n      }\n    "},Fa=function(e,t,n){this.variableNames=["A"];var r=e.windowSize,a=e.batchSize,o=e.inSize,i=Math.ceil(o/r);n||this.variableNames.push("bestIndicesA"),this.outputShape=[a,i];var s="max"===t?">":"<",l=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+r+";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < "+r+"; i++) {\n          int inIdx = "+l+";\n          float candidate = getA(batch, inIdx);\n          if (candidate "+s+" bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    "};function $a(e,t){return["x","y","z","w","u","v"].slice(0,t).map((function(t){return e+"."+t}))}function Va(e,t){return 1===t?[e]:$a(e,t)}function ja(){var e,t,n,r,a,o,i,s,l,c;return 2===u().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",r="in",a="texture",o="outputColor",i="out vec4 outputColor;",s="\n      bool isnan_custom(float val) {\n        return (val > 0.0 || val < 0.0) ? false : val != 0.0;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ",l="",c="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",r="varying",a="texture2D",o="gl_FragColor",i="",s="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",l="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",c="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:a,output:o,defineOutput:i,defineSpecialNaN:s,defineSpecialInf:l,defineRound:c}}function Ha(e,t,n){void 0===n&&(n="index");var r=Y(t);return r.map((function(t,a){return"int "+e[a]+" = "+n+" / "+t+"; "+(a===r.length-1?"int "+e[a+1]+" = "+n+" - "+e[a]+" * "+t:"index -= "+e[a]+" * "+t)+";"})).join("")}function Wa(e){var t=Y(e).map((function(e){return e.toString()}));return"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * "+t[0]+" + coords.y * "+t[1]+" + coords.z;\n  }\n"}var Ua="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n";function qa(e,t,n,r){var a=[];e.forEach((function(e){var t=S(e.shapeInfo.logicalShape);e.shapeInfo.isUniform?a.push("uniform float "+e.name+(t>1?"["+t+"]":"")+";"):(a.push("uniform sampler2D "+e.name+";"),a.push("uniform int offset"+e.name+";"))}));var o,i,s=a.join("\n"),l=e.map((function(e){return function(e,t,n){void 0===n&&(n=!1);var r="";r+=n?Xa(e):Ga(e);var a=e.shapeInfo.logicalShape,o=t.logicalShape;return a.length<=o.length&&(r+=n?function(e,t){var n,r=e.name,a=r.charAt(0).toUpperCase()+r.slice(1),o="get"+a+"AtOutCoords",i=e.shapeInfo.logicalShape.length,s=t.logicalShape.length,l=la(e.shapeInfo.logicalShape,t.logicalShape),u=to(s),c=s-i,p=["x","y","z","w","u","v"];n=0===i?"":s<2&&l.length>=1?"coords = 0;":l.map((function(e){return"coords."+p[e+c]+" = 0;"})).join("\n");var d;d=s<2&&i>0?"coords":e.shapeInfo.logicalShape.map((function(e,t){return"coords."+p[t+c]})).join(", ");var f="return outputValue;",h=1===S(e.shapeInfo.logicalShape),v=1===S(t.logicalShape);if(1!==i||h||v){if(h&&!v)f=1===s?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(l.length){var m=i-2,g=i-1;l.indexOf(m)>-1&&l.indexOf(g)>-1?f="return vec4(outputValue.x);":l.indexOf(m)>-1?f="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":l.indexOf(g)>-1&&(f="return vec4(outputValue.xx, outputValue.zz);")}}else f="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return"\n    vec4 "+o+"() {\n      "+u+" coords = getOutputCoords();\n      "+n+"\n      vec4 outputValue = get"+a+"("+d+");\n      "+f+"\n    }\n  "}(e,t):function(e,t){var n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),a="get"+r+"AtOutCoords",o=t.texShape,i=e.shapeInfo.texShape,s=e.shapeInfo.logicalShape.length,l=t.logicalShape.length;if(!e.shapeInfo.isUniform&&s===l&&null==e.shapeInfo.flatOffset&&T(i,o))return"\n      float "+a+"() {\n        return sampleTexture("+n+", resultUV);\n      }\n    ";var u,c=to(l),p=la(e.shapeInfo.logicalShape,t.logicalShape),d=l-s,f=["x","y","z","w","u","v"];u=0===s?"":l<2&&p.length>=1?"coords = 0;":p.map((function(e){return"coords."+f[e+d]+" = 0;"})).join("\n");var h;return h=l<2&&s>0?"coords":e.shapeInfo.logicalShape.map((function(e,t){return"coords."+f[t+d]})).join(", "),"\n    float "+a+"() {\n      "+c+" coords = getOutputCoords();\n      "+u+"\n      return get"+r+"("+h+");\n    }\n  "}(e,t)),r}(e,t,r)})).join("\n"),u=t.texShape,c=ja(),p=function(e){return"\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return "+e.texture2D+"(textureSampler, uv).r;\n    }\n  "}(c),d=function(e){return e.version+"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    "+e.varyingFs+" vec2 resultUV;\n    "+e.defineOutput+"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    "+e.defineSpecialNaN+"\n    "+e.defineSpecialInf+"\n    "+e.defineRound+"\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    "+Ya+"\n    "+Ka+"\n    "+Ja+"\n  "}(c);return t.isPacked?(o=function(e,t){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t){var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];return 1===n[0]?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * "+n[1]+".0);\n      }\n    ":1===n[1]?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * "+n[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      return 2 * (resTexRC.x * "+n[1]+" + resTexRC.y);\n    }\n  "}(0,t);case 2:return function(e,t){var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(T(e,t))return"\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2("+n[0]+", "+n[1]+"));\n      }\n    ";var r=Math.ceil(e[1]/2);return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n      int r = 2 * (index / "+r+");\n      int c = imod(index, "+r+") * 2;\n\n      return ivec2(r, c);\n    }\n  "}(e,t);case 3:return n=e,r=t,a=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)],i=(o=Math.ceil(n[2]/2))*Math.ceil(n[1]/2),"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+a[0]+", "+a[1]+"));\n      int index = resTexRC.x * "+a[1]+" + resTexRC.y;\n\n      int b = index / "+i+";\n      index -= b * "+i+";\n\n      int r = 2 * (index / "+o+");\n      int c = imod(index, "+o+") * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";default:return function(e,t){for(var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],r=Math.ceil(e[e.length-1]/2),a=r*Math.ceil(e[e.length-2]/2),o=a,i="",s="b, r, c",l=2;l<e.length-1;l++)i="\n      int b"+l+" = index / "+(o*=e[e.length-l-1])+";\n      index -= b"+l+" * "+o+";\n    "+i,s="b"+l+", "+s;return"\n    ivec"+e.length+" getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n\n      "+i+"\n\n      int b = index / "+a+";\n      index -= b * "+a+";\n\n      int r = 2 * (index / "+r+");\n      int c = imod(index, "+r+") * 2;\n\n      return ivec"+e.length+"("+s+");\n    }\n  "}(e,t)}var n,r,a,o,i}(t.logicalShape,u),i=function(e){return"\n    void setOutput(vec4 val) {\n      "+e.output+" = val;\n    }\n  "}(c)):(o=function(e,t){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t){return 1===t[0]?"\n      int getOutputCoords() {\n        return int(resultUV.x * "+t[1]+".0);\n      }\n    ":1===t[1]?"\n      int getOutputCoords() {\n        return int(resultUV.y * "+t[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+t[0]+", "+t[1]+"));\n      return resTexRC.x * "+t[1]+" + resTexRC.y;\n    }\n  "}(0,t);case 2:return function(e,t){return T(e,t)?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2("+t[0]+", "+t[1]+"));\n      }\n    ":1===e[1]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+t[0]+", "+t[1]+"));\n        int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":1===e[0]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+t[0]+", "+t[1]+"));\n        int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n      int r = index / "+e[1]+";\n      int c = index - r * "+e[1]+";\n      return ivec2(r, c);\n    }\n  "}(e,t);case 3:return n=t,r=Ha(["r","c","d"],e),"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n      "+r+"\n      return ivec3(r, c, d);\n    }\n  ";case 4:return function(e,t){var n=Ha(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n      "+n+"\n      return ivec4(r, c, d, d2);\n    }\n  "}(e,t);case 5:return function(e,t){var n=Ha(["r","c","d","d2","d3"],e);return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2("+t[0]+",\n                             "+t[1]+"));\n\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n\n      "+n+"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  "}(e,t);case 6:return function(e,t){var n=Ha(["r","c","d","d2","d3","d4"],e);return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n\n      "+n+"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  "}(e,t);default:throw new Error(e.length+"-D output sampling is not yet supported")}var n,r}(t.logicalShape,u),i=function(e){return"\n    void setOutput(float val) {\n      "+e.output+" = vec4(val, 0, 0, 0);\n    }\n  "}(c)),r&&(d+=Qa),[d,p,i,s,o,l,n].join("\n")}function Ga(e){var t=e.shapeInfo.logicalShape;switch(t.length){case 0:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1);if(e.shapeInfo.isUniform)return"float "+n+"() {return "+t+";}";var r=e.shapeInfo.texShape,a=r[0],o=r[1];if(1===a&&1===o)return"\n      float "+n+"() {\n        return sampleTexture("+t+", halfCR);\n      }\n    ";var i=e.shapeInfo.texShape;return"\n    float "+n+"() {\n      vec2 uv = uvFromFlat("+i[0]+", "+i[1]+", "+Za(t)+");\n      return sampleTexture("+t+", uv);\n    }\n  "}(e);case 1:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1);if(e.shapeInfo.isUniform)return"\n      float "+n+"(int index) {\n        "+eo(e)+"\n      }\n    ";var r=e.shapeInfo.texShape,a=r[0],o=r[1];if(1===o&&1===a)return"\n      float "+n+"(int index) {\n        return sampleTexture("+t+", halfCR);\n      }\n    ";var i=Za(t);return 1===o?"\n      float "+n+"(int index) {\n        vec2 uv = vec2(0.5, (float(index + "+i+") + 0.5) / "+a+".0);\n        return sampleTexture("+t+", uv);\n      }\n    ":1===a?"\n      float "+n+"(int index) {\n        vec2 uv = vec2((float(index + "+i+") + 0.5) / "+o+".0, 0.5);\n        return sampleTexture("+t+", uv);\n      }\n    ":"\n    float "+n+"(int index) {\n      vec2 uv = uvFromFlat("+a+", "+o+", index + "+i+");\n      return sampleTexture("+t+", uv);\n    }\n  "}(e);case 2:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=e.shapeInfo.texShape;if(null!=a&&T(t,a)){var o=a[0];return"\n    float "+r+"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2("+a[1]+".0, "+o+".0);\n      return sampleTexture("+n+", uv);\n    }\n  "}var i=P(t),s=i.newShape,l=i.keptDims,u=s;if(u.length<t.length)return"\n      "+Ga(no(e,u))+"\n      float "+r+"(int row, int col) {\n        return "+r+"("+ro(["row","col"],l)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2("+t[1]+", 1)));\n        "+eo(e)+"\n      }\n    ";var c=a[0],p=a[1],d=Za(n);return 1===p?"\n    float "+r+"(int row, int col) {\n      float index = dot(vec3(row, col, "+d+"), vec3("+t[1]+", 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / "+c+".0);\n      return sampleTexture("+n+", uv);\n    }\n  ":1===c?"\n    float "+r+"(int row, int col) {\n      float index = dot(vec3(row, col, "+d+"), vec3("+t[1]+", 1, 1));\n      vec2 uv = vec2((index + 0.5) / "+p+".0, 0.5);\n      return sampleTexture("+n+", uv);\n    }\n  ":"\n  float "+r+"(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * "+t[1]+" + col + "+d+";\n    vec2 uv = uvFromFlat("+c+", "+p+", index);\n    return sampleTexture("+n+", uv);\n  }\n"}(e);case 3:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=t[1]*t[2],o=t[2],i=P(t),s=i.newShape,l=i.keptDims,u=s;if(u.length<t.length)return"\n        "+Ga(no(e,u))+"\n        float "+r+"(int row, int col, int depth) {\n          return "+r+"("+ro(["row","col","depth"],l)+");\n        }\n      ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3("+a+", "+o+", 1)));\n        "+eo(e)+"\n      }\n    ";var c=e.shapeInfo.texShape,p=c[0],d=c[1],f=e.shapeInfo.flatOffset;return d===a&&null==f?"\n        float "+r+"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2("+o+", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2("+d+".0, "+p+".0);\n          return sampleTexture("+n+", uv);\n        }\n      ":d===o&&null==f?"\n    float "+r+"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2("+t[1]+", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+d+".0, "+p+".0);\n      return sampleTexture("+n+", uv);\n    }\n  ":"\n      float "+r+"(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * "+a+" + col * "+o+" + depth + "+Za(n)+";\n        vec2 uv = uvFromFlat("+p+", "+d+", index);\n        return sampleTexture("+n+", uv);\n      }\n  "}(e);case 4:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=t[3],o=t[2]*a,i=t[1]*o,s=P(t),l=s.newShape,u=s.keptDims;if(l.length<t.length)return"\n      "+Ga(no(e,l))+"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        return "+r+"("+ro(["row","col","depth","depth2"],u)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4("+i+", "+o+", "+a+", 1)));\n        "+eo(e)+"\n      }\n    ";var c=e.shapeInfo.flatOffset,p=e.shapeInfo.texShape,d=p[0],f=p[1];return f===i&&null==c?"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3("+o+", "+a+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+f+".0, "+d+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":f===a&&null==c?"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3("+t[1]*t[2]+", "+t[2]+", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+f+".0, "+d+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":"\n    float "+r+"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+i+" + col * "+o+" +\n          depth * "+a+" + depth2;\n      vec2 uv = uvFromFlat("+d+", "+f+", index + "+Za(n)+");\n      return sampleTexture("+n+", uv);\n    }\n  "}(e);case 5:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=t[4],o=t[3]*a,i=t[2]*o,s=t[1]*i,l=P(t),u=l.newShape,c=l.keptDims;if(u.length<t.length)return"\n      "+Ga(no(e,u))+"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        return "+r+"("+ro(["row","col","depth","depth2","depth3"],c)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+s+", "+i+", "+o+", "+a+")) +\n          depth3;\n        "+eo(e)+"\n      }\n    ";var p=e.shapeInfo.flatOffset,d=e.shapeInfo.texShape,f=d[0],h=d[1];return h===s&&null==p?"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4("+i+", "+o+", "+a+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+h+".0, "+f+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":h===a&&null==p?"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+t[1]*t[2]*t[3]+",\n               "+t[2]*t[3]+", "+t[3]+", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+h+".0, "+f+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":"\n    float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+s+" + col * "+i+" + depth * "+o+" +\n          depth2 * "+a+" + depth3 + "+Za(n)+";\n      vec2 uv = uvFromFlat("+f+", "+h+", index);\n      return sampleTexture("+n+", uv);\n    }\n  "}(e);case 6:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=P(t),o=a.newShape,i=a.keptDims;if(o.length<t.length)return"\n      "+Ga(no(e,o))+"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return "+r+"("+ro(["row","col","depth","depth2","depth3","depth4"],i)+");\n      }\n    ";var s=t[5],l=t[4]*s,u=t[3]*l,c=t[2]*u,p=t[1]*c;if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4("+p+", "+c+", "+u+", "+l+")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2("+s+", 1)));\n        "+eo(e)+"\n      }\n    ";var d=e.shapeInfo.flatOffset,f=e.shapeInfo.texShape,h=f[0],v=f[1];return v===p&&null==d?"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4("+c+", "+u+", "+l+", "+s+")) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+v+".0, "+h+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":v===s&&null==d?"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4("+t[1]*t[2]*t[3]*t[4]+",\n               "+t[2]*t[3]*t[4]+",\n               "+t[3]*t[4]+",\n               "+t[4]+")) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+v+".0, "+h+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":"\n    float "+r+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+p+" + col * "+c+" + depth * "+u+" +\n          depth2 * "+l+" + depth3 * "+s+" + depth4 + "+Za(n)+";\n      vec2 uv = uvFromFlat("+h+", "+v+", index);\n      return sampleTexture("+n+", uv);\n    }\n  "}(e);default:throw new Error(t.length+"-D input sampling is not yet supported")}}function Xa(e){var t;switch(e.shapeInfo.logicalShape.length){case 0:return"\n    vec4 "+("get"+(t=e.name).charAt(0).toUpperCase()+t.slice(1))+"() {\n      return "+ja().texture2D+"("+t+", halfCR);\n    }\n  ";case 1:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=e.shapeInfo.texShape,a=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)],o=ja();return"\n    vec4 "+n+"(int index) {\n      vec2 uv = packedUVfrom1D(\n        "+a[0]+", "+a[1]+", index);\n      return "+o.texture2D+"("+t+", uv);\n    }\n  "}(e);case 2:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=e.shapeInfo.texShape,o=a[0],i=a[1],s=ja();if(null!=a&&T(t,a))return"\n      vec4 "+r+"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2("+i+".0, "+o+".0);\n\n        return "+s.texture2D+"("+n+", uv);\n      }\n    ";var l=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];return"\n    vec4 "+r+"(int row, int col) {\n      vec2 uv = packedUVfrom2D("+Math.ceil(t[1]/2)+", "+l[0]+", "+l[1]+", row, col);\n      return "+s.texture2D+"("+n+", uv);\n    }\n  "}(e);case 3:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=e.shapeInfo.texShape,o=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];if(1===t[0])return"\n        "+Xa(no(e,t.slice(1)))+"\n        vec4 "+r+"(int b, int row, int col) {\n          return "+r+"("+ro(["b","row","col"],[1,2])+");\n        }\n      ";var i=o[0],s=o[1],l=Math.ceil(t[2]/2);return"\n    vec4 "+r+"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        "+i+", "+s+", "+l*Math.ceil(t[1]/2)+", "+l+", b, row, col);\n      return "+ja().texture2D+"("+n+", uv);\n    }\n  "}(e);default:return function(e){for(var t=e.shapeInfo.logicalShape,n=t.length,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),o=e.shapeInfo.texShape,i=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)],s=i[0],l=i[1],u=Math.ceil(t[n-1]/2),c=u*Math.ceil(t[n-2]/2),p="int b, int row, int col",d="b * "+c+" + (row / 2) * "+u+" + (col / 2)",f=2;f<n-1;f++)p="int b"+f+", "+p,d="b"+f+" * "+(c*=t[n-f-1])+" + "+d;return"\n    vec4 "+a+"("+p+") {\n      int index = "+d+";\n      int texR = index / "+l+";\n      int texC = index - texR * "+l+";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+l+", "+s+");\n      return "+ja().texture2D+"("+r+", uv);\n    }\n  "}(e)}}var Ya="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Ka="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Ja="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Qa="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function Za(e){return"offset"+e}function eo(e){var t=e.name,n=S(e.shapeInfo.logicalShape);return n<2?"return "+t+";":"\n    for (int i = 0; i < "+n+"; i++) {\n      if (i == index) {\n        return "+t+"[i];\n      }\n    }\n  "}function to(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error("GPU for rank "+e+" is not yet supported")}function no(e,t){var n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function ro(e,t){return t.map((function(t){return e[t]})).join(", ")}var ao=function(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,x(e.length>2,(function(){return"Packed arg"+(n.charAt(0).toUpperCase()+n.slice(1))+" supports only inputs with rank above 2."}));var a=e[e.length-1],o=Math.ceil(a/t);this.outputShape=e.slice(0,-1),o>1&&this.outputShape.push(o),r||this.variableNames.push("bestIndicesA");var i,s,l=this.outputShape,u=l.length,c=to(u),p=Va("coords",u);if(1===o){var d=to(s=u+1);i="\n        "+d+" sourceLocR = "+d+"("+p.join()+", 0);\n        ++"+p[u-1]+";\n        "+d+" sourceLocG = "+d+"("+p.join()+", 0);\n        ++"+p[u-2]+";\n        "+d+" sourceLocA = "+d+"("+p.join()+", 0);\n        --"+p[u-1]+";\n        "+d+" sourceLocB = "+d+"("+p.join()+", 0);\n        --"+p[u-2]+";"}else s=u,i="\n        "+c+" sourceLocR = coords;\n        ++"+p[u-1]+";\n        "+c+" sourceLocG = coords;\n        ++"+p[u-2]+";\n        "+c+" sourceLocA = coords;\n        --"+p[u-1]+";\n        "+c+" sourceLocB = coords;\n        --"+p[u-2]+";";var f=["x","y","z","w","u","v"].slice(0,s),h="."+f[s-1],v=f.map((function(e){return"int "+e})),m=Va("sourceLocR",s-1).concat("inIdx.r"),g=Va("sourceLocG",s-1).concat("inIdx.g"),b=Va("sourceLocB",s-1).concat("inIdx.b"),y=Va("sourceLocA",s-1).concat("inIdx.a"),w="max"===n?"greaterThan":"lessThan",C=r?"":"\n          inIdx = round(vec4(getBestIndicesAChannel("+m.join()+"),\n                             getBestIndicesAChannel("+g.join()+"),\n                             getBestIndicesAChannel("+b.join()+"),\n                             getBestIndicesAChannel("+y.join()+")));",E="vec4(\n            getAChannel("+m.join()+"),\n            hasNextCol ? getAChannel("+g.join()+") : 0.,\n            hasNextRow ? getAChannel("+b.join()+") : 0.,\n            hasNextRow && hasNextCol ? getAChannel("+y.join()+") : 0.)",k=r?"":"\n      float getBestIndicesAChannel("+v.join()+") {\n        return getChannel(getBestIndicesA("+f.join()+"),\n                                          vec2("+f.slice(-2).join()+"));\n      }";this.userCode="\n      float getAChannel("+v.join()+") {\n        return getChannel(getA("+f.join()+"),\n                               vec2("+f.slice(-2).join()+"));\n      }\n      "+k+"\n      void main() {\n        "+c+" coords = getOutputCoords();\n        bool hasNextCol = "+p[u-1]+" < "+(l[u-1]-1)+";\n        bool hasNextRow = "+p[u-2]+" < "+(l[u-2]-1)+";\n        "+i+"\n        ivec4 srcIdx = ivec4(sourceLocR"+h+", sourceLocG"+h+",\n          sourceLocB"+h+", sourceLocA"+h+") * "+t+";\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = "+E+";\n\n        for (int i = 0; i < "+t+"; i++) {\n          inIdx = srcIdx;\n          "+C+"\n          vec4 candidate = "+E+";\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4("+w+"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    "},oo=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,a=e.strideWidth,o=e.dilationHeight,i=e.dilationWidth,s=e.effectiveFilterHeight,l=e.effectiveFilterWidth,u=s-1-e.padInfo.top,c=l-1-e.padInfo.left,p=1/(t*n);this.userCode="\n      const ivec2 pads = ivec2("+u+", "+c+");\n      const float avgMultiplier = float("+p+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+s+";\n            wR += "+o+") {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+l+";\n            wC+= "+i+") {\n            float dyC = float(dyCCorner + wC) / "+a+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},io=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,a=e.strideDepth,o=e.strideHeight,i=e.strideWidth,s=e.dilationDepth,l=e.dilationHeight,u=e.dilationWidth,c=e.effectiveFilterDepth,p=e.effectiveFilterHeight,d=e.effectiveFilterWidth,f=c-1-e.padInfo.front,h=p-1-e.padInfo.top,v=d-1-e.padInfo.left,m=1/(t*n*r);this.userCode="\n      const ivec3 pads = ivec3("+f+", "+h+", "+v+");\n      const float avgMultiplier = float("+m+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < "+c+";\n            wD += "+s+") {\n          float dyD = float(dyDCorner + wD) / "+a+".0;\n\n          if (dyD < 0.0 || dyD >= "+e.outDepth+".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < "+p+";\n              wR += "+l+") {\n            float dyR = float(dyRCorner + wR) / "+o+".0;\n\n            if (dyR < 0.0 || dyR >= "+e.outHeight+".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < "+d+";\n                wC += "+u+") {\n              float dyC = float(dyCCorner + wC) / "+i+".0;\n\n              if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},so=function(e,t,n,r,a,o){this.outputShape=[],this.variableNames=["x","mean","variance"],ca(e,t),ca(e,n);var i="0.0";null!=r&&(ca(e,r),this.variableNames.push("offset"),i="getOffsetAtOutCoords()");var s="1.0";null!=a&&(ca(e,a),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = "+i+";\n        float scale = "+s+";\n        float inv = scale * inversesqrt(variance + float("+o+"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    "},lo=function(e,t,n,r,a,o){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],ca(e,t),ca(e,n);var i="vec4(0.0)";null!=r&&(ca(e,r),this.variableNames.push("offset"),i="getOffsetAtOutCoords()");var s="vec4(1.0)";null!=a&&(ca(e,a),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        vec4 offset = "+i+";\n        vec4 scale = "+s+";\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4("+o+"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    "},uo=function(e,t,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=ca(t,n),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        "+e+"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    "},co="return a + b;",po="return a - b;",fo="return a * b;",ho="return (a < 0.) ? b * a : a;",vo=function(e,t,n){this.variableNames=["A","B"],this.outputShape=ca(t,n),this.userCode="\n      float binaryOperation(float a, float b) {\n        "+e+"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    "},mo="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n",go=function(e,t,n,r){void 0===r&&(r=!1),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=ca(t,n);var a=this.outputShape.length,o="";if(r)if(0===a||1===S(this.outputShape))o="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else if(o="\n          "+to(a)+" coords = getOutputCoords();\n        ",1===a)o+="\n            result.y = (coords + 1) >= "+this.outputShape[0]+" ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ";else{var i=Va("coords",a);o+="\n            bool nextRowOutOfBounds =\n              ("+i[a-2]+" + 1) >= "+this.outputShape[a-2]+";\n            bool nextColOutOfBounds =\n              ("+i[a-1]+" + 1) >= "+this.outputShape[a-1]+";\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          "}this.userCode="\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        "+e+"\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        "+o+"\n\n        setOutput(result);\n      }\n    "},bo=function(){function e(e){this.variableNames=["A"],this.outputShape=e,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e,t){var n=this;return function(r,a){null==n.minLoc&&(n.minLoc=r.getUniformLocationNoThrow(a,"minVal"),n.maxLoc=r.getUniformLocationNoThrow(a,"maxVal")),r.gl.uniform1f(n.minLoc,e),r.gl.uniform1f(n.maxLoc,t)}},e}(),yo=function(){function e(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e,t){var n=this;return function(r,a){null==n.minLoc&&(n.minLoc=r.getUniformLocationNoThrow(a,"minVal"),n.maxLoc=r.getUniformLocationNoThrow(a,"maxVal")),r.gl.uniform1f(n.minLoc,e),r.gl.uniform1f(n.maxLoc,t)}},e}(),wo=function(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "},xo=function(e){this.outputShape=[],this.outputShape=wn(e,1),this.variableNames=e.map((function(e,t){return"T"+t}));var t=new Array(e.length-1);t[0]=e[0][1];for(var n=1;n<t.length;n++)t[n]=t[n-1]+e[n][1];var r=["if (yC < "+t[0]+") setOutput(getT0(yR, yC));"];for(n=1;n<t.length;n++){var a=t[n-1];r.push("else if (yC < "+t[n]+") setOutput(getT"+n+"(yR, yC-"+a+"));")}var o=t.length,i=t[t.length-1];r.push("else setOutput(getT"+o+"(yR, yC-"+i+"));"),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        "+r.join("\n        ")+"\n      }\n    "},Co=function(e,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=wn(e,t);var n=this.outputShape,r=n.length,a=to(r),o=Va("coords",r),i=["x","y","z","w","u","v"].slice(0,r);this.variableNames=e.map((function(e,t){return"T"+t}));var s=new Array(e.length-1);s[0]=e[0][t];for(var l=1;l<s.length;l++)s[l]=s[l-1]+e[l][t];var u=i[t],c=i.slice(-2),p=i.join(),d="if ("+u+" < "+s[0]+") {\n        return getChannel(\n            getT0("+p+"), vec2("+c.join()+"));\n        }";for(l=1;l<s.length;l++){var f=s[l-1];d+="\n        if ("+u+" < "+s[l]+"  && "+u+" >= "+s[l-1]+") {\n          return getChannel(\n            getT"+l+"("+Eo(i,u,f)+"),\n            vec2("+Eo(c,u,f)+"));\n        }"}var h=s.length,v=s[s.length-1];d+="\n        return getChannel(\n          getT"+h+"("+Eo(i,u,v)+"),\n          vec2("+Eo(c,u,v)+"));",this.userCode="\n      float getValue("+i.map((function(e){return"int "+e}))+") {\n        "+d+"\n      }\n\n      void main() {\n        "+a+" coords = getOutputCoords();\n        vec4 result = vec4(getValue("+o+"), 0., 0., 0.);\n\n        "+o[r-1]+" = "+o[r-1]+" + 1;\n        if ("+o[r-1]+" < "+n[r-1]+") {\n          result.g = getValue("+o+");\n        }\n\n        "+o[r-2]+" = "+o[r-2]+" + 1;\n        if ("+o[r-2]+" < "+n[r-2]+") {\n          result.a = getValue("+o+");\n        }\n\n        "+o[r-1]+" = "+o[r-1]+" - 1;\n        if ("+o[r-2]+" < "+n[r-2]+" &&\n            "+o[r-1]+" < "+n[r-1]+") {\n          result.b = getValue("+o+");\n        }\n        setOutput(result);\n      }\n    "};function Eo(e,t,n){var r=e.indexOf(t);return e.map((function(e,t){return t===r?e+" - "+n:e})).join()}var ko=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,a=e.padInfo.left,o="channelsLast"===e.dataFormat;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n            int xR = wR + yR * "+t+" - "+r+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n              int xC = wC + yC * "+n+" - "+a+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              if ("+o+") {\n                float dyValue = getDy(b, yR, yC, d2);\n                float xValue = getX(b, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              } else {\n                float dyValue = getDy(b, d2, yR, yC);\n                float xValue = getX(b, d1, xR, xC);\n                dotProd += (xValue * dyValue);\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},So=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,a=e.strideWidth,o="channelsLast"===e.dataFormat,i=t-1-e.padInfo.top,s=n-1-e.padInfo.left,l=o?1:2,u=o?2:3,c=o?3:1;this.userCode="\n      const ivec2 pads = ivec2("+i+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords["+c+"];\n\n        ivec2 dyCorner = ivec2(coords["+l+"], coords["+u+"]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+t+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+t+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+a+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            for (int d2 = 0; d2 < "+e.outChannels+"; d2++) {\n\n              if ("+o+") {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},To=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,a=e.padInfo.front,o=e.padInfo.top,i=e.padInfo.left;this.userCode="\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yF = 0; yF < "+e.outDepth+"; yF++) {\n            int xF = wF + yF * "+t+" - "+a+";\n\n            if (xF < 0 || xF >= "+e.inDepth+") {\n              continue;\n            }\n\n            for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n              int xR = wR + yR * "+n+" - "+o+";\n\n              if (xR < 0 || xR >= "+e.inHeight+") {\n                continue;\n              }\n\n              for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n                int xC = wC + yC * "+r+" - "+i+";\n\n                if (xC < 0 || xC >= "+e.inWidth+") {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Oo=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,a=e.strideDepth,o=e.strideHeight,i=e.strideWidth,s=t-1-e.padInfo.front,l=n-1-e.padInfo.top,u=r-1-e.padInfo.left;this.userCode="\n      const ivec3 pads = ivec3("+s+", "+l+", "+u+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < "+t+"; wF++) {\n          float dyF = float(dyFCorner + wF) / "+a+".0;\n\n          if (dyF < 0.0 || dyF >= "+e.outDepth+".0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = "+t+" - 1 - wF;\n\n          for (int wR = 0; wR < "+n+"; wR++) {\n            float dyR = float(dyRCorner + wR) / "+o+".0;\n\n            if (dyR < 0.0 || dyR >= "+e.outHeight+".0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = "+n+" - 1 - wR;\n\n            for (int wC = 0; wC < "+r+"; wC++) {\n              float dyC = float(dyCCorner + wC) / "+i+".0;\n\n              if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = "+r+" - 1 - wC;\n\n              for (int d2 = 0; d2 < "+e.outChannels+"; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Io=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,a=e.padInfo.left,o=e.outChannels/e.inChannels;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * "+o+" + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n            int xR = wR + yR * "+t+" - "+r+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n              int xC = wC + yC * "+n+" - "+a+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},No=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,a=e.strideWidth,o=t-1-e.padInfo.top,i=n-1-e.padInfo.left,s=e.outChannels/e.inChannels;this.userCode="\n      const ivec2 pads = ivec2("+o+", "+i+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < "+t+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+t+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+a+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < "+s+"; dm++) {\n              int d2 = d1 * "+s+" + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Ao=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.outputShape=e.outShape;var a=e.padInfo.top,o=e.padInfo.left,i=e.strideHeight,s=e.strideWidth,l=e.dilationHeight,u=e.dilationWidth,c=e.filterHeight,p=e.filterWidth,d=4*Math.floor(e.inChannels/4),f=e.inChannels%4,h="channelsLast"===e.dataFormat,v=h?1:2,m=h?2:3,g=h?3:1,b="",y="";n&&(b=r?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"\n          float activation(float x) {\n            "+n+"\n          }\n        ",y="result = activation(result);");var w=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+b+"\n\n      const ivec2 strides = ivec2("+i+", "+s+");\n      const ivec2 pads = ivec2("+a+", "+o+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords["+g+"];\n\n        ivec2 xRCCorner =\n            ivec2(coords["+v+"], coords["+m+"]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+c+"; wR++) {\n          int xR = xRCorner + wR * "+l+";\n\n          if (xR < 0 || xR >= "+e.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+p+"; wC++) {\n            int xC = xCCorner + wC * "+u+";\n\n            if (xC < 0 || xC >= "+e.inWidth+") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < "+d+"; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if ("+h+") {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if ("+(1===f)+") {\n\n              if ("+h+") {\n                dotProd +=\n                    getX(batch, xR, xC, "+d+") *\n                    getW(wR, wC, "+d+", d2);\n              } else {\n                dotProd +=\n                    getX(batch, "+d+", xR, xC) *\n                    getW(wR, wC, "+d+", d2);\n              }\n\n            } else if ("+(2===f)+") {\n              vec2 wValues = vec2(\n                getW(wR, wC, "+d+", d2),\n                getW(wR, wC, "+d+" + 1, d2)\n              );\n\n              if ("+h+") {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, "+d+"),\n                  getX(batch, xR, xC, "+d+" + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, "+d+", xR, xC),\n                  getX(batch, "+d+" + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if ("+(3===f)+") {\n              vec3 wValues = vec3(\n                getW(wR, wC, "+d+", d2),\n                getW(wR, wC, "+d+" + 1, d2),\n                getW(wR, wC, "+d+" + 2, d2)\n              );\n\n              if ("+h+") {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, "+d+"),\n                  getX(batch, xR, xC, "+d+" + 1),\n                  getX(batch, xR, xC, "+d+" + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, "+d+", xR, xC),\n                  getX(batch, "+d+" + 1, xR, xC),\n                  getX(batch, "+d+" + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        "+w+"\n        "+y+"\n        setOutput(result);\n      }\n    "},_o=function(e){this.variableNames=["x","W"],this.outputShape=e.outShape;var t=e.padInfo.front,n=e.padInfo.top,r=e.padInfo.left,a=e.strideDepth,o=e.strideHeight,i=e.strideWidth,s=e.dilationDepth,l=e.dilationHeight,u=e.dilationWidth,c=e.filterDepth,p=e.filterHeight,d=e.filterWidth,f=4*Math.floor(e.inChannels/4),h=e.inChannels%4;this.userCode="\n      const ivec3 strides = ivec3("+a+", "+o+", "+i+");\n      const ivec3 pads = ivec3("+t+", "+n+", "+r+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < "+c+"; wF++) {\n          int xF = xFCorner + wF * "+s+";\n\n          if (xF < 0 || xF >= "+e.inDepth+") {\n            continue;\n          }\n\n          for (int wR = 0; wR < "+p+"; wR++) {\n            int xR = xRCorner + wR * "+l+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+d+"; wC++) {\n              int xC = xCCorner + wC * "+u+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < "+f+"; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if ("+(1===h)+") {\n                dotProd +=\n                  getX(batch, xF, xR, xC, "+f+") *\n                  getW(wF, wR, wC, "+f+", d2);\n              } else if ("+(2===h)+") {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, "+f+"),\n                  getX(batch, xF, xR, xC, "+f+" + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, "+f+", d2),\n                  getW(wF, wR, wC, "+f+" + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if ("+(3===h)+") {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, "+f+"),\n                  getX(batch, xF, xR, xC, "+f+" + 1),\n                  getX(batch, xF, xR, xC, "+f+" + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, "+f+", d2),\n                  getW(wF, wR, wC, "+f+" + 1, d2),\n                  getW(wF, wR, wC, "+f+" + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Ro=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.outputShape=e.outShape;var a=e.inHeight,o=e.inWidth,i=e.padInfo.top,s=e.padInfo.left,l=e.strideHeight,u=e.strideWidth,c=e.dilationHeight,p=e.dilationWidth,d=e.filterHeight,f=e.filterWidth,h=e.outChannels/e.inChannels,v="",m="";n&&(v=r?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"\n          float activation(float x) {\n            "+n+"\n          }\n        ",m="result = activation(result);");var g=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+v+"\n\n      const ivec2 strides = ivec2("+l+", "+u+");\n      const ivec2 pads = ivec2("+i+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / "+h+";\n        int q = d2 - d1 * "+h+";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < "+d+"; wR++) {\n          int xR = xRCorner + wR * "+c+";\n\n          if (xR < 0 || xR >= "+a+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+f+"; wC++) {\n            int xC = xCCorner + wC * "+p+";\n\n            if (xC < 0 || xC >= "+o+") {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        "+g+"\n        "+m+"\n        setOutput(result);\n      }\n    "},Mo=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e.outShape;for(var a=e.inHeight,o=e.inWidth,i=e.padInfo.top,s=e.padInfo.left,l=e.strideHeight,u=e.strideWidth,c=e.dilationHeight,p=e.dilationWidth,d=e.filterHeight,f=e.filterWidth,h=f,v="int xR; int xC; int xCOffset;",m=0;m<d;m++)for(var g=0;g<f;g++)v+="\n          vec4 xTexelR"+m+"C"+2*g+" = vec4(0.);\n          vec4 wR"+m+"C"+g+" = vec4(0.);\n          vec4 xR"+m+"C"+g+" = vec4(0.);";for(m=0;m<d;m++)for(var b=0;b<h;b++){if(v+="\n          xR = xRCorner + "+m*c+";\n          xC = xCCorner + "+(g=2*b)*p+";\n        ",1===u){if(g<f&&(v+=s%2==1?"\n                xCOffset = xC + 1;\n                if(xR >= 0 && xR < "+a+" && xCOffset >= 0 && xCOffset < "+o+") {\n                  xTexelR"+m+"C"+g+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+m+"C"+g+" = vec4(0.);\n                }\n\n                xCOffset = xC + 1 - 2;\n                if(xR >= 0 && xR < "+a+" && xCOffset >= 0 && xCOffset < "+o+") {\n                  vec4 previous = getX(batch, xR, xCOffset, d1);\n                  xR"+m+"C"+g+" = vec4(previous.zw, xTexelR"+m+"C"+g+".xy);\n                } else {\n                  xR"+m+"C"+g+" = vec4(0, 0, xTexelR"+m+"C"+g+".xy);\n                }\n              ":"\n                if(xR >= 0 && xR < "+a+" && xC >= 0 && xC < "+o+") {\n                  xTexelR"+m+"C"+g+" = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR"+m+"C"+g+" = vec4(0.);\n                }\n\n                xR"+m+"C"+g+" = xTexelR"+m+"C"+g+";\n              ",g+1<f)){var w=s%2==0?y(p):p;p%2==0&&s%2==1||p%2!=0&&s%2!=1?(v+="\n                  xCOffset = xC + "+s%2+" + "+w+";\n\n                  if(xR >= 0 && xR < "+a+" &&\n                    xCOffset >= 0 && xCOffset < "+o+") {\n                    xTexelR"+m+"C"+(g+2)+" = getX(batch, xR, xCOffset, d1);\n                  }\n                ",p>1&&(v+="\n                    xCOffset -= 2;\n                    if(xR >= 0 && xR < "+a+" &&\n                      xCOffset >= 0 && xCOffset < "+o+") {\n                      xTexelR"+m+"C"+g+" = getX(batch, xR, xCOffset, d1);\n                    } else {\n                      xTexelR"+m+"C"+g+" = vec4(0.);\n                    }\n                  "),v+="\n                  xR"+m+"C"+(g+1)+" = vec4(\n                    xTexelR"+m+"C"+g+".zw, xTexelR"+m+"C"+(g+2)+".xy);\n                "):v+="\n                  xCOffset = xC + "+w+";\n\n                  if(xR >= 0 && xR < "+a+" &&\n                    xCOffset >= 0 && xCOffset < "+o+") {\n                    xTexelR"+m+"C"+(g+2)+" = getX(batch, xR, xCOffset, d1);\n                  }\n\n                  xR"+m+"C"+(g+1)+" = xTexelR"+m+"C"+(g+2)+";\n                "}}else g<f&&(v+="\n              if(xR >= 0 && xR < "+a+") {\n            ",s%2==1?(v+="\n                xCOffset = xC + 1 - "+u+";\n                if(xCOffset >= 0 && xCOffset < "+o+") {\n                  xTexelR"+m+"C"+g+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+m+"C"+g+" = vec4(0.);\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < "+o+") {\n                  xTexelR"+m+"C"+(g+2)+" = getX(batch, xR, xC + 1, d1);\n                } else {\n                  xTexelR"+m+"C"+(g+2)+" = vec4(0.);\n                }\n\n                xR"+m+"C"+g+" = vec4(\n                  xTexelR"+m+"C"+g+".zw, xTexelR"+m+"C"+(g+2)+".zw);\n              ",g+1<f&&(v+="\n                  vec4 final = vec4(0.);\n                  xCOffset = xC + 1 + "+u+";\n                  if(xCOffset >= 0 && xCOffset < "+o+") {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xR"+m+"C"+(g+1)+" = vec4(xTexelR"+m+"C"+(g+2)+".xy, final.xy);\n                ")):(v+="\n                if(xC >= 0 && xC < "+o+") {\n                  xTexelR"+m+"C"+g+" = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR"+m+"C"+g+" = vec4(0.);\n                }\n\n                xCOffset = xC + "+u+";\n                if(xCOffset >= 0 && xCOffset < "+o+") {\n                  xTexelR"+m+"C"+(g+2)+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+m+"C"+(g+2)+" = vec4(0.);\n                }\n\n                xR"+m+"C"+g+" = vec4(\n                  xTexelR"+m+"C"+g+".xy, xTexelR"+m+"C"+(g+2)+".xy);\n              ",g+1<f&&(v+="\n                  xR"+m+"C"+(g+1)+" = vec4(\n                    xTexelR"+m+"C"+g+".zw, xTexelR"+m+"C"+(g+2)+".zw);\n                ")),v+="}");g<f&&(v+="\n            vec4 wTexelR"+m+"C"+g+" = getW("+m+", "+g+", d1, q);\n            wR"+m+"C"+g+" = vec4(wTexelR"+m+"C"+g+".xz, wTexelR"+m+"C"+g+".xz);\n          ",g+1<f&&(v+="\n              vec4 wTexelR"+m+"C"+(g+1)+" = getW("+m+", "+(g+1)+", d1, q);\n              wR"+m+"C"+(g+1)+" =\n                vec4(wTexelR"+m+"C"+(g+1)+".xz, wTexelR"+m+"C"+(g+1)+".xz);"))}for(m=0;m<d;m++)for(g=0;g<f;g++)v+="dotProd += xR"+m+"C"+g+" * wR"+m+"C"+g+";";var x="",C="";n&&(x=r?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"vec4 activation(vec4 x) {\n          "+n+"\n        }",C="result = activation(result);");var E=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+x+"\n\n      const ivec2 strides = ivec2("+l+", "+u+");\n      const ivec2 pads = ivec2("+i+", "+s+");\n\n      void main() {\n\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2;\n        int q = 0;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        vec4 dotProd = vec4(0.);\n\n        "+v+"\n\n        vec4 result = dotProd;\n        "+E+"\n        "+C+"\n        setOutput(result);\n      }\n    "},Po=function(e,t,n,r,a){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var o=e[0],i=e[1],s=e[2],l=e[3],u=t[0],c=n[0],p=n[1];this.outputShape=[u,c,p,l];var d="bilinear"===r?1:0,f=[i-1+".0",s-1+".0"],h=f[0],v=f[1],m=c>1?[""+(i-1)/(c-1),"(y2-y1) * height_ratio","y1*"+h+" + float(y)*(height_scale)"]:["0.0","0.0","0.5 * (y1+y2) * "+h],g=m[0],b=m[1],y=m[2],w=p>1?[""+(s-1)/(p-1),"(x2-x1) * width_ratio","x1*"+v+" + float(x)*(width_scale)"]:["0.0","0.0","0.5 * (x1+x2) * "+v],x=w[0],C=w[1],E=w[2];this.userCode="\n      const float height_ratio = float("+g+");\n      const float width_ratio = float("+x+");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= "+o+") {\n          return;\n        }\n\n        float height_scale = "+b+";\n        float width_scale = "+C+";\n\n        float in_y = "+y+";\n        if( in_y < 0.0 || in_y > "+h+" ) {\n          setOutput(float("+a+"));\n          return;\n        }\n        float in_x = "+E+";\n        if( in_x < 0.0 || in_x > "+v+" ) {\n          setOutput(float("+a+"));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if("+d+" == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    "},Do=function(e,t,n){this.variableNames=["x"],this.outputShape=e;var r=e.length,a=e[e.length-1],o=n?"<":">";this.userCode="\n      int getIndex(int i) {\n        "+(n?"return "+a+" -i - 1;":"return i;")+"\n      }\n\n      void main() {\n        "+to(r)+" coords = getOutputCoords();\n        int end = "+Bo(r,"coords")+";\n        float val = 0.0;\n        for (int i = "+a+" - 1; i >= 0; i -= 1) {\n          int idx = getIndex(i);\n          if (idx "+o+" end) {\n            continue;\n          }\n          if (idx == end && "+t+") {\n            continue;\n          }\n          "+Bo(r,"coords")+" = idx;\n          val += getX("+function(e,t){if(1===e)return""+t;if(2===e)return t+".x, "+t+".y";if(3===e)return t+".x, "+t+".y, "+t+".z";if(4===e)return t+".x, "+t+".y, "+t+".z, "+t+".w";throw Error("Cumulative sum for rank "+e+" is not yet supported")}(r,"coords")+");\n        }\n        setOutput(val);\n      }\n    "};function Bo(e,t){if(1===e)return""+t;if(2===e)return t+".y";if(3===e)return t+".z";if(4===e)return t+".w";throw Error("Cumulative sum for rank "+e+" is not yet supported")}var Lo=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=De.DENSE;var t=We(e),n=ja();this.outputShape=e,this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        "+Ha(["r","c","d"],e)+"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2("+t[0]+", "+t[1]+"));\n        int index = 4 * (resTexRC.x * "+t[1]+" + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        "+n.output+" = result;\n      }\n    "},zo=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=De.DENSE;var t=We(e),n=ja();this.outputShape=e,this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        "+Ha(["r","c","d"],e)+"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2("+t[0]+", "+t[1]+"));\n        int index = 4 * (resTexRC.x * "+t[1]+" + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        "+n.output+" = result;\n      }\n    "},Fo=function(){function e(e,t,n){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=t,this.dataFormat=n,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = "+this.getHeightCoordString()+";\n      int w = "+this.getWidthCoordString()+";\n      int d = "+this.getDepthCoordString()+";\n\n      int in_h = h / "+t+";\n      int offset_h = imod(h, "+t+");\n      int in_w = w / "+t+";\n      int offset_w = imod(w, "+t+");\n      int offset_d = (offset_h * "+t+" + offset_w) *\n        "+this.getOutputDepthSize()+";\n      int in_d = d + offset_d;\n\n      float result = "+this.getInputSamplingString()+";\n      setOutput(result);\n    }\n  "}return e.prototype.getHeightCoordString=function(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"},e.prototype.getWidthCoordString=function(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"},e.prototype.getDepthCoordString=function(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"},e.prototype.getOutputDepthSize=function(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]},e.prototype.getInputSamplingString=function(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"},e}(),$o=function(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "},Vo=function(e){this.variableNames=["A"],this.outTexUsage=Be.DOWNLOAD;var t=ja();this.outputShape=e,this.userCode="\n      "+Ua+"\n\n      void main() {\n        float x = getAAtOutCoords();\n        "+t.output+" = encode_float(x);\n      }\n    "},jo=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=Be.DOWNLOAD;var t=ja();this.outputShape=e,this.userCode="\n      "+Ua+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        "+t.output+" = encode_float(x);\n      }\n    "},Ho=function(e,t,n){void 0===n&&(n=!1),this.variableNames=["A"];var r=ja(),a=t[0],o=t[1];this.outputShape=e;var i="result";n&&(i="floor(result * 255. + 0.5)"),this.userCode="\n      "+Wa(e)+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex = idiv(flatIndex, 4, 1.);\n        \n        int r = flatIndex / "+o+";\n        int c = imod(flatIndex, "+o+");\n        vec2 uv = (vec2(c, r) + halfCR) / vec2("+o+".0, "+a+".0);\n        vec4 values = "+r.texture2D+"(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        "+r.output+" = vec4("+i+", 0., 0., 0.);\n      }\n    "},Wo=function(e,t,n){void 0===n&&(n=!1),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var r=ja(),a=t[0],o=t[1];this.outputShape=e;var i="",s="result";n&&(s="floor(result * 255. + 0.5)");for(var l=0;l<=1;l++)for(var u=0;u<=1;u++){var c=2*l+u;i+="\n          localCoords = coords;\n          if(localCoords[2] + "+u+" < "+e[2]+") {\n            localCoords[2] += "+u+";\n            if(localCoords[1] + "+l+" < "+e[1]+") {\n              localCoords[1] += "+l+";\n\n              flatIndex = getFlatIndex(localCoords);\n              offset = imod(flatIndex, 4);\n\n              flatIndex = idiv(flatIndex, 4, 1.);\n\n              r = flatIndex / "+o+";\n              c = imod(flatIndex, "+o+");\n              uv = (vec2(c, r) + halfCR) / vec2("+o+".0, "+a+".0);\n              values = "+r.texture2D+"(A, uv);\n\n              if(offset == 0) {\n                result["+c+"] = values[0];\n              } else if(offset == 1) {\n                result["+c+"] = values[1];\n              } else if(offset == 2) {\n                result["+c+"] = values[2];\n              } else {\n                result["+c+"] = values[3];\n              }\n            }\n          }\n        "}this.userCode="\n      "+Wa(e)+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        vec4 result = vec4(0.);\n        int flatIndex, r, c, offset;\n        ivec3 localCoords;\n        vec2 uv;\n        vec4 values;\n\n        "+i+"\n\n        "+r.output+" = "+s+";\n      }\n    "},Uo=function(e,t,n){this.variableNames=["real","imag"];var r=t[1];this.outputShape=t;var a=n?"2.0 * "+Math.PI:"-2.0 * "+Math.PI,o=n?r+".0":"1.0";this.userCode="\n      const float exponentMultiplier = "+a+";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        "+e+"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float("+r+");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < "+r+"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / "+o+";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    "},qo=function(){function e(e,t){this.outputShape=[],this.variableNames=["x"],this.outputShape=e,this.userCode="\n      uniform float value;\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;return function(n,r){null==t.valueLoc&&(t.valueLoc=n.getUniformLocationNoThrow(r,"value")),n.gl.uniform1f(t.valueLoc,e)}},e}(),Go=function(e){this.variableNames=["A"];var t=ja(),n=e[0],r=e[1];this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+r+".0, "+n+".0);\n\n        vec4 values = "+t.texture2D+"(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    "},Xo=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var t=ja(),n=e[0],r=e[1];this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2("+r+".0, "+n+".0);\n            vec4 values = "+t.texture2D+"(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        "+t.output+" = result;\n      }\n    "},Yo=function(e,t,n){this.variableNames=["A","indices"];var r=e.slice();r[n]=t,this.outputShape=r,this.rank=r.length;var a=to(this.rank),o=function(e,t){var n=e.length;if(n>4)throw Error("Gather for rank "+n+" is not yet supported");if(1===n)return"int(getIndices(resRC))";for(var r=["resRC.x","resRC.y","resRC.z","resRC.w"],a=[],o=0;o<e.length;o++)o===t?a.push("int(getIndices("+r[o]+"))"):a.push(""+r[o]);return a.join()}(e,n);this.userCode="\n      void main() {\n        "+a+" resRC = getOutputCoords();\n        setOutput(getA("+o+"));\n      }\n    "},Ko=function(e,t,n){this.sliceDim=e,this.strides=t,this.variableNames=["x","indices"],this.outputShape=n;var r=to(t.length),a=to(n.length),o=this.sliceDim>1?"strides[j]":"strides";this.userCode="\n        "+r+" strides = "+r+"("+this.strides+");\n         void main() {\n          "+a+" coords = getOutputCoords();\n          int flattenIndex = 0;\n          for (int j = 0; j < "+this.sliceDim+"; j++) {\n            int index = round(getIndices(coords[0], j));\n            flattenIndex += index * "+o+";\n          }\n          setOutput(getX(flattenIndex, coords[1]));\n        }\n      "};function Jo(e,t){var n=ja();return Je(e,t,n.version+"\n    precision highp float;\n    "+n.attribute+" vec3 clipSpacePos;\n    "+n.attribute+" vec2 uv;\n    "+n.varyingVs+" vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }")}function Qo(e,t){return ot(e,t,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function Zo(e,t){return it(e,t,new Uint16Array([0,1,2,2,1,3]))}function ei(e,t,n,r,a,o,i){lt(n,r);var s=st(e,t),l=e.TEXTURE_2D;return Ge(e,t,(function(){return e.bindTexture(l,s)})),Ge(e,t,(function(){return e.texParameteri(l,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)})),Ge(e,t,(function(){return e.texParameteri(l,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)})),Ge(e,t,(function(){return e.texParameteri(l,e.TEXTURE_MIN_FILTER,e.NEAREST)})),Ge(e,t,(function(){return e.texParameteri(l,e.TEXTURE_MAG_FILTER,e.NEAREST)})),Ge(e,t,(function(){return e.texImage2D(l,0,a,n,r,0,o,i,null)})),Ge(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,null)})),s}function ti(e,t,n,r,a){var o=He(n,r);return ei(e,t,o[0],o[1],a.internalFormatFloat,a.textureFormatFloat,e.FLOAT)}function ni(e,t,n,r,a){var o=He(n,r);return ei(e,t,o[0],o[1],a.internalFormatHalfFloat,a.textureFormatFloat,a.textureTypeHalfFloat)}function ri(e,t,n,r,a){var o=He(n,r);return ei(e,t,o[0],o[1],e.RGBA,e.RGBA,e.UNSIGNED_BYTE)}function ai(e,t,n,r,a){var o=Ue(n,r);return ei(e,t,o[0],o[1],a.internalFormatPackedFloat,e.RGBA,e.FLOAT)}function oi(e,t,n,r,a){var o=Ue(n,r);return ei(e,t,o[0],o[1],a.internalFormatPackedHalfFloat,e.RGBA,a.textureTypeHalfFloat)}function ii(e,t,n,r){return Ge(e,t,(function(){return e.bindBuffer(e.ARRAY_BUFFER,r)})),ct(e,t,n,"clipSpacePos",r,3,20,0)&&ct(e,t,n,"uv",r,2,20,12)}function si(e,t,n,r,a,o,i){var s,l,u;Ge(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,n)})),o instanceof Uint8Array?(s=new Uint8Array(r*a*4),l=e.UNSIGNED_BYTE,u=e.RGBA):(s=new Float32Array(r*a*4),l=e.FLOAT,u=i.internalFormatPackedFloat),s.set(o),Ge(e,t,(function(){return e.texImage2D(e.TEXTURE_2D,0,u,r,a,0,e.RGBA,l,s)})),Ge(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}function li(e,t,n,r){Ge(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,n)})),r.data instanceof Uint8Array?Ge(e,t,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,r.width,r.height,0,e.RGBA,e.UNSIGNED_BYTE,r.data)})):Ge(e,t,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r)})),Ge(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}function ui(e,t,n,r,a){var o=e.createBuffer();Ge(e,t,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,o)}));var i=16*n*r;return Ge(e,t,(function(){return e.bufferData(e.PIXEL_PACK_BUFFER,i,e.STREAM_READ)})),Ge(e,t,(function(){return e.readPixels(0,0,r,n,e.RGBA,e.FLOAT,0)})),Ge(e,t,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,null)})),o}function ci(e,t,n){var r=e,a=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,a),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),a}function pi(e,t,n,r,a){var o=He(n,r),i=o[0],s=o[1],l=new Uint8Array(n*r*4);return Ge(e,t,(function(){return e.readPixels(0,0,i,s,a.downloadTextureFormat,e.UNSIGNED_BYTE,l)})),new Float32Array(l.buffer)}function di(e,t,n,r,a,o,i,s){var l=e,u=new Float32Array(function(e,t){var n=Ue(e,t);return n[0]*n[1]*4}(o,i));return l.bindBuffer(l.PIXEL_PACK_BUFFER,t),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,u),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),u}function fi(e,t,n,r){var a=new Float32Array(n*r*4);return Ge(e,t,(function(){return e.readPixels(0,0,r,n,e.RGBA,e.FLOAT,a)})),a}var hi=Object.freeze({createVertexShader:Jo,createVertexBuffer:Qo,createIndexBuffer:Zo,createFloat32MatrixTexture:ti,createFloat16MatrixTexture:ni,createUnsignedBytesMatrixTexture:ri,createPackedMatrixTexture:ai,createFloat16PackedMatrixTexture:oi,bindVertexProgramAttributeStreams:ii,uploadDenseMatrixToTexture:si,uploadPixelDataToTexture:li,createBufferFromOutputTexture:ui,downloadFloat32MatrixFromBuffer:ci,downloadByteEncodedFloatMatrixFromOutputTexture:pi,downloadPackedMatrixFromBuffer:di,downloadMatrixFromPackedOutputTexture:fi}),vi=function(){function e(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var t=u().getNumber("WEBGL_VERSION");if(null!=e?(this.gl=e,$e(t,e)):this.gl=Ve(t),1===u().getNumber("WEBGL_VERSION"))this.textureFloatExtension=Ke(this.gl,this.debug,"OES_texture_float"),this.colorBufferFloatExtension=this.gl.getExtension("WEBGL_color_buffer_float"),this.textureHalfFloatExtension=Ke(this.gl,this.debug,"OES_texture_half_float"),this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float");else if(At(this.gl,"EXT_color_buffer_float"))this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float");else{if(!At(this.gl,"EXT_color_buffer_half_float"))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float")}this.vertexBuffer=Qo(this.gl,this.debug),this.indexBuffer=Zo(this.gl,this.debug),this.framebuffer=ut(this.gl,this.debug),this.textureConfig=qe(this.gl,this.textureHalfFloatExtension)}return Object.defineProperty(e.prototype,"debug",{get:function(){return u().getBool("DEBUG")},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){var e=this;if(!this.disposed){null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var t=this.gl;Ge(t,this.debug,(function(){return t.finish()})),Ge(t,this.debug,(function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)})),Ge(t,this.debug,(function(){return t.deleteFramebuffer(e.framebuffer)})),Ge(t,this.debug,(function(){return t.bindBuffer(t.ARRAY_BUFFER,null)})),Ge(t,this.debug,(function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)})),Ge(t,this.debug,(function(){return t.deleteBuffer(e.indexBuffer)})),this.disposed=!0}},e.prototype.createFloat32MatrixTexture=function(e,t){return this.throwIfDisposed(),ti(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.createFloat16MatrixTexture=function(e,t){return this.throwIfDisposed(),ni(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.createUnsignedBytesMatrixTexture=function(e,t){return this.throwIfDisposed(),ri(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.uploadPixelDataToTexture=function(e,t){this.throwIfDisposed(),li(this.gl,this.debug,e,t)},e.prototype.uploadDenseMatrixToTexture=function(e,t,n,r){this.throwIfDisposed(),si(this.gl,this.debug,e,t,n,r,this.textureConfig)},e.prototype.createFloat16PackedMatrixTexture=function(e,t){return this.throwIfDisposed(),oi(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.createPackedMatrixTexture=function(e,t){return this.throwIfDisposed(),ai(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.deleteMatrixTexture=function(e){var t=this;this.throwIfDisposed(),this.outputTexture===e&&(mt(this.gl,this.debug,this.framebuffer),this.outputTexture=null),Ge(this.gl,this.debug,(function(){return t.gl.deleteTexture(e)}))},e.prototype.downloadByteEncodedFloatMatrixFromOutputTexture=function(e,t,n){var r=this;return this.downloadMatrixDriver(e,(function(){return pi(r.gl,r.debug,t,n,r.textureConfig)}))},e.prototype.downloadPackedMatrixFromBuffer=function(e,t,n,r,a,o){return di(this.gl,e,0,0,0,a,o,this.textureConfig)},e.prototype.downloadFloat32MatrixFromBuffer=function(e,t){return ci(this.gl,e,t)},e.prototype.createBufferFromTexture=function(e,t,n){this.bindTextureToFrameBuffer(e);var r=ui(this.gl,this.debug,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r},e.prototype.createAndWaitForFence=function(){var e=this.createFence(this.gl);return this.pollFence(e)},e.prototype.createFence=function(e){var t,n,r=this;if(u().getBool("WEBGL_FENCE_API_ENABLED")){var a=e,o=a.fenceSync(a.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=function(){var e=a.clientWaitSync(o,0,0);return e===a.ALREADY_SIGNALED||e===a.CONDITION_SATISFIED},t=o}else u().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=function(){return r.isQueryAvailable(t,u().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):n=function(){return!0};return{query:t,isFencePassed:n}},e.prototype.downloadMatrixFromPackedTexture=function(e,t,n){var r=this;return this.downloadMatrixDriver(e,(function(){return fi(r.gl,r.debug,t,n)}))},e.prototype.createProgram=function(e){this.throwIfDisposed();var t=this.gl,n=Qe(t,this.debug,e),r=Jo(t,this.debug),a=nt(t,this.debug);return Ge(t,this.debug,(function(){return t.attachShader(a,r)})),Ge(t,this.debug,(function(){return t.attachShader(a,n)})),rt(t,this.debug,a),this.debug&&at(t,this.debug,a),this.vertexAttrsAreBound||(this.setProgram(a),this.vertexAttrsAreBound=ii(t,this.debug,this.program,this.vertexBuffer)),a},e.prototype.deleteProgram=function(e){var t=this;this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&Ge(this.gl,this.debug,(function(){return t.gl.deleteProgram(e)}))},e.prototype.setProgram=function(e){var t=this;this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&at(this.gl,this.debug,this.program),Ge(this.gl,this.debug,(function(){return t.gl.useProgram(e)}))},e.prototype.getUniformLocation=function(e,t,n){return void 0===n&&(n=!0),this.throwIfDisposed(),n?dt(this.gl,this.debug,e,t):ft(this.gl,e,t)},e.prototype.getAttributeLocation=function(e,t){var n=this;return this.throwIfDisposed(),Ge(this.gl,this.debug,(function(){return n.gl.getAttribLocation(e,t)}))},e.prototype.getUniformLocationNoThrow=function(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)},e.prototype.setInputMatrixTexture=function(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),ht(this.gl,this.debug,this.program,e,t,n)},e.prototype.setOutputMatrixTexture=function(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)},e.prototype.setOutputPackedMatrixTexture=function(e,t,n){this.throwIfDisposed();var r=Ue(t,n),a=r[0],o=r[1];this.setOutputMatrixTextureDriver(e,a,o)},e.prototype.setOutputMatrixWriteRegion=function(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t)},e.prototype.setOutputPackedMatrixWriteRegion=function(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")},e.prototype.debugValidate=function(){null!=this.program&&at(this.gl,this.debug,this.program),gt(this.gl)},e.prototype.executeProgram=function(){this.throwIfDisposed(),this.throwIfNoProgram();var e=this.gl;this.debug&&this.debugValidate(),Ge(e,this.debug,(function(){return e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)}))},e.prototype.blockUntilAllProgramsCompleted=function(){var e=this;this.throwIfDisposed(),Ge(this.gl,this.debug,(function(){return e.gl.finish()}))},e.prototype.getQueryTimerExtension=function(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=Ke(this.gl,this.debug,2===u().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension},e.prototype.getQueryTimerExtensionWebGL2=function(){return this.getQueryTimerExtension()},e.prototype.getQueryTimerExtensionWebGL1=function(){return this.getQueryTimerExtension()},e.prototype.beginQuery=function(){if(2===u().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}var r=this.getQueryTimerExtensionWebGL1(),a=r.createQueryEXT();return r.beginQueryEXT(r.TIME_ELAPSED_EXT,a),a},e.prototype.endQuery=function(){if(2!==u().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}else{var t=this.gl,n=this.getQueryTimerExtensionWebGL2();t.endQuery(n.TIME_ELAPSED_EXT)}},e.prototype.waitForQueryAndGetTime=function(e){return i(this,void 0,void 0,(function(){var t=this;return s(this,(function(n){switch(n.label){case 0:return[4,_((function(){return t.disposed||t.isQueryAvailable(e,u().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}))];case 1:return n.sent(),[2,this.getQueryTime(e,u().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))]}}))}))},e.prototype.getQueryTime=function(e,t){if(0===t)return null;if(2===t){var n=this.gl;return n.getQueryParameter(e,n.QUERY_RESULT)/1e6}var r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(e,r.QUERY_RESULT_EXT)/1e6},e.prototype.isQueryAvailable=function(e,t){if(0===t)return!0;if(2===t){var n=this.gl,r=this.getQueryTimerExtensionWebGL2(),a=n.getQueryParameter(e,n.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),a&&!this.disjoint}return a=(r=this.getQueryTimerExtensionWebGL1()).getQueryObjectEXT(e,r.QUERY_RESULT_AVAILABLE_EXT),null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),a&&!this.disjoint},e.prototype.pollFence=function(e){var t=this;return new Promise((function(n){t.addItemToPoll((function(){return e.isFencePassed()}),(function(){return n()}))}))},e.prototype.pollItems=function(){for(var e=function(e){for(var t=0;t<e.length;++t){if(!e[t]())break}return t-1}(this.itemsToPoll.map((function(e){return e.isDoneFn}))),t=0;t<=e;++t)(0,this.itemsToPoll[t].resolveFn)();this.itemsToPoll=this.itemsToPoll.slice(e+1)},e.prototype.addItemToPoll=function(e,t){var n=this;this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1||_((function(){return n.pollItems(),0===n.itemsToPoll.length}))},e.prototype.bindTextureToFrameBuffer=function(e){this.throwIfDisposed(),vt(this.gl,this.debug,e,this.framebuffer),this.debug&&gt(this.gl)},e.prototype.unbindTextureToFrameBuffer=function(){null!=this.outputTexture?(vt(this.gl,this.debug,this.outputTexture,this.framebuffer),this.debug&&gt(this.gl)):mt(this.gl,this.debug,this.framebuffer)},e.prototype.downloadMatrixDriver=function(e,t){this.bindTextureToFrameBuffer(e);var n=t();return this.unbindTextureToFrameBuffer(),n},e.prototype.setOutputMatrixTextureDriver=function(e,t,n){this.throwIfDisposed();var r=this.gl;vt(r,this.debug,e,this.framebuffer),this.debug&&gt(r),this.outputTexture=e,Ge(r,this.debug,(function(){return r.viewport(0,0,t,n)})),Ge(r,this.debug,(function(){return r.scissor(0,0,t,n)}))},e.prototype.setOutputMatrixWriteRegionDriver=function(e,t,n,r){var a=this;this.throwIfDisposed(),Ge(this.gl,this.debug,(function(){return a.gl.scissor(e,t,n,r)}))},e.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")},e.prototype.throwIfNoProgram=function(){if(null==this.program)throw new Error("No GPU program is currently set.")},e}();function mi(e,t){if(e.length!==t.length)throw Error("Binary was compiled with "+e.length+" inputs, but was executed with "+t.length+" inputs");e.forEach((function(e,n){var r=e.logicalShape,a=t[n],o=a.shape;if(!T(r,o))throw Error("Binary was compiled with different shapes than the current args. Shapes "+r+" and "+o+" must match");if(!e.isUniform||!a.isUniform){var i=e.texShape,s=a.isUniform?null:a.texData.texShape;if(!T(i,s))throw Error("Binary was compiled with different texture shapes than the current args. Shape "+i+" and "+s+" must match")}}))}var gi=function(e,t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var r=n.filterWidth,a=n.inChannels,o=n.strideWidth,i=n.strideHeight,s=n.padInfo,l=n.outWidth,u=n.dilationWidth,c=n.dilationHeight,p=n.dataFormat,d=s.left,f=s.top,h=a*r,v=ja(),m="channelsLast"===p,g=m?0:1,b=m?1:2,y="",w=0;w<=1;w++)for(var x=0;x<=1;x++)y+="\n          blockIndex = rc.y + "+x+";\n          pos = rc.x + "+w+";\n\n          if(blockIndex < "+e[1]+" && pos < "+e[0]+") {\n            offsetY = int(blockIndex / ("+l+")) * "+i+" - "+f+";\n            d0 = offsetY + "+c+" * (pos / "+h+");\n\n            if(d0 < "+t[g]+" && d0 >= 0) {\n\n              offsetX = int(mod(float(blockIndex), "+l+".) * "+o+". - "+d+".);\n              d1 = offsetX + "+u+" * (int(mod(float(pos), "+h+".) / "+a+".));\n\n              if(d1 < "+t[b]+" && d1 >= 0) {\n\n                ch = int(mod(float(pos), "+a+".));\n\n                if ("+m+") {\n                  innerDims = vec2(d1, ch);\n                  result["+(2*w+x)+"] = getChannel(\n                    getA(d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result["+(2*w+x)+"] = getChannel(\n                    getA(ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        ";this.userCode="\n      void main() {\n        ivec2 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        "+y+"\n\n        "+v.output+" = result;\n      }\n    "},bi=function(e,t,n,r,a){this.variableNames=["x"],this.outputShape=[];var o,i=t,s=e[3]-1;this.outputShape=e;var l="float("+n+") + float("+r+") * sum";o=.5===a?"inversesqrt("+l+")":1===a?"1.0/("+l+")":"exp(log("+l+") * float(-"+a+"));",this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -"+i+"; j <= "+i+"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  "+s+") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * "+o+";\n        setOutput(val);\n      }\n    "},yi=function(e,t,n,r,a){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=n,this.alpha=r,this.beta=a,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < "+this.depth+"; ++d) {\n          int depthBegin = int(max(0.0, float(d - "+t+")));\n          int depthEnd = int(min(float("+this.depth+"),\n              float(d + "+t+" + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = "+this.depth+";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float("+r+") * norm + float("+n+");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float("+r+")\n                * float("+a+")\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * "+a+");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    "},wi=function(e,t,n,r,a){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var o,i=t,s=e[3]-1;this.outputShape=e;var l="float("+n+") + float("+r+") * sum";o=.5===a?"inversesqrt("+l+")":1===a?"1.0/("+l+")":"exp(log("+l+") * float(-"+a+"));",this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < "+this.outputShape[3]+";\n        bool hasNextRow = c < "+this.outputShape[2]+";\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - "+i+";\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - "+i+"; j <= "+i+"; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2("+s+"));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * "+o+";\n        setOutput(result);\n      }\n    "},xi=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.strideHeight,n=e.strideWidth,r=e.dilationHeight,a=e.effectiveFilterHeight,o=e.effectiveFilterWidth,i=a-1-e.padInfo.top,s=o-1-e.padInfo.left,l=a*o-1;this.userCode="\n      const ivec2 pads = ivec2("+i+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+a+";\n          wR += "+r+") {\n          float dyR = float(dyRCorner + wR) / "+t+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+o+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+n+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = "+l+" - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * "+o+" + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Ci=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,a=e.dilationDepth,o=e.dilationHeight,i=e.dilationWidth,s=e.effectiveFilterDepth,l=e.effectiveFilterHeight,u=e.effectiveFilterWidth,c=s-1-e.padInfo.front,p=l-1-e.padInfo.top,d=u-1-e.padInfo.left,f=s*l*u-1;this.userCode="\n      const ivec3 pads = ivec3("+c+", "+p+", "+d+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < "+s+";\n           wD += "+a+") {\n          float dyD = float(dyDCorner + wD) / "+t+".0;\n\n          if (dyD < 0.0 || dyD >= "+e.outDepth+".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < "+l+";\n              wR += "+o+") {\n            float dyR = float(dyRCorner + wR) / "+n+".0;\n\n            if (dyR < 0.0 || dyR >= "+e.outHeight+".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < "+u+";\n                wC += "+i+") {\n              float dyC = float(dyCCorner + wC) / "+r+".0;\n\n              if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = "+f+" -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * "+l+" * "+u+" +\n                  wR * "+u+" + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Ei=function(e,t,n,r,a,o,i){void 0===n&&(n=!1),void 0===r&&(r=!1),void 0===a&&(a=!1),void 0===o&&(o=null),void 0===i&&(i=!1),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t;var s=n?e[1]:e[2],l=Math.ceil(s/2),u=n?"i * 2, rc.y":"rc.y, i * 2",c=r?"rc.z, i * 2":"i * 2, rc.z",p=n?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],d=r?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],f="",h="";o&&(f=i?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          "+o+"\n        }":"vec4 activation(vec4 x) {\n          "+o+"\n        }",h="result = activation(result);");var v=a?"result += getBiasAtOutCoords();":"";a&&this.variableNames.push("bias"),i&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+f+"\n\n      const float sharedDimension = "+l+".0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < "+l+"; i++) {\n          vec4 a = getMatrixA(rc.x, "+u+");\n          vec4 b = getMatrixB(rc.x, "+c+");\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += ("+p[0]+" * "+d[0]+");\n          result += ("+p[1]+" * "+d[1]+");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        "+v+"\n\n        "+h+"\n\n        setOutput(result);\n      }\n    "},ki=function(){function e(e,t,n){this.variableNames=["probs"],this.outputShape=[e,n],this.userCode="\n      uniform float seed;\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < "+(t-1)+"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float("+(t-1)+"));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;return function(n,r){null==t.seedLoc&&(t.seedLoc=n.getUniformLocation(r,"seed")),n.gl.uniform1f(t.seedLoc,e)}},e}(),Si=function(e,t,n,r){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float("+r+"), float("+n+"),\n                      float(index == coords.y)));\n      }\n    "},Ti=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e;var t=e.length;if(0===t)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{var n=Va("rc",t),r=to(t),a=function(e,t,n){if(1===e)return"rc > "+t[0];for(var r="",a=e-2;a<e;a++)r+=n[a]+" >= "+t[a],a<e-1&&(r+="||");return r}(t,e,n),o=function(e,t,n,r){if(1===e)return"";var a=r.slice(-2);return"\n    int r = "+a[0]+";\n    int c = "+a[1]+";\n    int rp1 = r + 1;\n    int cp1 = c + 1;\n\n    bool cEdge = cp1 >= "+t+";\n    bool rEdge = rp1 >= "+n+";\n  "}(t,e[e.length-1],e[e.length-2],n),i=function(e,t){var n=e.length,r=function(e,t){for(var n=[],r=0;r<=1;r++)for(var a=0;a<=1;a++){for(var o=(0===r?"r":"rp1")+", "+(0===a?"c":"cp1"),i=2;i<e;i++)o=t[t.length-1-i]+","+o;n.push(o)}return n}(n,t);return 1===n?"getA(rc),\n            rc + 1 >= "+e[0]+" ? 0. : getA(rc + 1),\n            0, 0":"getA("+r[0]+"),\n          cEdge ? 0. : getA("+r[1]+"),\n          rEdge ? 0. : getA("+r[2]+"),\n          rEdge || cEdge ? 0. : getA("+r[3]+")"}(e,n);this.userCode="\n        void main() {\n          "+r+" rc = getOutputCoords();\n\n          if("+a+") {\n            setOutput(vec4(0));\n          } else {\n            "+o+"\n\n            setOutput(vec4("+i+"));\n          }\n        }\n      "}},Oi=function(e,t,n){this.variableNames=["x"],this.outputShape=t.map((function(t,n){return t[0]+e[n]+t[1]}));var r=e.length,a=to(r),o=t.map((function(e){return e[0]})).join(","),i=t.map((function(t,n){return t[0]+e[n]})).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=1!==r?"\n      "+a+" start = "+a+"("+o+");\n      "+a+" end = "+a+"("+i+");\n\n      void main() {\n        "+a+" outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(float("+n+"));\n        } else {\n          "+a+" coords = outC - start;\n          setOutput(getX("+s+"));\n        }\n      }\n    ":"\n        int start = "+o+";\n        int end = "+i+";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(float("+n+"));\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      "},Ii=function(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map((function(t,n){return t[0]+e[n]+t[1]}));for(var r=e.length,a=to(r),o=t.map((function(e){return e[0]})).join(","),i=t.map((function(t,n){return t[0]+e[n]})).join(","),s=Va("rc",r),l=Va("source",r),u=s[r-1]+" < "+this.outputShape[r-1],c=1===r?"source":"vec2("+l.slice(-2).join()+")",p=[a+" rc = outputLoc;",s[r-1]+" += 1;\n       if("+u+") {\n      ",1===r?"":"}\n       rc = outputLoc;\n       "+s[r-2]+" += 1;\n       if("+s[r-2]+" < "+this.outputShape[r-2]+") {",1===r?"":"  "+s[r-1]+" += 1;\n         if("+u+") {"],d=1===r?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",f="",h=0,v=1===r?2:4;h<v;h++)f+="\n        "+p[h]+"\n        if ("+d+") {\n          result["+h+"] = float("+n+");\n        } else {\n          "+a+" source = rc - start;\n          result["+h+"] = getChannel(getX("+l.join()+"), "+c+");\n        }\n      ";f+=1===r?"} ":"}}",this.userCode="\n      const "+a+" start = "+a+"("+o+");\n      const "+a+" end = "+a+"("+i+");\n\n      void main() {\n        "+a+" outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        "+f+"\n        setOutput(result);\n      }\n    "},Ni=function(e,t,n){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");var r=e.filterWidth,a=e.strideHeight,o=e.strideWidth,i=e.dilationHeight,s=e.dilationWidth,l=e.effectiveFilterHeight,u=e.effectiveFilterWidth,c=e.padInfo.top,p=e.padInfo.left;this.outputShape=e.outShape;var d="avg"===t,f="0.0";if(d||(f="-1.0 / 1e-20"),n)this.userCode="\n        const ivec2 strides = ivec2("+a+", "+o+");\n        const ivec2 pads = ivec2("+c+", "+p+");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < "+l+";\n              wR += "+i+") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+u+";\n                wC += "+s+") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value >= currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = wR * "+u+" + wC;\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";else{var h=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===t&&(h="avgValue / count");var v=4*Math.floor(r/4),m=r%4,g="\n      if ("+d+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec2 strides = ivec2("+a+", "+o+");\n      const ivec2 pads = ivec2("+c+", "+p+");\n      const float initializationValue = "+f+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= "+e.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+f+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < "+l+";\n            wR += "+i+") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= "+e.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+v+"; wC += 4) {\n            int xC = xCCorner + wC * "+s+";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              getValue(batch, xR, xC + 2 * "+s+", d),\n              getValue(batch, xR, xC + 3 * "+s+", d)\n            );\n\n            "+g+"\n          }\n\n          int xC = xCCorner + "+v+";\n          if ("+(1===m)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            "+g+"\n          } else if ("+(2===m)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              initializationValue,\n              initializationValue\n            );\n\n            "+g+"\n          } else if ("+(3===m)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              getValue(batch, xR, xC + 2 * "+s+", d),\n              initializationValue\n            );\n\n            "+g+"\n          }\n        }\n        setOutput("+h+");\n      }\n    "}},Ai=function(e,t,n){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");var r=e.filterWidth,a=e.strideDepth,o=e.strideHeight,i=e.strideWidth,s=e.dilationDepth,l=e.dilationHeight,u=e.dilationWidth,c=e.effectiveFilterDepth,p=e.effectiveFilterHeight,d=e.effectiveFilterWidth,f=e.padInfo.front,h=e.padInfo.top,v=e.padInfo.left;this.outputShape=e.outShape;var m="avg"===t,g="0.0";if(m||(g="-1.0 / 1e-20"),n)this.userCode="\n        const ivec3 strides =\n            ivec3("+a+", "+o+", "+i+");\n        const ivec3 pads = ivec3("+f+", "+h+", "+v+");\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < "+c+";\n              wD += "+s+") {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= "+e.inDepth+") {\n              continue;\n            }\n\n            for (int wR = 0; wR < "+p+";\n                wR += "+l+") {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= "+e.inHeight+") {\n                continue;\n              }\n\n              for (int wC = 0; wC < "+d+";\n                  wC += "+u+") {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= "+e.inWidth+") {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value >= currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition =\n                      wD * "+p+" * "+d+" +\n                      wR * "+d+" + wC;;\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";else{var b=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===t&&(b="avgValue / count");var y=4*Math.floor(r/4),w=r%4,x="\n      if ("+m+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec3 strides =\n        ivec3("+a+", "+o+", "+i+");\n      const ivec3 pads = ivec3("+f+", "+h+", "+v+");\n      const float initializationValue = "+g+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= "+e.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+g+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < "+c+";\n            wD += "+s+") {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= "+e.inDepth+") {\n            continue;\n          }\n\n          for (int wR = 0; wR < "+p+";\n            wR += "+l+") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+y+"; wC += 4) {\n              int xC = xCCorner + wC * "+u+";\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+u+", ch),\n                getValue(batch, xD, xR, xC + 2 * "+u+", ch),\n                getValue(batch, xD, xR, xC + 3 * "+u+", ch)\n              );\n\n              "+x+"\n            }\n\n            int xC = xCCorner + "+y+";\n            if ("+(1===w)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              "+x+"\n            } else if ("+(2===w)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+u+", ch),\n                initializationValue,\n                initializationValue\n              );\n\n              "+x+"\n            } else if ("+(3===w)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+u+", ch),\n                getValue(batch, xD, xR, xC + 2 * "+u+", ch),\n                initializationValue\n              );\n\n              "+x+"\n            }\n          }\n          setOutput("+b+");\n        }\n      }\n    "}},_i=function(e,t){this.variableNames=["x"];var n=e.windowSize,r=e.batchSize,a=e.inSize,o=Math.ceil(a/n);this.outputShape=[r,o];var i="0.0",s="";"prod"===t?i="1.0":"min"===t?(i="1.0 / 1e-20",s="min"):"max"===t&&(i="-1.0 / 1e-20",s="max");var l=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===t?l="sumValue":"prod"===t?l="prodValue":"all"===t?l="allValue":"any"===t&&(l="anyValue");var u=4*Math.floor(n/4),c=n%4,p="\n      if ("+("sum"===t)+") {\n        sumValue += dot(values, ones);\n      } else if ("+("prod"===t)+") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = "+s+"(values, minMaxValue);\n      }\n    ",d="vec4";"all"===t?(i="1.0",p="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",d="bvec4"):"any"===t&&(i="0.0",p="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",d="bvec4");var f="";a%n>0&&(f="\n        if (inIdx < 0 || inIdx >= "+a+") {\n          return initializationValue;\n        }\n      "),this.userCode="\n      const float initializationValue = "+i+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        "+f+"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+n+";\n\n        vec4 minMaxValue = vec4("+i+");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < "+u+"; i += 4) {\n          int inIdx = inOffset + i;\n          "+d+" values = "+d+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          "+p+"\n        }\n\n        int inIdx = inOffset + "+u+";\n        if ("+(1===c)+") {\n          "+d+" values = "+d+"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          "+p+"\n        } else if ("+(2===c)+") {\n          "+d+" values = "+d+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          "+p+"\n        } else if ("+(3===c)+") {\n          "+d+" values = "+d+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          "+p+"\n        }\n        setOutput("+l+");\n      }\n    "},Ri=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var n="",r=0;r<4;r++){var a="thisRC = rc;";r%2==1&&(a+="thisRC.z += 1;"),r>1&&(a+="thisRC.y += 1;"),n+="\n        "+a+"\n        "+(r>0?"if(thisRC.y < rows && thisRC.z < cols){":"")+"\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result["+r+"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        "+(r>0?"}":"")+"\n      "}this.userCode="\n      \n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      "+Ha(["r","c","d"],t)+"\n      return ivec3(r, c, d);\n    }\n  \n      "+Wa(e)+"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = "+e[1]+";\n        int cols = "+e[2]+";\n\n        "+n+"\n\n        setOutput(result);\n      }\n    "},Mi=function(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var r=t.shape,a=r[1],o=r[2],i=e.shape,s=i[1],l=i[2],u=[n&&s>1?a-1:a,n&&l>1?o-1:o],c=[n&&s>1?s-1:s,n&&l>1?l-1:l],p=u[0]/c[0],d=u[1]/c[1],f=1/p,h=1/d,v=2*Math.ceil(f)+2,m=2*Math.ceil(h)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+p+");\n        const float widthScale = float("+d+");\n\n        const float invHeightScale = float("+f+");\n        const float invWidthScale = float("+h+");\n\n        const int winHeight = int("+v+");\n        const int winWidth = int("+m+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+l+") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), "+(a-1)+".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), "+(o-1)+".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},Pi=function(e,t,n,r){this.variableNames=["A"],this.outputShape=[];var a=e[0],o=e[1],i=e[2],s=e[3];this.outputShape=[a,t,n,s];var l=[r&&t>1?o-1:o,r&&n>1?i-1:i],u=[r&&t>1?t-1:t,r&&n>1?n-1:n];this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+l[0]/u[0]+",\n          "+l[1]/u[1]+");\n      const vec2 inputShapeRC = vec2("+o+".0, "+i+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    "},Di=function(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var a=e[0],o=e[1],i=e[2],s=e[3];this.outputShape=[a,t,n,s];var l=[r&&t>1?o-1:o,r&&n>1?i-1:i],u=[r&&t>1?t-1:t,r&&n>1?n-1:n];this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          "+l[0]/u[0]+",\n          "+l[1]/u[1]+",\n          "+l[1]/u[1]+");\n      const vec3 inputShapeRC = vec3("+o+".0, "+i+".0,\n                                     "+i+".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = vec3(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(sourceFracIndexRC);\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < "+(s-1)+";\n        bool hasNextRow = coords.z < "+(n-1)+";\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    "},Bi=function(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var r=t.shape,a=r[1],o=r[2],i=e.shape,s=i[1],l=i[2],u=[n&&s>1?a-1:a,n&&l>1?o-1:o],c=[n&&s>1?s-1:s,n&&l>1?l-1:l],p=u[0]/c[0],d=u[1]/c[1],f=1/p,h=1/d,v=2*Math.ceil(f)+2,m=2*Math.ceil(h)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+p+");\n        const float widthScale = float("+d+");\n\n        const float invHeightScale = float("+f+");\n        const float invWidthScale = float("+h+");\n\n        const int winHeight = int("+v+");\n        const int winWidth = int("+m+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+l+") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float("+u[0]+") *\n                (float(dyR) / float("+c[0]+"));\n\n            float sourceFracCol =\n                float("+u[1]+") *\n                  (float(dyC) / float("+c[1]+"));\n\n            int sourceNearestRow = int(min(\n                float(int("+a+") - 1),\n                "+n+" ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int("+o+") - 1),\n                "+n+" ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},Li=function(e,t,n,r){this.variableNames=["A"],this.outputShape=[];var a=e[0],o=e[1],i=e[2],s=e[3];this.outputShape=[a,t,n,s];var l=[r&&t>1?o-1:o,r&&n>1?i-1:i],u=[r&&t>1?t-1:t,r&&n>1?n-1:n],c=r?"0.5":"0.0";this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+l[0]/u[0]+",\n          "+l[1]/u[1]+");\n      const vec2 inputShapeRC = vec2("+o+".0, "+i+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + "+c+")));\n\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    "},zi=function(e,t){this.variableNames=["x"];var n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");if(this.outputShape=e,1!==n){var r=e.map((function(n,r){return function(n){return-1!==t.indexOf(n)&&1!==e[n]?e[n]+" - coords["+n+"] - 1":"coords["+n+"]"}(r)})).join(","),a=to(n);this.userCode="\n      void main() {\n        "+a+" coords = getOutputCoords();\n        setOutput(getX("+r+"));\n      }\n    "}else this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX("+e[0]+" - coord - 1));\n        }\n      "},Fi=function(e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");this.outputShape=e;var r=Va("rc",n),a=r[n-1]+" + 1 < "+this.outputShape[n-1],o=r[n-2]+" + 1 < "+this.outputShape[n-2],i=to(n);function s(n){var r=e.map((function(r,a){return function(n,r){return-1!==t.indexOf(n)&&1!==e[n]?e[n]+" - "+r[n]+" - 1":""+r[n]}(a,n)}));return"getChannel(getX("+r.join(",")+"), vec2("+r.slice(-2).join(",")+"))"}this.userCode=1===n?"\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX("+e[0]+" - rc - 1),\n            "+e[0]+" - rc - 1);\n          if("+a+"){\n              result.g = getChannel(getX("+e[0]+" - (rc  + 1) - 1),\n                "+e[0]+" - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      ":"\n        void main() {\n          "+i+" rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = "+function(e){return s(e)}(r.slice())+";\n          if("+a+"){\n            result.g = "+function(e){return e[n-1]="("+e[n-1]+" + 1)",s(e)}(r.slice())+";\n          }\n          if("+o+") {\n            result.b = "+function(e){return e[n-2]="("+e[n-2]+" + 1)",s(e)}(r.slice())+";\n            if("+a+") {\n              result.a = "+function(e){return e[n-1]="("+e[n-1]+" + 1)",e[n-2]="("+e[n-2]+" + 1)",s(e)}(r.slice())+";\n            }\n          }\n          setOutput(result);\n        }\n    "},$i=function(e,t,n,r,a,o,i){void 0===i&&(i=!0),this.variableNames=["updates","indices","defaultValue"],this.outputShape=o;var s=to(a.length),l=to(o.length),u="";1===n?u="i":2===n&&(u="i, j");var c="getIndices("+u+")",p="";1===r?p="i":2===r&&(p="i, coords[1]");var d="getUpdates("+p+")",f=t>1?"strides[j]":"strides";this.userCode="\n        "+s+" strides = "+s+"("+a+");\n\n        void main() {\n          "+l+" coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < "+e+"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < "+t+"; j++) {\n              int index = round("+c+");\n              flattenedIndex += index * "+f+";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += "+d+";\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      "},Vi=function(e,t){this.variableNames=["x","segmentIds"];var n=e.windowSize,r=e.batchSize,a=e.inSize,o=e.numSegments,i=o*Math.ceil(a/n);this.outputShape=[r,i];var s=4*Math.floor(n/4),l=n%4,u="\n        sumValue += dot(values, segFilter);\n    ",c="";a%n>0&&(c="\n        if (inIdx < 0 || inIdx >= "+a+") {\n          return initializationValue;\n        }\n      ");var p="";a%n>0&&(p="\n        if (inIdx < 0 || inIdx >= "+a+") {\n          return -1.0;\n        }\n      "),this.userCode="\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        "+c+"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        "+p+"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          "+o+")) * float("+n+"));\n        int currentSeg = int(mod(float(outIdx), float("+o+")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < "+s+"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          "+u+"\n        }\n\n        int inIdx = inOffset + "+s+";\n        if ("+(1===l)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          "+u+"\n        } else if ("+(2===l)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          "+u+"\n        } else if ("+(3===l)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          "+u+"\n        }\n        setOutput(sumValue);\n      }\n    "},ji=function(e,t,n){var r,a;if(this.variableNames=["c","a","b"],this.outputShape=t,n>4)throw Error("Where for rank "+n+" is not yet supported");if(1===n)a="resRC",r="resRC";else{for(var o=["resRC.x","resRC.y","resRC.z","resRC.w"],i=[],s=[],l=0;l<t.length;l++)s.push(""+o[l]),l<e&&i.push(""+o[l]);r=i.join(),a=s.join()}var u=to(n);this.userCode="\n      void main() {\n        "+u+" resRC = getOutputCoords();\n        float cVal = getC("+r+");\n        if (cVal >= 1.0) {\n          setOutput(getA("+a+"));\n        } else {\n          setOutput(getB("+a+"));\n        }\n      }\n    "},Hi=function(){function e(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;var t,n=to(this.rank),r="uniform int start["+this.rank+"];",a=function(e){if(1===e)return"sourceLoc";if(e<=6)return Wi.slice(0,e).map((function(e){return"sourceLoc."+e})).join(",");throw Error("Slicing for rank "+e+" is not yet supported")}(this.rank);t="\n        "+n+" sourceLoc;\n        "+n+" coords = getOutputCoords();\n        "+e.map((function(e,t){return"sourceLoc."+Wi[t]+" = start["+t+"] + coords."+Wi[t]+";"})).join("\n")+"\n      ",this.userCode="\n      "+r+"\n      void main() {\n        "+t+"\n        setOutput(getSource("+a+"));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;if(e.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+e.length+")");return function(n,r){null==t.startLoc&&(t.startLoc=n.getUniformLocationNoThrow(r,"start"),null==t.startLoc)||n.gl.uniform1iv(t.startLoc,e)}},e}(),Wi=["x","y","z","w","u","v"],Ui=function(){function e(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length;var t=to(this.rank),n=Va("coords",this.rank),r=Va("sourceLoc",this.rank),a=1===this.rank?"sourceLoc":"vec2("+r.slice(-2).join()+")",o="getChannel(getSource("+r.join()+"), "+a+")",i="\n      result.x = "+o+";\n      if (++"+n[this.rank-1]+" < "+e[this.rank-1]+") {\n        ++"+r[this.rank-1]+";\n        result.y = "+o+";\n        --"+r[this.rank-1]+";\n      }\n    ",s=1===this.rank?"":"\n      --"+n[this.rank-1]+";\n      if (++"+n[this.rank-2]+" < "+e[this.rank-2]+") {\n        ++"+r[this.rank-2]+";\n        result.z = "+o+";\n        if (++"+n[this.rank-1]+" < "+e[this.rank-1]+") {\n          ++"+r[this.rank-1]+";\n          result.w = "+o+";\n        }\n      }\n    ",l=this.rank<=4?"sourceLoc = coords +\n            "+t+"("+e.map((function(e,t){return"start["+t+"]"})).join()+");":e.map((function(e,t){return r[t]+" = "+n[t]+" + start["+t+"];"})).join("\n");this.userCode="\n      uniform int start["+this.rank+"];\n      void main() {\n        "+t+" coords = getOutputCoords();\n        "+t+" sourceLoc;\n        "+l+"\n        vec4 result = vec4(0.);\n        "+i+"\n        "+s+"\n        setOutput(result);\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;if(e.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+e.length+")");return function(n,r){null==t.startLoc&&(t.startLoc=n.getUniformLocationNoThrow(r,"start"),null==t.startLoc)||n.gl.uniform1iv(t.startLoc,e)}},e}(),qi=function(e,t,n){this.variableNames=["x"],this.outputShape=n;var r=n.length,a=to(n.length),o=to(n.length),i="";if(1===r)i="coords * strides + begin";else{var s=0;i=n.map((function(e,t){return s++,1===n.length?"coords * strides["+t+"] + begin["+t+"]":"coords["+(s-1)+"] * strides["+t+"] + begin["+t+"]"})).join(",")}this.userCode="\n      "+a+" begin = "+a+"("+e+");\n      "+a+" strides = "+a+"("+t+");\n\n      void main() {\n        "+o+" coords = getOutputCoords();\n        setOutput(getX("+i+"));\n      }\n    "},Gi=function(){function e(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return e.prototype.acquireTexture=function(e,t,n){var r,a=Xi(t,n),o=Yi(e,a,n);if(o in this.freeTextures||(this.freeTextures[o]=[]),o in this.usedTextures||(this.usedTextures[o]=[]),this.freeTextures[o].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();var i=this.freeTextures[o].shift();return this.usedTextures[o].push(i),i}return this.numUsedTextures++,this.log(),a===Le.PACKED_2X2_FLOAT32?r=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):a===Le.PACKED_2X2_FLOAT16?r=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):a===Le.UNPACKED_FLOAT32?r=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):a===Le.UNPACKED_FLOAT16?r=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):a===Le.PACKED_4X1_UNSIGNED_BYTE&&(r=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[o].push(r),r},e.prototype.releaseTexture=function(e,t,n,r){if(null!=this.freeTextures){var a=Yi(t,Xi(n,r),r);a in this.freeTextures||(this.freeTextures[a]=[]),this.freeTextures[a].push(e),this.numFreeTextures++,this.numUsedTextures--;var o=this.usedTextures[a],i=o.indexOf(e);if(i<0)throw new Error("Cannot release a texture that was never provided by this texture manager");o.splice(i,1),this.log()}},e.prototype.log=function(){if(this.logEnabled){var e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+e+")")}},e.prototype.getNumUsedTextures=function(){return this.numUsedTextures},e.prototype.getNumFreeTextures=function(){return this.numFreeTextures},e.prototype.dispose=function(){var e=this;if(null!=this.freeTextures){for(var t in this.freeTextures)this.freeTextures[t].forEach((function(t){e.gpgpu.deleteMatrixTexture(t)}));for(var t in this.usedTextures)this.usedTextures[t].forEach((function(t){e.gpgpu.deleteMatrixTexture(t)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}},e}();function Xi(e,t){if(e===Be.UPLOAD)return Le.PACKED_2X2_FLOAT32;if(e===Be.RENDER||null==e)return function(e){return u().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?Le.PACKED_2X2_FLOAT32:Le.UNPACKED_FLOAT32:e?Le.PACKED_2X2_FLOAT16:Le.UNPACKED_FLOAT16}(t);if(e===Be.DOWNLOAD||e===Be.PIXELS)return Le.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type "+e)}function Yi(e,t,n){return e[0]+"_"+e[1]+"_"+t+"_"+n}var Ki=function(e,t){this.variableNames=["A"];for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[r]*t[r];this.outputShape=n,this.rank=n.length;var a=to(this.rank),o=function(e){var t=e.length;if(t>5)throw Error("Tile for rank "+t+" is not yet supported");if(1===t)return"imod(resRC, "+e[0]+")";for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[],a=0;a<e.length;a++)r.push("imod("+n[a]+", "+e[a]+")");return r.join()}(e);this.userCode="\n      void main() {\n        "+a+" resRC = getOutputCoords();\n        setOutput(getA("+o+"));\n      }\n    "},Ji=function(e,t){this.variableNames=["A"];for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[t[r]];this.outputShape=n,this.rank=n.length;var a=to(this.rank),o=function(e){var t=e.length;if(t>6)throw Error("Transpose for rank "+t+" is not yet supported");for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t),a=0;a<e.length;a++)r[e[a]]=n[a];return r.join()}(t);this.userCode="\n    void main() {\n      "+a+" resRC = getOutputCoords();\n      setOutput(getA("+o+"));\n    }\n    "},Qi=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[t[r]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error("Packed transpose for rank "+this.rank+" is not yet supported.");var a=to(this.rank),o=$a("rc",this.rank),i=new Array(this.rank);for(r=0;r<t.length;r++)i[t[r]]=o[r];var s="vec2("+i.slice(-2).join()+")",l="++"+o[this.rank-1]+" < "+n[this.rank-1],u="getChannel(getA("+i.join()+"), "+s+")";this.userCode="\n    void main() {\n      "+a+" rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = "+u+";\n      if("+l+") {\n        result[1] = "+u+";\n      }\n      --"+o[this.rank-1]+";\n      if(++"+o[this.rank-2]+" < "+n[this.rank-2]+") {\n        result[2] = "+u+";\n        if("+l+") {\n          result[3] = "+u+";\n        }\n      }\n      setOutput(result);\n    }\n    "},Zi=1.7580993408473768,es=1.0507009873554805,ts=function(e,t){this.variableNames=["A"],this.outputShape=e,this.userCode="\n      float unaryOperation(float x) {\n        "+t+"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "},ns="if (isnan(x)) return x;",rs="return abs(x);",as=ns+"\n  return (x < 0.0) ? 0.0 : x;\n",os=ns+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",is="return (x >= 0.0) ? x : (exp(x) - 1.0);",ss="\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = "+Zi+";\n  float scale = "+es+";\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n",ls="return -x;",us="return ceil(x);",cs="return floor(x);",ps="return exp(x);",ds="return exp(x) - 1.0;",fs=ns+"\n  return sin(x);\n",hs=ns+"\n  return cos(x);\n",vs=ns+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n",ms=ns+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n",gs=ns+"\n  return atan(x);\n",bs=ns+"return log(x + sqrt(x * x + 1.0));",ys=ns+"\n  if (x < 1.0) return NAN;\n  return log(x + sqrt(x * x - 1.0));",ws=ns+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\n  return (log(1.0 + x) - log(1.0 - x)) / 2.0;",xs="return x;",Cs="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",Es="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",ks="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",Ss=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode="\n      vec4 unaryOperation(vec4 x) {\n        "+t+"\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "},Ts=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e;var t=e.length,n=Va("rc",t),r=to(t),a=function(e,t){if(1===e)return"rc";for(var n="",r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(t,n),o=n.slice(-2),i=t<=1?"rc":"vec2("+o.join(",")+")";this.userCode="\n      void main() {\n        "+r+" rc = getOutputCoords();\n        vec4 packedInput = getA("+a+");\n\n        setOutput(getChannel(packedInput, "+i+"));\n      }\n    "},Os={};function Is(e,t){if(void 0===t&&(t=!1),"linear"===e)return"return x;";if("relu"===e)return t?Cs:as;if("elu"===e)return t?ks:is;if("relu6"===e)return t?Es:os;if("prelu"===e)return t?mo:ho;throw new Error("Activation "+e+" has not been implemented for the WebGL backend.")}var Ns=function(e){function t(t){var n,r=e.call(this)||this;if(r.gpgpu=t,r.pendingRead=new WeakMap,r.pendingDisposal=new WeakSet,r.dataRefCount=new WeakMap,r.numBytesInGPU=0,r.uploadWaitMs=0,r.downloadWaitMs=0,r.warnedAboutMemory=!1,r.pendingDeletes=0,r.disposed=!1,!u().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(null==t){var a=Ve(u().getNumber("WEBGL_VERSION"));r.binaryCache=((n=u().getNumber("WEBGL_VERSION"))in Os||(Os[n]={}),Os[n]),r.gpgpu=new vi(a),r.canvas=a.canvas,r.gpgpuCreatedLocally=!0}else r.binaryCache={},r.gpgpuCreatedLocally=!1,r.canvas=t.gl.canvas;return r.textureManager=new Gi(r.gpgpu),r.numMBBeforeWarning=null==u().global.screen?1024:u().global.screen.height*u().global.screen.width*window.devicePixelRatio*600/1024/1024,r.texData=new oa(r,Re),r}return o(t,e),t.prototype.numDataIds=function(){return this.texData.numDataIds()+(this.cpuBackend?this.cpuBackend.numDataIds():0)-this.pendingDeletes},t.prototype.fromPixels=function(e,t){if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var n="undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement,r=e.data instanceof Uint8Array,a="undefined"!=typeof ImageData&&e instanceof ImageData,o="undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement,i="undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement,s=o?[e.videoWidth,e.videoHeight]:[e.width,e.height],l=s[0],c=s[1],p=[c,l],d=[c,l,t];if(!(n||r||a||o||i))throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was "+e.constructor.name);(i||o)&&(null==this.fromPixels2DContext&&(this.fromPixels2DContext=je(u().getNumber("WEBGL_VERSION")).getContext("2d")),this.fromPixels2DContext.canvas.width=l,this.fromPixels2DContext.canvas.height=c,this.fromPixels2DContext.drawImage(e,0,0,l,c),e=this.fromPixels2DContext.canvas);var f,h,v=this.makeTensorInfo(p,"int32");return this.texData.get(v.dataId).usage=Be.PIXELS,this.gpgpu.uploadPixelDataToTexture(this.getTexture(v.dataId),e),u().getBool("WEBGL_PACK")?(f=new Xo(d),h=this.compileAndRun(f,[v])):(f=new Go(d),h=this.compileAndRun(f,[v])),this.disposeData(v.dataId),h},t.prototype.write=function(e,t,n){if(u().getBool("DEBUG")&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var r={};return this.texData.set(r,{shape:t,dtype:n,values:e,usage:Be.UPLOAD}),r},t.prototype.move=function(e,t,n,r){if(u().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===r)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:r,values:t,usage:Be.UPLOAD})},t.prototype.readSync=function(e){var t=this.texData.get(e),n=t.values,r=t.dtype,a=t.complexTensors,o=t.slice,i=t.shape,s=t.isPacked;if(null!=o){var l;l=s?new Ss(i,xs):new ts(i,xs);var u=this.runWebGLProgram(l,[{dataId:e,shape:i,dtype:r}],r),c=this.readSync(u.dataId);return this.disposeData(u.dataId),c}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===r)return n;var p,d,f=null!=this.activeTimers;return f&&(p=ee()),d="complex64"===r?Oa(a.real.dataSync(),a.imag.dataSync()):this.getValuesFromTexture(e),f&&(this.downloadWaitMs+=ee()-p),this.convertAndCacheOnCPU(e,d)},t.prototype.read=function(e){return i(this,void 0,void 0,(function(){var t,n,r,a,o,i,l,c,p,d,f,h,v,m,g,b,y,w,x,C,E,k;return s(this,(function(s){switch(s.label){case 0:if(this.pendingRead.has(e))return t=this.pendingRead.get(e),[2,new Promise((function(e){return t.push(e)}))];if(n=this.texData.get(e),r=n.values,a=n.shape,o=n.slice,i=n.dtype,l=n.complexTensors,c=n.isPacked,null!=o)return void 0,p=c?new Ss(a,xs):new ts(a,xs),d=this.runWebGLProgram(p,[{dataId:e,shape:a,dtype:i}],i),f=this.read(d.dataId),this.disposeData(d.dataId),[2,f];if(null!=r)return[2,this.convertAndCacheOnCPU(e)];if(!u().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===u().getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");return h=null,"complex64"!==i&&u().get("WEBGL_BUFFER_SUPPORTED")&&(v=this.decode(e),m=this.texData.get(v.dataId),h=(k=this.gpgpu).createBufferFromTexture.apply(k,[m.texture].concat(We(a)))),this.pendingRead.set(e,[]),"complex64"===i?[3,2]:[4,this.gpgpu.createAndWaitForFence()];case 1:s.sent(),s.label=2;case 2:return"complex64"!==i?[3,4]:[4,Promise.all([l.real.data(),l.imag.data()])];case 3:return b=s.sent(),y=b[0],w=b[1],g=Oa(y,w),[3,5];case 4:null==h?g=this.getValuesFromTexture(e):(x=S(a),g=this.gpgpu.downloadFloat32MatrixFromBuffer(h,x)),s.label=5;case 5:return null!=v&&this.disposeData(v.dataId),C=this.convertAndCacheOnCPU(e,g),E=this.pendingRead.get(e),this.pendingRead.delete(e),E.forEach((function(e){return e(C)})),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e),this.pendingDeletes--),[2,C]}}))}))},t.prototype.checkNumericalProblems=function(e){if(null!=e)for(var t=0;t<e.length;t++){var n=e[t];if(!Xe(n)){if(u().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error("The value "+n+" cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'");throw Error("The value "+n+" cannot be represented on this device.")}}},t.prototype.getValuesFromTexture=function(e){var t,n=this.texData.get(e),r=n.shape,a=n.dtype,o=n.isPacked,i=S(r);if(u().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var s=this.decode(e),l=this.texData.get(s.dataId),c=(t=this.gpgpu).downloadMatrixFromPackedTexture.apply(t,[l.texture].concat(We(r))).subarray(0,i);return this.disposeData(s.dataId),c}var p=u().getBool("WEBGL_PACK")&&!0===o,d=p?Et(r):r,f=p?new jo(d):new Vo(d),h=this.runWebGLProgram(f,[{shape:d,dtype:a,dataId:e}],"float32"),v=this.texData.get(h.dataId),m=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(v.texture,v.texShape[0],v.texShape[1]).subarray(0,i);return this.disposeData(h.dataId),m},t.prototype.time=function(e){return i(this,void 0,void 0,(function(){var t,n,r,a,o,i,l;return s(this,(function(s){switch(s.label){case 0:return t=this.activeTimers,n=[],r=!1,null==this.programTimersStack?(this.programTimersStack=n,r=!0):this.activeTimers.push(n),this.activeTimers=n,e(),a=k(this.activeTimers.map((function(e){return e.query}))).filter((function(e){return null!=e})),o=k(this.activeTimers.map((function(e){return e.name}))).filter((function(e){return null!=e})),this.activeTimers=t,r&&(this.programTimersStack=null),[4,Promise.all(a)];case 1:return i=s.sent(),l={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:w(i),getExtraProfileInfo:function(){return i.map((function(e,t){return{name:o[t],ms:e}})).map((function(e){return e.name+": "+e.ms})).join(", ")},wallMs:null},this.uploadWaitMs=0,this.downloadWaitMs=0,[2,l]}}))}))},t.prototype.memory=function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}},t.prototype.startTimer=function(){return u().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?this.gpgpu.beginQuery():{startMs:ee(),endMs:null}},t.prototype.endTimer=function(e){return u().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(this.gpgpu.endQuery(),e):(e.endMs=ee(),e)},t.prototype.getQueryTime=function(e){return i(this,void 0,void 0,(function(){var t;return s(this,(function(n){return u().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?[2,this.gpgpu.waitForQueryAndGetTime(e)]:[2,(t=e).endMs-t.startMs]}))}))},t.prototype.disposeData=function(e){if(!this.pendingDisposal.has(e)){if(this.pendingRead.has(e))return this.pendingDisposal.add(e),void this.pendingDeletes++;if(this.texData.has(e)){this.releaseGPUData(e);var t=this.texData.get(e).complexTensors;null!=t&&(t.real.dispose(),t.imag.dispose()),this.texData.delete(e)}}},t.prototype.releaseGPUData=function(e){var t=this.texData.get(e),n=t.texture,r=t.dtype,a=t.texShape,o=t.usage,i=t.isPacked,s=t.slice,l=s&&s.origDataId||e,u=this.dataRefCount.get(l);u>1?this.dataRefCount.set(l,u-1):(this.dataRefCount.delete(l),null!=n&&(this.numBytesInGPU-=this.computeBytes(a,r),this.textureManager.releaseTexture(n,a,o,i)));var c=this.texData.get(e);c.texture=null,c.texShape=null,c.isPacked=!1,c.slice=null},t.prototype.getTexture=function(e){return this.uploadToGPU(e),this.texData.get(e).texture},t.prototype.getDataInfo=function(e){return this.texData.get(e)},t.prototype.getCPUBackend=function(){return u().getBool("WEBGL_CPU_FORWARD")?(null==this.cpuBackend&&(this.cpuBackend=Re.findBackend("cpu")),this.cpuBackend):null},t.prototype.shouldExecuteOnCPU=function(e,t){var n=this;return void 0===t&&(t=128),null!=this.getCPUBackend()&&e.every((function(e){return null==n.texData.get(e.dataId).texture&&e.size<t}))},t.prototype.getGPGPUContext=function(){return this.gpgpu},t.prototype.complex=function(e,t){var n=this.makeOutput(e.shape,"complex64");return this.texData.get(n.dataId).complexTensors={real:Re.keep(e.clone()),imag:Re.keep(t.clone())},n},t.prototype.real=function(e){return this.texData.get(e.dataId).complexTensors.real.clone()},t.prototype.imag=function(e){return this.texData.get(e.dataId).complexTensors.imag.clone()},t.prototype.slice=function(e,t,n){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.slice(e,t,n);if(0===S(n))return Sn([],n,e.dtype);var r=this.texData.get(e.dataId).isPacked,a=Gr(e.shape,t,n);if(r||!a){var o=u().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Ui(n):new Hi(n),i=o.getCustomSetupFunc(t);return this.compileAndRun(o,[e],null,i)}return this.uploadToGPU(e.dataId),this.shallowSlice(e,t,n)},t.prototype.shallowSlice=function(e,t,n){var r=this.texData.get(e.dataId),a=this.makeOutput(n,e.dtype),o=this.texData.get(a.dataId);Object.assign(o,r),o.shape=n,o.dtype=e.dtype;var i=Xr(t,e.strides);r.slice&&(i+=r.slice.flatOffset),o.slice={flatOffset:i,origDataId:r.slice&&r.slice.origDataId||e.dataId};var s=this.dataRefCount.get(o.slice.origDataId)||1;return this.dataRefCount.set(o.slice.origDataId,s+1),a},t.prototype.stridedSlice=function(e,t,n,r){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.stridedSlice(e,t,n,r);var a=Wr(t,n,r);if(a.some((function(e){return 0===e})))return Sn([],a);var o=new qi(t,r,a);return this.compileAndRun(o,[e])},t.prototype.reverse=function(e,t){var n=u().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Fi(e.shape,t):new zi(e.shape,t);return this.compileAndRun(n,[e])},t.prototype.concat=function(e,t){if("complex64"===e[0].dtype){var n=e.map((function(e){return En(e)})),r=e.map((function(e){return kn(e)}));return Cn(this.concat(n,t),this.concat(r,t))}if(this.shouldExecuteOnCPU(e))return this.cpuBackend.concat(e,t);if(1===e.length)return e[0];if(e.length>u().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var a=Math.floor(e.length/2),o=this.concat(e.slice(0,a),t),i=this.concat(e.slice(a),t);return this.concat([o,i],t)}if(u().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&e[0].rank>1){var s=new Co(e.map((function(e){return e.shape})),t);return this.compileAndRun(s,e)}var l=wn(e.map((function(e){return e.shape})),t),c=e.map((function(e){return e.as2D(-1,S(e.shape.slice(t)))})),p=new xo(c.map((function(e){return e.shape})));return this.compileAndRun(p,c).reshape(l)},t.prototype.neg=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.neg(e);if(u().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,ls,e.dtype);var t=new ts(e.shape,ls);return this.compileAndRun(t,[e])},t.prototype.batchMatMul=function(e,t,n,r){var a=n?e.shape[2]:e.shape[1],o=r?t.shape[1]:t.shape[2],i=n?e.shape[1]:e.shape[2],s=e.shape[0];if((1===a||1===o)&&i>1e3){n&&(e=e.transpose([0,2,1])),r&&(t=t.transpose([0,2,1]));var l=1===o?e:e.as3D(s,i,1),u=1===o?2:1,c=1===o?t.as3D(s,1,i):t;return this.multiply(l,c).sum(u,!0)}var p=Ee(e.dtype,t.dtype),d=new Ei(e.shape,[s,a,o],n,r);return this.compileAndRun(d,[e,t],p)},t.prototype.fusedBatchMatMul=function(e){var t=e.a,n=e.b,r=e.transposeA,a=e.transposeB,o=e.bias,i=e.activation,s=e.preluActivationWeights,l=r?t.shape[2]:t.shape[1],u=a?n.shape[1]:n.shape[2],c=t.shape[0],p=Ee(t.dtype,n.dtype),d=null!=o,f=null!=s,h=i?Is(i,!0):null,v=new Ei(t.shape,[c,l,u],r,a,d,h,f),m=[t,n];return o&&m.push(o),s&&m.push(s),this.compileAndRun(v,m,p)},t.prototype.multiply=function(e,t){if("complex64"===e.dtype){var n=this.texData.get(e.dataId),r=this.texData.get(t.dataId),a=new uo("return areal * breal - aimag * bimag;",e.shape,t.shape),o=new uo("return areal * bimag + aimag * breal;",e.shape,t.shape),i=[this.makeComplexComponentTensorInfo(e,n.complexTensors.real),this.makeComplexComponentTensorInfo(e,n.complexTensors.imag),this.makeComplexComponentTensorInfo(t,r.complexTensors.real),this.makeComplexComponentTensorInfo(t,r.complexTensors.imag)],s=this.compileAndRun(a,i),l=this.compileAndRun(o,i),c=this.complex(s,l);return s.dispose(),l.dispose(),c}if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.multiply(e,t);if(u().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,fo,e.dtype);var p=new vo(fo,e.shape,t.shape);return this.compileAndRun(p,[e,t],e.dtype)},t.prototype.batchNormalization=function(e,t,n,r,a,o){var i=[e,t,n],s=null;null!=o&&(s=o.shape,i.push(o));var l=null;if(null!=a&&(l=a.shape,i.push(a)),u().getBool("WEBGL_PACK_NORMALIZATION")){var c=new lo(e.shape,t.shape,n.shape,s,l,r);return this.compileAndRun(c,i)}var p=new so(e.shape,t.shape,n.shape,s,l,r);return this.compileAndRun(p,i)},t.prototype.localResponseNormalization4D=function(e,t,n,r,a){var o=u().getBool("WEBGL_PACK_NORMALIZATION")?new wi(e.shape,t,n,r,a):new bi(e.shape,t,n,r,a);return this.compileAndRun(o,[e])},t.prototype.LRNGrad=function(e,t,n,r,a,o,i){var s=new yi(t.shape,r,a,o,i);return this.compileAndRun(s,[t,n,e])},t.prototype.tile=function(e,t){if("string"===e.dtype){var n=this.readSync(e.dataId).map((function(e){return re(e)}));return Pa(ir(e.shape,e.dtype,n),t)}var r=new Ki(e.shape,t);return this.compileAndRun(r,[e])},t.prototype.pad=function(e,t,n){var r=u().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Ii(e.shape,t,n):new Oi(e.shape,t,n);return this.compileAndRun(r,[e])},t.prototype.transpose=function(e,t){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.transpose(e,t);var n=u().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Qi(e.shape,t):new Ji(e.shape,t);return this.compileAndRun(n,[e])},t.prototype.gather=function(e,t,n){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.gather(e,t,n);var r=new Yo(e.shape,t.size,n);return this.compileAndRun(r,[e,t])},t.prototype.batchToSpaceND=function(e,t,n){x(e.rank<=4,(function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"}));var r=t.reduce((function(e,t){return e*t})),a=Pr(e.shape,t,r),o=Dr(a.length,t.length),i=Br(e.shape,t,r),s=Lr(n,t.length),l=zr(i,n,t.length);return e.reshape(a).transpose(o).reshape(i).slice(s,l)},t.prototype.spaceToBatchND=function(e,t,n){x(e.rank<=4,(function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"}));var r=t.reduce((function(e,t){return e*t})),a=[[0,0]];a.push.apply(a,n);for(var o=1+t.length;o<e.shape.length;++o)a.push([0,0]);var i=e.pad(a),s=Pr(i.shape,t,r,!1),l=Dr(s.length,t.length,!1),u=Br(i.shape,t,r,!1);return i.reshape(s).transpose(l).reshape(u)},t.prototype.reduce=function(e,t,n){var r=e.shape[0],a=e.shape[1],o=$r(a),i=new _i({windowSize:o,inSize:a,batchSize:r},t),s=this.compileAndRun(i,[e],n);return 1===s.shape[1]?s:this.reduce(s,t,n)},t.prototype.argReduce=function(e,t,n){void 0===n&&(n=null);var r=e.shape[0],a=e.shape[1];null!=n&&(r=n.shape[0],a=n.shape[1]);var o=$r(a),i=new Fa({windowSize:o,inSize:a,batchSize:r},t,null==n),s=[e];null!=n&&s.push(n);var l=this.compileAndRun(i,s,"int32");return 1===l.shape[1]?l:this.argReduce(e,t,l)},t.prototype.argReducePacked=function(e,t,n){void 0===n&&(n=null);var r=null!=n?n.shape:e.shape,a=$r(r[r.length-1]),o=new ao(r,a,t,null==n),i=null==n?[e]:[e,n],s=this.compileAndRun(o,i,"int32");return s.rank===e.rank?this.argReducePacked(e,t,s):s},t.prototype.sum=function(e,t){vn("sum",t,e.rank);var n=fn(e.shape,t),r=n[0],a=S(n[1]),o=e.as2D(-1,a),i=ke(e.dtype);return this.reduce(o,"sum",i).reshape(r)},t.prototype.prod=function(e,t){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.prod(e,t);var n=fn(e.shape,t),r=n[0],a=S(n[1]),o=e.as2D(-1,a),i=ke(e.dtype);return this.reduce(o,"prod",i).reshape(r)},t.prototype.unsortedSegmentSum=function(e,t,n){var r=0,a=mn([r],e.rank),o=e;null!=a&&(o=e.transpose(a),r=bn(1,e.rank)[0]);var i=function(e,t,n){for(var r=[],a=e.length,o=0;o<a;o++)o!==t?r.push(e[o]):r.push(n);return r}(o.shape,r,n),s=S([o.shape[r]]),l=o.as2D(-1,s),u=ke(e.dtype),c=this.segOpCompute(l,"unsortedSegmentSum",t,u,n).reshape(i);return null!=a&&(c=c.transpose(gn(a))),c},t.prototype.segOpCompute=function(e,t,n,r,a){var o=e.shape[0],i=e.shape[1],s=function(e,t){var n,r=!1;for(e<=30?(n=e,r=!0):n=X(e,Math.floor(Math.sqrt(e)));!r;)n>t||n===e?r=!0:n=X(e,n+1);return n}(i,a),l=new Vi({windowSize:s,inSize:i,batchSize:o,numSegments:a},t),u=this.compileAndRun(l,[e,n],r);return u.shape[1]===a?u:(n=Fn(0,a).tile([i/s]),this.segOpCompute(u,t,n,r,a))},t.prototype.argMinMaxReduce=function(e,t,n){var r=[t];if(vn("arg"+n.charAt(0).toUpperCase()+n.slice(1),r,e.rank),!u().getBool("WEBGL_PACK_REDUCE")||e.rank<=2){var a=fn(e.shape,r),o=a[0],i=S(a[1]),s=e.as2D(-1,i);return this.argReduce(s,n).reshape(o)}return this.argReducePacked(e,n)},t.prototype.argMin=function(e,t){return this.argMinMaxReduce(e,t,"min")},t.prototype.argMax=function(e,t){return this.argMinMaxReduce(e,t,"max")},t.prototype.cumsum=function(e,t,n,r){if(t!==e.rank-1)throw new Error("WebGL cumsum shader expects an inner-most axis="+(e.rank-1)+" but got axis="+t);var a=new Do(e.shape,n,r);return this.compileAndRun(a,[e])},t.prototype.equal=function(e,t){if(u().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(equal(a, b));\n","bool");var n=new vo("return float(a == b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.notEqual=function(e,t){if(u().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(notEqual(a, b));\n","bool");var n=new vo("return float(a != b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.less=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.less(e,t);if(u().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(lessThan(a, b));\n","bool");var n=new vo("return float(a < b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.lessEqual=function(e,t){if(u().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(lessThanEqual(a, b));\n","bool");var n=new vo("return float(a <= b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.greater=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.greater(e,t);if(u().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(greaterThan(a, b));\n","bool");var n=new vo("return float(a > b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.greaterEqual=function(e,t){if(u().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(greaterThanEqual(a, b));\n","bool");var n=new vo("return float(a >= b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.logicalNot=function(e){var t=new ts(e.shape,"return float(!(x >= 1.0));");return this.compileAndRun(t,[e])},t.prototype.logicalAnd=function(e,t){if(u().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n","bool");var n=new vo("return float(a >= 1.0 && b >= 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.logicalOr=function(e,t){if(u().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n","bool");var n=new vo("return float(a >= 1.0 || b >= 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.select=function(e,t,n){var r=new ji(e.rank,t.shape,t.rank);return this.compileAndRun(r,[e,t,n],Ee(t.dtype,n.dtype))},t.prototype.where=function(e){on("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var t=e.dataSync();return Ba(e.shape,t)},t.prototype.topk=function(e,t,n){return Da(e.dataSync(),e.shape,e.dtype,t)},t.prototype.min=function(e,t){vn("min",t,e.rank);var n=fn(e.shape,t),r=n[0],a=S(n[1]),o=e.as2D(-1,a);return this.reduce(o,"min",o.dtype).reshape(r)},t.prototype.minimum=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.minimum(e,t);var n=u().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new go("\n  vec4 result = vec4(min(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new vo("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return min(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.mod=function(e,t){var n=u().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new go("\n  vec4 result = mod(a, b);\n  vec4 isNaN = vec4(equal(b, vec4(0.0)));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new vo("if (b == 0.0) return NAN;\n  return mod(a, b);",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.max=function(e,t){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.max(e,t);vn("max",t,e.rank);var n=fn(e.shape,t),r=n[0],a=S(n[1]),o=e.as2D(-1,a);return this.reduce(o,"max",o.dtype).reshape(r)},t.prototype.maximum=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.maximum(e,t);var n=u().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new go("\n  vec4 result = vec4(max(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new vo("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return max(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.all=function(e,t){vn("all",t,e.rank);var n=fn(e.shape,t),r=n[0],a=S(n[1]),o=e.as2D(-1,a);return this.reduce(o,"all",o.dtype).reshape(r)},t.prototype.any=function(e,t){vn("any",t,e.rank);var n=fn(e.shape,t),r=n[0],a=S(n[1]),o=e.as2D(-1,a);return this.reduce(o,"any",o.dtype).reshape(r)},t.prototype.squaredDifference=function(e,t){var n=u().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new go("return (a - b) * (a - b);",e.shape,t.shape):new vo("return (a - b) * (a - b);",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.realDivide=function(e,t){if(u().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n","float32",!0);var n=new vo("\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",e.shape,t.shape);return this.compileAndRun(n,[e,t],"float32")},t.prototype.floorDiv=function(e,t){if(u().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n","int32");var n=new vo("\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",e.shape,t.shape);return this.compileAndRun(n,[e,t],"int32")},t.prototype.add=function(e,t){if("complex64"===e.dtype&&"complex64"===t.dtype)return this.complexSeparableBinaryOp(e,t,co);if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.add(e,t);var n=Ee(e.dtype,t.dtype);if(u().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,co,n);var r=new vo(co,e.shape,t.shape);return this.compileAndRun(r,[e,t],n)},t.prototype.packedUnaryOp=function(e,t,n){var r=new Ss(e.shape,t);return this.compileAndRun(r,[e],n)},t.prototype.packedBinaryOp=function(e,t,n,r,a){void 0===a&&(a=!1);var o=new go(n,e.shape,t.shape,a);return this.compileAndRun(o,[e,t],r)},t.prototype.complexSeparableBinaryOp=function(e,t,n){var r=this,a=this.texData.get(e.dataId),o=this.texData.get(t.dataId),i=[[a.complexTensors.real,o.complexTensors.real],[a.complexTensors.imag,o.complexTensors.imag]].map((function(a){var o=a[0],i=a[1],s=r.makeComplexComponentTensorInfo(e,o),l=r.makeComplexComponentTensorInfo(t,i),u=new vo(n,e.shape,t.shape);return r.compileAndRun(u,[s,l],Ee(o.dtype,i.dtype))})),s=i[0],l=i[1],u=this.complex(s,l);return s.dispose(),l.dispose(),u},t.prototype.makeComplexComponentTensorInfo=function(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}},t.prototype.addN=function(e){if(1===e.length)return e[0];if(e.length>u().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var t=Math.floor(e.length/2),n=this.addN(e.slice(0,t)),r=this.addN(e.slice(t));return this.addN([n,r])}var a=e.map((function(e){return e.dtype})).reduce((function(e,t){return Ee(e,t)})),o=e.map((function(e){return e.shape})),i=u().getBool("WEBGL_PACK")?new za(e[0].shape,o):new La(e[0].shape,o);return this.compileAndRun(i,e,a)},t.prototype.subtract=function(e,t){if("complex64"===e.dtype&&"complex64"===t.dtype)return this.complexSeparableBinaryOp(e,t,po);if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.subtract(e,t);var n=Ee(e.dtype,t.dtype);if(u().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,po,e.dtype);var r=new vo(po,e.shape,t.shape);return this.compileAndRun(r,[e,t],n)},t.prototype.pow=function(e,t){var n=u().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new go("\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new vo("\nif(a < 0.0 && floor(b) < b){\n  return NAN;\n}\nif (b == 0.0) {\n  return 1.0;\n}\nreturn (round(mod(b, 2.0)) != 1) ?\n    pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",e.shape,t.shape),r=Ee(e.dtype,t.dtype);return this.compileAndRun(n,[e,t],r)},t.prototype.ceil=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.ceil(e);if(u().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,us,e.dtype);var t=new ts(e.shape,us);return this.compileAndRun(t,[e])},t.prototype.floor=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.floor(e);if(u().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,cs,e.dtype);var t=new ts(e.shape,cs);return this.compileAndRun(t,[e])},t.prototype.sign=function(e){var t=new ts(e.shape,"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n");return this.compileAndRun(t,[e])},t.prototype.isNaN=function(e){var t=new ts(e.shape,"return float(isnan(x));");return this.compileAndRun(t,[e],"bool")},t.prototype.isInf=function(e){var t=new ts(e.shape,"return float(isinf(x));");return this.compileAndRun(t,[e],"bool")},t.prototype.isFinite=function(e){var t=new ts(e.shape,"return float(!isnan(x) && !isinf(x));");return this.compileAndRun(t,[e],"bool")},t.prototype.round=function(e){var t=new ts(e.shape,"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n");return this.compileAndRun(t,[e])},t.prototype.exp=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.exp(e);if(u().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,ps,e.dtype);var t=new ts(e.shape,ps);return this.compileAndRun(t,[e])},t.prototype.expm1=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.expm1(e);if(u().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,ds,e.dtype);var t=new ts(e.shape,ds);return this.compileAndRun(t,[e])},t.prototype.log=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.log(e);if(u().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,"\n  vec4 result = log(x);\n  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));\n  result.r = isNaN.r == 1.0 ? NAN : result.r;\n  result.g = isNaN.g == 1.0 ? NAN : result.g;\n  result.b = isNaN.b == 1.0 ? NAN : result.b;\n  result.a = isNaN.a == 1.0 ? NAN : result.a;\n\n  return result;\n",e.dtype);var t=new ts(e.shape,"if (x < 0.0) return NAN;\n  return log(x);");return this.compileAndRun(t,[e])},t.prototype.log1p=function(e){var t=new ts(e.shape,"return log(1.0 + x);");return this.compileAndRun(t,[e])},t.prototype.sqrt=function(e){var t=new ts(e.shape,"return sqrt(x);");return this.compileAndRun(t,[e])},t.prototype.rsqrt=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.rsqrt(e);var t=new ts(e.shape,"return inversesqrt(x);");return this.compileAndRun(t,[e])},t.prototype.reciprocal=function(e){var t=new ts(e.shape,"return 1.0 / x;");return this.compileAndRun(t,[e])},t.prototype.relu=function(e){var t;return t=u().getBool("WEBGL_PACK")?new Ss(e.shape,Cs):new ts(e.shape,as),this.compileAndRun(t,[e])},t.prototype.relu6=function(e){var t;return t=u().getBool("WEBGL_PACK")?new Ss(e.shape,Es):new ts(e.shape,os),this.compileAndRun(t,[e])},t.prototype.prelu=function(e,t){var n=u().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new go(mo,e.shape,t.shape):new vo(ho,e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.elu=function(e){if(u().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,ks,e.dtype);var t=new ts(e.shape,is);return this.compileAndRun(t,[e])},t.prototype.eluDer=function(e,t){var n=u().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new go("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",e.shape,t.shape):new vo("return (b >= 1.0) ? a : a * (b + 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.selu=function(e){var t=new ts(e.shape,ss);return this.compileAndRun(t,[e])},t.prototype.int=function(e){var t=new ts(e.shape,"return float(int(x));");return this.compileAndRun(t,[e],"int32")},t.prototype.clip=function(e,t,n){var r,a=(r=u().getBool("WEBGL_PACK_CLIP")?new yo(e.shape):new bo(e.shape)).getCustomSetupFunc(t,n);return this.compileAndRun(r,[e],null,a)},t.prototype.abs=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.abs(e);if(u().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,rs,e.dtype);var t=new ts(e.shape,rs);return this.compileAndRun(t,[e])},t.prototype.complexAbs=function(e){var t=this.texData.get(e.dataId),n=new wo(e.shape),r=[this.makeComplexComponentTensorInfo(e,t.complexTensors.real),this.makeComplexComponentTensorInfo(e,t.complexTensors.imag)];return this.compileAndRun(n,r)},t.prototype.sigmoid=function(e){var t=new ts(e.shape,"return 1.0 / (1.0 + exp(-1.0 * x));");return this.compileAndRun(t,[e])},t.prototype.softplus=function(e){var t=new ts(e.shape,"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n");return this.compileAndRun(t,[e])},t.prototype.sin=function(e){var t=new ts(e.shape,fs);return this.compileAndRun(t,[e])},t.prototype.cos=function(e){var t=new ts(e.shape,hs);return this.compileAndRun(t,[e])},t.prototype.tan=function(e){var t=new ts(e.shape,"return tan(x);");return this.compileAndRun(t,[e])},t.prototype.asin=function(e){var t=new ts(e.shape,vs);return this.compileAndRun(t,[e])},t.prototype.acos=function(e){var t=new ts(e.shape,ms);return this.compileAndRun(t,[e])},t.prototype.atan=function(e){var t=new ts(e.shape,gs);return this.compileAndRun(t,[e])},t.prototype.atan2=function(e,t){var n=u().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new go("\n  vec4 result = atan(a, b);\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new vo("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return atan(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.sinh=function(e){var t=new ts(e.shape,"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n");return this.compileAndRun(t,[e])},t.prototype.cosh=function(e){var t=new ts(e.shape,"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n");return this.compileAndRun(t,[e])},t.prototype.tanh=function(e){var t=new ts(e.shape,"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n");return this.compileAndRun(t,[e])},t.prototype.asinh=function(e){var t=new ts(e.shape,bs);return this.compileAndRun(t,[e])},t.prototype.acosh=function(e){var t=new ts(e.shape,ys);return this.compileAndRun(t,[e])},t.prototype.atanh=function(e){var t=new ts(e.shape,ws);return this.compileAndRun(t,[e])},t.prototype.erf=function(e){var t=new ts(e.shape,'\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = 0.3275911;\n  float a1 = 0.254829592;\n  float a2 = -0.284496736;\n  float a3 = 1.421413741;\n  float a4 = -1.453152027;\n  float a5 = 1.061405429;\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n');return this.compileAndRun(t,[e])},t.prototype.step=function(e,t){var n=new ts(e.shape,function(e){return void 0===e&&(e=0),ns+"\n    return x > 0.0 ? 1.0 : float("+e+");\n  "}(t));return this.compileAndRun(n,[e])},t.prototype.conv2dByMatMul=function(e,t,n,r,a,o){var i=e.shape,s=this.texData.get(e.dataId),l=n.inChannels,c=i[0]*i[1]*i[2],p=n.outChannels,d="channelsLast"===n.dataFormat,f=(1===c||1===p)&&l>1e3,h=i[2]%2!=0&&!!s.isPacked;if(f||!u().getBool("WEBGL_LAZILY_UNPACK")||!u().getBool("WEBGL_PACK_BINARY_OPERATIONS")||!h){var v=d?i[0]*i[1]*i[2]:i[0]*i[2]*i[3],m=this.reshape(e,[1,v,n.inChannels]),g=this.reshape(t,[1,n.inChannels,n.outChannels]);return this.reshape(this.fusedBatchMatMul({a:m,b:g,transposeA:!1,transposeB:!1,bias:r,activation:a,preluActivationWeights:o}),n.outShape)}var b=d?i[0]*i[1]*(i[2]+1):i[0]*i[2]*(i[3]+1),y={dataId:e.dataId,shape:[1,b,n.inChannels],dtype:e.dtype},w=s.shape;s.shape=s.shape.slice(),s.shape[s.shape.length-2]++,x(Tt(s.shape,y.shape),(function(){return"packed reshape "+s.shape+" to "+y.shape+" isn't free"}));var C=this.reshape(t,[1,n.inChannels,n.outChannels]),E=this.fusedBatchMatMul({a:y,b:C,transposeA:!1,transposeB:!1,bias:r,activation:a,preluActivationWeights:o}),k=this.texData.get(E.dataId);return x(k.isPacked,(function(){return"batchMatMul result is expected to be packed"})),s.shape=w,k.shape=n.outShape,Re.makeTensorFromDataId(E.dataId,n.outShape,E.dtype)},t.prototype.conv2dWithIm2Row=function(e,t,n,r,a,o){var i=n.filterWidth,s=n.filterHeight,l=n.inChannels,u=n.outWidth,c=n.outHeight,p="channelsLast"===n.dataFormat,d=i*s*l,f=c*u,h=[d,f],v=e.squeeze([0]),m=t.reshape([1,d,-1]),g=new gi(h,v.shape,n),b=this.compileAndRun(g,[v]).reshape([1,h[0],h[1]]),y=null!=r,w=null!=o,x=a?Is(a,!0):null,C=new Ei(b.shape,[1,f,n.outChannels],!0,!1,y,x,w),E=[b,m];r&&E.push(r),w&&E.push(o);var k=this.compileAndRun(C,E);return p?k.reshape([1,c,u,n.outChannels]):k.reshape([1,n.outChannels,c,u])},t.prototype.fusedConv2d=function(e){var t=e.input,n=e.filter,r=e.convInfo,a=e.bias,o=e.activation,i=e.preluActivationWeights;if(1===r.filterHeight&&1===r.filterWidth&&1===r.dilationHeight&&1===r.dilationWidth&&1===r.strideHeight&&1===r.strideWidth&&("SAME"===r.padInfo.type||"VALID"===r.padInfo.type))return this.conv2dByMatMul(t,n,r,a,o,i);if(u().getBool("WEBGL_CONV_IM2COL")&&1===t.shape[0])return this.conv2dWithIm2Row(t,n,r,a,o,i);var s=null!=a,l=null!=i,c=o?Is(o,!1):null,p=new Ao(r,s,c,l),d=[t,n];return a&&d.push(a),i&&d.push(i),this.compileAndRun(p,d)},t.prototype.conv2d=function(e,t,n){if(1===n.filterHeight&&1===n.filterWidth&&1===n.dilationHeight&&1===n.dilationWidth&&1===n.strideHeight&&1===n.strideWidth&&("SAME"===n.padInfo.type||"VALID"===n.padInfo.type))return this.conv2dByMatMul(e,t,n);if(u().getBool("WEBGL_CONV_IM2COL")&&1===e.shape[0])return this.conv2dWithIm2Row(e,t,n);var r=new Ao(n);return this.compileAndRun(r,[e,t])},t.prototype.conv2dDerInput=function(e,t,n){var r=new So(n);return this.compileAndRun(r,[e,t])},t.prototype.conv2dDerFilter=function(e,t,n){var r=new ko(n);return this.compileAndRun(r,[e,t])},t.prototype.fusedDepthwiseConv2D=function(e){var t,n=e.input,r=e.filter,a=e.convInfo,o=e.bias,i=e.activation,s=e.preluActivationWeights,l=u().getBool("WEBGL_PACK_DEPTHWISECONV")&&a.strideWidth<=2&&a.outChannels/a.inChannels==1,c=i?Is(i,l):null,p=[n,r],d=null!=o,f=null!=s;return d&&p.push(o),f&&p.push(s),l?(t=new Mo(a,d,c,f),this.compileAndRun(t,p)):(t=new Ro(a,d,c,f),this.compileAndRun(t,p))},t.prototype.depthwiseConv2D=function(e,t,n){var r;return u().getBool("WEBGL_PACK_DEPTHWISECONV")&&n.strideWidth<=2&&n.outChannels/n.inChannels==1?(r=new Mo(n),this.compileAndRun(r,[e,t])):(r=new Ro(n),this.compileAndRun(r,[e,t]))},t.prototype.depthwiseConv2DDerInput=function(e,t,n){var r=new No(n);return this.compileAndRun(r,[e,t])},t.prototype.depthwiseConv2DDerFilter=function(e,t,n){var r=new Io(n);return this.compileAndRun(r,[e,t])},t.prototype.conv3d=function(e,t,n){var r=new _o(n);return this.compileAndRun(r,[e,t])},t.prototype.conv3dDerInput=function(e,t,n){var r=new Oo(n);return this.compileAndRun(r,[e,t])},t.prototype.conv3dDerFilter=function(e,t,n){var r=new To(n);return this.compileAndRun(r,[e,t])},t.prototype.maxPool=function(e,t){var n=new Ni(t,"max",!1);return this.compileAndRun(n,[e])},t.prototype.avgPool=function(e,t){var n=new Ni(t,"avg",!1);return this.compileAndRun(n,[e],"float32")},t.prototype.maxPoolBackprop=function(e,t,n,r){var a=new Ni(r,"max",!0),o=this.compileAndRun(a,[t]),i=new xi(r),s=this.compileAndRun(i,[e,o],t.dtype);return o.dispose(),s},t.prototype.avgPoolBackprop=function(e,t,n){var r=new oo(n);return this.compileAndRun(r,[e],t.dtype)},t.prototype.cast=function(e,t){return Ea(e,t,this)},t.prototype.unstack=function(e,t){for(var n=e.shape[t],r=new Array(e.rank-1),a=0,o=0;o<e.rank;o++)o!==t&&(r[a++]=e.shape[o]);var i=new Array(e.rank).fill(0),s=e.shape.slice();s[t]=1;var l=new Array(n);for(o=0;o<l.length;o++)i[t]=o,l[o]=this.slice(e,i,s).reshape(r);return l},t.prototype.avgPool3d=function(e,t){var n=new Ai(t,"avg",!1);return this.compileAndRun(n,[e],"float32")},t.prototype.avgPool3dBackprop=function(e,t,n){var r=new io(n);return this.compileAndRun(r,[e],t.dtype)},t.prototype.maxPool3d=function(e,t){var n=new Ai(t,"max",!1);return this.compileAndRun(n,[e],"float32")},t.prototype.maxPool3dBackprop=function(e,t,n,r){var a=new Ai(r,"max",!0),o=this.compileAndRun(a,[t]),i=new Ci(r),s=this.compileAndRun(i,[e,o],t.dtype);return o.dispose(),s},t.prototype.reshape=function(e,t){var n=this.texData.get(e.dataId);if(n.isPacked&&!Tt(e.shape,t)&&(null===n.texture||!Tt(n.shape,t))){var r=this.packedReshape(e,t);return Re.makeTensorFromDataId(r.dataId,r.shape,r.dtype)}return ka(e,t)},t.prototype.resizeBilinear=function(e,t,n,r){var a=u().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new Di(e.shape,t,n,r):new Pi(e.shape,t,n,r);return this.compileAndRun(a,[e])},t.prototype.resizeBilinearBackprop=function(e,t,n){var r=new Mi(e,t,n);return this.compileAndRun(r,[e])},t.prototype.resizeNearestNeighbor=function(e,t,n,r){var a=new Li(e.shape,t,n,r);return this.compileAndRun(a,[e])},t.prototype.resizeNearestNeighborBackprop=function(e,t,n){var r=new Bi(e,t,n);return this.compileAndRun(r,[e])},t.prototype.multinomial=function(e,t,n,r){var a=t?e:ra(e),o=a.shape[0],i=a.shape[1],s=new ki(o,i,n),l=s.getCustomSetupFunc(r);return this.compileAndRun(s,[a],"int32",l)},t.prototype.oneHot=function(e,t,n,r){var a=new Si(e.size,t,n,r);return this.compileAndRun(a,[e])},t.prototype.diag=function(e){var t=new $o(e.size);return this.compileAndRun(t,[e])},t.prototype.nonMaxSuppression=function(e,t,n,r,a){return on("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead"),_a(e.dataSync(),t.dataSync(),n,r,a)},t.prototype.cropAndResize=function(e,t,n,r,a,o){var i=new Po(e.shape,t.shape,r,a,o);return this.compileAndRun(i,[e,t,n])},t.prototype.depthToSpace=function(e,t,n){x(t>1,(function(){return"blockSize should be > 1 for depthToSpace, but was: "+t}));var r=e.shape[0],a="NHWC"===n?e.shape[1]:e.shape[2],o="NHWC"===n?e.shape[2]:e.shape[3],i="NHWC"===n?e.shape[3]:e.shape[1],s=a*t,l=o*t,u=i/(t*t),c=new Fo("NHWC"===n?[r,s,l,u]:[r,u,s,l],t,n);return this.compileAndRun(c,[e])},t.prototype.split=function(e,t,n){return Ma(e,t,n)},t.prototype.scatterND=function(e,t,n){var r=Vr(0,e,n),a=r.sliceRank,o=r.numUpdates,i=r.sliceSize,s=r.strides,l=r.outputSize,u=[l/i,i],c=e.reshape([o,a]),p=t.reshape([o,i]);if(0===l)return ka(Sn([]),n);var d=On(0),f=new $i(o,a,c.rank,p.rank,s,u);return this.compileAndRun(f,[p,c,d]).reshape(n)},t.prototype.sparseToDense=function(e,t,n,r){var a=Vr(0,e,n),o=a.sliceRank,i=a.numUpdates,s=a.strides,l=a.outputSize,u=new $i(i,o,e.rank,t.rank,s,[l,1],!1);return this.compileAndRun(u,[t,e,r]).reshape(n)},t.prototype.fft=function(e){return this.fftImpl(e,!1)},t.prototype.ifft=function(e){return this.fftImpl(e,!0)},t.prototype.fftImpl=function(e,t){var n=this.texData.get(e.dataId),r=new Uo("return real * expR - imag * expI;",e.shape,t),a=new Uo("return real * expI + imag * expR;",e.shape,t),o=[this.makeComplexComponentTensorInfo(e,n.complexTensors.real),this.makeComplexComponentTensorInfo(e,n.complexTensors.imag)],i=this.compileAndRun(r,o),s=this.compileAndRun(a,o),l=this.complex(i,s).as2D(e.shape[0],e.shape[1]);return i.dispose(),s.dispose(),l},t.prototype.gatherND=function(e,t){var n=t.shape,r=n[n.length-1],a=Fr(e,t),o=a[0],i=a[1],s=a[2],l=a[3],u=t.reshape([i,r]),c=e.reshape([e.size/s,s]),p=new Ko(r,l,[i,s]);return this.compileAndRun(p,[c,u]).reshape(o)},t.prototype.fill=function(e,t,n){if("string"===(n=n||q(t))){var r=B(n,S(e));return r.fill(t),Re.makeTensor(r,e,n,this)}var a=new qo(e,t),o=a.getCustomSetupFunc(t);return this.compileAndRun(a,[],n,o)},t.prototype.onesLike=function(e){if("string"===e.dtype)throw new Error("onesLike is not supported under string dtype");return this.fill(e.shape,1,e.dtype)},t.prototype.zerosLike=function(e){return this.fill(e.shape,"string"===e.dtype?"":0,e.dtype)},t.prototype.linspace=function(e,t,n){return Sa(e,t,n)},t.prototype.makeTensorInfo=function(e,t){var n=this.write(null,e,t);return this.texData.get(n).usage=null,{dataId:n,shape:e,dtype:t}},t.prototype.makeOutput=function(e,t){var n=this.makeTensorInfo(e,t).dataId;return Re.makeTensorFromDataId(n,e,t,this)},t.prototype.unpackTensor=function(e){var t=new Ts(e.shape);return this.runWebGLProgram(t,[e],e.dtype)},t.prototype.packTensor=function(e){var t=new Ti(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)},t.prototype.packedReshape=function(e,t){var n=[xt(e.shape)].concat(Ct(e.shape)),r={dtype:e.dtype,shape:n,dataId:e.dataId},a=[xt(t)].concat(Ct(t)),o=new Ri(a,n),i=this.runWebGLProgram(o,[r],e.dtype,null,!0);return{dataId:i.dataId,shape:t,dtype:i.dtype}},t.prototype.decode=function(e){var t,n=this.texData.get(e),r=n.isPacked,a=n.shape,o=n.dtype,i=Et(a);return t=r?new zo(i):new Lo(i),{dtype:o,shape:a,dataId:this.runWebGLProgram(t,[{shape:i,dtype:o,dataId:e}],o,null,!0).dataId}},t.prototype.runWebGLProgram=function(e,t,n,r,a){var o=this;void 0===a&&(a=!1);var i=this.makeTensorInfo(e.outputShape,n),s=this.texData.get(i.dataId);if(e.packedOutput&&(s.isPacked=!0),e.outPackingScheme===De.DENSE){var l=We(e.outputShape);s.texShape=l.map((function(e){return 2*e}))}if(null!=e.outTexUsage&&(s.usage=e.outTexUsage),0===S(i.shape))return s.values=D(i.dtype,0),i;var c=[],p=t.map((function(t){if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var n=o.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&S(t.shape)<=u().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}else if(!!n.isPacked!=!!e.packedInputs)t=n.isPacked?o.unpackTensor(t):o.packTensor(t),c.push(t),n=o.texData.get(t.dataId);else if(n.isPacked&&!Tt(n.shape,t.shape)){var r=t,a=t.shape;t.shape=n.shape,t=o.packedReshape(t,a),c.push(t),n=o.texData.get(t.dataId),r.shape=a}return o.uploadToGPU(t.dataId),{shape:t.shape,texData:n,isUniform:!1}}));this.uploadToGPU(i.dataId);var d,f={shape:i.shape,texData:s,isUniform:!1},h=function(e,t,n){var r="";t.concat(n).forEach((function(e){var t=null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0,n=e.isUniform?"uniform":e.texData.texShape;r+=e.shape+"_"+n+"_"+t}));var a=e.userCode;return e.constructor.name+"_"+r+"_"+a}(e,p,f),v=this.getAndSaveBinary(h,(function(){return function(e,t,n,r){var a=t.userCode,o=n.map((function(e,n){var r={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(r.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:r}})),i=o.map((function(e){return e.shapeInfo})),s={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},l=qa(o,s,a,t.packedInputs),c=e.createProgram(l),p=null,d=e.getUniformLocation(c,"NAN",!1);1===u().getNumber("WEBGL_VERSION")&&(p=e.getUniformLocation(c,"INFINITY",!1));for(var f={},h=0;h<t.variableNames.length;h++){var v=t.variableNames[h];f[v]=e.getUniformLocation(c,v,!1),f["offset"+v]=e.getUniformLocation(c,"offset"+v,!1)}return{program:t,source:l,webGLProgram:c,uniformLocations:f,inShapeInfos:i,outShapeInfo:s,infLoc:p,nanLoc:d}}(o.gpgpu,e,p,f)})),m=null!=this.activeTimers;if(m&&(d=this.startTimer()),function(e,t,n,r,a){mi(t.inShapeInfos,n),mi([t.outShapeInfo],[r]);var o=r.texData.texture,i=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(o,i[0],i[1]):e.setOutputMatrixTexture(o,i[0],i[1]),e.setProgram(t.webGLProgram),1===u().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN),n.forEach((function(n,r){var a=t.program.variableNames[r],o=t.uniformLocations[a],i=t.uniformLocations["offset"+a];if(null!=o)if(n.isUniform)if(S(n.shape)<2)e.gl.uniform1f(o,n.uniformValues[0]);else{var s=n.uniformValues;s instanceof Float32Array||(s=new Float32Array(s)),e.gl.uniform1fv(o,s)}else null!=n.texData.slice&&null!=i&&e.gl.uniform1i(i,n.texData.slice.flatOffset),e.setInputMatrixTexture(n.texData.texture,o,r)})),null!=a&&a(e,t.webGLProgram),e.executeProgram()}(this.gpgpu,v,p,f,r),c.forEach((function(e){return o.disposeData(e.dataId)})),m&&(d=this.endTimer(d),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(d)})),!u().getBool("WEBGL_LAZILY_UNPACK")&&s.isPacked&&!1===a){var g=this.unpackTensor(i);return this.disposeData(i.dataId),g}return i},t.prototype.compileAndRun=function(e,t,n,r,a){void 0===a&&(a=!1),n=n||t[0].dtype;var o=this.runWebGLProgram(e,t,n,r,a);return Re.makeTensorFromDataId(o.dataId,o.shape,o.dtype)},t.prototype.getAndSaveBinary=function(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]},t.prototype.getTextureManager=function(){return this.textureManager},t.prototype.dispose=function(){this.disposed||(this.textureManager.dispose(),null!=this.canvas&&"undefined"!=typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,null!=this.fromPixels2DContext&&this.fromPixels2DContext.canvas.remove&&this.fromPixels2DContext.canvas.remove(),this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)},t.prototype.floatPrecision=function(){var e=this;return null==this.floatPrecisionValue&&(this.floatPrecisionValue=qt((function(){if(!u().get("WEBGL_RENDER_FLOAT32_ENABLED")){var t=u().getBool("DEBUG");u().set("DEBUG",!1);var n=e.abs(On(1e-8)).dataSync()[0];if(u().set("DEBUG",t),n>0)return 32}return 16}))),this.floatPrecisionValue},t.prototype.epsilon=function(){return 32===this.floatPrecision()?1e-7:1e-4},t.prototype.uploadToGPU=function(e){var t,n=this.texData.get(e),r=n.shape,a=n.dtype,o=n.values,i=n.texture,s=n.usage,l=n.isPacked;if(null==i){var u,c=null!=this.activeTimers;c&&(u=ee());var p=n.texShape;if(null==p&&(p=kt(r,l),n.texShape=p),null!=o){var d=Et(r),f=void 0,h=p[1],v=p[0],m=o instanceof Uint8Array;l?(h=(t=Ue(p[0],p[1]))[0],v=t[1],f=new Wo(d,[v,h],m)):f=new Ho(d,[v,h],m);var g=this.makeTensorInfo([v,h],a);this.texData.get(g.dataId).usage=m?Be.PIXELS:Be.UPLOAD,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(g.dataId),h,v,o);var b=this.runWebGLProgram(f,[g],a,null,!0),y=this.texData.get(b.dataId);n.texture=y.texture,n.texShape=y.texShape,n.isPacked=y.isPacked,n.usage=y.usage,this.disposeData(g.dataId),this.texData.delete(b.dataId),n.values=null,c&&(this.uploadWaitMs+=ee()-u)}else{var w=this.acquireTexture(p,s,a,l);n.texture=w}}},t.prototype.convertAndCacheOnCPU=function(e,t){var n=this.texData.get(e),r=n.dtype;return this.releaseGPUData(e),null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){for(var n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length),r=0;r<n.length;++r)n[r]=Math.round(e[r]);return n}throw new Error("Unknown dtype "+t)}(t,r)),n.values},t.prototype.acquireTexture=function(e,t,n,r){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var a=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: "+a+" MB, most likely due to a memory leak")}return this.textureManager.acquireTexture(e,t,r)},t.prototype.computeBytes=function(e,t){return e[0]*e[1]*V(t)},t}(ia);Me()&&Re.registerBackend("webgl",(function(){return new Ns}),2);var As=xn({square_:function(e){var t=un(e,"x","square"),n=[t];return Re.runKernelFunc((function(e,n){return n([t]),e.square(t)}),{x:t},(function(e,t){var n=t[0];return{x:function(){return e.mul(n.toFloat().mul(2))}}}),"Square",{},n,[])}}),_s=xn({abs_:function(e){var t=un(e,"x","abs");return"complex64"===t.dtype?Re.runKernelFunc((function(e){return e.complexAbs(t)}),{$x:t}):Re.runKernelFunc((function(e,n){var r=e.abs(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return e.mul(n.toFloat().step(-1))}}}),"Abs")}}),Rs=xn({acos_:function(e){var t=un(e,"x","acos");return Re.runKernelFunc((function(e,n){var r=e.acos(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.divStrict(On(1).sub(n.toFloat().square()).sqrt()).neg()}}}))}}),Ms=xn({acosh_:function(e){var t=un(e,"x","acosh");return Re.runKernelFunc((function(e,n){var r=e.acosh(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.divStrict(n.toFloat().square().sub(1).sqrt())}}}))}}),Ps=xn({asin_:function(e){var t=un(e,"x","asin");return Re.runKernelFunc((function(e,n){var r=e.asin(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.divStrict(On(1).sub(n.toFloat().square()).sqrt())}}}))}}),Ds=xn({asinh_:function(e){var t=un(e,"x","asinh");return Re.runKernelFunc((function(e,n){var r=e.asinh(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.divStrict(On(1).add(n.toFloat().square()).sqrt())}}}))}}),Bs=xn({atan_:function(e){var t=un(e,"x","atan");return Re.runKernelFunc((function(e,n){var r=e.atan(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.toFloat().square().add(1))}}}))}}),Ls=xn({atanh_:function(e){var t=un(e,"x","atanh");return Re.runKernelFunc((function(e,n){var r=e.atanh(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(On(1).sub(n.toFloat().square()))}}}))}}),zs=xn({ceil_:function(e){var t=un(e,"x","ceil");return Re.runKernelFunc((function(e){return e.ceil(t)}),{$x:t},(function(e){return{$x:function(){return Vn(e)}}}))}}),Fs=xn({clipByValue_:function(e,t,n){var r=un(e,"x","clipByValue");return x(t<=n,(function(){return"Error in clip: min ("+t+") must be less than or equal to max ("+n+")."})),Re.runKernelFunc((function(e,a){var o=e.clip(r,t,n);return a([r]),o}),{$x:r},(function(e,r){var a=r[0];return{$x:function(){return e.where(a.greaterEqual(t).logicalAnd(a.lessEqual(n)),Vn(e))}}}))}}),$s=xn({cos_:function(e){var t=un(e,"x","cos");return Re.runKernelFunc((function(e,n){var r=e.cos(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return n.toFloat().sin().neg().mul(e)}}}))}}),Vs=xn({cosh_:function(e){var t=un(e,"x","cosh");return Re.runKernelFunc((function(e,n){var r=e.cosh(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return n.toFloat().sinh().mulStrict(e)}}}))}}),js=xn({erf_:function(e){var t=un(e,"x","erf");return x("int32"===t.dtype||"float32"===t.dtype,(function(){return"Input dtype must be `int32` or `float32`."})),"int32"===t.dtype&&(t=t.toFloat()),Re.runKernelFunc((function(e,n){var r=e.erf(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.mul(n.square().neg().exp().mul(2/Math.sqrt(Math.PI)))}}}))}}),Hs=xn({exp_:function(e){var t=un(e,"x","exp");return Re.runKernelFunc((function(e,n){var r=e.exp(t);return n([r]),r}),{$x:t},(function(e,t){return{$x:function(){return e.mulStrict(t[0])}}}))}}),Ws=xn({expm1_:function(e){var t=un(e,"x","expm1");return Re.runKernelFunc((function(e,n){var r=e.expm1(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.mul(n.exp())}}}))}}),Us=xn({floor_:function(e){var t=un(e,"x","floor");return Re.runKernelFunc((function(e){return e.floor(t)}),{$x:t},(function(e){return{$x:function(){return Vn(e)}}}))}}),qs=xn({log_:function(e){var t=un(e,"x","log");return Re.runKernelFunc((function(e,n){var r=e.log(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.toFloat())}}}))}}),Gs=xn({log1p_:function(e){var t=un(e,"x","log1p");return Re.runKernelFunc((function(e,n){var r=e.log1p(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.add(1))}}}))}}),Xs=xn({logSigmoid_:function(e){var t=un(e,"x","logSigmoid");return Re.runKernelFunc((function(e,n){var r=e.softplus(t.neg()).neg();return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.mul(n.neg().sigmoid())}}}))}}),Ys=xn({neg_:function(e){var t=un(e,"x","neg");return Re.runKernelFunc((function(e){return e.neg(t)}),{$x:t},(function(e){return{$x:function(){return e.neg()}}}))}}),Ks=xn({reciprocal_:function(e){var t=un(e,"x","reciprocal");return Re.runKernelFunc((function(e,n){var r=e.reciprocal(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.square().neg())}}}))}}),Js=xn({round_:function(e){var t=un(e,"x","round");return Re.runKernelFunc((function(e){return e.round(t)}),{$x:t},(function(e){return{$x:function(){return Vn(e)}}}))}}),Qs=xn({rsqrt_:function(e){var t=un(e,"x","rsqrt");return Re.runKernelFunc((function(e,n){var r=e.rsqrt(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.pow(1.5).mul(2)).neg()}}}))}}),Zs=xn({sigmoid_:function(e){var t=un(e,"x","sigmoid");return Re.runKernelFunc((function(e,n){var r=e.sigmoid(t);return n([r]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return e.mul(n.mul(On(1).sub(n)))}}}),"Sigmoid")}}),el=xn({sign_:function(e){var t=un(e,"x","sign");return Re.runKernelFunc((function(e){return e.sign(t)}),{$x:t},(function(e){return{$x:function(){return Vn(e)}}}))}}),tl=xn({isNaN_:function(e){var t=un(e,"x","isNaN");return Re.runKernelFunc((function(e){return e.isNaN(t)}),{$x:t},(function(e){return{$x:function(){return Vn(e)}}}))}}),nl=xn({isInf_:function(e){var t=un(e,"x","isInf");return Re.runKernelFunc((function(e){return e.isInf(t)}),{$x:t},(function(e){return{$x:function(){return Vn(e)}}}))}}),rl=xn({isFinite_:function(e){var t=un(e,"x","isFinite");return Re.runKernelFunc((function(e){return e.isFinite(t)}),{$x:t},(function(e){return{$x:function(){return Vn(e)}}}))}}),al=xn({sin_:function(e){var t=un(e,"x","sin");return Re.runKernelFunc((function(e,n){var r=e.sin(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return n.toFloat().cos().mul(e)}}}))}}),ol=xn({sinh_:function(e){var t=un(e,"x","sinh");return Re.runKernelFunc((function(e,n){var r=e.sinh(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return n.toFloat().cosh().mulStrict(e)}}}))}}),il=xn({softplus_:function(e){var t=un(e,"x","softplus");return Re.runKernelFunc((function(e,n){var r=e.softplus(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.mul(n.sigmoid())}}}))}}),sl=xn({sqrt_:function(e){var t=un(e,"x","sqrt");return Re.runKernelFunc((function(e,n){var r=e.sqrt(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.toFloat().sqrt().mul(2))}}}))}}),ll=xn({step_:function(e,t){void 0===t&&(t=0);var n=un(e,"x","step");return Re.runKernelFunc((function(e){return e.step(n,t)}),{$x:n},(function(e){return{$x:function(){return Vn(e)}}}))}}),ul=xn({tan_:function(e){var t=un(e,"x","tan");return Re.runKernelFunc((function(e,n){var r=e.tan(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.cos().square())}}}))}}),cl=xn({tanh_:function(e){var t=un(e,"x","tanh");return Re.runKernelFunc((function(e,n){var r=e.tanh(t);return n([r]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return On(1).sub(n.square()).mulStrict(e)}}}))}});function pl(e,t,n,r,a,o){var i,s,l=un(e,"x","batchNorm"),u=un(t,"mean","batchNorm"),c=un(n,"variance","batchNorm");return null!=a&&(i=un(a,"scale","batchNorm")),null!=r&&(s=un(r,"offset","batchNorm")),x(2===l.rank,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+l.rank+"."})),x(2===u.rank||1===u.rank,(function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank "+u.rank+"."})),x(2===c.rank||1===c.rank,(function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank "+c.rank+"."})),null!=i&&x(2===i.rank||1===i.rank,(function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank "+i.rank+"."})),null!=s&&x(2===s.rank||1===s.rank,(function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank "+s.rank+"."})),hl(l,u,c,s,i,o)}function dl(e,t,n,r,a,o){var i,s,l=un(e,"x","batchNorm"),u=un(t,"mean","batchNorm"),c=un(n,"variance","batchNorm");return null!=a&&(i=un(a,"scale","batchNorm")),null!=r&&(s=un(r,"offset","batchNorm")),x(3===l.rank,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+l.rank+"."})),x(3===u.rank||1===u.rank,(function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank "+u.rank+"."})),x(3===c.rank||1===c.rank,(function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank "+c.rank+"."})),null!=i&&x(3===i.rank||1===i.rank,(function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank "+i.rank+"."})),null!=s&&x(3===s.rank||1===s.rank,(function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank "+s.rank+"."})),hl(l,u,c,s,i,o)}function fl(e,t,n,r,a,o){var i,s,l=un(e,"x","batchNorm"),u=un(t,"mean","batchNorm"),c=un(n,"variance","batchNorm");return null!=a&&(i=un(a,"scale","batchNorm")),null!=r&&(s=un(r,"offset","batchNorm")),x(4===l.rank,(function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+l.rank+"."})),x(4===u.rank||1===u.rank,(function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank "+u.rank+"."})),x(4===c.rank||1===c.rank,(function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank "+c.rank+"."})),null!=i&&x(4===i.rank||1===i.rank,(function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank "+i.rank+"."})),null!=s&&x(4===s.rank||1===s.rank,(function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank "+s.rank+"."})),hl(l,u,c,s,i,o)}function hl(e,t,n,r,a,o){null==o&&(o=.001);var i,s,l,u=un(e,"x","batchNorm"),c=un(t,"mean","batchNorm"),p=un(n,"variance","batchNorm");null!=a&&(i=un(a,"scale","batchNorm")),null!=r&&(s=un(r,"offset","batchNorm")),x(c.rank===p.rank,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),x(null==s||c.rank===s.rank,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),x(null==i||c.rank===i.rank,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."})),l=0===u.rank||1===u.rank?u.as4D(1,1,1,u.size):2===u.rank?u.as4D(1,1,u.shape[0],u.shape[1]):3===u.rank?u.as4D(1,u.shape[0],u.shape[1],u.shape[2]):u;var d=[u,c,p,i];return Re.runKernelFunc((function(e,t){var n=e.batchNormalization(l,vl(c),vl(p),o,vl(i),vl(s));return t([u,c,p,i]),n}),{x:u,mean:c,variance:p,scale:i,offset:s},(function(e,t){var n=t,r=n[0],a=n[1],i=n[2],s=n[3],u=null==s?On(1):s,c=ua(a.shape,l.shape),p=[];if(1===a.rank){for(var d=0;d<l.shape.length-1;++d)p.push(l.shape[d]);p.push(1)}var f=r.sub(a),h=e.mul(u),v=Qs(i.add(On(o))),m=v.mul(v).mul(v).mul(On(-.5));return{x:function(){return 1===a.rank?e.mul(Ar(v.as4D(1,1,1,a.shape[0]),p)).mul(u).reshape(r.shape):e.mul(v).mul(u).reshape(r.shape)},mean:function(){var e=v.mul(On(-1)).mul(h);return 1===a.rank&&(e=e.sum(c)),e.reshape(a.shape)},variance:function(){var e=m.mul(f).mul(h);return 1===a.rank&&(e=e.sum(c)),e.reshape(a.shape)},scale:function(){var t=f.mul(v),n=e.mul(t);return 1===a.rank&&(n=n.sum(c)),n.reshape(a.shape)},offset:function(){var t=e;return 1===a.rank&&(t=t.sum(c)),t.reshape(a.shape)}}}),"BatchNormalization",{varianceEpsilon:o},d).reshape(u.shape)}function vl(e){return null==e?null:0===e.rank?e.as1D():1===e.rank?e:2===e.rank?e.as4D(1,1,e.shape[0],e.shape[1]):3===e.rank?e.as4D(1,e.shape[0],e.shape[1],e.shape[2]):e}function ml(){Vt("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon")}var gl=xn({batchNormalization2d_:function(e,t,n,r,a,o){return void 0===r&&(r=.001),ml(),pl(e,t,n,o,a,r)}}),bl=xn({batchNormalization3d_:function(e,t,n,r,a,o){return void 0===r&&(r=.001),ml(),dl(e,t,n,o,a,r)}}),yl=xn({batchNormalization4d_:function(e,t,n,r,a,o){return void 0===r&&(r=.001),ml(),fl(e,t,n,o,a,r)}}),wl=xn({batchNormalization_:function(e,t,n,r,a,o){return void 0===r&&(r=.001),ml(),hl(e,t,n,o,a,r)}}),xl=xn({batchNorm_:hl}),Cl=xn({batchNorm2d_:pl}),El=xn({batchNorm3d_:dl}),kl=xn({batchNorm4d_:fl}),Sl=xn({logicalAnd_:function(e,t){var n=un(e,"a","logicalAnd","bool"),r=un(t,"b","logicalAnd","bool");return ca(n.shape,r.shape),Re.runKernelFunc((function(e){return e.logicalAnd(n,r)}),{$a:n,$b:r})}}),Tl=xn({logicalNot_:function(e){var t=un(e,"x","logicalNot","bool");return Re.runKernelFunc((function(e){return e.logicalNot(t)}),{$x:t})}}),Ol=xn({logicalOr_:function(e,t){var n=un(e,"a","logicalOr","bool"),r=un(t,"b","logicalOr","bool");return ca(n.shape,r.shape),Re.runKernelFunc((function(e){return e.logicalOr(n,r)}),{$a:n,$b:r})}}),Il=xn({logicalXor_:function(e,t){var n=un(e,"a","logicalXor","bool"),r=un(t,"b","logicalXor","bool");return ca(n.shape,r.shape),Ol(e,t).logicalAnd(Sl(e,t).logicalNot())}}),Nl=xn({where_:function(e,t,n){var r=un(t,"a","where"),a=un(n,"b","where"),o=un(e,"condition","where","bool");return C(r.shape,a.shape,"Error in where: "),1===o.rank?x(o.shape[0]===r.shape[0],(function(){return"The first dimension of `a` must match the size of `condition`."})):C(o.shape,a.shape,"Error in where: "),Re.runKernelFunc((function(e,t){var n=e.select(o,r,a);return t([o]),n}),{$condition:o,$a:r,$b:a},(function(e,t){var n=t[0];return{$condition:function(){return Vn(n).toFloat()},$a:function(){return e.mul(n.cast(e.dtype))},$b:function(){return e.mul(n.logicalNot().cast(e.dtype))}}}))}}),Al=function(e){return i(this,void 0,void 0,(function(){var t,n,r;return s(this,(function(a){switch(a.label){case 0:return[4,(t=un(e,"condition","whereAsync","bool")).data()];case 1:return n=a.sent(),r=Ba(t.shape,n),e!==t&&t.dispose(),[2,r]}}))}))},_l=xn({add_:function(e,t){var n,r=un(e,"a","add"),a=un(t,"b","add");n=Se(r,a),r=n[0],a=n[1];var o=ca(r.shape,a.shape);return Re.runKernelFunc((function(e){return e.add(r,a)}),{a:r,b:a},(function(e){return{a:function(){var t=e,n=ua(r.shape,o);return n.length>0&&(t=t.sum(n)),t.reshape(r.shape)},b:function(){var t=e,n=ua(a.shape,o);return n.length>0&&(t=t.sum(n)),t.reshape(a.shape)}}}),"Add")}}),Rl=xn({addN_:function(e){x(Array.isArray(e),(function(){return"The argument passed to tf.addN() must be a list of tensors"})),x(e.length>=1,(function(){return"Must pass at least one tensor to tf.addN(), but got "+e.length}));var t=e.map((function(e,t){return un(e,"tensors"+t,"addN")})),n=t[0];t.forEach((function(e){if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((function(e){if(!T(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));var r=t;return Re.runKernelFunc((function(e){return e.addN(t)}),r,(function(e){var n={};return t.forEach((function(t,r){n[r]=function(){return e.clone()}})),n}))}}),Ml=xn({addStrict_:function(e,t){var n=un(e,"a","addStrict"),r=un(t,"b","addStrict");return C(n.shape,r.shape,"Error in addStrict: "),n.add(r)}}),Pl=xn({atan2_:function(e,t){var n,r=un(e,"a","atan2"),a=un(t,"b","atan2");n=Se(r,a),r=n[0],a=n[1];var o=ca(r.shape,a.shape);return Re.runKernelFunc((function(e,t){var n=e.atan2(r,a);return t([r,a]),n}),{$a:r,$b:a},(function(e,t){var n=t[0],r=t[1];return{$a:function(){var t=_l(n.square(),r.square()),a=e.mul(r.div(t)),i=ua(n.shape,o);return i.length>0&&(a=a.sum(i)),a.reshape(n.shape)},$b:function(){var t=_l(n.square(),r.square()),a=Ys(e.mul(n.div(t))),i=ua(r.shape,o);return i.length>0&&(a=a.sum(i)),a.reshape(r.shape)}}}))}}),Dl=xn({div_:function(e,t){var n,r=un(e,"a","div"),a=un(t,"b","div");if(n=Se(r,a),r=n[0],a=n[1],"int32"===r.dtype&&"int32"===a.dtype)return Ll(r,a);var o=ca(r.shape,a.shape);return Re.runKernelFunc((function(e,t){var n=e.realDivide(r,a);return t([r,a]),n}),{a:r,b:a},(function(e,t){var n=t[0],r=t[1];return{a:function(){var t=e.div(r.toFloat()),a=ua(n.shape,o);return a.length>0?t.sum(a).reshape(n.shape):t},b:function(){var t=e.mul(n.toFloat()),a=ua(r.shape,o);a.length>0&&(t=t.sum(a).reshape(r.shape));var i=r.square();return t.div(i.toFloat()).neg()}}}),"Div")}}),Bl=xn({divStrict_:function(e,t){var n=un(e,"a","div"),r=un(t,"b","div");return C(n.shape,r.shape,"Error in divideStrict: "),n.div(r)}}),Ll=xn({floorDiv_:function(e,t){var n,r=un(e,"a","floorDiv"),a=un(t,"b","floorDiv");n=Se(r,a),r=n[0],a=n[1];var o=ca(r.shape,a.shape);return Re.runKernelFunc((function(e,t){var n=e.floorDiv(r,a);return t([r,a]),n}),{$a:r,$b:a},(function(e,t){var n=t[0],r=t[1];return{$a:function(){var t=e.div(r.toFloat()),a=ua(n.shape,o);return a.length>0?t.sum(a).reshape(n.shape):t},$b:function(){var t=e.mul(n.toFloat()),a=ua(r.shape,o);a.length>0&&(t=t.sum(a).reshape(r.shape));var i=r.square();return t.div(i.toFloat()).neg()}}}))}}),zl=xn({maximum_:function(e,t){var n,r=un(e,"a","maximum"),a=un(t,"b","maximum");return n=Se(r,a),r=n[0],a=n[1],"bool"===r.dtype&&(r=r.toInt(),a=a.toInt()),ca(r.shape,a.shape),Re.runKernelFunc((function(e,t){var n=e.maximum(r,a);return t([r,a]),n}),{$a:r,$b:a},(function(e,t){var n=t[0],r=t[1];return{$a:function(){return e.mul(n.greaterEqual(r).toFloat())},$b:function(){return e.mul(n.less(r).toFloat())}}}))}}),Fl=xn({maximumStrict_:function(e,t){var n=un(e,"a","maximumStrict"),r=un(t,"b","maximumStrict");return C(n.shape,r.shape,"Error in maximumStrict: "),n.maximum(r)}}),$l=xn({minimum_:function(e,t){var n,r=un(e,"a","minimum"),a=un(t,"b","minimum");return n=Se(r,a),r=n[0],a=n[1],"bool"===r.dtype&&(r=r.toInt(),a=a.toInt()),ca(r.shape,a.shape),Re.runKernelFunc((function(e,t){var n=e.minimum(r,a);return t([r,a]),n}),{$a:r,$b:a},(function(e,t){var n=t[0],r=t[1];return{$a:function(){return e.mul(n.lessEqual(r).toFloat())},$b:function(){return e.mul(n.greater(r).toFloat())}}}))}}),Vl=xn({minimumStrict_:function(e,t){var n=un(e,"a","minimumStrict"),r=un(t,"b","minimumStrict");return C(n.shape,r.shape,"Error in minimumStrict: "),n.minimum(r)}}),jl=xn({mod_:function(e,t){var n,r=un(e,"a","mod"),a=un(t,"b","mod");n=Se(r,a),r=n[0],a=n[1];var o=ca(r.shape,a.shape);return Re.runKernelFunc((function(e,t){var n=e.mod(r,a);return t([r,a]),n}),{$a:r,$b:a},(function(e,t){var n=t[0],r=t[1];return{$a:function(){var t=ua(n.shape,o);return t.length>0?e.sum(t).reshape(n.shape):e},$b:function(){var t=e.mul(n.div(r).floor().neg()),a=ua(r.shape,o);return a.length>0?t.sum(a).reshape(r.shape):t}}}))}}),Hl=xn({modStrict_:function(e,t){var n=un(e,"a","modStrict"),r=un(t,"b","modStrict");return C(n.shape,r.shape,"Error in modStrict: "),n.mod(r)}}),Wl=xn({mul_:function(e,t){var n,r=un(e,"a","mul"),a=un(t,"b","mul");n=Se(r,a),r=n[0],a=n[1];var o=ca(r.shape,a.shape);return Re.runKernelFunc((function(e,t){var n=e.multiply(r,a);return t([r,a]),n}),{a:r,b:a},(function(e,t){var n=t[0],r=t[1];return{a:function(){var t=e.mul(r.toFloat()),a=ua(n.shape,o);return a.length>0?t.sum(a).reshape(n.shape):t},b:function(){var t=e.mul(n.toFloat()),a=ua(r.shape,o);return a.length>0?t.sum(a).reshape(r.shape):t}}}),"Mul")}}),Ul=xn({mulStrict_:function(e,t){var n=un(e,"a","mul"),r=un(t,"b","mul");return C(n.shape,r.shape,"Error in multiplyStrict: "),n.mul(r)}}),ql=xn({pow_:function(e,t){var n=un(e,"base","pow"),r=un(t,"exp","pow"),a=ca(n.shape,r.shape);return e=n.cast(Ee(n.dtype,r.dtype)),t=r.cast(Ee(n.dtype,r.dtype)),Re.runKernelFunc((function(e,t){var a=e.pow(n,r);return t([n,r,a]),a}),{$base:n,$exp:r},(function(e,t){var n=t[0],r=t[1],o=t[2];return{$base:function(){var t=r.toFloat(),o=e.mul(t.mul(n.pow(t.sub(On(1))))),i=ua(n.shape,a);return i.length>0&&(o=o.sum(i)),o.reshape(n.shape)},$exp:function(){var t=n.greater(0),i=n.log().where(t,Vn(n)),s=e.mul(o.mul(i)),l=ua(r.shape,a);return l.length>0&&(s=s.sum(l)),s.reshape(r.shape)}}}))}}),Gl=xn({powStrict_:function(e,t){return C(e.shape,t.shape,"Error in powStrict: "),e.pow(t)}}),Xl=xn({squaredDifference_:function(e,t){var n,r=un(e,"a","squaredDifference"),a=un(t,"b","squaredDifference");return n=Se(r,a),r=n[0],a=n[1],ca(r.shape,a.shape),Re.runKernelFunc((function(e,t){var n=e.squaredDifference(r,a);return t([r,a]),n}),{$a:r,$b:a},(function(e,t){var n=t[0],r=t[1],a=On(2);return{$a:function(){return e.mul(n.sub(r).mul(a))},$b:function(){return e.mul(r.sub(n).mul(a))}}}))}}),Yl=xn({squaredDifferenceStrict_:function(e,t){var n=un(e,"a","squaredDifferenceStrict"),r=un(t,"b","squaredDifferenceStrict");return C(n.shape,r.shape,"Error in squaredDifferenceStrict: "),n.squaredDifference(r)}}),Kl=xn({sub_:function(e,t){var n,r=un(e,"a","sub"),a=un(t,"b","sub");n=Se(r,a),r=n[0],a=n[1];var o=ca(r.shape,a.shape);return Re.runKernelFunc((function(e){return e.subtract(r,a)}),{a:r,b:a},(function(e){return{a:function(){var t=e,n=ua(r.shape,o);return n.length>0&&(t=t.sum(n)),t.reshape(r.shape)},b:function(){var t=e,n=ua(a.shape,o);return n.length>0&&(t=t.sum(n)),t.neg().reshape(a.shape)}}}),"Sub")}}),Jl=xn({subStrict_:function(e,t){var n=un(e,"a","subStrict"),r=un(t,"b","subStrict");return C(n.shape,r.shape,"Error in subStrict: "),n.sub(r)}}),Ql=xn({equal_:function(e,t){var n,r=un(e,"a","equal"),a=un(t,"b","equal");return n=Se(r,a),r=n[0],a=n[1],ca(r.shape,a.shape),Re.runKernelFunc((function(e){return e.equal(r,a)}),{$a:r,$b:a})}}),Zl=xn({equalStrict_:function(e,t){var n=un(e,"a","equalStrict"),r=un(t,"b","equalStrict");return C(n.shape,r.shape,"Error in equalStrict: "),n.equal(r)}}),eu=xn({greater_:function(e,t){var n,r=un(e,"a","greater"),a=un(t,"b","greater");return n=Se(r,a),r=n[0],a=n[1],ca(r.shape,a.shape),Re.runKernelFunc((function(e){return e.greater(r,a)}),{$a:r,$b:a})}}),tu=xn({greaterEqual_:function(e,t){var n,r=un(e,"a","greaterEqual"),a=un(t,"b","greaterEqual");return n=Se(r,a),r=n[0],a=n[1],ca(r.shape,a.shape),Re.runKernelFunc((function(e,t){var n=e.greaterEqual(r,a);return t([r,a]),n}),{$a:r,$b:a},(function(e,t){var n=t[0],r=t[1];return{$a:function(){return Vn(n)},$b:function(){return Vn(r)}}}))}}),nu=xn({greaterEqualStrict_:function(e,t){var n=un(e,"a","greaterEqualStrict"),r=un(t,"b","greaterEqualStrict");return C(n.shape,r.shape,"Error in greaterEqualStrict: "),n.greaterEqual(r)}}),ru=xn({greaterStrict_:function(e,t){var n=un(e,"a","greaterStrict"),r=un(t,"b","greaterStrict");return C(n.shape,r.shape,"Error in greaterStrict: "),n.greater(r)}}),au=xn({less_:function(e,t){var n,r=un(e,"a","less"),a=un(t,"b","less");return n=Se(r,a),r=n[0],a=n[1],ca(r.shape,a.shape),Re.runKernelFunc((function(e){return e.less(r,a)}),{$a:r,$b:a})}}),ou=xn({lessEqual_:function(e,t){var n,r=un(e,"a","lessEqual"),a=un(t,"b","lessEqual");return n=Se(r,a),r=n[0],a=n[1],ca(r.shape,a.shape),Re.runKernelFunc((function(e){return e.lessEqual(r,a)}),{$a:r,$b:a})}}),iu=xn({lessEqualStrict_:function(e,t){var n=un(e,"a","lessEqualStrict"),r=un(t,"b","lessEqualStrict");return C(n.shape,r.shape,"Error in lessEqualStrict: "),n.lessEqual(r)}}),su=xn({lessStrict_:function(e,t){var n=un(e,"a","lessStrict"),r=un(t,"b","lessStrict");return C(n.shape,r.shape,"Error in lessStrict: "),n.less(r)}}),lu=xn({notEqual_:function(e,t){var n,r=un(e,"a","notEqual"),a=un(t,"b","notEqual");return n=Se(r,a),r=n[0],a=n[1],ca(r.shape,a.shape),Re.runKernelFunc((function(e){return e.notEqual(r,a)}),{$a:r,$b:a})}}),uu=xn({notEqualStrict_:function(e,t){var n=un(e,"a","notEqualStrict"),r=un(t,"b","notEqualStrict");return C(n.shape,r.shape,"Error in notEqualStrict: "),n.notEqual(r)}});function cu(e,t){for(var n=[],r=e;r<t;++r)n.push(r);return n}function pu(e){for(var t=[],n=0;n<e.length;++n)for(var r=0;r<e[n].length;++r)t.push(e[n][r]);return t}var du=xn({gather_:function(e,t,n){void 0===n&&(n=0);var r=un(e,"x","gather"),a=un(t,"indices","gather","int32");n=M(n,r.shape)[0];var o=function(e,t,n){for(var r=e.shape[n],a=[],o=1,i=1,s=0;s<n;s++)a.push(e.shape[s]),o*=e.shape[s];for(s=0;s<t.rank;s++)a.push(t.shape[s]);for(s=n+1;s<e.rank;s++)a.push(e.shape[s]),i*=e.shape[s];return{batchSize:o,sliceSize:i,dimSize:r,outputShape:a}}(r,a,n);return Re.runKernelFunc((function(e,t){var o=e.gather(r,a.flatten(),n);return t([a]),o}),{$x:r},(function(e,t){var a=t[0];return{$x:function(){var t=r.shape,o=a.size,i=t.slice(0,n),s=i.length,l=t.slice(n,t.length).slice(1),u=l.length,c=cu(0,s),p=cu(s+1,s+1+u),d=pu([i,[o],l]),f=e.reshape(d),h=a.reshape([o]),v=pu([[s],c,p]),m=f.transpose(v),g=fu(m,h,r.shape[n]),b=gn(v);return g.transpose(b)}}})).reshape(o.outputShape)}}),fu=xn({unsortedSegmentSum_:function(e,t,n){var r=un(e,"x","unsortedSegmentSum"),a=un(t,"segmentIds","unsortedSegmentSum","int32");return x(O(n),(function(){return"numSegments must be of dtype int"})),Re.runKernelFunc((function(e,t){var o=e.unsortedSegmentSum(r,a,n);return t([a]),o}),{$x:r},(function(e,t){var n=t[0];return{$x:function(){return function(e,t){for(var n=zl(t,Vn(t)),r=du(e,n),a=tu(t,On(0,"int32")),o=r.rank-a.rank,i=0;i<o;++i)a=fr(a,i+1);a=Sl(a,Dn(r.shape,"bool"));var s=Vn(r);return Nl(a,r,s)}(e,n)}}}))}}),hu=function(e,t,n){return i(this,void 0,void 0,(function(){var r,a,o,i,l,u,c,p,d,f,h,v,m;return s(this,(function(s){switch(s.label){case 0:for(r=un(e,"tensor","boolMask"),a=un(t,"mask","boolMask","bool"),o=null==n?0:n,i=a.rank,l=r.shape,x(i>0,(function(){return"mask cannot be scalar"})),C(l.slice(o,o+i),a.shape,"mask's shape must match the first K dimensions of tensor's shape,"),u=1,c=o;c<o+i;c++)u*=l[c];return p=l.slice(0,o).concat([u],l.slice(o+i)),d=r.reshape(p),f=a.reshape([-1]),[4,Al(f)];case 1:return h=s.sent(),v=h.squeeze([1]),m=du(d,v,o),e!==r&&r.dispose(),t!==a&&a.dispose(),v.dispose(),d.dispose(),f.dispose(),h.dispose(),[2,m]}}))}))};function vu(e,t,n,r,a,o,i){void 0===o&&(o="NHWC"),x(e.length===t.rank,(function(){return"Length of inShape ("+e.length+") and rank of dy ("+t.rank+") must match"}));var s=e,l=t,u=!1;3===t.rank&&(u=!0,l=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]),s=[1,e[0],e[1],e[2]]),x(4===s.length,(function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+s.length+"."})),x(4===l.rank,(function(){return"Error in conv2dDerInput: dy must be rank 4, but got rank "+l.rank})),x(4===n.rank,(function(){return"Error in conv2dDerInput: filter must be rank 4, but got rank "+n.rank}));var c="NHWC"===o?s[3]:s[1],p="NHWC"===o?l.shape[3]:l.shape[1];x(c===n.shape[2],(function(){return"Error in conv2dDerInput: depth of input ("+c+") must match input depth for filter "+n.shape[2]+"."})),x(p===n.shape[3],(function(){return"Error in conv2dDerInput: depth of output ("+p+") must match output depth for filter "+n.shape[3]+"."})),null!=i&&x(O(a),(function(){return"Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+a+"."}));var d=Ca(o),f=fa(s,n.shape,r,1,a,i,!1,d),h=Re.runKernelFunc((function(e,t){var r=e.conv2dDerInput(l,n,f);return t([n,l]),r}),{dy4D:l,filter:n},(function(e,t){var n=t[0],s=t[1];return{dy4D:function(){return yu(e,n,r,a,o,1,i)},filter:function(){return xu(e,s,n.shape,r,a,o,i)}}}));return u?h.as3D(h.shape[1],h.shape[2],h.shape[3]):h}function mu(e){var t=function(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}(e),n=t[0],r=t[1],a=t[2];return 1===n&&1===r&&1===a}function gu(e,t,n,r,a){x(e.length===t.rank,(function(){return"Length of inShape ("+e.length+") and rank of dy ("+t.rank+") must match"}));var o=e,i=t,s=!1;4===t.rank&&(s=!0,i=t.as5D(1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]),o=[1,e[0],e[1],e[2],e[3]]);var l=o[4],u=i.shape[4];x(5===o.length,(function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+o.length+"."})),x(5===i.rank,(function(){return"Error in conv3dDerInput: dy must be rank 5, but got rank "+i.rank})),x(5===n.rank,(function(){return"Error in conv3dDerInput: filter must be rank 5, but got rank "+n.rank})),x(l===n.shape[3],(function(){return"Error in conv3dDerInput: depth of input ("+l+") must match input depth for filter "+n.shape[3]+"."})),x(u===n.shape[4],(function(){return"Error in conv3dDerInput: depth of output ("+u+") must match output depth for filter "+n.shape[4]+"."}));var c=ha(o,n.shape,r,1,a),p=Re.runKernelFunc((function(e){return e.conv3dDerInput(i,n,c)}),{dy5D:i});return s?p.as4D(p.shape[1],p.shape[2],p.shape[3],p.shape[4]):p}var bu=xn({conv1d_:function(e,t,n,r,a,o,i){void 0===a&&(a="NWC"),void 0===o&&(o=1);var s=un(e,"x","conv1d"),l=un(t,"filter","conv1d"),u=s,c=!1;2===s.rank&&(c=!0,u=s.as3D(1,s.shape[0],s.shape[1])),x(3===u.rank,(function(){return"Error in conv1d: input must be rank 3, but got rank "+u.rank+"."})),x(3===l.rank,(function(){return"Error in conv1d: filter must be rank 3, but got rank "+l.rank+"."})),null!=i&&x(O(r),(function(){return"Error in conv1d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+r+"."})),x(u.shape[2]===l.shape[1],(function(){return"Error in conv1d: depth of input ("+u.shape[2]+") must match input depth for filter "+l.shape[1]+"."})),x(xa(n,o),(function(){return"Error in conv1D: Either stride or dilation must be 1. Got stride "+n+" and dilation '"+o+"'"})),x("NWC"===a,(function(){return"Error in conv1d: got dataFormat of "+a+" but only NWC is currently supported."}));var p=l.as4D(1,l.shape[0],l.shape[1],l.shape[2]),d=u.as4D(u.shape[0],1,u.shape[1],u.shape[2]),f=yu(d,p,[1,n],r,"NHWC",[1,o],i);return c?f.as2D(f.shape[2],f.shape[3]):f.as3D(f.shape[0],f.shape[2],f.shape[3])}}),yu=xn({conv2d_:function(e,t,n,r,a,o,i){void 0===a&&(a="NHWC"),void 0===o&&(o=[1,1]);var s=un(e,"x","conv2d"),l=un(t,"filter","conv2d"),u=s,c=!1;3===s.rank&&(c=!0,u=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),x(4===u.rank,(function(){return"Error in conv2d: input must be rank 4, but got rank "+u.rank+"."})),x(4===l.rank,(function(){return"Error in conv2d: filter must be rank 4, but got rank "+l.rank+"."})),null!=i&&x(O(r),(function(){return"Error in conv2d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+r+"."}));var p="NHWC"===a?u.shape[3]:u.shape[1];x(p===l.shape[2],(function(){return"Error in conv2d: depth of input ("+p+") must match input depth for filter "+l.shape[2]+"."})),x(xa(n,o),(function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+o+"'"}));var d=Ca(a),f=fa(u.shape,l.shape,n,o,r,i,!1,d),h=Re.runKernelFunc((function(e,t){var n=e.conv2d(u,l,f);return t([l,u]),n}),{x:u,$filter:l},(function(e,t){var i=t,s=i[0],l=i[1];return x(wa(o),(function(){return"Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+o+"'"})),{x:function(){return Cu(l.shape,e,s,n,r,a)},$filter:function(){return xu(l,e,s.shape,n,r,a)}}}));return c?h.as3D(h.shape[1],h.shape[2],h.shape[3]):h}}),wu=xn({conv3d_:function(e,t,n,r,a,o){void 0===a&&(a="NDHWC"),void 0===o&&(o=[1,1,1]);var i=un(e,"x","conv3d"),s=un(t,"filter","conv3d"),l=i,u=!1;4===i.rank&&(u=!0,l=i.as5D(1,i.shape[0],i.shape[1],i.shape[2],i.shape[3])),x(5===l.rank,(function(){return"Error in conv3d: input must be rank 5, but got rank "+l.rank+"."})),x(5===s.rank,(function(){return"Error in conv3d: filter must be rank 5, but got rank "+s.rank+"."})),x(l.shape[4]===s.shape[3],(function(){return"Error in conv3d: depth of input ("+l.shape[4]+") must match input depth for filter "+s.shape[3]+"."})),x(function(e,t){return mu(e)||mu(t)}(n,o),(function(){return"Error in conv3D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+o+"'"})),x("NDHWC"===a,(function(){return"Error in conv3d: got dataFormat of "+a+" but only NDHWC is currently supported."}));var c=ha(l.shape,s.shape,n,o,r),p=Re.runKernelFunc((function(e,t){var n=e.conv3d(l,s,c);return t([l,s]),n}),{x:l,$filter:s},(function(e,t){x(mu(o),(function(){return"Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+o+"'"}));var a=t[0],i=t[1];return{x:function(){return gu(a.shape,e,i,n,r)},$filter:function(){return function(e,t,n,r,a){var o=e;4===e.rank&&(o=e.as5D(1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]));var i=t;4===i.rank&&(i=t.as5D(1,t.shape[0],t.shape[1],t.shape[2],t.shape[3])),x(5===o.rank,(function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape "+o.shape+"."})),x(5===i.rank,(function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape "+i.shape+"."})),x(5===n.length,(function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got "+n+"."})),x(o.shape[4]===n[3],(function(){return"Error in conv3dDerFilter: depth of input "+o.shape[4]+") must match input depth in filter ("+n[3]+"."})),x(i.shape[4]===n[4],(function(){return"Error in conv3dDerFilter: depth of dy ("+i.shape[4]+") must match output depth for filter ("+n[4]+")."}));var s=ha(o.shape,n,r,1,a);return Re.runKernelFunc((function(e){return e.conv3dDerFilter(o,i,s)}),{x5D:o,dy5D:i})}(a,e,i.shape,n,r)}}}));return u?p.as4D(p.shape[1],p.shape[2],p.shape[3],p.shape[4]):p}}),xu=xn({conv2dDerFilter_:function(e,t,n,r,a,o,i){void 0===o&&(o="NHWC");var s=e;3===e.rank&&(s=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var l=t;3===l.rank&&(l=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),x(4===s.rank,(function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+s.shape+"."})),x(4===l.rank,(function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+l.shape+"."})),x(4===n.length,(function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+n+"."}));var u="NHWC"===o?s.shape[3]:s.shape[1],c="NHWC"===o?l.shape[3]:l.shape[1];x(u===n[2],(function(){return"Error in conv2dDerFilter: depth of input "+u+") must match input depth in filter ("+n[2]+"."})),x(c===n[3],(function(){return"Error in conv2dDerFilter: depth of dy ("+c+") must match output depth for filter ("+n[3]+")."})),null!=i&&x(O(a),(function(){return"Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+a+"."}));var p=Ca(o),d=fa(s.shape,n,r,1,a,i,!1,p);return Re.runKernelFunc((function(e){return e.conv2dDerFilter(s,l,d)}),{x4D:s,dy4D:l})}}),Cu=xn({conv2dDerInput_:vu}),Eu=xn({depthwiseConv2d_:function(e,t,n,r,a,o,i){void 0===a&&(a="NHWC"),void 0===o&&(o=[1,1]);var s=un(e,"x","depthwiseConv2d"),l=un(t,"filter","depthwiseConv2d"),u=s,c=!1;3===s.rank&&(c=!0,u=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),x(4===u.rank,(function(){return"Error in depthwiseConv2d: input must be rank 4, but got rank "+u.rank+"."})),x(4===l.rank,(function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+l.rank+"."})),x(u.shape[3]===l.shape[2],(function(){return"Error in depthwiseConv2d: number of input channels ("+u.shape[3]+") must match the inChannels dimension in filter "+l.shape[2]+"."})),null==o&&(o=[1,1]),x(xa(n,o),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+o+"'"})),null!=i&&x(O(r),(function(){return"Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+r+"."}));var p=fa(u.shape,l.shape,n,o,r,i,!0),d=Re.runKernelFunc((function(e,t){var n=e.depthwiseConv2D(u,l,p);return t([u,l]),n}),{x:u,$filter:l},(function(e,t){x(wa(o),(function(){return"Error in gradient of depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+o+"'"}));var n=t[0],r=t[1];return{x:function(){return ku(n.shape,e,r,p)},$filter:function(){return Su(n,e,r.shape,p)}}}));return c?d.as3D(d.shape[1],d.shape[2],d.shape[3]):d}}),ku=xn({depthwiseConv2dDerInput_:function(e,t,n,r){var a=t,o=!1;3===t.rank&&(o=!0,a=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var i=Re.runKernelFunc((function(e){return e.depthwiseConv2DDerInput(a,n,r)}),{dy4D:a});return o?i.as3D(i.shape[1],i.shape[2],i.shape[3]):i}}),Su=xn({depthwiseConv2dDerFilter_:function(e,t,n,r){var a=e;3===e.rank&&(a=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var o=t;return 3===o.rank&&(o=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),Re.runKernelFunc((function(e){return e.depthwiseConv2DDerFilter(a,o,r)}),{x4D:a,dy4D:o})}}),Tu=xn({separableConv2d_:function(e,t,n,r,a,o,i){void 0===o&&(o=[1,1]),void 0===i&&(i="NHWC");var s=un(e,"x","separableConv2d"),l=un(t,"depthwiseFilter","separableConv2d"),u=un(n,"pointwiseFilter","separableConv2d"),c=s,p=!1;if(3===s.rank&&(p=!0,c=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),"NCHW"===i)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");x(4===c.rank,(function(){return"Error in separableConv2d: input must be rank 4, but got rank "+c.rank+"."})),x(4===l.rank,(function(){return"Error in separableConv2d: depthwise filter must be rank 4, but got rank "+l.rank+"."})),x(4===u.rank,(function(){return"Error in separableConv2d: pointwise filter must be rank 4, but got rank "+l.rank+"."})),x(1===u.shape[0],(function(){return"Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got "+u.shape[0]+"."})),x(1===u.shape[1],(function(){return"Error in separableConv2d: the second dimension of pointwise filter must be 1, but got "+u.shape[1]+"."}));var d=l.shape[2],f=l.shape[3];x(u.shape[2]===d*f,(function(){return"Error in separableConv2d: the third dimension of pointwise filter must be "+d*f+", but got "+u.shape[2]+"."}));var h=Eu(c,l,r,a,i,o),v=yu(h,u,1,"valid",i);return p?v.as3D(v.shape[1],v.shape[2],v.shape[3]):v}}),Ou=xn({conv2dTranspose_:function(e,t,n,r,a,o){return vu(n,un(e,"x","conv2dTranspose"),un(t,"filter","conv2dTranspose"),r,a,"NHWC",o)}}),Iu=xn({conv3dTranspose_:function(e,t,n,r,a){return gu(n,un(e,"x","conv3dTranspose"),un(t,"filter","conv3dTranspose"),r,a)}}),Nu=xn({matMul_:function(e,t,n,r){var a;void 0===n&&(n=!1),void 0===r&&(r=!1);var o=un(e,"a","matMul"),i=un(t,"b","matMul");a=Se(o,i),o=a[0],i=a[1];var s=n?o.shape[o.rank-2]:o.shape[o.rank-1],l=r?i.shape[i.rank-1]:i.shape[i.rank-2],u=n?o.shape[o.rank-1]:o.shape[o.rank-2],c=r?i.shape[i.rank-2]:i.shape[i.rank-1],p=o.shape.slice(0,-2),d=i.shape.slice(0,-2),f=S(p),h=S(d);x(o.rank>=2&&i.rank>=2&&o.rank===i.rank,(function(){return"Error in matMul: inputs must have the same rank of at least 2, got ranks "+o.rank+" and "+i.rank+"."})),x(T(p,d),(function(){return"Error in matMul: outer dimensions ("+p+") and ("+d+") of Tensors with shapes "+o.shape+" and "+i.shape+" must match."})),x(s===l,(function(){return"Error in matMul: inner shapes ("+s+") and ("+l+") of Tensors with shapes "+o.shape+" and "+i.shape+" and transposeA="+n+" and transposeB="+r+" must match."}));var v=o.shape.slice(0,-2).concat([u,c]),m=n?o.as3D(f,s,u):o.as3D(f,u,s),g=r?i.as3D(h,c,l):i.as3D(h,l,c),b={transposeA:n,transposeB:r};return Re.runKernelFunc((function(e,t){var a=e.batchMatMul(m,g,n,r);return t([m,g]),a}),{a:m,b:g},(function(e,t){var a=t,o=a[0],i=a[1];return n||r?!n&&r?{a:function(){return e.matMul(i,!1,!1)},b:function(){return e.matMul(o,!0,!1)}}:n&&!r?{a:function(){return i.matMul(e,!1,!0)},b:function(){return o.matMul(e,!1,!1)}}:{a:function(){return i.matMul(e,!0,!0)},b:function(){return e.matMul(o,!0,!0)}}:{a:function(){return e.matMul(i,!1,!0)},b:function(){return o.matMul(e,!0,!1)}}}),"BatchMatMul",b).reshape(v)}}),Au=xn({dot_:function(e,t){var n=un(e,"t1","dot"),r=un(t,"t2","dot");x(!(1!==n.rank&&2!==n.rank||1!==r.rank&&2!==r.rank),(function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+n.rank+" and "+r.rank+"."}));var a=1===n.rank?n.size:n.shape[1],o=1===r.rank?r.size:r.shape[0];return x(a===o,(function(){return"Error in dot: inner dimensions of inputs must match, but got "+a+" and "+o+"."})),1===n.rank&&1===r.rank?n.as2D(1,-1).matMul(r.as2D(-1,1)).asScalar():1===n.rank&&2===r.rank?n.as2D(1,-1).matMul(r.as2D(r.shape[0],r.shape[1])).as1D():2===n.rank&&1===r.rank?n.matMul(r.as2D(-1,1)).as1D():n.matMul(r.as2D(r.shape[0],r.shape[1]))}}),_u=xn({outerProduct_:function(e,t){var n=un(e,"v1","outerProduct"),r=un(t,"v2","outerProduct");return x(1===n.rank&&1===r.rank,(function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+n.rank+" and "+r.rank+"."})),n.as2D(-1,1).matMul(r.as2D(1,-1))}}),Ru=xn({reverse_:function(e,t){var n=un(e,"x","reverse");if(0===n.rank)return n.clone();var r=M(t,n.shape);return Re.runKernelFunc((function(e){return e.reverse(n,r)}),{$x:n},(function(e){return{$x:function(){return e.reverse(r)}}})).reshapeAs(n)}}),Mu=xn({reverse1d_:function(e){var t=un(e,"x","reverse");return x(1===t.rank,(function(){return"Error in reverse1D: x must be rank 1 but got rank "+t.rank+"."})),Ru(t,0)}}),Pu=xn({reverse2d_:function(e,t){var n=un(e,"x","reverse");return x(2===n.rank,(function(){return"Error in reverse2D: x must be rank 2 but got rank "+n.rank+"."})),Ru(n,t)}}),Du=xn({reverse3d_:function(e,t){var n=un(e,"x","reverse");return x(3===n.rank,(function(){return"Error in reverse3D: x must be rank 3 but got rank "+n.rank+"."})),Ru(n,t)}}),Bu=xn({reverse4d_:function(e,t){var n=un(e,"x","reverse");return x(4===n.rank,(function(){return"Error in reverse4D: x must be rank 4 but got rank "+n.rank+"."})),Ru(n,t)}});function Lu(e,t,n,r,a,o){var i=un(e,"x","maxPool"),s=i,l=!1;3===i.rank&&(l=!0,s=i.as4D(1,i.shape[0],i.shape[1],i.shape[2])),null==r&&(r=[1,1]),x(4===s.rank,(function(){return"Error in maxPool: input must be rank 4 but got rank "+s.rank+"."})),x(xa(n,r),(function(){return"Error in maxPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"})),null!=o&&x(O(a),(function(){return"Error in maxPool: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+a+"."}));var u=pa(s.shape,t,n,r,a,o),c=Re.runKernelFunc((function(e,t){var n=e.maxPool(s,u);return t([s,n]),n}),{x:s},(function(e,o){var i=o[0],s=o[1];return{x:function(){return function(e,t,n,r,a,o,i,s){var l=un(e,"dy","maxPoolBackprop"),u=un(t,"input","maxPoolBackprop"),c=un(n,"output","maxPoolBackprop");x(u.rank===l.rank,(function(){return"Rank of input ("+u.rank+") does not match rank of dy ("+l.rank+")"})),null==o&&(o=[1,1]),x(xa(a,o),(function(){return"Error in maxPoolBackProp: Either strides or dilations must be 1. Got strides "+a+" and dilations '"+o+"'"})),x(4===l.rank,(function(){return"Error in maxPoolBackprop: dy must be rank 4 but got rank "+l.rank+"."})),x(4===u.rank,(function(){return"Error in maxPoolBackprop: input must be rank 4 but got rank "+u.rank+"."}));var p=pa(u.shape,r,a,o,i,s);return Re.runKernelFunc((function(e){return e.maxPoolBackprop(l,u,c,p)}),{$dy:l,$input:u})}(e,i,s,t,n,r,a)}}}));return l?c.as3D(c.shape[1],c.shape[2],c.shape[3]):c}function zu(e,t,n,r,a,o){var i=un(e,"x","avgPool","float32");null==r&&(r=[1,1]),x(xa(n,r),(function(){return"Error in avgPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"}));var s=i,l=!1;3===i.rank&&(l=!0,s=i.as4D(1,i.shape[0],i.shape[1],i.shape[2])),x(4===s.rank,(function(){return"Error in avgPool: x must be rank 4 but got rank "+s.rank+"."})),null!=o&&x(O(a),(function(){return"Error in avgPool: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+a+"."}));var u=pa(s.shape,t,n,r,a,o),c=Re.runKernelFunc((function(e){return e.avgPool(s,u)}),{x:s},(function(e){return{x:function(){return function(e,t,n,r,a,o){var i=un(e,"dy","avgPoolBackprop"),s=un(t,"input","avgPoolBackprop");x(s.rank===i.rank,(function(){return"Rank of input ("+s.rank+") does not match rank of dy ("+i.rank+")"})),null==a&&(a=[1,1]),x(xa(r,a),(function(){return"Error in avgPoolBackprop: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+a+"'"}));var l=s,u=i,c=!1;3===s.rank&&(c=!0,l=s.as4D(1,s.shape[0],s.shape[1],s.shape[2]),u=i.as4D(1,i.shape[0],i.shape[1],i.shape[2])),x(4===u.rank,(function(){return"Error in avgPoolBackprop: dy must be rank 4 but got rank "+u.rank+"."})),x(4===l.rank,(function(){return"Error in avgPoolBackprop: input must be rank 4 but got rank "+l.rank+"."}));var p=pa(l.shape,n,r,a,o),d=Re.runKernelFunc((function(e){return e.avgPoolBackprop(u,l,p)}),{dy4D:u,input4D:l});return c?d.as3D(d.shape[1],d.shape[2],d.shape[3]):d}(e,s,t,n,r,a)}}}));return c=c.cast(i.dtype),l?c.as3D(c.shape[1],c.shape[2],c.shape[3]):c}var Fu=xn({maxPool_:function(e,t,n,r,a){return Lu(e,t,n,1,r,a)}}),$u=xn({avgPool_:function(e,t,n,r,a){return zu(e,t,n,1,r,a)}}),Vu=xn({pool_:function(e,t,n,r,a,o){null==a&&(a=[1,1]),null==o&&(o=1),0===r&&(r="valid");var i=un(e,"x","maxPool"),s=i,l=!1;3===i.rank&&(l=!0,s=i.as4D(1,i.shape[0],i.shape[1],i.shape[2])),x(xa(o,a),(function(){return"Error in pool: Either strides or dilations must be 1. Got strides "+o+" and dilations '"+a+"'"}));var u,c=pa(s.shape,t,o,a,r),p=[c.dilationHeight,c.dilationWidth];u="same"===r?function(e,t){var n=e.map((function(e,n){return e+(e-1)*(t[n]-1)})).map((function(e){return e-1})),r=n.map((function(e){return Math.floor(e/2)})),a=n.map((function(e,t){return e-r[t]}));return n.map((function(e,t){return[r[t],a[t]]}))}([c.filterHeight,c.filterWidth],p):[[0,0],[0,0]];var d=1===p[0]&&1===p[1],f=function(e,t,n){var r=n.map((function(e){return e[0]})),a=n.map((function(e){return e[1]})),o=e.concat(r,a),i=t.map((function(e,t){return(e-o[t]%e)%e})),s=a.map((function(e,t){return e+i[t]}));return[t.map((function(e,t){return[r[t],s[t]]})),t.map((function(e,t){return[0,i[t]]}))]}([c.inHeight,c.inWidth],p,u),h=f[0],v=f[1],m=d?r:"valid",g=d?s:Or(s,p,h),b=("avg"===n?function(){return zu(g,t,o,1,m)}:function(){return Lu(g,t,o,1,m)})(),y=d?b:lr(b,p,v);return l?y.as3D(y.shape[1],y.shape[2],y.shape[3]):y}}),ju=xn({maxPool3d_:function(e,t,n,r,a,o,i){void 0===o&&(o="NDHWC");var s=un(e,"x","maxPool3d"),l=s,u=!1;4===s.rank&&(u=!0,l=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),null==i&&(i=[1,1,1]),x(5===l.rank,(function(){return"Error in maxPool3d: x must be rank 5 but got rank "+l.rank+"."})),x("NDHWC"===o,(function(){return"Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of "+o})),x(xa(n,i),(function(){return"Error in maxPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+i+"'"})),null!=a&&x(O(r),(function(){return"Error in maxPool3d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."}));var c=da(l.shape,t,n,i,r,a,o),p=Re.runKernelFunc((function(e,t){var n=e.maxPool3d(l,c);return t([l,n]),n}),{x:l},(function(e,o){var s=o[0],l=o[1];return{x:function(){return function(e,t,n,r,a,o,i,s){var l=un(e,"dy","maxPool3dBackprop"),u=un(t,"input","maxPool3dBackprop"),c=un(n,"output","maxPool3dBackprop"),p=l,d=u,f=c,h=!1;4===u.rank&&(h=!0,p=l.as5D(1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]),d=u.as5D(1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]),f=c.as5D(1,c.shape[0],c.shape[1],c.shape[2],c.shape[3])),x(5===p.rank,(function(){return"Error in maxPool3dBackprop: dy must be rank 5 but got rank "+p.rank+"."})),x(5===d.rank,(function(){return"Error in maxPool3dBackprop: input must be rank 5 but got rank "+d.rank+"."})),x(5===f.rank,(function(){return"Error in maxPool3dBackprop: output must be rank 5 but got rank "+f.rank+"."})),null==o&&(o=[1,1,1]),x(xa(a,o),(function(){return"Error in maxPool3dBackprop: Either strides or dilations must be 1. Got strides "+a+" and dilations '"+o+"'"})),null!=s&&x(O(i),(function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+s+" but got pad "+i+"."}));var v=da(d.shape,r,a,o,i,s),m=Re.runKernelFunc((function(e){return e.maxPool3dBackprop(p,d,f,v)}),{dy5D:p,input5D:d});return h?m.as4D(m.shape[1],m.shape[2],m.shape[3],m.shape[4]):m}(e,s,l,t,n,i,r,a)}}}));return u?p.as4D(p.shape[1],p.shape[2],p.shape[3],p.shape[4]):p}}),Hu=xn({avgPool3d_:function(e,t,n,r,a,o,i){void 0===o&&(o="NDHWC");var s=un(e,"x","avgPool3d","float32"),l=s,u=!1;4===s.rank&&(u=!0,l=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),null==i&&(i=[1,1,1]),x(5===l.rank,(function(){return"Error in avgPool3d: x must be rank 5 but got rank "+l.rank+"."})),x("NDHWC"===o,(function(){return"Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of "+o})),x(xa(n,i),(function(){return"Error in avgPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+i+"'"})),null!=a&&x(O(r),(function(){return"Error in avgPool3d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."}));var c=da(l.shape,t,n,i,r,a,o),p=Re.runKernelFunc((function(e){return e.avgPool3d(l,c)}),{x:l},(function(e){return{x:function(){return function(e,t,n,r,a,o,i){var s=un(e,"dy","avgPool3dBackprop"),l=un(t,"input","avgPool3dBackprop"),u=s,c=l,p=!1;4===l.rank&&(p=!0,u=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]),c=l.as5D(1,l.shape[0],l.shape[1],l.shape[2],l.shape[3])),x(5===u.rank,(function(){return"Error in avgPool3dBackprop: dy must be rank 5 but got rank "+u.rank+"."})),x(5===c.rank,(function(){return"Error in avgPool3dBackprop: input must be rank 5 but got rank "+c.rank+"."})),null==a&&(a=[1,1,1]),x(xa(r,a),(function(){return"Error in avgPool3dBackprop: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+a+"'"})),null!=i&&x(O(o),(function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+o+"."}));var d=da(c.shape,n,r,a,o,i),f=Re.runKernelFunc((function(e){return e.avgPool3dBackprop(u,c,d)}),{dy5D:u,input5D:c});return p?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}(e,l,t,n,i,r,a)}}}));return p=p.cast(l.dtype),u?p.as4D(p.shape[1],p.shape[2],p.shape[3],p.shape[4]):p}}),Wu=xn({slice_:function(e,t,n){var r,a,o=un(e,"x","slice");if(0===o.rank)throw new Error("Slicing scalar is not possible");(r="number"==typeof t?[t].concat(new Array(o.rank-1).fill(0)):t.length<o.rank?t.concat(new Array(o.rank-t.length).fill(0)):t.slice()).forEach((function(e){x(-1!==e,(function(){return"slice() does not support negative begin indexing."}))})),a=(a=null==n?new Array(o.rank).fill(-1):"number"==typeof n?[n].concat(new Array(o.rank-1).fill(-1)):n.length<o.rank?n.concat(new Array(o.rank-n.length).fill(-1)):n).map((function(e,t){return e>=0?e:(x(-1===e,(function(){return"Negative size values should be exactly -1 but got "+e+" for the slice() size at index "+t+"."})),o.shape[t]-r[t])})),jr(o,r,a);var i=o.shape,s={begin:r,size:a};return Re.runKernelFunc((function(e){return e.slice(o,r,a)}),{x:o},(function(e){for(var t=[],n=0;n<e.rank;n++)t.push([r[n],i[n]-r[n]-a[n]]);return{x:function(){return e.pad(t)}}}),"Slice",s)}}),Uu=xn({slice1d_:function(e,t,n){var r=un(e,"x","slice1d");return x(1===r.rank,(function(){return"slice1d expects a rank-1 tensor, but got a rank-"+r.rank+" tensor"})),Wu(r,[t],[n])}}),qu=xn({slice2d_:function(e,t,n){var r=un(e,"x","slice2d");return x(2===r.rank,(function(){return"slice2d expects a rank-2 tensor, but got a rank-"+r.rank+" tensor"})),Wu(r,t,n)}}),Gu=xn({slice3d_:function(e,t,n){var r=un(e,"x","slice3d");return x(3===r.rank,(function(){return"slice3d expects a rank-3 tensor, but got a rank-"+r.rank+" tensor"})),Wu(r,t,n)}}),Xu=xn({slice4d_:function(e,t,n){var r=un(e,"x","slice4d");return x(4===r.rank,(function(){return"slice4d expects a rank-4 tensor, but got a rank-"+r.rank+" tensor"})),Wu(r,t,n)}});function Yu(e,t,n,r,a){return t.rank<n.rank&&(t=t.reshape(hn(t.shape,r))),e.rank<n.rank&&(e=e.reshape(hn(e.shape,r))),{$x:function(){var r=e.mul(n.equal(t).cast(e.dtype));return null==a?r:r.transpose(a)}}}var Ku=xn({all_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=un(e,"x","all","bool"),a=M(t,r.shape),o=a,i=mn(o,r.rank);null!=i&&(r=r.transpose(i),o=bn(o.length,r.rank));var s=Re.runKernelFunc((function(e){return e.all(r,o)}),{$x:r});if(n){var l=hn(s.shape,a);return s.reshape(l)}return s}}),Ju=xn({any_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=un(e,"x","any","bool"),a=M(t,r.shape),o=a,i=mn(o,r.rank);null!=i&&(r=r.transpose(i),o=bn(o.length,r.rank));var s=Re.runKernelFunc((function(e){return e.any(r,o)}),{$x:r});if(n){var l=hn(s.shape,a);return s.reshape(l)}return s}}),Qu=xn({argMax_:function(e,t){void 0===t&&(t=0);var n=un(e,"x","argMax");null==t&&(t=0);var r=M(t,n.shape),a=mn(r,n.rank);return null!=a&&(n=n.transpose(a),r=bn(r.length,n.rank)),Re.runKernelFunc((function(e,t){var a=e.argMax(n,r[0]);return t([n]),a}),{$x:n},(function(e,t){var n=t[0];return{$x:function(){return Vn(n)}}}))}}),Zu=xn({argMin_:function(e,t){void 0===t&&(t=0);var n=un(e,"x","argMin");null==t&&(t=0);var r=M(t,n.shape),a=mn(r,n.rank);return null!=a&&(n=n.transpose(a),r=bn(r.length,n.rank)),Re.runKernelFunc((function(e,t){var a=e.argMin(n,r[0]);return t([n]),a}),{$x:n},(function(e,t){var n=t[0];return{$x:function(){return Vn(n)}}}))}}),ec=xn({logSumExp_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=un(e,"x","logSumExp"),a=M(t,r.shape),o=r.max(a,!0),i=r.sub(o).exp().sum(a).log(),s=o.reshape(i.shape).add(i);if(n){var l=hn(s.shape,a);return s.reshape(l)}return s}}),tc=xn({max_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=un(e,"x","max"),a=r,o=M(t,r.shape),i=o,s=mn(i,r.rank);null!=s&&(r=r.transpose(s),i=bn(i.length,r.rank));var l=Re.runKernelFunc((function(e,t){var n=e.max(r,i);return t([a,n]),n}),{$x:r},(function(e,t){return Yu(e,t[1],t[0],o,s)}));if(n){var u=hn(l.shape,o);l=l.reshape(u)}return l}}),nc=xn({mean_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=un(e,"x","mean"),a=M(t,r.shape),o=S(fn(r.shape,a)[1]);return ta((function(e){var r=On(o);return{value:(r.dtype===e.dtype?e:e.cast(r.dtype)).div(r).sum(t,n),gradFunc:function(t){var n=e.shape.slice();return a.forEach((function(e){n[e]=1})),t.reshape(n).mul(Dn(e.shape,"float32")).div(o)}}}))(r)}}),rc=xn({min_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=un(e,"x","min"),a=r,o=M(t,r.shape),i=o,s=mn(i,r.rank);null!=s&&(r=r.transpose(s),i=bn(i.length,r.rank));var l=Re.runKernelFunc((function(e,t){var n=e.min(r,i);return t([a,n]),n}),{$x:r},(function(e,t){return Yu(e,t[1],t[0],o,s)}));if(n){var u=hn(l.shape,o);l=l.reshape(u)}return l}}),ac=xn({moments_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=M(t,(e=un(e,"x","moments")).shape),a=e.mean(r,n),o=a.shape;n||(o=hn(a.shape,r));var i=e.toFloat().sub(a.reshape(o)).square();return{mean:a,variance:i.mean(r,n)}}}),oc=xn({sum_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=un(e,"x","sum");"bool"===r.dtype&&(r=r.toInt());var a=M(t,r.shape);return ta((function(e){var t=mn(a,e.rank),r=a,o=e;null!=t&&(o=e.transpose(t),r=bn(r.length,e.rank));var i=Re.runKernelFunc((function(e){return e.sum(o,r)}),{permutedX:o});if(n){var s=hn(i.shape,a);i=i.reshape(s)}return{value:i,gradFunc:function(t){var n=e.shape.slice();return a.forEach((function(e){n[e]=1})),t.reshape(n).mul(Dn(e.shape,"float32"))}}}))(r)}}),ic=xn({prod_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=un(e,"x","prod");"bool"===r.dtype&&(r=r.toInt());var a=M(t,r.shape),o=mn(a,r.rank),i=a,s=r;null!=o&&(s=r.transpose(o),i=bn(i.length,r.rank));var l=Re.runKernelFunc((function(e){return e.prod(s,i)}),{permutedX:s});if(n){var u=hn(l.shape,a);l=l.reshape(u)}return l}}),sc=xn({elu_:function(e){var t=un(e,"x","elu");return Re.runKernelFunc((function(e,n){var r=e.elu(t);return n([r]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return Re.runKernelFunc((function(t){return t.eluDer(e,n)}),{dy:e,y:n})}}}))}}),lc=xn({leakyRelu_:function(e,t){void 0===t&&(t=.2);var n=un(e,"x","leakyRelu");return zl(On(t).mul(n),n)}}),uc=xn({prelu_:function(e,t){var n=un(e,"x","prelu"),r=un(t,"alpha","prelu");return Re.runKernelFunc((function(e,t){var a=e.prelu(n,r);return t([n,r]),a}),{x:n,alpha:r},(function(e,t){var n=t[0],r=t[1],a=n.greater(0);return{x:function(){return Nl(a,e,e.mul(r))},alpha:function(){var t=Nl(a,Vn(e),e.mul(n)),o=ua(r.shape,e.shape);return o.length>0&&(t=t.sum(o)),t.reshape(r.shape)}}}),"Prelu")}}),cc=xn({relu_:function(e){var t=un(e,"x","relu");return"bool"===t.dtype?t.toInt():Re.runKernelFunc((function(e,n){var r=e.relu(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.mulStrict(n.step().toFloat())}}}))}}),pc=xn({relu6_:function(e){var t=un(e,"x","relu6");return"bool"===t.dtype?t.toInt():Re.runKernelFunc((function(e,n){var r=e.relu6(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0],r=n.lessEqual(6).mul(n.step());return{$x:function(){return e.mulStrict(r.toFloat())}}}))}}),dc=xn({selu_:function(e){var t=un(e,"x","selu");return Re.runKernelFunc((function(e,n){var r=e.selu(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){var t=n.greater(On(0)),r=On(Zi),a=On(es),o=e.mul(a),i=e.mul(r).mul(n.toFloat().exp());return Nl(t,o,i)}}}))}}),fc=xn({transpose_:function(e,t){var n=un(e,"x","transpose");return null==t&&(t=n.shape.map((function(e,t){return t})).reverse()),x(n.rank===t.length,(function(){return"Error in transpose: rank of input "+n.rank+" must match length of perm "+t+"."})),t.forEach((function(e){x(e>=0&&e<n.rank,(function(){return"All entries in 'perm' must be between 0 and "+(n.rank-1)+" but got "+t}))})),n.rank<=1?n.clone():Re.runKernelFunc((function(e){return e.transpose(n,t)}),{$x:n},(function(e){var n=gn(t);return{$x:function(){return e.transpose(n)}}}))}}),hc=xn({localResponseNormalization_:function(e,t,n,r,a){void 0===t&&(t=5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===a&&(a=.5);var o=un(e,"x","localResponseNormalization");x(4===o.rank||3===o.rank,(function(){return"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank "+o.rank+"."})),x(O(t),(function(){return"Error in localResponseNormalization: depthRadius must be an integer but got depthRadius "+t+"."}));var i=o,s=!1;3===o.rank&&(s=!0,i=o.as4D(1,o.shape[0],o.shape[1],o.shape[2]));var l=Re.runKernelFunc((function(e,o){var s=e.localResponseNormalization4D(i,t,n,r,a);return o([i,s]),s}),{x4D:i},(function(e,o){var i=o[0],s=o[1];return{x4D:function(){return Re.runKernelFunc((function(o){return o.LRNGrad(e,i,s,t,n,r,a)}),{})}}}));return s?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l}}),vc=xn({norm_:function(e,t,n,r){void 0===t&&(t="euclidean"),void 0===n&&(n=null),void 0===r&&(r=!1);var a=function e(t,n,r){if(void 0===r&&(r=null),0===t.rank)return t.abs();if(1!==t.rank&&null===r)return e(t.reshape([-1]),n,r);if(1===t.rank||"number"==typeof r||Array.isArray(r)&&1===r.length){if(1===n)return t.abs().sum(r);if(n===1/0)return t.abs().max(r);if(n===-1/0)return t.abs().min(r);if("euclidean"===n||2===n)return t.abs().pow(On(2,"int32")).sum(r).sqrt();throw new Error("Error in norm: invalid ord value: "+n)}if(Array.isArray(r)&&2===r.length){if(1===n)return t.abs().sum(r[0]).max(r[1]-1);if(n===1/0)return t.abs().sum(r[1]).max(r[0]);if(n===-1/0)return t.abs().sum(r[1]).min(r[0]);if("fro"===n||"euclidean"===n)return t.square().sum(r).sqrt();throw new Error("Error in norm: invalid ord value: "+n)}throw new Error("Error in norm: invalid axis: "+r)}(e=un(e,"x","norm"),t,n),o=a.shape;if(r){var i=M(n,e.shape);o=hn(a.shape,i)}return a.reshape(o)}}),mc=xn({basicLSTMCell_:function(e,t,n,r,a,o){var i=un(e,"forgetBias","basicLSTMCell"),s=un(t,"lstmKernel","basicLSTMCell"),l=un(n,"lstmBias","basicLSTMCell"),u=un(r,"data","basicLSTMCell"),c=un(a,"c","basicLSTMCell"),p=un(o,"h","basicLSTMCell"),d=u.concat(p,1).matMul(s).add(l),f=d.shape[0],h=d.shape[1]/4,v=[f,h],m=d.slice([0,0],v),g=d.slice([0,h],v),b=d.slice([0,2*h],v),y=d.slice([0,3*h],v),w=m.sigmoid().mulStrict(g.tanh()).addStrict(c.mulStrict(i.add(b).sigmoid())),x=w.tanh().mulStrict(y.sigmoid());return[w,x]}}),gc=xn({multiRNNCell_:function(e,t,n,r){for(var a=un(t,"data","multiRNNCell"),o=cn(n,"c","multiRNNCell"),i=cn(r,"h","multiRNNCell"),s=a,l=[],u=0;u<e.length;u++){var c=e[u](s,o[u],i[u]);l.push(c[0]),l.push(c[1]),s=c[1]}var p=[],d=[];for(u=0;u<l.length;u+=2)p.push(l[u]),d.push(l[u+1]);return[p,d]}}),bc=xn({movingAverage_:function(e,t,n,r,a){void 0===a&&(a=!0);var o=un(e,"v","movingAverage"),i=un(t,"x","movingAverage"),s=un(n,"decay","movingAverage");Te(o,i),x(T(o.shape,i.shape),(function(){return"Shape mismatch in v and x"}));var l=On(1),u=l.sub(s),c=i.sub(o).mul(u);if(a){x(null!=r,(function(){return"When using zeroDebias: true, step is required."}));var p=un(r,"step","movingAverage");c=c.div(l.sub(ql(s,p)))}return o.add(c)}}),yc=xn({stridedSlice_:function(e,t,n,r,a,o,i,s,l){if(void 0===a&&(a=0),void 0===o&&(o=0),void 0===i&&(i=0),void 0===s&&(s=0),void 0===l&&(l=0),null==r&&(r=new Array(t.length)),0!==i)throw new Error("ellipsis mask is not yet supported");var u=un(e,"x","stridedSlice"),c=Hr(s),p=u.shape.slice();c.forEach((function(e){t[e]=0,n[e]=1,p.splice(e,0,1)})),u=u.reshape(p);for(var d=0;d<u.rank;d++)t[d]=Ur(a,t,r,u.shape,d),n[d]=qr(o,n,r,u.shape,d),r[d]=r[d]||1;var f=Hr(l);f.forEach((function(e){n[e]=t[e]+1,r[e]=1}));var h=Wr(t,n,r),v=h.filter((function(e,t){return-1===f.indexOf(t)}));return r.every((function(e){return 1===e}))?Wu(u,t,h).reshape(v):Re.runKernelFunc((function(e){return e.stridedSlice(u,t,n,r)}),{$x:u}).reshape(v)}}),wc=xn({topk_:function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=!0);var r=un(e,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");var a=r.shape[r.shape.length-1];if(t>a)throw new Error("'k' passed to topk() must be <= the last dimension ("+a+") but got "+t);var o=Re.runKernelFunc((function(e){return e.topk(r,t,n)}),{$x:r});return{values:o[0],indices:o[1]}}}),xc=xn({scatterND_:function(e,t,n){var r=un(e,"indices","scatterND","int32"),a=un(t,"updates","scatterND");return function(e,t,n){if(t.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher, but the rank was "+t.rank+".");if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher, but the rank was "+e.rank+".");if("int32"!==t.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: "+t.dtype);if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: "+n);if(0===n.length){if(0===t.size)throw new Error("Indices specified for empty output. indices shape: "+t.shape);if(0===e.size)throw new Error("Updates specified for empty output. updates shape: "+e.shape)}!function(e,t,n){var r=t.rank>1?t.shape[t.rank-1]:1,a=t.rank>1?t.rank-1:1,o="Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: "+n.shape+", indices.shape: "+t.shape+", shape: "+e+", sliceDim: "+r+", and batchDim: "+a+".";if(n.rank<a)throw new Error(o+" update.rank < "+a+". ");if(e.length<r+(n.rank-a))throw new Error(o+" Output shape length < "+(r+(n.rank-a)));if(n.rank!==a+e.length-r)throw new Error(o+" update.rank != "+(a+e.length-r));for(var i=0;i<a;++i)if(n.shape[i]!==t.shape[i])throw new Error(o+" updates.shape["+i+"] ("+n.shape[i]+") != indices.shape["+i+"] ("+t.shape[i]+").");for(i=0;i<n.rank-a;++i)if(n.shape[i+a]!==e[i+r])throw new Error(o+" updates.shape["+(i+a)+"] ("+n.shape[i+a]+") != shape["+(i+a)+"] ("+e[i+a]+")")}(n,t,e)}(a,r,n),Re.runKernelFunc((function(e){return e.scatterND(r,a,n)}),{$indices:r,$updates:a})}}),Cc=xn({fft_:function(e){x("complex64"===e.dtype,(function(){return"The dtype for tf.spectral.fft() must be complex64 but got "+e.dtype+"."}));var t=e.shape[e.shape.length-1],n=e.size/t,r=e.as2D(n,t);return Re.runKernelFunc((function(e){return e.fft(r)}),{input:e}).reshape(e.shape)}}),Ec=xn({ifft_:function(e){x("complex64"===e.dtype,(function(){return"The dtype for tf.spectral.ifft() must be complex64 but got "+e.dtype+"."}));var t=e.shape[e.shape.length-1],n=e.size/t,r=e.as2D(n,t);return Re.runKernelFunc((function(e){return e.ifft(r)}),{input:e}).reshape(e.shape)}}),kc=xn({rfft_:function(e,t){x("float32"===e.dtype,(function(){return"The dtype for rfft() must be real value but got "+e.dtype}));var n,r=e.shape[e.shape.length-1],a=e.size/r;if(null!=t&&t<r){var o=e.shape.map((function(e){return 0})),i=e.shape.map((function(e){return e}));i[e.shape.length-1]=t,n=e.slice(o,i),r=t}else if(null!=t&&t>r){var s=e.shape.map((function(e){return e}));s[e.shape.length-1]=t-r,n=e.concat(Bn(s),e.shape.length-1),r=t}else n=e;var l=n.zerosLike(),u=Cn(n,l).as2D(a,r),c=Cc(u),p=Math.floor(r/2)+1,d=En(c),f=kn(c),h=d.split([p,r-p],d.shape.length-1),v=f.split([p,r-p],f.shape.length-1),m=n.shape.slice();return m[n.shape.length-1]=p,Cn(h[0],v[0]).reshape(m)}}),Sc=xn({irfft_:function(e){var t=e.shape[e.shape.length-1],n=e.size/t;if(t<=2){var r=e.as2D(n,t),a=Ec(r);return En(a)}var o=[n,2*(t-1)],i=En(e).as2D(n,t),s=kn(e).as2D(n,t),l=i.slice([0,1],[n,t-2]).reverse(1),u=s.slice([0,1],[n,t-2]).reverse(1).mul(On(-1)),c=i.concat(l,1),p=s.concat(u,1);return r=Cn(c,p).as2D(o[0],o[1]),a=Ec(r),En(a)}}),Tc=Object.freeze({fft:Cc,ifft:Ec,rfft:kc,irfft:Sc}),Oc=xn({sparseToDense_:function(e,t,n,r){void 0===r&&(r=0);var a=un(e,"sparseIndices","sparseToDense","int32"),o=un(t,"sparseValues","sparseToDense"),i=un(r,"defaultValue","sparseToDense",o.dtype);return function(e,t,n,r){if("int32"!==e.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type, but the dtype was "+e.dtype+".");if(e.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix, but got shape "+e.shape+".");var a=e.rank>0?e.shape[0]:1,o=e.rank>1?e.shape[1]:1;if(n.length!==o)throw new Error("outputShape has incorrect number of elements:, "+n.length+", should be: "+o+".");var i=t.size;if(0!==t.rank&&(1!==t.rank||i!==a))throw new Error("sparseValues has incorrect shape "+t.shape+", should be [] or ["+a+"]");if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(a,o,n,i),Re.runKernelFunc((function(e){return e.sparseToDense(a,o,n,i)}),{$sparseIndices:a,$sparseValues:o,$defaultValue:i})}}),Ic=xn({gatherND_:function(e,t){var n=un(t,"indices","gatherND","int32"),r=un(e,"x","gatherND");return Re.runKernelFunc((function(e){return e.gatherND(r,n)}),{$x:r,$indices:n})}}),Nc=xn({diag_:function(e){var t=un(e,"x","diag").flatten(),n=e.shape.concat(e.shape);return Re.runKernelFunc((function(e){return e.diag(t)}),{$x:t}).reshape(n)}}),Ac=xn({dropout_:function(e,t,n,r){var a=un(e,"x","dropout");if(x("float32"===a.dtype,(function(){return"x has to be a floating point tensor since it's going to be scaled, but got a "+a.dtype+" tensor instead."})),x(t>=0&&t<1,(function(){return"rate must be a float in the range [0, 1), but got "+t+"."})),0===t)return e instanceof ve?a.clone():a;var o=function(e,t){if(null==t)return e.shape.slice();if(T(e.shape,t))return t;if(e.shape.length===t.length){for(var n=[],r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(a,n),i=1-t,s=Sr(o,0,1,"float32",r).add(i).floor().div(i);return a.mul(s)}});function _c(e,t,n){for(var r=1-e%2,a=new Float32Array(e),o=0;o<e;++o){var i=2*Math.PI*o/(e+r-1);a[o]=t-n*Math.cos(i)}return In(a,"float32")}var Rc,Mc=xn({hannWindow_:function(e){return _c(e,.5,.5)}}),Pc=xn({hammingWindow_:function(e){return _c(e,.54,.46)}}),Dc=xn({frame_:function(e,t,n,r,a){void 0===r&&(r=!1),void 0===a&&(a=0);for(var o=0,i=[];o+t<=e.size;)i.push(Wu(e,o,t)),o+=n;if(r)for(;o<e.size;){var s=o+t-e.size,l=jn([Wu(e,o,t-s),Ln([s],a)]);i.push(l),o+=n}return 0===i.length?Nn([],[0,t]):jn(i).as2D(i.length,t)}}),Bc=xn({stft_:function(e,t,n,r,a){var o;void 0===a&&(a=Mc),null==r&&(o=t,r=Math.floor(Math.pow(2,Math.ceil(Math.log(o)/Math.log(2)))));for(var i=Dc(e,t,n),s=Wl(i,a(t)),l=[],u=0;u<i.shape[0];u++)l.push(kc(s.slice([u,0],[1,t]),r));return jn(l)}}),Lc=Object.freeze({hannWindow:Mc,hammingWindow:Pc,frame:Dc,stft:Bc}),zc=function(e,t,n){return void 0===n&&(n=1),i(this,void 0,void 0,(function(){var r,a,o,i,l,u,c,p,d,f,h,v,m,g;return s(this,(function(s){switch(s.label){case 0:return r=un(e,"predictions","inTopK"),a=un(t,"targets","inTopK"),x(r.rank>1,(function(){return"inTopK() expects the predictions to be of rank 2 or higher, but got "+r.rank})),x(r.rank-1===a.rank,(function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+r.rank+" and targets rank "+a.rank})),C(r.shape.slice(0,r.shape.length-1),a.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),o=r.shape[r.shape.length-1],x(n>0&&n<=o,(function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last dimension ("+o+"), but got "+n})),[4,r.data()];case 1:return i=s.sent(),[4,a.data()];case 2:for(l=s.sent(),u=[i.length/o,o],p=u[1],d=D("bool",c=u[0]),f=0;f<c;f++){for(h=f*p,v=i.subarray(h,h+p),m=[],g=0;g<v.length;g++)m.push({value:v[g],index:g});for(m.sort((function(e,t){return t.value-e.value})),d[f]=0,g=0;g<n;g++)if(m[g].index===l[f]){d[f]=1;break}}return e!==r&&r.dispose(),t!==a&&a.dispose(),[2,Sn(d,a.shape,"bool")]}}))}))};!function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(Rc||(Rc={}));var Fc=xn({absoluteDifference_:function(e,t,n,r){void 0===r&&(r=Rc.SUM_BY_NONZERO_WEIGHTS);var a=un(e,"labels","absoluteDifference"),o=un(t,"predictions","absoluteDifference"),i=null;null!=n&&(i=un(n,"weights","absoluteDifference")),C(a.shape,o.shape,"Error in absoluteDifference: ");var s=a.sub(o).abs();return $c(s,i,r)}}),$c=xn({computeWeightedLoss_:function(e,t,n){void 0===n&&(n=Rc.SUM_BY_NONZERO_WEIGHTS);var r=un(e,"losses","computeWeightedLoss"),a=null;null!=t&&(a=un(t,"weights","computeWeightedLoss"));var o=null==a?r:r.mul(a);if(n===Rc.NONE)return o;if(n===Rc.SUM)return o.sum();if(n===Rc.MEAN){if(null==a)return o.mean();var i=r.size/a.size,s=o.sum().div(a.sum());return i>1?s.div(On(i)):s}if(n===Rc.SUM_BY_NONZERO_WEIGHTS){if(null==a)return o.sum().div(On(r.size));var l=a.mul(Dn(r.shape)).notEqual(On(0)).sum().toFloat();return o.sum().div(l)}throw Error("Unknown reduction: "+n)}}),Vc=xn({cosineDistance_:function(e,t,n,r,a){void 0===a&&(a=Rc.SUM_BY_NONZERO_WEIGHTS);var o=un(e,"labels","cosineDistance"),i=un(t,"predictions","cosineDistance"),s=null;null!=r&&(s=un(r,"weights","cosineDistance")),C(o.shape,i.shape,"Error in cosineDistance: ");var l=On(1).sub(o.mul(i).sum(n,!0));return $c(l,s,a)}}),jc=xn({hingeLoss_:function(e,t,n,r){void 0===r&&(r=Rc.SUM_BY_NONZERO_WEIGHTS);var a=un(e,"labels","hingeLoss"),o=un(t,"predictions","hingeLoss"),i=null;null!=n&&(i=un(n,"weights","hingeLoss")),C(a.shape,o.shape,"Error in hingeLoss: ");var s=On(1);a=On(2).mul(a).sub(s);var l=s.sub(a.mul(o)).relu();return $c(l,i,r)}}),Hc=xn({huberLoss_:function(e,t,n,r,a){void 0===r&&(r=1),void 0===a&&(a=Rc.SUM_BY_NONZERO_WEIGHTS);var o=un(e,"labels","huberLoss"),i=un(t,"predictions","huberLoss"),s=null;null!=n&&(s=un(n,"weights","huberLoss")),C(o.shape,i.shape,"Error in huberLoss: ");var l=On(r),u=i.sub(o).abs(),c=$l(u,l),p=u.sub(c),d=On(.5).mul(c.square()).add(l.mul(p));return $c(d,s,a)}}),Wc=xn({logLoss_:function(e,t,n,r,a){void 0===r&&(r=1e-7),void 0===a&&(a=Rc.SUM_BY_NONZERO_WEIGHTS);var o=un(e,"labels","logLoss"),i=un(t,"predictions","logLoss"),s=null;null!=n&&(s=un(n,"weights","logLoss")),C(o.shape,i.shape,"Error in logLoss: ");var l=On(1),u=On(r),c=o.mul(i.add(u).log()).neg().sub(l.sub(o).mul(l.sub(i).add(u).log()));return $c(c,s,a)}}),Uc=xn({meanSquaredError_:function(e,t,n,r){void 0===r&&(r=Rc.SUM_BY_NONZERO_WEIGHTS);var a=un(e,"labels","meanSquaredError"),o=un(t,"predictions","meanSquaredError"),i=null;null!=n&&(i=un(n,"weights","meanSquaredError")),C(a.shape,o.shape,"Error in meanSquaredError: ");var s=a.squaredDifference(o);return $c(s,i,r)}}),qc=xn({sigmoidCrossEntropy_:function(e,t,n,r,a){void 0===r&&(r=0),void 0===a&&(a=Rc.SUM_BY_NONZERO_WEIGHTS);var o=un(e,"multiClassLabels","sigmoidCrossEntropy"),i=un(t,"logits","sigmoidCrossEntropy"),s=null;if(null!=n&&(s=un(n,"weights","sigmoidCrossEntropy")),C(o.shape,i.shape,"Error in sigmoidCrossEntropy: "),r>0){var l=On(r),u=On(1),c=On(.5);o=o.mul(u.sub(l)).add(c.mul(l))}var p=function(e,t){var n=un(e,"labels","sigmoidCrossEntropyWithLogits"),r=un(t,"logits","sigmoidCrossEntropyWithLogits");C(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");var a=r.relu(),o=r.mul(n),i=r.abs().neg().exp().log1p();return a.sub(o).add(i)}(o,i);return $c(p,s,a)}}),Gc=xn({softmaxCrossEntropy_:function(e,t,n,r,a){void 0===r&&(r=0),void 0===a&&(a=Rc.SUM_BY_NONZERO_WEIGHTS);var o=un(e,"onehotLabels","softmaxCrossEntropy"),i=un(t,"logits","softmaxCrossEntropy"),s=null;if(null!=n&&(s=un(n,"weights","softmaxCrossEntropy")),C(o.shape,i.shape,"Error in softmaxCrossEntropy: "),r>0){var l=On(r),u=On(1),c=On(o.shape[1]);o=o.mul(u.sub(l)).add(l.div(c))}var p=function(e,t,n){if(void 0===n&&(n=-1),-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank "+t.rank+" and dim was "+n);return ta((function(e,t,r){var a=t.logSumExp([n],!0),o=t.toFloat().sub(a);return r([e,o]),{value:o.mul(e).neg().sum([n]),gradFunc:function(e,t){var r=t[0],a=t[1],o=hn(e.shape,[n]);return[e.reshape(o).mul(r.toFloat().sub(a.exp())),e.reshape(o).mul(a.exp().sub(r.toFloat()))]}}}))(e,t)}(o,i);return $c(p,s,a)}}),Xc=Object.freeze({get Reduction(){return Rc},absoluteDifference:Fc,computeWeightedLoss:$c,cosineDistance:Vc,hingeLoss:jc,huberLoss:Hc,logLoss:Wc,meanSquaredError:Uc,sigmoidCrossEntropy:qc,softmaxCrossEntropy:Gc});function Yc(e,t){return void 0===t&&(t=!1),Re.tidy((function(){if(2!==e.shape.length)throw new Error("qr2d() requires a 2D Tensor, but got a "+e.shape.length+"D Tensor.");for(var n=e.shape[0],r=e.shape[1],a=hr(n),o=e.clone(),i=Nn([[1]],[1,1]),s=i.clone(),l=n>=r?r:n,u=function(e){var t,l=o,u=s,c=a;t=Re.tidy((function(){var t=o.slice([e,e],[n-e,1]),l=t.norm(),u=o.slice([e,e],[1,1]),c=Nn([[-1]]).where(u.greater(0),Nn([[1]])),p=u.sub(c.mul(l)),d=t.div(p);s=1===d.shape[0]?i.clone():i.concat(d.slice([1,0],[d.shape[0]-1,d.shape[1]]),0);var f=c.matMul(p).div(l).neg(),h=o.slice([e,0],[n-e,r]),v=f.mul(s);if(0===e)o=h.sub(v.matMul(s.transpose().matMul(h)));else{var m=h.sub(v.matMul(s.transpose().matMul(h)));o=o.slice([0,0],[e,r]).concat(m,0)}var g=a.slice([0,e],[n,a.shape[1]-e]);if(0===e)a=g.sub(g.matMul(s).matMul(v.transpose()));else{var b=g.sub(g.matMul(s).matMul(v.transpose()));a=a.slice([0,0],[n,e]).concat(b,1)}return[s,o,a]})),s=t[0],o=t[1],a=t[2],Gt([l,u,c])},c=0;c<l;++c)u(c);return!t&&n>r&&(a=a.slice([0,0],[n,r]),o=o.slice([0,0],[r,r])),[a,o]}))}var Kc=xn({gramSchmidt_:function(e){var t;if(Array.isArray(e)){t=!1,x(null!=e&&e.length>0,(function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"}));for(var n=e[0].shape[0],r=function(t){x(e[t].shape[0]===n,(function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: ("+e[t].shape[0]+" vs. "+n+")"}))},a=1;a<e.length;++a)r(a)}else t=!0,e=Gn(e,e.shape[0],0).map((function(e){return Ir(e,[0])}));x(e.length<=e[0].shape[0],(function(){return"Gram-Schmidt: Number of vectors ("+e.length+") exceeds number of dimensions ("+e[0].shape[0]+")."}));var o=[],i=e,s=function(e){o.push(Re.tidy((function(){var t=i[e];if(e>0)for(var n=0;n<e;++n){var r=oc(o[n].mulStrict(t)).mul(o[n]);t=t.sub(r)}return t.div(vc(t,"euclidean"))})))};for(a=0;a<e.length;++a)s(a);return t?Nr(o,0):o}}),Jc=xn({qr_:function(e,t){if(void 0===t&&(t=!1),e.rank<2)throw new Error("qr() requires input tensor to have a rank >= 2, but got rank "+e.rank);if(2===e.rank)return Yc(e,t);var n=e.shape.slice(0,e.shape.length-2).reduce((function(e,t){return e*t})),r=Rr(e.reshape([n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),a=[],o=[];return r.forEach((function(e){var n=Yc(e,t),r=n[0],i=n[1];a.push(r),o.push(i)})),[Nr(a,0).reshape(e.shape),Nr(o,0).reshape(e.shape)]}}),Qc=Object.freeze({gramSchmidt:Kc,qr:Jc});function Zc(e,t,n,r,a){null==r&&(r=.5),null==a&&(a=Number.NEGATIVE_INFINITY);var o=e.shape[0];return n=Math.min(n,o),x(0<=r&&r<=1,(function(){return"iouThreshold must be in [0, 1], but was '"+r+"'"})),x(2===e.rank,(function(){return"boxes must be a 2D tensor, but was of rank '"+e.rank+"'"})),x(4===e.shape[1],(function(){return"boxes must have 4 columns, but 2nd dimension was "+e.shape[1]})),x(1===t.rank,(function(){return"scores must be a 1D tensor"})),x(t.shape[0]===o,(function(){return"scores has incompatible shape with boxes. Expected "+o+", but was "+t.shape[0]})),{maxOutputSize:n,iouThreshold:r,scoreThreshold:a}}var ep=xn({resizeBilinear_:function(e,t,n){void 0===n&&(n=!1);var r=un(e,"images","resizeBilinear");x(3===r.rank||4===r.rank,(function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got rank "+r.rank+"."})),x(2===t.length,(function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+t+"."}));var a=r,o=!1;3===r.rank&&(o=!0,a=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var i=t[0],s=t[1],l=Re.runKernelFunc((function(e,t){return t([a]),e.resizeBilinear(a,i,s,n)}),{batchImages:a},(function(e,t){return{batchImages:function(){return Re.runKernelFunc((function(r){return r.resizeBilinearBackprop(e,t[0],n)}),{})}}}));return o?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l}}),tp=xn({resizeNearestNeighbor_:function(e,t,n){void 0===n&&(n=!1);var r=un(e,"images","resizeNearestNeighbor");x(3===r.rank||4===r.rank,(function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank "+r.rank+"."})),x(2===t.length,(function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+t+"."})),x("float32"===r.dtype||"int32"===r.dtype,(function(){return"`images` must have `int32` or `float32` as dtype"}));var a=r,o=!1;3===r.rank&&(o=!0,a=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var i=t[0],s=t[1],l=Re.runKernelFunc((function(e,t){return t([a]),e.resizeNearestNeighbor(a,i,s,n)}),{batchImages:a},(function(e,t){return{batchImages:function(){return Re.runKernelFunc((function(r){return r.resizeNearestNeighborBackprop(e,t[0],n)}),{})}}}));return o?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l}}),np=xn({nonMaxSuppression_:function(e,t,n,r,a){void 0===r&&(r=.5),void 0===a&&(a=Number.NEGATIVE_INFINITY);var o=un(e,"boxes","nonMaxSuppression"),i=un(t,"scores","nonMaxSuppression"),s=Zc(o,i,n,r,a);return n=s.maxOutputSize,r=s.iouThreshold,a=s.scoreThreshold,Re.runKernelFunc((function(e){return e.nonMaxSuppression(o,i,n,r,a)}),{$boxes:o})}}),rp=xn({cropAndResize_:function(e,t,n,r,a,o){var i=un(e,"image","cropAndResize","float32"),s=un(t,"boxes","cropAndResize","float32"),l=un(n,"boxInd","cropAndResize","int32");a=a||"bilinear",o=o||0;var u=s.shape[0];return x(4===i.rank,(function(){return"Error in cropAndResize: image must be rank 4,but got rank "+i.rank+"."})),x(2===s.rank&&4===s.shape[1],(function(){return"Error in cropAndResize: boxes must be have size ["+u+",4] but had shape "+s.shape+"."})),x(1===l.rank&&l.shape[0]===u,(function(){return"Error in cropAndResize: boxInd must be have size ["+u+"] but had shape "+s.shape+"."})),x(2===r.length,(function(){return"Error in cropAndResize: cropSize must be of length 2, but got length "+r.length+"."})),x(r[0]>=1&&r[1]>=1,(function(){return"cropSize must be atleast [1,1], but was "+r})),x("bilinear"===a||"nearest"===a,(function(){return"method must be bilinear or nearest, but was "+a})),Re.runKernelFunc((function(e,t){return e.cropAndResize(i,s,l,r,a,o)}),{$image:i,$boxes:s})}}),ap=Object.freeze({resizeBilinear:ep,resizeNearestNeighbor:tp,nonMaxSuppression:np,nonMaxSuppressionAsync:function(e,t,n,r,a){return void 0===r&&(r=.5),void 0===a&&(a=Number.NEGATIVE_INFINITY),i(this,void 0,void 0,(function(){var o,i,l,u,c,p,d;return s(this,(function(s){switch(s.label){case 0:return o=un(e,"boxes","nonMaxSuppressionAsync"),i=un(t,"scores","nonMaxSuppressionAsync"),l=Zc(o,i,n,r,a),n=l.maxOutputSize,r=l.iouThreshold,a=l.scoreThreshold,[4,Promise.all([o.data(),i.data()])];case 1:return u=s.sent(),c=u[0],p=u[1],d=_a(c,p,n,r,a),o!==e&&o.dispose(),i!==t&&i.dispose(),[2,d]}}))}))},cropAndResize:rp}),op=function(e,t){return!(e>0||"linear"!==t&&"relu"!==t)},ip=function(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return e.mul(t.step());throw new Error("Gradient for activation "+n+" has not been implemented yet.")},sp=function(e,t){var n=t,r=ua(e.shape,t.shape);return r.length>0&&(n=n.sum(r)),n.reshape(e.shape)},lp=function(e,t,n){if("linear"===t)return e;if("relu"===t)return cc(e);if("elu"===t)return sc(e);if("relu6"===t)return pc(e);if("prelu"===t)return uc(e,n);throw new Error("Unknown fused activation "+t+".")},up=xn({matMul_:function(e){var t,n=e.a,r=e.b,a=e.transposeA,o=void 0!==a&&a,i=e.transposeB,s=void 0!==i&&i,l=e.bias,u=e.activation,c=void 0===u?"linear":u,p=e.preluActivationWeights;if(!1===op(Re.state.gradientDepth,c)){var d=Nu(n,r,o,s);return null!=l&&(d=_l(d,l)),lp(d,c,p)}var f=un(n,"a","fused matMul"),h=un(r,"b","fused matMul");t=Se(f,h),f=t[0],h=t[1];var v=o?f.shape[f.rank-2]:f.shape[f.rank-1],m=s?h.shape[h.rank-1]:h.shape[h.rank-2],g=o?f.shape[f.rank-1]:f.shape[f.rank-2],b=s?h.shape[h.rank-2]:h.shape[h.rank-1],y=f.shape.slice(0,-2),w=h.shape.slice(0,-2),C=S(y),E=S(w);x(f.rank>=2&&h.rank>=2&&f.rank===h.rank,(function(){return"Error in fused matMul: inputs must have the same rank of at least 2, got ranks "+f.rank+" and "+h.rank+"."})),x(T(y,w),(function(){return"Error in fused matMul: outer dimensions ("+y+") and ("+w+") of Tensors with shapes "+f.shape+" and "+h.shape+" must match."})),x(v===m,(function(){return"Error in fused matMul: inner shapes ("+v+") and ("+m+") of Tensors with shapes "+f.shape+" and "+h.shape+" and transposeA="+o+" and transposeB="+s+" must match."}));var k,O,I=f.shape.slice(0,-2).concat([g,b]),N=o?f.as3D(C,v,g):f.as3D(C,g,v),A=s?h.as3D(E,b,m):h.as3D(E,m,b);null!=l&&ca(I,(k=Se(k=un(l,"bias","fused matMul"),f)[0]).shape),null!=p&&(O=un(p,"prelu weights","fused matMul"));var _={$a:N,$b:A};return null!=l&&(_.$bias=k),null!=p&&(_.$preluActivationWeights=O),Re.runKernelFunc((function(e,t){var n=e.fusedBatchMatMul({a:N,b:A,transposeA:o,transposeB:s,bias:k,activation:c,preluActivationWeights:O});return t([N,A,n]),n}),_,(function(e,t){var n=t[0],r=t[1],a=t[2],i=ip(e,a,c),u={};return null!=l&&(u={$bias:function(){return sp(k,i)}}),o||s?!o&&s?Object.assign({$a:function(){return i.matMul(r,!1,!1)},$b:function(){return i.matMul(n,!0,!1)}},u):o&&!s?Object.assign({$a:function(){return r.matMul(i,!1,!0)},$b:function(){return n.matMul(i,!1,!1)}},u):Object.assign({$a:function(){return r.matMul(i,!0,!0)},$b:function(){return i.matMul(n,!0,!0)}},u):Object.assign({$a:function(){return i.matMul(r,!1,!0)},$b:function(){return n.matMul(i,!0,!1)}},u)})).reshape(I)}}),cp=xn({conv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,a=e.pad,o=e.dataFormat,i=void 0===o?"NHWC":o,s=e.dilations,l=void 0===s?[1,1]:s,u=e.dimRoundingMode,c=e.bias,p=e.activation,d=void 0===p?"linear":p,f=e.preluActivationWeights;if(d=d||"linear",!1===op(Re.state.gradientDepth,d)){var h=yu(t,n,r,a,i,l,u);return null!=c&&(h=_l(h,c)),lp(h,d,f)}var v=un(t,"x","conv2d"),m=un(n,"filter","conv2d"),g=v,b=!1;3===v.rank&&(b=!0,g=v.as4D(1,v.shape[0],v.shape[1],v.shape[2])),x(4===g.rank,(function(){return"Error in fused conv2d: input must be rank 4, but got rank "+g.rank+"."})),x(4===m.rank,(function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+m.rank+"."})),null!=u&&x(O(a),(function(){return"Error in fused conv2d: pad must be an integer when using, dimRoundingMode "+u+" but got pad "+a+"."})),x(g.shape[3]===m.shape[2],(function(){return"Error in conv2d: depth of input ("+g.shape[3]+") must match input depth for filter "+m.shape[2]+"."})),x(xa(r,l),(function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+l+"'"})),x("NHWC"===i,(function(){return"Error in conv2d: got dataFormat of "+i+" but only NHWC is currently supported."}));var y,w,C=fa(g.shape,m.shape,r,l,a,u);null!=c&&(y=Se(y=un(c,"bias","fused conv2d"),v)[0],ca(C.outShape,y.shape)),null!=f&&(w=un(f,"prelu weights","fused conv2d"));var E={x:g,$filter:m};null!=c&&(E.$bias=y),null!=f&&(E.$preluActivationWeights=w);var k=Re.runKernelFunc((function(e,t){var n=e.fusedConv2d({input:g,filter:m,convInfo:C,bias:y,activation:d,preluActivationWeights:w});return t([m,g,n]),n}),E,(function(e,t){var n=t,o=n[0],i=n[1],s=n[2],u=ip(e,s,d);x(wa(l),(function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+l+"'"}));var p={};return null!=c&&(p={$bias:function(){return sp(y,u)}}),Object.assign({x:function(){return Cu(i.shape,u,o,r,a)},$filter:function(){return xu(i,u,o.shape,r,a)}},p)}));return b?k.as3D(k.shape[1],k.shape[2],k.shape[3]):k}}),pp=xn({depthwiseConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,a=e.pad,o=e.dataFormat,i=void 0===o?"NHWC":o,s=e.dilations,l=void 0===s?[1,1]:s,u=e.dimRoundingMode,c=e.bias,p=e.activation,d=void 0===p?"linear":p,f=e.preluActivationWeights;if(!1===op(Re.state.gradientDepth,d)){var h=Eu(t,n,r,a,i,l,u);return null!=c&&(h=_l(h,c)),lp(h,d,f)}var v=un(t,"x","depthwiseConv2d"),m=un(n,"filter","depthwiseConv2d"),g=v,b=!1;3===v.rank&&(b=!0,g=v.as4D(1,v.shape[0],v.shape[1],v.shape[2])),x(4===g.rank,(function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got rank "+g.rank+"."})),x(4===m.rank,(function(){return"Error in fused depthwiseConv2d: filter must be rank 4, but got rank "+m.rank+"."})),x(g.shape[3]===m.shape[2],(function(){return"Error in fused depthwiseConv2d: number of input channels ("+g.shape[3]+") must match the inChannels dimension in filter "+m.shape[2]+"."})),null==l&&(l=[1,1]),x(xa(r,l),(function(){return"Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+l+"'"})),null!=u&&x(O(a),(function(){return"Error in fused depthwiseConv2d: pad must be an integer when using dimRoundingMode "+u+" but got pad "+a+"."}));var y,w,C=fa(g.shape,m.shape,r,l,a,u,!0);null!=c&&(y=Se(y=un(c,"bias","fused conv2d"),v)[0],ca(C.outShape,y.shape)),null!=f&&(w=un(f,"prelu weights","fused depthwiseConv2d"));var E={x:g,$filter:m};null!=c&&(E.$bias=y),null!=f&&(E.$preluActivationWeights=w);var k=Re.runKernelFunc((function(e,t){var n=e.fusedDepthwiseConv2D({input:g,filter:m,convInfo:C,bias:y,activation:d,preluActivationWeights:w});return t([g,m,n]),n}),E,(function(e,t){x(wa(l),(function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+l+"'"}));var n=t[0],r=t[1],a=t[2],o=ip(e,a,d),i={};return null!=c&&(i={$bias:function(){return sp(y,o)}}),Object.assign({x:function(){return ku(n.shape,o,r,C)},$filter:function(){return Su(n,o,r.shape,C)}},i)}));return b?k.as3D(k.shape[1],k.shape[2],k.shape[3]):k}}),dp=Object.freeze({matMul:up,conv2d:cp,depthwiseConv2d:pp}),fp=Object.freeze({image:ap,linalg:Qc,losses:Xc,spectral:Tc,fused:dp,signal:Lc,square:As,conv1d:bu,conv2d:yu,conv3d:wu,depthwiseConv2d:Eu,separableConv2d:Tu,conv2dTranspose:Ou,conv3dTranspose:Iu,op:xn,batchNormalization2d:gl,batchNormalization3d:bl,batchNormalization4d:yl,batchNormalization:wl,batchNorm:xl,batchNorm2d:Cl,batchNorm3d:El,batchNorm4d:kl,booleanMaskAsync:hu,complex:Cn,real:En,imag:kn,concat:jn,concat1d:Hn,concat2d:Wn,concat3d:Un,concat4d:qn,split:Gn,matMul:Nu,dot:Au,outerProduct:_u,reverse:Ru,reverse1d:Mu,reverse2d:Pu,reverse3d:Du,reverse4d:Bu,maxPool:Fu,avgPool:$u,pool:Vu,maxPool3d:ju,avgPool3d:Hu,slice:Wu,slice1d:Uu,slice2d:qu,slice3d:Gu,slice4d:Xu,abs:_s,acos:Rs,acosh:Ms,asin:Ps,asinh:Ds,atan:Bs,atanh:Ls,ceil:zs,clipByValue:Fs,cos:$s,cosh:Vs,erf:js,exp:Hs,expm1:Ws,floor:Us,log:qs,log1p:Gs,logSigmoid:Xs,neg:Ys,reciprocal:Ks,round:Js,rsqrt:Qs,sigmoid:Zs,sign:el,isNaN:tl,isInf:nl,isFinite:rl,sin:al,sinh:ol,softplus:il,sqrt:sl,step:ll,tan:ul,tanh:cl,all:Ku,any:Ju,argMax:Qu,argMin:Zu,logSumExp:ec,max:tc,mean:nc,min:rc,moments:ac,sum:oc,prod:ic,equal:Ql,equalStrict:Zl,greater:eu,greaterEqual:tu,greaterEqualStrict:nu,greaterStrict:ru,less:au,lessEqual:ou,lessEqualStrict:iu,lessStrict:su,notEqual:lu,notEqualStrict:uu,add:_l,addN:Rl,addStrict:Ml,atan2:Pl,div:Dl,divStrict:Bl,floorDiv:Ll,maximum:zl,maximumStrict:Fl,minimum:$l,minimumStrict:Vl,mod:jl,modStrict:Hl,mul:Wl,mulStrict:Ul,pow:ql,powStrict:Gl,squaredDifference:Xl,squaredDifferenceStrict:Yl,sub:Kl,subStrict:Jl,elu:sc,leakyRelu:lc,prelu:uc,relu:cc,relu6:pc,selu:dc,logicalAnd:Sl,logicalNot:Tl,logicalOr:Ol,logicalXor:Il,where:Nl,whereAsync:Al,buffer:ir,print:sr,batchToSpaceND:lr,cast:ur,clone:cr,cumsum:pr,depthToSpace:dr,expandDims:fr,eye:hr,multinomial:vr,oneHot:mr,pad:gr,pad1d:br,pad2d:yr,pad3d:wr,pad4d:xr,rand:Cr,randomNormal:Er,randomGamma:kr,randomUniform:Sr,reshape:Tr,spaceToBatchND:Or,squeeze:Ir,stack:Nr,tile:Ar,truncatedNormal:_r,unstack:Rr,setdiff1dAsync:Mr,fill:Ln,linspace:zn,ones:Dn,range:Fn,scalar:On,tensor:Sn,tensor1d:In,tensor2d:Nn,tensor3d:An,tensor4d:_n,tensor5d:Rn,tensor6d:Mn,variable:Pn,zeros:Bn,onesLike:$n,zerosLike:Vn,transpose:fc,softmax:ra,logSoftmax:aa,localResponseNormalization:hc,norm:vc,gather:du,unsortedSegmentSum:fu,basicLSTMCell:mc,multiRNNCell:gc,movingAverage:bc,stridedSlice:yc,topk:wc,scatterND:xc,fft:Cc,ifft:Ec,rfft:kc,irfft:Sc,sparseToDense:Oc,gatherND:Ic,diag:Nc,dropout:Ac,hannWindow:Mc,hammingWindow:Pc,frame:Dc,stft:Bc,inTopKAsync:zc});function hp(e,t){Array.isArray(e)||(e=[e]),e.forEach((function(e){null!=e&&x("complex64"!==e.dtype,(function(){return t+" does not support complex64 tensors."}))}))}function vp(e,t,n,r){if("linear"===n)return e.linear(t);if("relu"===n)return e.relu(t);if("elu"===n)return e.elu(t);if("relu6"===n)return e.relu6(t);if("prelu"===n)return e.prelu(t,r);throw new Error("Activation "+n+" has not been implemented for the CPU backend.")}var mp=function(e){function t(){var t=e.call(this)||this;if(t.blockSize=48,t.firstUse=!0,u().get("IS_BROWSER")){var n="undefined"!=typeof OffscreenCanvas?new OffscreenCanvas(300,150):"undefined"!=typeof document?document.createElement("canvas"):null;null!==n&&(t.fromPixels2DContext=n.getContext("2d"))}return t.data=new oa(t,Re),t}return o(t,e),t.prototype.write=function(e,t,n){this.firstUse&&(this.firstUse=!1,u().get("IS_NODE")&&on("\n============================\nHi there . Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.\n============================\n"));var r={};return this.data.set(r,{values:e,dtype:n}),r},t.prototype.move=function(e,t,n,r){this.data.set(e,{values:t,dtype:r})},t.prototype.numDataIds=function(){return this.data.numDataIds()},t.prototype.fromPixels=function(e,t){if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var n,r,a=e.data instanceof Uint8Array,o="undefined"!=typeof ImageData&&e instanceof ImageData,i="undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement,s="undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement,l=i?[e.videoWidth,e.videoHeight]:[e.width,e.height],c=l[0],p=l[1];if(u().get("IS_NODE")&&null==e.getContext)throw new Error("When running in node, pixels must be an HTMLCanvasElement like the one returned by the `canvas` npm package");if(null!=e.getContext)n=e.getContext("2d").getImageData(0,0,c,p).data;else if(o||a)n=e.data;else{if(!s&&!i)throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData or {data: Uint32Array, width: number, height: number}, but was "+e.constructor.name);if(null==this.fromPixels2DContext)throw new Error("Can't read pixels from HTMLImageElement outside the browser.");this.fromPixels2DContext.canvas.width=c,this.fromPixels2DContext.canvas.height=p,this.fromPixels2DContext.drawImage(e,0,0,c,p),n=this.fromPixels2DContext.getImageData(0,0,c,p).data}if(4===t)r=new Int32Array(n);else{var d=c*p;r=new Int32Array(d*t);for(var f=0;f<d;f++)for(var h=0;h<t;++h)r[f*t+h]=n[4*f+h]}return An(r,[p,c,t],"int32")},t.prototype.read=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){return[2,this.readSync(e)]}))}))},t.prototype.readSync=function(e){var t=this.data.get(e),n=t.dtype,r=t.complexTensors;return"complex64"===n?Oa(this.readSync(r.real.dataId),this.readSync(r.imag.dataId)):this.data.get(e).values},t.prototype.bufferSync=function(e){var t=this.readSync(e.dataId),n=t;if("string"===e.dtype)try{n=t.map((function(e){return re(e)}))}catch(e){throw new Error("Failed to decode encoded string bytes into utf-8")}return ir(e.shape,e.dtype,n)},t.prototype.makeOutput=function(e,t,n){var r=this.write(e,t,n);return Re.makeTensorFromDataId(r,t,n,this)},t.prototype.disposeData=function(e){if(this.data.has(e)){var t=this.data.get(e).complexTensors;null!=t&&(t.real.dispose(),t.imag.dispose()),this.data.delete(e)}},t.prototype.time=function(e){return i(this,void 0,void 0,(function(){var t;return s(this,(function(n){return t=ee(),e(),[2,{kernelMs:ee()-t}]}))}))},t.prototype.memory=function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}},t.prototype.complex=function(e,t){var n=this.makeOutput(null,e.shape,"complex64");return this.data.get(n.dataId).complexTensors={real:Re.keep(e.clone()),imag:Re.keep(t.clone())},n},t.prototype.real=function(e){return this.data.get(e.dataId).complexTensors.real.clone()},t.prototype.imag=function(e){return this.data.get(e.dataId).complexTensors.imag.clone()},t.prototype.slice=function(e,t,n){if(hp(e,"slice"),Gr(e.shape,t,n)){var r=Xr(t,e.strides),a=S(n);return Sn(this.readSync(e.dataId).subarray(r,r+a),n,e.dtype)}for(var o=ir(n,e.dtype),i=this.bufferSync(e),s=0;s<o.size;++s){var l=o.indexToLoc(s).map((function(e,n){return e+t[n]}));o.values[s]=i.get.apply(i,l)}return o.toTensor()},t.prototype.stridedSlice=function(e,t,n,r){hp(e,"stridedSlice");var a=Wr(t,n,r);if(a.some((function(e){return 0===e})))return Sn([],a);for(var o=ir(a,e.dtype),i=this.bufferSync(e),s=0;s<o.size;s++){for(var l=o.indexToLoc(s),u=new Array(l.length),c=0;c<u.length;c++)u[c]=l[c]*r[c]+t[c];o.set.apply(o,[i.get.apply(i,u)].concat(l))}return o.toTensor()},t.prototype.diag=function(e){for(var t=this.readSync(e.dataId),n=ir([e.size,e.size],e.dtype),r=n.values,a=0;a<t.length;a++)r[a*e.size+a]=t[a];return n.toTensor()},t.prototype.unstack=function(e,t){for(var n=e.shape[t],r=new Array(e.rank-1),a=0,o=0;o<e.rank;o++)o!==t&&(r[a++]=e.shape[o]);var i=new Array(e.rank).fill(0),s=e.shape.slice();s[t]=1;var l=new Array(n);for(o=0;o<l.length;o++)i[t]=o,l[o]=this.slice(e,i,s).reshape(r);return l},t.prototype.reverse=function(e,t){hp(e,"reverse");for(var n=ir(e.shape,e.dtype),r=this.bufferSync(e),a=function(a){var o=n.indexToLoc(a),i=o.slice();t.forEach((function(t){return i[t]=e.shape[t]-1-i[t]})),n.set.apply(n,[r.get.apply(r,i)].concat(o))},o=0;o<n.size;o++)a(o);return n.toTensor()},t.prototype.concat=function(e,t){var n=this;if("complex64"===e[0].dtype){var r=e.map((function(e){return En(e)})),a=e.map((function(e){return kn(e)}));return Cn(this.concat(r,t),this.concat(a,t))}var o=e.map((function(e){var n=S(e.shape.slice(t));return e.as2D(-1,n)})),i=wn(o.map((function(e){return e.shape})),1),s=ir(i,e[0].dtype).values;if(1===o[0].shape[0]){var l=0;o.forEach((function(e){s.set(n.readSync(e.dataId),l),l+=e.size}))}else{var u=0;o.forEach((function(e){for(var t=n.readSync(e.dataId),r=0,a=0;a<e.shape[0];++a)for(var o=a*i[1]+u,l=0;l<e.shape[1];++l)s[o+l]=t[r++];u+=e.shape[1]}))}var c=wn(e.map((function(e){return e.shape})),t);return Sn(s,c,e[0].dtype)},t.prototype.neg=function(e){return hp(e,"neg"),this.multiply(On(-1),e)},t.prototype.add=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),(function(e,t,n,r){return{real:e+n,imag:t+r}})):this.broadcastedBinaryOp(e,t,Ee(e.dtype,t.dtype),(function(e,t){return e+t}))},t.prototype.addN=function(e){var t=this;hp(e,"addN");for(var n=e.map((function(e){return t.readSync(e.dataId)})),r=ir(e[0].shape,e[0].dtype),a=r.values,o=0;o<e.length;o++)for(var i=n[o],s=0;s<a.length;s++)a[s]+=i[s];return r.toTensor()},t.prototype.subtract=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),(function(e,t,n,r){return{real:e-n,imag:t-r}})):this.broadcastedBinaryOp(e,t,Ee(e.dtype,t.dtype),(function(e,t){return e-t}))},t.prototype.pow=function(e,t){return hp([e,t],"pow"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return Math.pow(e,t)}))},t.prototype.batchMatMul=function(e,t,n,r){hp([e,t],"matMul");for(var a=n?e.shape[1]:e.shape[2],o=n?e.shape[2]:e.shape[1],i=r?t.shape[1]:t.shape[2],s=e.shape[0],l=this.readSync(e.dataId),u=this.readSync(t.dataId),c=n?[e.strides[0],1,e.strides[1]]:[e.strides[0],e.strides[1],1],p=c[0],d=c[1],f=c[2],h=r?[1,t.strides[1],t.strides[0]]:[t.strides[1],1,t.strides[0]],v=h[0],m=h[1],g=h[2],b=o*i,y=ir([s,o,i],e.dtype),w=y.values,x=this.blockSize,C=0;C<s;C++)for(var E=0;E<o;E+=x)for(var k=0;k<i;k+=x)for(var S=0;S<a;S+=x)for(var T=Math.min(E+x,o),O=Math.min(k+x,i),I=Math.min(S+x,a),N=E;N<T;N++)for(var A=k;A<O;A++){for(var _=0,R=S;R<I;R++)_+=l[C*p+N*d+R*f]*u[R*v+A*m+C*g];w[C*b+(N*i+A)]+=_}return y.toTensor()},t.prototype.fusedBatchMatMul=function(e){var t=e.a,n=e.b,r=e.transposeA,a=e.transposeB,o=e.bias,i=e.activation,s=e.preluActivationWeights,l=this.batchMatMul(t,n,r,a);return o&&(l=this.add(l,o)),i&&(l=vp(this,l,i,s)),l},t.prototype.multiply=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),(function(e,t,n,r){return{real:e*n-t*r,imag:e*r+t*n}})):this.broadcastedBinaryOp(e,t,Ee(e.dtype,t.dtype),(function(e,t){return e*t}))},t.prototype.realDivide=function(e,t){return hp([e,t],"realDivide"),this.broadcastedBinaryOp(e,t,"float32",(function(e,t){return e/t}))},t.prototype.floorDiv=function(e,t){return hp([e,t],"floorDiv"),this.broadcastedBinaryOp(e,t,"int32",(function(e,t){return Math.floor(e/t)}))},t.prototype.sum=function(e,t){hp(e,"sum"),vn("sum",t,e.rank);for(var n=fn(e.shape,t),r=n[0],a=n[1],o=Bn(r,Ee(e.dtype,"int32")),i=S(a),s=this.readSync(o.dataId),l=this.readSync(e.dataId),u=0;u<s.length;++u){for(var c=u*i,p=0,d=0;d<i;++d)p+=l[c+d];s[u]=p}return o},t.prototype.prod=function(e,t){hp(e,"sum");for(var n=fn(e.shape,t),r=n[0],a=n[1],o=Bn(r,Ee(e.dtype,"int32")),i=S(a),s=this.readSync(o.dataId),l=this.readSync(e.dataId),u=0;u<s.length;++u){for(var c=u*i,p=1,d=0;d<i;++d)p*=l[c+d];s[u]=p}return o},t.prototype.unsortedSegmentSum=function(e,t,n){hp(e,"unsortedSegmentSum");for(var r=[],a=e.rank-t.rank,o=0;o<a;++o)t=t.expandDims(o+1);for(o=0;o<n;++o){var i=On(o,"int32"),s=Ql(i,t).asType("float32").mul(e).sum(0);r.push(s)}return Nr(r)},t.prototype.argMin=function(e,t){hp(e,"argMin");var n=[t];vn("argMin",n,e.rank);for(var r=fn(e.shape,n),a=r[0],o=r[1],i=Bn(a,"int32"),s=S(o),l=this.readSync(i.dataId),u=this.readSync(e.dataId),c=0;c<l.length;++c){for(var p=c*s,d=u[p],f=0,h=0;h<s;++h){var v=u[p+h];v<d&&(d=v,f=h)}l[c]=f}return i},t.prototype.argMax=function(e,t){hp(e,"argMax");var n=[t];vn("argMax",n,e.rank);for(var r=fn(e.shape,n),a=r[0],o=r[1],i=Bn(a,"int32"),s=S(o),l=this.readSync(i.dataId),u=this.readSync(e.dataId),c=0;c<l.length;++c){for(var p=c*s,d=u[p],f=0,h=0;h<s;++h){var v=u[p+h];v>d&&(d=v,f=h)}l[c]=f}return i},t.prototype.cumsum=function(e,t,n,r){if(hp(e,"cumsum"),t!==e.rank-1)throw new Error("backend.cumsum in CPU expects an inner-most axis="+(e.rank-1)+" but got axis="+t);for(var a=Ee(e.dtype,"int32"),o=Bn(e.shape,a),i=this.readSync(o.dataId),s=this.readSync(e.dataId),l=e.shape[e.rank-1],u=r?function(e,t){return e+l-t-1}:function(e,t){return e+t},c=0;c<s.length;c+=l)for(var p=0;p<l;p++){var d=u(c,p);if(0===p)i[d]=n?0:s[d];else{var f=u(c,p-1);i[d]=n?s[f]+i[f]:s[d]+i[f]}}return o},t.prototype.equal=function(e,t){return hp([e,t],"equal"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e===t?1:0}))},t.prototype.notEqual=function(e,t){return hp([e,t],"notEqual"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e!==t?1:0}))},t.prototype.less=function(e,t){return hp([e,t],"less"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e<t?1:0}))},t.prototype.lessEqual=function(e,t){return hp([e,t],"lessEqual"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e<=t?1:0}))},t.prototype.greater=function(e,t){return hp([e,t],"greater"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e>t?1:0}))},t.prototype.greaterEqual=function(e,t){return hp([e,t],"greaterEqual"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e>=t?1:0}))},t.prototype.logicalNot=function(e){hp(e,"logicalNot");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t[r]?0:1;return this.makeOutput(n,e.shape,"bool")},t.prototype.logicalAnd=function(e,t){return hp([e,t],"logicalAnd"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e&&t}))},t.prototype.logicalOr=function(e,t){return hp([e,t],"logicalOr"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e||t}))},t.prototype.select=function(e,t,n){hp([e,t,n],"select");for(var r=this.readSync(e.dataId),a=this.readSync(t.dataId),o=this.readSync(n.dataId),i=Bn(t.shape,Ee(t.dtype,n.dtype)),s=this.readSync(i.dataId),l=0,u=0===e.rank||e.rank>1||1===t.rank?1:S(t.shape.slice(1)),c=0;c<r.length;c++)for(var p=0;p<u;p++)1===r[c]?s[l++]=a[c]:s[l++]=o[c];return i},t.prototype.where=function(e){hp([e],"where");var t=this.readSync(e.dataId);return Ba(e.shape,t)},t.prototype.topk=function(e,t,n){return hp(e,"topk"),Da(this.readSync(e.dataId),e.shape,e.dtype,t)},t.prototype.min=function(e,t){hp(e,"min"),vn("min",t,e.rank);for(var n=fn(e.shape,t),r=n[0],a=n[1],o=Bn(r,e.dtype),i=S(a),s=this.readSync(o.dataId),l=this.readSync(e.dataId),u=0;u<s.length;++u){for(var c=u*i,p=l[c],d=0;d<i;++d){var f=l[c+d];f<p&&(p=f)}s[u]=p}return o},t.prototype.minimum=function(e,t){return hp([e,t],"minimum"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return Math.min(e,t)}))},t.prototype.mod=function(e,t){return hp([e,t],"mod"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){var n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t}))},t.prototype.max=function(e,t){hp(e,"max"),vn("max",t,e.rank);for(var n=fn(e.shape,t),r=n[0],a=n[1],o=Bn(r,e.dtype),i=S(a),s=this.readSync(o.dataId),l=this.readSync(e.dataId),u=0;u<s.length;++u){for(var c=u*i,p=l[c],d=0;d<i;++d){var f=l[c+d];f>p&&(p=f)}s[u]=p}return o},t.prototype.maximum=function(e,t){return hp([e,t],"maximum"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return Math.max(e,t)}))},t.prototype.all=function(e,t){hp(e,"all"),vn("all",t,e.rank);for(var n=fn(e.shape,t),r=n[0],a=n[1],o=Bn(r,e.dtype),i=S(a),s=this.readSync(o.dataId),l=this.readSync(e.dataId),u=0;u<s.length;++u){for(var c=u*i,p=l[c],d=0;d<i;++d){var f=l[c+d];p=p&&f}s[u]=p}return o},t.prototype.any=function(e,t){hp(e,"any"),vn("any",t,e.rank);for(var n=fn(e.shape,t),r=n[0],a=n[1],o=Bn(r,e.dtype),i=S(a),s=this.readSync(o.dataId),l=this.readSync(e.dataId),u=0;u<s.length;++u){for(var c=u*i,p=l[c],d=0;d<i;++d){var f=l[c+d];p=p||f}s[u]=p}return o},t.prototype.squaredDifference=function(e,t){return hp([e,t],"squaredDifference"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){var n=e-t;return n*n}))},t.prototype.ceil=function(e){hp(e,"ceil");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.ceil(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.floor=function(e){hp(e,"floor");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.floor(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.sign=function(e){hp(e,"x");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)t[r]<0?n[r]=-1:t[r]>0?n[r]=1:n[r]=0;return this.makeOutput(n,e.shape,"float32")},t.prototype.isNaN=function(e){hp(e,"x");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)Number.isNaN(t[r])&&(n[r]=1);return this.makeOutput(n,e.shape,"bool")},t.prototype.isInf=function(e){hp(e,"x");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)Math.abs(t[r])===1/0&&(n[r]=1);return this.makeOutput(n,e.shape,"bool")},t.prototype.isFinite=function(e){hp(e,"x");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)Number.isFinite(t[r])&&(n[r]=1);return this.makeOutput(n,e.shape,"bool")},t.prototype.round=function(e){hp(e,"round");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var a=Math.floor(t[r]);t[r]-a<.5?n[r]=Math.floor(t[r]):t[r]-a>.5?n[r]=Math.ceil(t[r]):n[r]=a%2==0?a:a+1}return this.makeOutput(n,e.shape,"float32")},t.prototype.exp=function(e){hp(e,"exp");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.exp(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.expm1=function(e){hp(e,"expm1");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.expm1(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.log=function(e){hp(e,"log");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var a=t[r];n[r]=Math.log(a)}return this.makeOutput(n,e.shape,"float32")},t.prototype.log1p=function(e){hp(e,"log1p");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var a=t[r];n[r]=Math.log1p(a)}return this.makeOutput(n,e.shape,"float32")},t.prototype.sqrt=function(e){hp(e,"sqrt");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var a=t[r];n[r]=Math.sqrt(a)}return this.makeOutput(n,e.shape,"float32")},t.prototype.rsqrt=function(e){hp(e,"rsqrt");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var a=t[r];n[r]=1/Math.sqrt(a)}return this.makeOutput(n,e.shape,"float32")},t.prototype.reciprocal=function(e){hp(e,"reciprocal");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=1/t[r];return this.makeOutput(n,e.shape,"float32")},t.prototype.linear=function(e){return e},t.prototype.relu=function(e){hp(e,"relu");for(var t=Bn(e.shape,e.dtype),n=this.readSync(t.dataId),r=this.readSync(e.dataId),a=0;a<r.length;++a)n[a]=Math.max(0,r[a]);return t},t.prototype.relu6=function(e){hp(e,"relu");for(var t=Bn(e.shape,e.dtype),n=this.readSync(t.dataId),r=this.readSync(e.dataId),a=0;a<r.length;++a)n[a]=Math.min(Math.max(0,r[a]),6);return t},t.prototype.prelu=function(e,t){return hp([e,t],"prelu"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return e<0?t*e:e}))},t.prototype.elu=function(e){hp(e,"elu");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r){var a=n[r];t[r]=a>=0?a:Math.exp(a)-1}return this.makeOutput(t,e.shape,"float32")},t.prototype.eluDer=function(e,t){hp([e,t],"eluDer");for(var n=new Float32Array(t.size),r=this.readSync(t.dataId),a=this.readSync(e.dataId),o=0;o<r.length;++o){var i=r[o];n[o]=i>=1?a[o]:a[o]*(i+1)}return this.makeOutput(n,t.shape,"float32")},t.prototype.selu=function(e){hp(e,"selu");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r){var a=n[r];t[r]=a>=0?1.0507009873554805*a:1.7580993408473768*(Math.exp(a)-1)}return this.makeOutput(t,e.shape,"float32")},t.prototype.clip=function(e,t,n){hp(e,"clip");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),o=0;o<a.length;++o){var i=a[o];r[o]=i>n?n:i<t?t:i}return this.makeOutput(r,e.shape,"float32")},t.prototype.abs=function(e){for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.abs(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.complexAbs=function(e){for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<e.size;++r){var a=n[2*r],o=n[2*r+1];t[r]=Math.hypot(a,o)}return this.makeOutput(t,e.shape,"float32")},t.prototype.int=function(e){hp(e,"int");for(var t=new Int32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=n[r];return this.makeOutput(t,e.shape,"int32")},t.prototype.sigmoid=function(e){hp(e,"sigmoid");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=1/(1+Math.exp(-n[r]));return this.makeOutput(t,e.shape,"float32")},t.prototype.softplus=function(e){hp(e,"softplus");for(var t=Math.log(1.1920928955078125e-7)+2,n=new Float32Array(e.size),r=this.readSync(e.dataId),a=0;a<r.length;++a){var o,i=r[a]>-t,s=r[a]<t,l=Math.exp(r[a]);o=s?l:i?r[a]:Math.log(1+l),n[a]=o}return this.makeOutput(n,e.shape,"float32")},t.prototype.sin=function(e){hp(e,"sin");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.sin(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.cos=function(e){hp(e,"cos");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.cos(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.tan=function(e){hp(e,"tan");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.tan(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.asin=function(e){hp(e,"asin");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.asin(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.acos=function(e){hp(e,"acos");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.acos(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.atan=function(e){hp(e,"atan");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.atan(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.atan2=function(e,t){return hp([e,t],"atan2"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return Math.atan2(e,t)}))},t.prototype.sinh=function(e){hp(e,"sinh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.sinh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.cosh=function(e){hp(e,"cosh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.cosh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.tanh=function(e){hp(e,"tanh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=I(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.asinh=function(e){hp(e,"asinh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.asinh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.acosh=function(e){hp(e,"acosh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.acosh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.atanh=function(e){hp(e,"atanh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.atanh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.erf=function(e){hp(e,"erf");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r){var a=Math.sign(n[r]),o=Math.abs(n[r]),i=1/(1+.3275911*o);t[r]=a*(1-((((1.061405429*i-1.453152027)*i+1.421413741)*i-.284496736)*i+.254829592)*i*Math.exp(-o*o))}return this.makeOutput(t,e.shape,"float32")},t.prototype.step=function(e,t){void 0===t&&(t=0),hp(e,"step");for(var n=new Float32Array(e.size),r=this.readSync(e.dataId),a=0;a<r.length;++a){var o=r[a];isNaN(o)?n[a]=NaN:n[a]=o>0?1:t}return this.makeOutput(n,e.shape,"float32")},t.prototype.fusedConv2d=function(e){var t=e.input,n=e.filter,r=e.convInfo,a=e.bias,o=e.activation,i=e.preluActivationWeights,s=this.conv2d(t,n,r);return a&&(s=this.add(s,a)),o&&(s=vp(this,s,o,i)),s},t.prototype.conv2d=function(e,t,n){hp([e,t],"conv2d");for(var r=n.filterHeight,a=n.filterWidth,o=n.dilationHeight,i=n.dilationWidth,s=n.padInfo.left,l=n.padInfo.top,u="channelsLast"===n.dataFormat,c=ir(n.outShape,e.dtype),p=e.strides[0],d=u?e.strides[1]:e.strides[2],f=u?e.strides[2]:1,h=u?1:e.strides[1],v=c.strides[0],m=u?c.strides[1]:c.strides[2],g=u?c.strides[2]:1,b=u?1:c.strides[1],y=this.readSync(e.dataId),w=this.readSync(t.dataId),x=c.values,C=0;C<n.batchSize;++C)for(var E=C*p,k=C*v,S=0;S<n.outHeight;++S)for(var T=k+S*m,O=S*n.strideHeight-l,I=0;I<r;I++){var N=O+I*o;if(!(N<0||N>=n.inHeight))for(var A=I*t.strides[0],_=E+N*d,R=0;R<n.outWidth;++R)for(var M=T+R*g,P=R*n.strideWidth-s,D=0;D<a;D++){var B=P+D*i;if(!(B<0||B>=n.inWidth))for(var L=_+B*f,z=A+D*t.strides[1],F=0;F<n.inChannels;++F){for(var $=y[L+F*h],V=0;V<n.outChannels;++V)x[M+V*b]+=$*w[z+V];z+=n.outChannels}}}return c.toTensor()},t.prototype.conv3d=function(e,t,n){for(var r=n.filterDepth,a=n.filterHeight,o=n.filterWidth,i=n.dilationDepth,s=n.dilationHeight,l=n.dilationWidth,u=n.padInfo.front,c=n.padInfo.left,p=n.padInfo.top,d=ir(n.outShape,e.dtype),f=this.readSync(e.dataId),h=this.readSync(t.dataId),v=d.values,m=0;m<n.batchSize;++m)for(var g=m*e.strides[0],b=m*d.strides[0],y=0;y<n.outDepth;++y)for(var w=b+y*d.strides[1],x=y*n.strideDepth-u,C=0;C<r;C++){var E=x+C*i;if(!(E<0||E>=n.inDepth))for(var k=C*t.strides[0],S=g+E*e.strides[1],T=0;T<n.outHeight;++T)for(var O=w+T*d.strides[2],I=T*n.strideHeight-p,N=0;N<a;N++){var A=I+N*s;if(!(A<0||A>=n.inHeight))for(var _=k+N*t.strides[1],R=S+A*e.strides[2],M=0;M<n.outWidth;++M)for(var P=O+M*n.outChannels,D=M*n.strideWidth-c,B=0;B<o;B++){var L=D+B*l;if(!(L<0||L>=n.inWidth))for(var z=_+B*t.strides[2],F=R+L*n.inChannels,$=z,V=0;V<n.inChannels;++V){for(var j=f[F+V],H=0;H<n.outChannels;++H)v[P+H]+=j*h[$+H];$+=n.outChannels}}}}return d.toTensor()},t.prototype.conv2dDerInput=function(e,t,n){hp([e,t],"conv2dDerInput");for(var r=ir(n.inShape,"float32"),a=r.values,o=this.readSync(e.dataId),i=this.readSync(t.dataId),s=t.strides,l=s[0],u=s[1],c=s[2],p=n.batchSize,d=n.filterHeight,f=n.filterWidth,h=n.inChannels,v=n.inHeight,m=n.inWidth,g=n.outChannels,b=n.outHeight,y=n.outWidth,w=n.strideHeight,x=n.strideWidth,C=n.dataFormat,E=d-1-n.padInfo.top,k=f-1-n.padInfo.left,S="channelsLast"===C,T=r.strides[0],O=S?r.strides[1]:r.strides[2],I=S?r.strides[2]:1,N=S?1:r.strides[1],A=e.strides[0],_=S?e.strides[1]:e.strides[2],R=S?e.strides[2]:1,M=S?1:e.strides[1],P=0;P<p;++P)for(var D=0;D<h;++D)for(var B=0;B<v;++B)for(var L=B-E,z=Math.max(0,Math.ceil(L/w)),F=Math.min(b,(d+L)/w),$=0;$<m;++$){for(var V=$-k,j=Math.max(0,Math.ceil(V/x)),H=Math.min(y,(f+V)/x),W=0,U=z;U<F;++U)for(var q=U*w-L,G=j;G<H;++G)for(var X=A*P+_*U+R*G,Y=l*(d-1-q)+u*(f-1-(G*x-V))+c*D,K=0;K<g;++K)W+=o[X+M*K]*i[Y+K];a[T*P+O*B+I*$+N*D]=W}return r.toTensor()},t.prototype.conv3dDerInput=function(e,t,n){for(var r=ir(n.inShape,"float32"),a=r.values,o=r.strides,i=o[0],s=o[1],l=o[2],u=o[3],c=this.readSync(e.dataId),p=e.strides,d=p[0],f=p[1],h=p[2],v=p[3],m=this.readSync(t.dataId),g=t.strides,b=g[0],y=g[1],w=g[2],x=g[3],C=n.batchSize,E=n.filterDepth,k=n.filterHeight,S=n.filterWidth,T=n.inChannels,O=n.inDepth,I=n.inHeight,N=n.inWidth,A=n.outChannels,_=n.outDepth,R=n.outHeight,M=n.outWidth,P=n.strideDepth,D=n.strideHeight,B=n.strideWidth,L=E-1-n.padInfo.front,z=k-1-n.padInfo.top,F=S-1-n.padInfo.left,$=0;$<C;++$)for(var V=0;V<T;++V)for(var j=0;j<O;++j)for(var H=j-L,W=Math.max(0,Math.ceil(H/P)),U=Math.min(_,(E+H)/P),q=0;q<I;++q)for(var G=q-z,X=Math.max(0,Math.ceil(G/D)),Y=Math.min(R,(k+G)/D),K=0;K<N;++K){for(var J=K-F,Q=Math.max(0,Math.ceil(J/B)),Z=Math.min(M,(S+J)/B),ee=0,te=W;te<U;++te)for(var ne=te*P-H,re=X;re<Y;++re)for(var ae=re*D-G,oe=Q;oe<Z;++oe)for(var ie=d*$+f*te+h*re+v*oe,se=b*(E-1-ne)+y*(k-1-ae)+w*(S-1-(oe*B-J))+x*V,le=0;le<A;++le)ee+=c[ie+le]*m[se+le];a[i*$+s*j+l*q+u*K+V]=ee}return r.toTensor()},t.prototype.conv2dDerFilter=function(e,t,n){hp([e,t],"conv2dDerFilter");for(var r=n.strideHeight,a=n.strideWidth,o=n.filterHeight,i=n.filterWidth,s="channelsLast"===n.dataFormat,l=ir(n.filterShape,"float32"),u=n.padInfo.left,c=n.padInfo.top,p=this.bufferSync(e),d=this.bufferSync(t),f=0;f<o;++f)for(var h=Math.max(0,Math.ceil((c-f)/r)),v=Math.min(n.outHeight,(n.inHeight+c-f)/r),m=0;m<i;++m)for(var g=Math.max(0,Math.ceil((u-m)/a)),b=Math.min(n.outWidth,(n.inWidth+u-m)/a),y=0;y<n.inChannels;++y)for(var w=0;w<n.outChannels;++w){for(var x=0,C=0;C<n.batchSize;++C)for(var E=h;E<v;++E)for(var k=f+E*r-c,S=g;S<b;++S){var T=m+S*a-u;x+=s?p.get(C,k,T,y)*d.get(C,E,S,w):p.get(C,y,k,T)*d.get(C,w,E,S)}l.set(x,f,m,y,w)}return l.toTensor()},t.prototype.conv3dDerFilter=function(e,t,n){for(var r=n.strideDepth,a=n.strideHeight,o=n.strideWidth,i=n.filterDepth,s=n.filterHeight,l=n.filterWidth,u=ir(n.filterShape,"float32"),c=u.values,p=u.strides,d=p[0],f=p[1],h=p[2],v=p[3],m=this.readSync(t.dataId),g=t.strides,b=g[0],y=g[1],w=g[2],x=g[3],C=this.readSync(e.dataId),E=e.strides,k=E[0],S=E[1],T=E[2],O=E[3],I=n.padInfo.front,N=n.padInfo.left,A=n.padInfo.top,_=0;_<i;++_)for(var R=Math.max(0,Math.ceil((I-_)/r)),M=Math.min(n.outDepth,(n.inDepth+I-_)/r),P=_*d,D=0;D<s;++D)for(var B=Math.max(0,Math.ceil((A-D)/a)),L=Math.min(n.outHeight,(n.inHeight+A-D)/a),z=D*f+P,F=0;F<l;++F)for(var $=Math.max(0,Math.ceil((N-F)/o)),V=Math.min(n.outWidth,(n.inWidth+N-F)/o),j=F*h+z,H=0;H<n.inChannels;++H)for(var W=H*v+j,U=0;U<n.outChannels;++U){for(var q=0,G=0;G<n.batchSize;++G)for(var X=G*k,Y=G*b,K=R;K<M;++K)for(var J=(_+K*r-I)*S+X,Q=K*y+Y,Z=B;Z<L;++Z)for(var ee=(D+Z*a-A)*T+J,te=Z*w+Q,ne=$;ne<V;++ne){var re=ne*x+te;q+=C[(F+ne*o-N)*O+ee+H]*m[re+U]}c[W+U]=q}return u.toTensor()},t.prototype.fusedDepthwiseConv2D=function(e){var t=e.input,n=e.filter,r=e.convInfo,a=e.bias,o=e.activation,i=e.preluActivationWeights,s=this.depthwiseConv2D(t,n,r);return a&&(s=this.add(s,a)),o&&(s=vp(this,s,o,i)),s},t.prototype.depthwiseConv2D=function(e,t,n){hp([e,t],"depthwiseConv2D");for(var r=n.filterHeight,a=n.filterWidth,o=n.dilationHeight,i=n.dilationWidth,s=n.padInfo.left,l=n.padInfo.top,u=n.outChannels/n.inChannels,c=ir(n.outShape,e.dtype),p=this.readSync(e.dataId),d=this.readSync(t.dataId),f=c.values,h=0;h<n.batchSize;++h)for(var v=h*e.strides[0],m=h*c.strides[0],g=0;g<n.outHeight;++g)for(var b=m+g*c.strides[1],y=g*n.strideHeight-s,w=0;w<r;++w){var x=y+w*o;if(!(x<0||x>=n.inHeight))for(var C=w*t.strides[0],E=v+x*e.strides[1],k=0;k<n.outWidth;++k)for(var S=b+k*c.strides[2],T=k*n.strideWidth-l,O=0;O<a;++O){var I=T+O*i;if(!(I<0||I>=n.inWidth))for(var N=C+O*t.strides[1],A=E+I*n.inChannels,_=S,R=N,M=0;M<n.inChannels;++M){for(var P=p[A+M],D=0;D<u;++D)f[_+D]+=P*d[R+D];_+=u,R+=u}}}return c.toTensor()},t.prototype.depthwiseConv2DDerInput=function(e,t,n){hp([e,t],"depthwiseConv2DDerInput");for(var r=ir(n.inShape,"float32"),a=r.values,o=r.strides,i=o[0],s=o[1],l=o[2],u=this.readSync(e.dataId),c=e.strides,p=c[0],d=c[1],f=c[2],h=this.readSync(t.dataId),v=t.strides,m=v[0],g=v[1],b=v[2],y=n.batchSize,w=n.filterHeight,x=n.filterWidth,C=n.inChannels,E=n.inHeight,k=n.inWidth,S=n.outChannels,T=n.outHeight,O=n.outWidth,I=n.strideHeight,N=n.strideWidth,A=w-1-n.padInfo.top,_=x-1-n.padInfo.left,R=S/C,M=0;M<y;++M)for(var P=0;P<C;++P)for(var D=0;D<E;++D)for(var B=D-A,L=Math.max(0,Math.ceil(B/I)),z=Math.min(T,(w+B)/I),F=0;F<k;++F){for(var $=F-_,V=Math.max(0,Math.ceil($/N)),j=Math.min(O,(x+$)/N),H=0,W=L;W<z;++W)for(var U=W*I-B,q=V;q<j;++q)for(var G=p*M+d*W+f*q,X=m*(w-1-U)+g*(x-1-(q*N-$))+b*P,Y=0;Y<R;++Y)H+=u[G+(P*R+Y)]*h[X+Y];a[i*M+s*D+l*F+P]=H}return r.toTensor()},t.prototype.depthwiseConv2DDerFilter=function(e,t,n){hp([e,t],"depthwiseConv2DDerFilter");for(var r=n.strideHeight,a=n.strideWidth,o=n.filterHeight,i=n.filterWidth,s=ir(n.filterShape,"float32"),l=n.padInfo.left,u=n.padInfo.top,c=n.outChannels/n.inChannels,p=this.bufferSync(e),d=this.bufferSync(t),f=0;f<o;++f)for(var h=Math.max(0,Math.ceil((u-f)/r)),v=Math.min(n.outHeight,(n.inHeight+u-f)/r),m=0;m<i;++m)for(var g=Math.max(0,Math.ceil((l-m)/a)),b=Math.min(n.outWidth,(n.inWidth+l-m)/a),y=0;y<n.outChannels;++y){for(var w=Math.trunc(y/c),x=y%c,C=0,E=0;E<n.batchSize;++E)for(var k=h;k<v;++k)for(var S=f+k*r-u,T=g;T<b;++T){var O=m+T*a-l;C+=p.get(E,S,O,w)*d.get(E,k,T,y)}s.set(C,f,m,w,x)}return s.toTensor()},t.prototype.tile=function(e,t){return hp(e,"tile"),Pa(this.bufferSync(e),t)},t.prototype.pad=function(e,t,n){hp(e,"pad");var r=t.map((function(t,n){return t[0]+e.shape[n]+t[1]})),a=t.map((function(e){return e[0]})),o=this.bufferSync(e),i=ir(r,e.dtype);0!==n&&i.values.fill(n);for(var s=0;s<e.size;s++){var l=o.indexToLoc(s),u=l.map((function(e,t){return e+a[t]}));i.set.apply(i,[o.get.apply(o,l)].concat(u))}return i.toTensor()},t.prototype.transpose=function(e,t){hp(e,"transpose");for(var n=new Array(e.rank),r=0;r<n.length;r++)n[r]=e.shape[t[r]];var a=this.readSync(e.dataId),o=ir(n,e.dtype),i=this.bufferSync(e);for(r=0;r<e.size;++r){for(var s=i.indexToLoc(r),l=new Array(s.length),u=0;u<l.length;u++)l[u]=s[t[u]];var c=o.locToIndex(l);o.values[c]=a[r]}return o.toTensor()},t.prototype.gather=function(e,t,n){hp([e,t],"gather");var r=e.shape.slice(),a=this.readSync(t.dataId);r[n]=a.length;for(var o=ir(r,e.dtype),i=this.bufferSync(e),s=0;s<o.size;++s){var l=o.indexToLoc(s),u=l.slice();u[n]=a[l[n]];var c=i.locToIndex(u);o.values[s]=i.values[c]}return o.toTensor()},t.prototype.batchToSpaceND=function(e,t,n){hp([e],"batchToSpaceND");var r=t.reduce((function(e,t){return e*t})),a=Pr(e.shape,t,r),o=Dr(a.length,t.length),i=Br(e.shape,t,r),s=Lr(n,t.length),l=zr(i,n,t.length);return e.reshape(a).transpose(o).reshape(i).slice(s,l)},t.prototype.spaceToBatchND=function(e,t,n){hp([e],"spaceToBatchND");var r=t.reduce((function(e,t){return e*t})),a=[[0,0]];a.push.apply(a,n);for(var o=1+t.length;o<e.shape.length;++o)a.push([0,0]);var i=e.pad(a),s=Pr(i.shape,t,r,!1),l=Dr(s.length,t.length,!1),u=Br(i.shape,t,r,!1);return i.reshape(s).transpose(l).reshape(u)},t.prototype.pool=function(e,t,n){hp(e,"pool");for(var r=t.strideHeight,a=t.strideWidth,o=t.dilationHeight,i=t.dilationWidth,s=t.effectiveFilterHeight,l=t.effectiveFilterWidth,u=t.padInfo.top,c=t.padInfo.left,p="max"===n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,d=this.readSync(e.dataId),f=ir(t.outShape,e.dtype),h=f.values,v=t.outShape[1]*t.outShape[2]*t.outShape[3],m=t.outShape[2]*t.outShape[3],g=t.outShape[3],b=0;b<t.batchSize;++b)for(var y=b*v,w=b*e.strides[0],x=0;x<t.inChannels;++x)for(var C=0;C<t.outHeight;++C)for(var E=C*r-u,k=Math.max(0,E),S=Math.min(t.inHeight,s+E),T=y+C*m,O=0;O<t.outWidth;++O){for(var I=O*a-c,N=Math.max(0,I),A=Math.min(t.inWidth,l+I),_=p,R=0,M=0,P=k;P<S;P+=o){for(var D=w+P*e.strides[1],B=N;B<A;B+=i){var L=d[D+B*e.strides[2]+x];"max"===n&&L>_?_=L:"avg"===n&&(R+=L,M++)}if(isNaN(_))break}h[T+O*g+x]="avg"===n?R/M:_}return f.toTensor()},t.prototype.maxPool=function(e,t){return this.pool(e,t,"max")},t.prototype.maxPoolPositions=function(e,t){for(var n=ir(t.outShape,"int32"),r=t.strideHeight,a=t.strideWidth,o=t.dilationHeight,i=t.dilationWidth,s=t.effectiveFilterHeight,l=t.effectiveFilterWidth,u=t.padInfo.top,c=t.padInfo.left,p=this.bufferSync(e),d=0;d<t.batchSize;++d)for(var f=0;f<t.inChannels;++f)for(var h=0;h<t.outHeight;++h){for(var v=h*r-u,m=v;m<0;)m+=o;for(var g=Math.min(t.inHeight,s+v),b=0;b<t.outWidth;++b){for(var y=b*a-c,w=y;w<0;)w+=i;for(var x=Math.min(t.inWidth,l+y),C=Number.NEGATIVE_INFINITY,E=-1,k=m;k<g;k+=o)for(var S=k-v,T=w;T<x;T+=i){var O=T-y,I=p.get(d,k,T,f);I>C&&(C=I,E=S*l+O)}n.set(E,d,h,b,f)}}return n.toTensor()},t.prototype.maxPoolBackprop=function(e,t,n,r){hp([t,n],"maxPoolBackprop");for(var a=this.maxPoolPositions(t,r),o=r.strideHeight,i=r.strideWidth,s=r.dilationHeight,l=r.dilationWidth,u=r.effectiveFilterHeight,c=r.effectiveFilterWidth,p=c-1-r.padInfo.left,d=u-1-r.padInfo.top,f=ir(t.shape,"float32"),h=this.bufferSync(a),v=this.bufferSync(e),m=0;m<r.batchSize;++m)for(var g=0;g<r.inChannels;++g)for(var b=0;b<r.inHeight;++b)for(var y=0;y<r.inWidth;++y){for(var w=b-d,x=y-p,C=0,E=0;E<u;E+=s){var k=(w+E)/o;if(!(k<0||k>=r.outHeight||Math.floor(k)!==k))for(var S=0;S<c;S+=l){var T=(x+S)/i;if(!(T<0||T>=r.outWidth||Math.floor(T)!==T)){var O=u*c-1-h.get(m,k,T,g)===E*c+S?1:0;0!==O&&(C+=v.get(m,k,T,g)*O)}}}f.set(C,m,b,y,g)}return f.toTensor()},t.prototype.avgPoolBackprop=function(e,t,n){hp([e,t],"avgPoolBackprop");for(var r=n.strideHeight,a=n.strideWidth,o=n.filterHeight,i=n.filterWidth,s=n.dilationHeight,l=n.dilationWidth,u=n.effectiveFilterHeight,c=n.effectiveFilterWidth,p=c-1-n.padInfo.left,d=u-1-n.padInfo.top,f=ir(t.shape,"float32"),h=1/(o*i),v=this.bufferSync(e),m=0;m<n.batchSize;++m)for(var g=0;g<n.inChannels;++g)for(var b=0;b<n.inHeight;++b)for(var y=0;y<n.inWidth;++y){for(var w=b-d,x=y-p,C=0,E=0;E<u;E+=s){var k=(w+E)/r;if(!(k<0||k>=n.outHeight||Math.floor(k)!==k))for(var S=0;S<c;S+=l){var T=(x+S)/a;T<0||T>=n.outWidth||Math.floor(T)!==T||(C+=v.get(m,k,T,g))}}f.set(C*h,m,b,y,g)}return f.toTensor()},t.prototype.pool3d=function(e,t,n){hp(e,"pool3d");for(var r=t.strideDepth,a=t.strideHeight,o=t.strideWidth,i=t.dilationDepth,s=t.dilationHeight,l=t.dilationWidth,u=t.effectiveFilterDepth,c=t.effectiveFilterHeight,p=t.effectiveFilterWidth,d=t.padInfo.front,f=t.padInfo.top,h=t.padInfo.left,v="max"===n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,m=this.readSync(e.dataId),g=ir(t.outShape,e.dtype),b=g.values,y=t.outShape[1]*t.outShape[2]*t.outShape[3]*t.outShape[4],w=t.outShape[2]*t.outShape[3]*t.outShape[4],x=t.outShape[3]*t.outShape[4],C=t.outShape[4],E=0;E<t.batchSize;++E)for(var k=E*y,S=E*e.strides[0],T=0;T<t.inChannels;++T)for(var O=0;O<t.outDepth;++O){for(var I=O*r-d,N=I;N<0;)N+=i;for(var A=Math.min(t.inDepth,u+I),_=k+O*w,R=0;R<t.outHeight;++R){for(var M=R*a-f,P=M;P<0;)P+=s;for(var D=Math.min(t.inHeight,c+M),B=_+R*x,L=0;L<t.outWidth;++L){for(var z=L*o-h,F=z;F<0;)F+=l;for(var $=Math.min(t.inWidth,p+z),V=B+L*C,j=v,H=0,W=0,U=N;U<A;U+=i){for(var q=S+U*e.strides[1],G=P;G<D;G+=s){for(var X=q+G*e.strides[2],Y=F;Y<$;Y+=l){var K=m[X+Y*e.strides[3]+T];if("max"===n&&K>j?j=K:"avg"===n&&(H+=K,W++),isNaN(j))break}if(isNaN(j))break}if(isNaN(j))break}b[V+T]="avg"===n?H/W:j}}}return g.toTensor()},t.prototype.avgPool3d=function(e,t){return hp(e,"avgPool3d"),this.pool3d(e,t,"avg").toFloat()},t.prototype.avgPool3dBackprop=function(e,t,n){hp([e,t],"avgPool3dBackprop");for(var r=n.strideDepth,a=n.strideHeight,o=n.strideWidth,i=n.filterDepth,s=n.filterHeight,l=n.filterWidth,u=n.dilationDepth,c=n.dilationHeight,p=n.dilationWidth,d=n.effectiveFilterDepth,f=n.effectiveFilterHeight,h=n.effectiveFilterWidth,v=d-1-n.padInfo.front,m=h-1-n.padInfo.left,g=f-1-n.padInfo.top,b=ir(t.shape,"float32"),y=1/(i*s*l),w=this.bufferSync(e),x=0;x<n.batchSize;++x)for(var C=0;C<n.inChannels;++C)for(var E=0;E<n.inDepth;++E)for(var k=0;k<n.inHeight;++k)for(var S=0;S<n.inWidth;++S){for(var T=E-v,O=k-g,I=S-m,N=0,A=0;A<d;A+=u){var _=(T+A)/r;if(!(_<0||_>=n.outDepth||Math.floor(_)!==_))for(var R=0;R<f;R+=c){var M=(O+R)/a;if(!(M<0||M>=n.outHeight||Math.floor(M)!==M))for(var P=0;P<h;P+=p){var D=(I+P)/o;D<0||D>=n.outWidth||Math.floor(D)!==D||(N+=w.get(x,_,M,D,C))}}}b.set(N*y,x,E,k,S,C)}return b.toTensor()},t.prototype.maxPool3d=function(e,t){return hp(e,"maxPool3d"),this.pool3d(e,t,"max").toFloat()},t.prototype.maxPool3dPositions=function(e,t){for(var n=ir(t.outShape,"int32"),r=t.strideDepth,a=t.strideHeight,o=t.strideWidth,i=t.dilationDepth,s=t.dilationHeight,l=t.dilationWidth,u=t.effectiveFilterDepth,c=t.effectiveFilterHeight,p=t.effectiveFilterWidth,d=t.padInfo.front,f=t.padInfo.top,h=t.padInfo.left,v=this.bufferSync(e),m=0;m<t.batchSize;++m)for(var g=0;g<t.inChannels;++g)for(var b=0;b<t.outDepth;++b){for(var y=b*r-d,w=y;w<0;)w+=i;for(var x=Math.min(t.inDepth,u+y),C=0;C<t.outHeight;++C){for(var E=C*a-f,k=E;k<0;)k+=s;for(var S=Math.min(t.inHeight,c+E),T=0;T<t.outWidth;++T){for(var O=T*o-h,I=O;I<0;)I+=l;for(var N=Math.min(t.inWidth,p+O),A=Number.NEGATIVE_INFINITY,_=-1,R=w;R<x;R+=i)for(var M=R-y,P=k;P<S;P+=s)for(var D=P-E,B=I;B<N;B+=l){var L=B-O,z=v.get(m,R,P,B,g);z>=A&&(A=z,_=M*c*p+D*c+L)}n.set(_,m,b,C,T,g)}}}return n.toTensor()},t.prototype.maxPool3dBackprop=function(e,t,n,r){hp([t,n],"maxPool3dBackprop");for(var a=this.maxPool3dPositions(t,r),o=r.strideDepth,i=r.strideHeight,s=r.strideWidth,l=r.dilationDepth,u=r.dilationHeight,c=r.dilationWidth,p=r.effectiveFilterDepth,d=r.effectiveFilterHeight,f=r.effectiveFilterWidth,h=p-1-r.padInfo.front,v=f-1-r.padInfo.left,m=d-1-r.padInfo.top,g=ir(t.shape,"float32"),b=this.bufferSync(a),y=this.bufferSync(e),w=0;w<r.batchSize;++w)for(var x=0;x<r.inChannels;++x)for(var C=0;C<r.inDepth;++C)for(var E=0;E<r.inHeight;++E)for(var k=0;k<r.inWidth;++k){for(var S=C-h,T=E-m,O=k-v,I=0,N=0;N<p;N+=l){var A=(S+N)/o;if(!(A<0||A>=r.outDepth||Math.floor(A)!==A))for(var _=0;_<d;_+=u){var R=(T+_)/i;if(!(R<0||R>=r.outHeight||Math.floor(R)!==R))for(var M=0;M<f;M+=c){var P=(O+M)/s;if(!(P<0||P>=r.outWidth||Math.floor(P)!==P)){var D=p*d*f-1-b.get(w,A,R,P,x)===N*d*f+_*f+M?1:0;0!==D&&(I+=y.get(w,A,R,P,x)*D)}}}}g.set(I,w,C,E,k,x)}return g.toTensor()},t.prototype.cast=function(e,t){return Ea(e,t,this)},t.prototype.reshape=function(e,t){return ka(e,t)},t.prototype.avgPool=function(e,t){return hp(e,"avgPool"),this.pool(e,t,"avg").toFloat()},t.prototype.resizeBilinear=function(e,t,n,r){hp(e,"resizeBilinear");for(var a=e.shape,o=a[0],i=a[1],s=a[2],l=a[3],u=this.readSync(e.dataId),c=new Float32Array(S([o,t,n,l])),p=[r&&t>1?i-1:i,r&&n>1?s-1:s],d=[r&&t>1?t-1:t,r&&n>1?n-1:n],f=0,h=p[0]/d[0],v=p[1]/d[1],m=0;m<o;m++)for(var g=0;g<t;g++)for(var b=h*g,y=Math.floor(b),w=b-y,x=Math.min(i-1,Math.ceil(b)),C=m*e.strides[0]+y*e.strides[1],E=m*e.strides[0]+x*e.strides[1],k=0;k<n;k++)for(var T=v*k,O=Math.floor(T),I=T-O,N=Math.min(s-1,Math.ceil(T)),A=C+O*e.strides[2],_=E+O*e.strides[2],R=C+ +N*e.strides[2],M=E+N*e.strides[2],P=0;P<l;P++){var D=u[A+P],B=u[_+P],L=D+(u[R+P]-D)*I,z=L+(B+(u[M+P]-B)*I-L)*w;c[f++]=z}return Sn(c,[o,t,n,l])},t.prototype.resizeBilinearBackprop=function(e,t,n){hp([e,t],"resizeBilinearBackprop");for(var r=t.shape,a=r[0],o=r[1],i=r[2],s=r[3],l=e.shape,u=l[1],c=l[2],p=new Float32Array(a*o*i*s),d=[n&&u>1?o-1:o,n&&c>1?i-1:i],f=[n&&u>1?u-1:u,n&&c>1?c-1:c],h=d[0]/f[0],v=d[1]/f[1],m=this.readSync(e.dataId),g=0,b=0;b<a;b++)for(var y=b*t.strides[0],w=0;w<u;w++)for(var x=w*h,C=Math.floor(x),E=Math.min(Math.ceil(x),o-1),k=y+C*t.strides[1],S=y+E*t.strides[1],T=x-C,O=1-T,I=0;I<c;I++)for(var N=I*v,A=Math.floor(N),_=Math.min(Math.ceil(N),i-1),R=N-A,M=1-R,P=k+A*t.strides[2],D=k+_*t.strides[2],B=S+A*t.strides[2],L=S+_*t.strides[2],z=O*M,F=O*R,$=T*M,V=T*R,j=0;j<s;j++){var H=m[g++];p[P+j]+=H*z,p[D+j]+=H*F,p[B+j]+=H*$,p[L+j]+=H*V}return _n(p,[a,i,o,s],t.dtype)},t.prototype.resizeNearestNeighbor=function(e,t,n,r){hp(e,"resizeNearestNeighbor");for(var a=e.shape,o=a[0],i=a[1],s=a[2],l=a[3],u=this.readSync(e.dataId),c=new Float32Array(o*t*n*l),p=[r&&t>1?i-1:i,r&&n>1?s-1:s],d=[r&&t>1?t-1:t,r&&n>1?n-1:n],f=p[0]/d[0],h=p[1]/d[1],v=0,m=0;m<o;m++)for(var g=m*e.strides[0],b=0;b<t;b++)for(var y=f*b,w=g+Math.min(i-1,r?Math.round(y):Math.floor(y))*e.strides[1],x=0;x<n;x++)for(var C=h*x,E=w+Math.min(s-1,r?Math.round(C):Math.floor(C))*e.strides[2],k=0;k<l;k++){var S=u[E+k];c[v++]=S}return Sn(c,[o,t,n,l],e.dtype)},t.prototype.resizeNearestNeighborBackprop=function(e,t,n){hp([e,t],"resizeNearestNeighborBackprop");for(var r=t.shape,a=r[0],o=r[1],i=r[2],s=r[3],l=e.shape,u=l[1],c=l[2],p=new Float32Array(a*o*i*s),d=this.readSync(e.dataId),f=[n&&u>1?o-1:o,n&&c>1?i-1:i],h=[n&&u>1?u-1:u,n&&c>1?c-1:c],v=f[0]/h[0],m=f[1]/h[1],g=1/v,b=1/m,y=2*Math.ceil(g)+2,w=2*Math.ceil(b)+2,x=0;x<a;x++)for(var C=x*t.strides[0],E=0;E<o;E++)for(var k=C+E*t.strides[1],S=Math.floor(E*g),T=Math.floor(S-y/2),O=0;O<i;O++)for(var I=k+O*t.strides[2],N=Math.floor(O*b),A=Math.floor(N-w/2),_=0;_<s;_++){for(var R=0,M=0;M<y;M++){var P=M+T;if(!(P<0||P>=u)){var D=C+P*e.strides[1],B=P*v;if(E===Math.min(o-1,n?Math.round(B):Math.floor(B)))for(var L=0;L<w;L++){var z=L+A;if(!(z<0||z>=c)){var F=D+z*e.strides[2],$=z*m;O===Math.min(i-1,n?Math.round($):Math.floor($))&&(R+=d[F+_])}}}}p[I+_]=R}return _n(p,t.shape,t.dtype)},t.prototype.batchNormalization=function(e,t,n,r,a,o){hp([e,t,n,a,o],"batchNorm");for(var i=this.readSync(e.dataId),s=this.readSync(t.dataId),l=this.readSync(n.dataId),u=a?this.readSync(a.dataId):new Float32Array([1]),c=o?this.readSync(o.dataId):new Float32Array([0]),p=new Float32Array(i.length),d=c.length,f=u.length,h=l.length,v=s.length,m=0,g=0,b=0,y=0,w=0;w<i.length;++w)p[w]=c[m++]+(i[w]-s[g++])*u[b++]/Math.sqrt(l[y++]+r),m>=d&&(m=0),g>=v&&(g=0),b>=f&&(b=0),y>=h&&(y=0);return _n(p,e.shape)},t.prototype.localResponseNormalization4D=function(e,t,n,r,a){hp(e,"localResponseNormalization4D");var o=e.shape[3],i=o-1,s=this.readSync(e.dataId),l=e.size,u=new Float32Array(l);function c(e){for(var n=e%o,r=e-n+Math.max(0,n-t),a=e-n+Math.min(n+t,i),l=0;r<=a;r++){var u=s[r];l+=u*u}return l}for(var p=0;p<l;p++){var d=c(p),f=s[p]*Math.pow(n+r*d,-a);u[p]=f}return _n(u,e.shape)},t.prototype.LRNGrad=function(e,t,n,r,a,o,i){hp(e,"LRNGrad");for(var s=e.shape[3],l=this.readSync(e.dataId),u=this.readSync(t.dataId),c=this.readSync(n.dataId),p=new Float32Array(e.size),d=e.size,f=0;f<d;f++){for(var h=f%s,v=f-h+Math.max(0,h-r),m=f-h+Math.min(s,h+r+1),g=0,b=v;b<m;b++)g+=Math.pow(u[b],2);for(g=o*g+a,b=v;b<m;b++){var y=-2*o*i*u[b]*c[f]/g;f===b&&(y+=Math.pow(g,-i)),y*=l[f],p[b]+=y}}return _n(p,e.shape)},t.prototype.multinomial=function(e,t,n,r){hp(e,"multinomial");for(var a=t?e:ra(e),o=a.shape[0],i=a.shape[1],s=Bn([o,n],"int32"),l=this.readSync(s.dataId),u=this.readSync(a.dataId),c=0;c<o;++c){var p=c*i,d=new Float32Array(i-1);d[0]=u[p];for(var f=1;f<d.length;++f)d[f]=d[f-1]+u[p+f];for(var h=nr(r.toString()),v=c*n,m=0;m<n;++m){var g=h();l[v+m]=d.length;for(var b=0;b<d.length;b++)if(g<d[b]){l[v+m]=b;break}}}return s},t.prototype.oneHot=function(e,t,n,r){hp(e,"oneHot");var a=new Float32Array(e.size*t);a.fill(r);for(var o=this.readSync(e.dataId),i=0;i<e.size;++i)o[i]>=0&&o[i]<t&&(a[i*t+o[i]]=n);return Nn(a,[e.size,t],"int32")},t.prototype.nonMaxSuppression=function(e,t,n,r,a){return hp(e,"nonMaxSuppression"),_a(this.readSync(e.dataId),this.readSync(t.dataId),n,r,a)},t.prototype.fft=function(e){return this.fftBatch(e,!1)},t.prototype.ifft=function(e){return this.fftBatch(e,!0)},t.prototype.fftBatch=function(e,t){for(var n=e.shape[0],r=e.shape[1],a=ir(e.shape,"float32"),o=ir(e.shape,"float32"),i=En(e).as2D(n,r),s=kn(e).as2D(n,r),l=0;l<n;l++)for(var u=i.slice([l,0],[1,r]),c=s.slice([l,0],[1,r]),p=Cn(u,c),d=this.readSync(this.fftImpl(p,t).dataId),f=0;f<r;f++){var h=Ia(d,f);a.values[l*r+f]=h.real,o.values[l*r+f]=h.imag}return Cn(a.toTensor(),o.toTensor()).as2D(n,r)},t.prototype.fftImpl=function(e,t){var n=e.as1D(),r=n.size;if(this.isExponentOf2(r)){var a=this.fftRadix2(n,r,t).as2D(e.shape[0],e.shape[1]);return t&&(a=Cn(En(a).div(On(r)),kn(a).div(On(r)))),a}var o=this.readSync(e.dataId),i=function(e){for(var t=new Float32Array(e.length/2),n=new Float32Array(e.length/2),r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}(this.fourierTransformByMatmul(o,r,t));return Cn(i.real,i.imag).as2D(e.shape[0],e.shape[1])},t.prototype.isExponentOf2=function(e){return 0==(e&e-1)},t.prototype.fftRadix2=function(e,t,n){if(1===t)return e;var r=this.readSync(e.dataId),a=t/2,o=function(e){for(var t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t),a=0;a<e.length;a+=4)n[Math.floor(a/4)]=e[a],r[Math.floor(a/4)]=e[a+1];return{real:n,imag:r}}(r),i=Cn(o.real,o.imag).as1D(),s=function(e){for(var t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t),a=2;a<e.length;a+=4)n[Math.floor(a/4)]=e[a],r[Math.floor(a/4)]=e[a+1];return{real:n,imag:r}}(r),l=Cn(s.real,s.imag).as1D();i=this.fftRadix2(i,a,n),l=this.fftRadix2(l,a,n);var u=function(e,t){for(var n=new Float32Array(e/2),r=new Float32Array(e/2),a=0;a<Math.ceil(e/2);a++){var o=(t?2:-2)*Math.PI*(a/e);n[a]=Math.cos(o),r[a]=Math.sin(o)}return{real:n,imag:r}}(t,n),c=Cn(u.real,u.imag).mul(l),p=i.add(c),d=i.sub(c),f=En(p).concat(En(d)),h=kn(p).concat(kn(d));return Cn(f,h).as1D()},t.prototype.fourierTransformByMatmul=function(e,t,n){for(var r=new Float32Array(2*t),a=0;a<t;a++){for(var o=0,i=0,s=0;s<t;s++){var l=Aa(a*s,t,n),u=Ia(e,s);o+=u.real*l.real-u.imag*l.imag,i+=u.real*l.imag+u.imag*l.real}n&&(o/=t,i/=t),Na(r,o,i,a)}return r},t.prototype.depthToSpace=function(e,t,n){x("NHWC"===n,(function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got "+n})),x(t>1,(function(){return"blockSize should be > 1 for depthToSpace, but was: "+t}));for(var r=e.shape[0],a=e.shape[1],o=e.shape[2],i=e.shape[3],s=a*t,l=o*t,u=i/(t*t),c=this.readSync(e.dataId),p=new Float32Array(r*s*l*u),d=0,f=0;f<r;++f)for(var h=0;h<s;++h)for(var v=Math.floor(h/t),m=h%t,g=0;g<l;++g)for(var b=Math.floor(g/t),y=(m*t+g%t)*u,w=0;w<u;++w){var C=w+y+i*(b+o*(v+a*f));p[d++]=c[C]}return _n(p,[r,s,l,u])},t.prototype.broadcastedBinaryOp=function(e,t,n,r){var a=ca(e.shape,t.shape),o=ir(a,n),i=this.readSync(e.dataId),s=this.readSync(t.dataId),l=la(e.shape,a),u=la(t.shape,a),c=o.values;if(l.length+u.length===0)for(var p=0;p<c.length;++p)c[p]=r(i[p%i.length],s[p%s.length]);else{var d=this.bufferSync(e),f=this.bufferSync(t),h=function(n){var a=o.indexToLoc(n),p=a.slice(-e.rank);l.forEach((function(e){return p[e]=0}));var h=d.locToIndex(p),v=a.slice(-t.rank);u.forEach((function(e){return v[e]=0}));var m=f.locToIndex(v);c[n]=r(i[h],s[m])};for(p=0;p<c.length;++p)h(p)}return o.toTensor()},t.prototype.broadcastedBinaryComplexOp=function(e,t,n){var r=ca(e.shape,t.shape),a=ir(r,"float32"),o=ir(r,"float32"),i=this.readSync(e.dataId),s=this.readSync(t.dataId),l=la(e.shape,r),u=la(t.shape,r),c=a.values,p=o.values;if(l.length+u.length===0)for(var d=0;d<c.length;d++){var f=d%i.length,h=d%s.length,v=n(i[2*f],i[2*f+1],s[2*h],s[2*h+1]);c[d]=v.real,p[d]=v.imag}else{var m=this.bufferSync(this.data.get(e.dataId).complexTensors.real),g=this.bufferSync(this.data.get(t.dataId).complexTensors.real),b=function(r){var o=a.indexToLoc(r),d=o.slice(-e.rank);l.forEach((function(e){return d[e]=0}));var f=m.locToIndex(d),h=o.slice(-t.rank);u.forEach((function(e){return h[e]=0}));var v=g.locToIndex(h),b=n(i[2*f],i[2*f+1],s[2*v],s[2*v+1]);c[r]=b.real,p[r]=b.imag};for(d=0;d<c.length;d++)b(d)}return this.complex(a.toTensor(),o.toTensor())},t.prototype.split=function(e,t,n){return Ma(e,t,n)},t.prototype.dispose=function(){},t.prototype.floatPrecision=function(){return 32},t.prototype.epsilon=function(){return 1e-7},t.prototype.cropAndResize=function(e,t,n,r,a,o){for(var i=e.shape,s=i[0],l=i[1],u=i[2],c=i[3],p=t.shape[0],d=r[0],f=r[1],h=ir([p,d,f,c],e.dtype),v=this.readSync(t.dataId),m=this.readSync(n.dataId),g=this.readSync(e.dataId),b=e.strides,y=h.strides,w=0;w<p;w++){var x=4*w,C=v[x],E=v[x+1],k=v[x+2],S=v[x+3],T=m[w];if(!(T>=s))for(var O=d>1?(k-C)*(l-1)/(d-1):0,I=f>1?(S-E)*(u-1)/(f-1):0,N=0;N<d;N++){var A=d>1?C*(l-1)+N*O:.5*(C+k)*(l-1);if(A<0||A>l-1)for(var _=0;_<f;_++)for(var R=0;R<c;R++){var M=R+_*y[2]+N*y[1]+w*y[0];h.values[M]=o}else if("bilinear"===a){var P=Math.floor(A),D=Math.ceil(A),B=A-P;for(_=0;_<f;_++)if((U=f>1?E*(u-1)+_*I:.5*(E+S)*(u-1))<0||U>u-1)for(R=0;R<c;R++)M=R+_*y[2]+N*y[1]+w*y[0],h.values[M]=o;else{var L=Math.floor(U),z=Math.ceil(U),F=U-L;for(R=0;R<c;R++){var $=g[M=R+L*b[2]+P*b[1]+T*b[0]],V=g[M=R+z*b[2]+P*b[1]+T*b[0]],j=g[M=R+L*b[2]+D*b[1]+T*b[0]],H=$+(V-$)*F,W=j+(g[M=R+z*b[2]+D*b[1]+T*b[0]]-j)*F;M=R+_*y[2]+N*y[1]+w*y[0],h.values[M]=H+(W-H)*B}}}else for(_=0;_<f;++_){var U;if((U=f>1?E*(u-1)+_*I:.5*(E+S)*(u-1))<0||U>u-1)for(R=0;R<c;R++)M=R+_*y[2]+N*y[1]+w*y[0],h.values[M]=o;else{var q=Math.round(U),G=Math.round(A);for(R=0;R<c;R++){var X=R+q*b[2]+G*b[1]+T*b[0],Y=R+_*y[2]+N*y[1]+w*y[0];h.values[Y]=g[X]}}}}}return h.toTensor()},t.prototype.sparseToDense=function(e,t,n,r){var a=Vr(0,e,n),o=a.sliceRank,i=a.numUpdates,s=a.sliceSize,l=a.strides,u=a.outputSize;return this.scatter(e,t,n,u,s,i,o,l,r,!1)},t.prototype.gatherND=function(e,t){var n=t.shape,r=n[n.length-1],a=Fr(e,t),o=a[0],i=a[1],s=a[2],l=a[3];if(0===i)return Sn([],o,e.dtype);for(var u=new pe([i,s],e.dtype),c=this.readSync(t.dataId),p=this.readSync(e.dataId),d=0;d<i;d++){for(var f=[],h=0,v=0;v<r;v++){var m=c[d*r+v];h+=m*l[v],f.push(m)}if(h<0||h>=e.size/s)throw new Error("Invalid indices: "+f+" does not index into "+e.shape);for(var g=0;g<s;g++)u.values[d*s+g]=p[h*s+g]}return u.toTensor().reshape(o)},t.prototype.scatterND=function(e,t,n){var r=Vr(0,e,n),a=r.sliceRank,o=r.numUpdates,i=r.sliceSize,s=r.strides,l=r.outputSize,u=On(0);return this.scatter(e,t,n,l,i,o,a,s,u,!0)},t.prototype.fill=function(e,t,n){var r=B(n=n||q(t),S(e));return r.fill(t),Re.makeTensor(r,e,n,this)},t.prototype.onesLike=function(e){if("string"===e.dtype)throw new Error("onesLike is not supported for string tensors");return this.fill(e.shape,1,e.dtype)},t.prototype.zerosLike=function(e){var t=B(e.dtype,S(e.shape));return this.makeOutput(t,e.shape,e.dtype)},t.prototype.linspace=function(e,t,n){return Sa(e,t,n)},t.prototype.scatter=function(e,t,n,r,a,o,i,s,l,u){var c=[r/a,a],p=this.readSync(e.dataId),d=this.readSync(t.dataId);if(0===r)return Sn([],n,t.dtype);var f=new pe(c,t.dtype);f.values.fill(this.readSync(l.dataId)[0]);for(var h=0;h<o;h++){for(var v=[],m=0,g=0;g<i;g++){var b=p[h*i+g];v.push(b),m+=b*s[g]}if(m<0||m>=r/a)throw new Error("Invalid indices: "+v+" does not index into "+n);for(var y=0;y<a;y++)u?f.values[m*a+y]+=d[h*a+y]:f.values[m*a+y]=0===t.rank?d[0]:d[h*a+y]}return f.toTensor().reshape(n)},t}(ia);Re.registerBackend("cpu",(function(){return new mp}),1),h({kernelName:"Square",backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=n;hp(r,"square");for(var o=a.data.get(r.dataId).values,i=new Float32Array(o.length),s=0;s<o.length;++s){var l=o[s];i[s]=l*l}return{dataId:a.write(i,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}}),h({kernelName:"Square",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=n,o=new ts(r.shape,"return x * x;");return a.runWebGLProgram(o,[r],r.dtype)}});var gp=function(){function e(){}return e.prototype.fetch=function(e,t){return fetch(e,t)},e.prototype.now=function(){return performance.now()},e.prototype.encode=function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Browser's encoder only supports utf-8, but got "+t);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)},e.prototype.decode=function(e,t){return new TextDecoder(t).decode(e)},e}();u().get("IS_BROWSER")&&u().setPlatform("browser",new gp);var bp,yp=function(){function e(){this.util=n(753),this.textEncoder=new this.util.TextEncoder}return e.prototype.fetch=function(e,t){return null!=u().global.fetch?u().global.fetch(e,t):(null==bp&&(bp=n(522)),bp(e,t))},e.prototype.now=function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6},e.prototype.encode=function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Node built-in encoder only supports utf-8, but got "+t);return this.textEncoder.encode(e)},e.prototype.decode=function(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)},e}();u().get("IS_NODE")&&u().setPlatform("node",new yp);var wp={float32:4,int32:4,uint16:2,uint8:1,bool:1},xp=4;function Cp(e,t){for(var n={},r=0,a=function(t){var a=t.name,o=t.dtype,i=t.shape,s=S(i),l=void 0;if("quantization"in t){var u=t.quantization;if("uint8"!==u.dtype&&"uint16"!==u.dtype)throw new Error("Weight "+t.name+" has unknown quantization dtype "+u.dtype+". Supported quantization dtypes are: 'uint8' and 'uint16'.");var c=wp[u.dtype],p=e.slice(r,r+s*c),d="uint8"===u.dtype?new Uint8Array(p):new Uint16Array(p);if("float32"===o)l=Float32Array.from(d,(function(e){return e*u.scale+u.min}));else{if("int32"!==o)throw new Error("Unsupported dtype in weight '"+a+"': "+o);l=Int32Array.from(d,(function(e){return Math.round(e*u.scale+u.min)}))}r+=s*c}else if("string"===o){var f=S(t.shape);l=[];for(var h=0;h<f;h++){var v=new Uint32Array(e.slice(r,r+xp))[0];r+=xp;var m=new Uint8Array(e.slice(r,r+v));l.push(m),r+=v}}else{var g=wp[o];if(p=e.slice(r,r+s*g),"float32"===o)l=new Float32Array(p);else if("int32"===o)l=new Int32Array(p);else{if("bool"!==o)throw new Error("Unsupported dtype in weight '"+a+"': "+o);l=new Uint8Array(p)}r+=s*g}n[a]=Sn(l,i,o)},o=0,i=t;o<i.length;o++)a(i[o]);return n}function Ep(e){if(null===e)throw new Error("Invalid input value: "+JSON.stringify(e));var t=0,n=[];e.forEach((function(e){if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+e.constructor.name)}));var r=new Uint8Array(t),a=0;return n.forEach((function(e){r.set(new Uint8Array(e.buffer),a),a+=e.byteLength})),r.buffer}var kp="undefined"!=typeof Buffer&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);function Sp(e){return kp?Buffer.byteLength(e):new Blob([e]).size}function Tp(e){var t=0;e.forEach((function(e){t+=e.byteLength}));var n=new Uint8Array(t),r=0;return e.forEach((function(e){n.set(new Uint8Array(e),r),r+=e.byteLength})),n.buffer}function Op(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);var t=e.split("/");return t[t.length-1]}function Ip(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:Sp(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:Sp(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}var Np=function(){function e(){this.saveRouters=[],this.loadRouters=[]}return e.getInstance=function(){return null==e.instance&&(e.instance=new e),e.instance},e.registerSaveRouter=function(t){e.getInstance().saveRouters.push(t)},e.registerLoadRouter=function(t){e.getInstance().loadRouters.push(t)},e.getSaveHandlers=function(t){return e.getHandlers(t,"save")},e.getLoadHandlers=function(t,n){return e.getHandlers(t,"load",n)},e.getHandlers=function(t,n,r){var a=[];return("load"===n?e.getInstance().loadRouters:e.getInstance().saveRouters).forEach((function(e){var n=e(t,r);null!==n&&a.push(n)})),a},e}(),Ap="://",_p=function(){function e(){this.managers={}}return e.getInstance=function(){return null==e.instance&&(e.instance=new e),e.instance},e.registerManager=function(t,n){x(null!=t,(function(){return"scheme must not be undefined or null."})),t.endsWith(Ap)&&(t=t.slice(0,t.indexOf(Ap))),x(t.length>0,(function(){return"scheme must not be an empty string."}));var r=e.getInstance();x(null==r.managers[t],(function(){return"A model store manager is already registered for scheme '"+t+"'."})),r.managers[t]=n},e.getManager=function(e){var t=this.getInstance().managers[e];if(null==t)throw new Error("Cannot find model manager for scheme '"+e+"'");return t},e.getSchemes=function(){return Object.keys(this.getInstance().managers)},e}();function Rp(e){if(-1===e.indexOf(Ap))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+_p.getSchemes().join(","));return{scheme:e.split(Ap)[0],path:e.split(Ap)[1]}}function Mp(e,t,n){return void 0===n&&(n=!1),i(this,void 0,void 0,(function(){var r,a,o,i,l,u,c,p,d;return s(this,(function(s){switch(s.label){case 0:return x(e!==t,(function(){return"Old path and new path are the same: '"+e+"'"})),x((r=Np.getLoadHandlers(e)).length>0,(function(){return"Copying failed because no load handler is found for source URL "+e+"."})),x(r.length<2,(function(){return"Copying failed because more than one ("+r.length+") load handlers for source URL "+e+"."})),a=r[0],x((o=Np.getSaveHandlers(t)).length>0,(function(){return"Copying failed because no save handler is found for destination URL "+t+"."})),x(o.length<2,(function(){return"Copying failed because more than one ("+r.length+") save handlers for destination URL "+t+"."})),i=o[0],l=Rp(e).scheme,u=Rp(e).path,c=l===Rp(e).scheme,[4,a.load()];case 1:return p=s.sent(),n&&c?[4,_p.getManager(l).removeModel(u)]:[3,3];case 2:s.sent(),s.label=3;case 3:return[4,i.save(p)];case 4:return d=s.sent(),!n||c?[3,6]:[4,_p.getManager(l).removeModel(u)];case 5:s.sent(),s.label=6;case 6:return[2,d.modelArtifactsInfo]}}))}))}var Pp="models_store",Dp="model_info_store";function Bp(){if(!u().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var e=window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function Lp(e){var t=e.result;t.createObjectStore(Pp,{keyPath:"modelPath"}),t.createObjectStore(Dp,{keyPath:"modelPath"})}var zp=function(){function e(e){if(this.indexedDB=Bp(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}return e.prototype.save=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,e)]}))}))},e.prototype.load=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){return[2,this.databaseAction(this.modelPath)]}))}))},e.prototype.databaseAction=function(e,t){var n=this;return new Promise((function(e,r){var a=n.indexedDB.open("tensorflowjs",1);a.onupgradeneeded=function(){return Lp(a)},a.onsuccess=function(){var o=a.result;if(null==t){var i=o.transaction(Pp,"readonly"),s=i.objectStore(Pp).get(n.modelPath);s.onsuccess=function(){if(null==s.result)return o.close(),r(new Error("Cannot find model with path '"+n.modelPath+"' in IndexedDB."));e(s.result.modelArtifacts)},s.onerror=function(e){return o.close(),r(s.error)},i.oncomplete=function(){return o.close()}}else{var l,u=Ip(t),c=o.transaction(Dp,"readwrite"),p=c.objectStore(Dp),d=p.put({modelPath:n.modelPath,modelArtifactsInfo:u});d.onsuccess=function(){var a=(l=o.transaction(Pp,"readwrite")).objectStore(Pp).put({modelPath:n.modelPath,modelArtifacts:t,modelArtifactsInfo:u});a.onsuccess=function(){return e({modelArtifactsInfo:u})},a.onerror=function(e){var t=(p=c.objectStore(Dp)).delete(n.modelPath);t.onsuccess=function(){return o.close(),r(a.error)},t.onerror=function(e){return o.close(),r(a.error)}}},d.onerror=function(e){return o.close(),r(d.error)},c.oncomplete=function(){null==l?o.close():l.oncomplete=function(){return o.close()}}}},a.onerror=function(e){return r(a.error)}}))},e.URL_SCHEME="indexeddb://",e}(),Fp=function(e){return u().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(zp.URL_SCHEME)?(t=e.slice(zp.URL_SCHEME.length),new zp(t)):null;var t};Np.registerSaveRouter(Fp),Np.registerLoadRouter(Fp);var $p=function(){function e(){this.indexedDB=Bp()}return e.prototype.listModels=function(){return i(this,void 0,void 0,(function(){var e=this;return s(this,(function(t){return[2,new Promise((function(t,n){var r=e.indexedDB.open("tensorflowjs",1);r.onupgradeneeded=function(){return Lp(r)},r.onsuccess=function(){var e=r.result,a=e.transaction(Dp,"readonly"),o=a.objectStore(Dp).getAll();o.onsuccess=function(){for(var e={},n=0,r=o.result;n<r.length;n++){var a=r[n];e[a.modelPath]=a.modelArtifactsInfo}t(e)},o.onerror=function(t){return e.close(),n(o.error)},a.oncomplete=function(){return e.close()}},r.onerror=function(e){return n(r.error)}}))]}))}))},e.prototype.removeModel=function(e){return i(this,void 0,void 0,(function(){var t=this;return s(this,(function(n){var r;return e=(r=e).startsWith(zp.URL_SCHEME)?r.slice(zp.URL_SCHEME.length):r,[2,new Promise((function(n,r){var a=t.indexedDB.open("tensorflowjs",1);a.onupgradeneeded=function(){return Lp(a)},a.onsuccess=function(){var t,o=a.result,i=o.transaction(Dp,"readwrite"),s=i.objectStore(Dp),l=s.get(e);l.onsuccess=function(){if(null==l.result)return o.close(),r(new Error("Cannot find model with path '"+e+"' in IndexedDB."));var a=s.delete(e),i=function(){var a=(t=o.transaction(Pp,"readwrite")).objectStore(Pp).delete(e);a.onsuccess=function(){return n(l.result.modelArtifactsInfo)},a.onerror=function(e){return r(l.error)}};a.onsuccess=i,a.onerror=function(e){return i(),o.close(),r(l.error)}},l.onerror=function(e){return o.close(),r(l.error)},i.oncomplete=function(){null==t?o.close():t.oncomplete=function(){return o.close()}}},a.onerror=function(e){return r(a.error)}}))]}))}))},e}();if(u().getBool("IS_BROWSER"))try{_p.registerManager(zp.URL_SCHEME,new $p)}catch(a){}var Vp="/",jp="tensorflowjs_models",Hp="info",Wp="model_topology",Up="weight_specs",qp="weight_data",Gp="model_metadata";function Xp(e){return{info:[jp,e,Hp].join(Vp),topology:[jp,e,Wp].join(Vp),weightSpecs:[jp,e,Up].join(Vp),weightData:[jp,e,qp].join(Vp),modelMetadata:[jp,e,Gp].join(Vp)}}function Yp(e){var t=e.split(Vp);if(t.length<3)throw new Error("Invalid key format: "+e);return t.slice(1,t.length-1).join(Vp)}var Kp=function(){function e(e){if(!u().getBool("IS_BROWSER")||void 0===window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=Xp(this.modelPath)}return e.prototype.save=function(e){return i(this,void 0,void 0,(function(){var t,n,r;return s(this,(function(a){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");t=JSON.stringify(e.modelTopology),n=JSON.stringify(e.weightSpecs),r=Ip(e);try{return this.LS.setItem(this.keys.info,JSON.stringify(r)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,(o=e.weightData,kp?Buffer.from(o).toString("base64"):btoa(String.fromCharCode.apply(null,new Uint8Array(o))))),this.LS.setItem(this.keys.modelMetadata,JSON.stringify({format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy})),[2,{modelArtifactsInfo:r}]}catch(e){throw this.LS.removeItem(this.keys.info),this.LS.removeItem(this.keys.topology),this.LS.removeItem(this.keys.weightSpecs),this.LS.removeItem(this.keys.weightData),this.LS.removeItem(this.keys.modelMetadata),new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes="+r.modelTopologyBytes+", weightSpecsBytes="+r.weightSpecsBytes+", weightDataBytes="+r.weightDataBytes+".")}var o;return[2]}))}))},e.prototype.load=function(){return i(this,void 0,void 0,(function(){var e,t,n,r,a,o,i;return s(this,(function(s){if(null==(e=JSON.parse(this.LS.getItem(this.keys.info))))throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(t={},null==(n=JSON.parse(this.LS.getItem(this.keys.topology))))throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(t.modelTopology=n,null==(r=JSON.parse(this.LS.getItem(this.keys.weightSpecs))))throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(t.weightSpecs=r,null!=(a=this.LS.getItem(this.keys.modelMetadata))&&(o=JSON.parse(a),t.format=o.format,t.generatedBy=o.generatedBy,t.convertedBy=o.convertedBy),null==(i=this.LS.getItem(this.keys.weightData)))throw new Error("In local storage, the binary weight values of model '"+this.modelPath+"' are missing.");return t.weightData=function(e){if(kp){var t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}for(var n=atob(e),r=new Uint8Array(n.length),a=0;a<n.length;++a)r.set([n.charCodeAt(a)],a);return r.buffer}(i),[2,t]}))}))},e.URL_SCHEME="localstorage://",e}(),Jp=function(e){return u().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Kp.URL_SCHEME)?(t=e.slice(Kp.URL_SCHEME.length),new Kp(t)):null;var t};Np.registerSaveRouter(Jp),Np.registerLoadRouter(Jp);var Qp=function(){function e(){x(u().getBool("IS_BROWSER"),(function(){return"Current environment is not a web browser"})),x(void 0!==window.localStorage,(function(){return"Current browser does not appear to support localStorage"})),this.LS=window.localStorage}return e.prototype.listModels=function(){return i(this,void 0,void 0,(function(){var e,t,n,r,a,o;return s(this,(function(i){for(e={},t=jp+Vp,n=Vp+Hp,r=0;r<this.LS.length;++r)(a=this.LS.key(r)).startsWith(t)&&a.endsWith(n)&&(o=Yp(a),e[o]=JSON.parse(this.LS.getItem(a)));return[2,e]}))}))},e.prototype.removeModel=function(e){return i(this,void 0,void 0,(function(){var t,n;return s(this,(function(r){var a;if(e=(a=e).startsWith(Kp.URL_SCHEME)?a.slice(Kp.URL_SCHEME.length):a,t=Xp(e),null==this.LS.getItem(t.info))throw new Error("Cannot find model at path '"+e+"'");return n=JSON.parse(this.LS.getItem(t.info)),this.LS.removeItem(t.info),this.LS.removeItem(t.topology),this.LS.removeItem(t.weightSpecs),this.LS.removeItem(t.weightData),[2,n]}))}))},e}();if(u().getBool("IS_BROWSER"))try{_p.registerManager(Kp.URL_SCHEME,new Qp)}catch(a){}function Zp(e){return new Promise((function(e){return setTimeout(e)})).then(e)}var ed=function(){function e(t){if(!u().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(e.URL_SCHEME)&&(t=t.slice(e.URL_SCHEME.length)),null!=t&&0!==t.length||(t="model"),this.modelTopologyFileName=t+".json",this.weightDataFileName=t+".weights.bin"}return e.prototype.save=function(e){return i(this,void 0,void 0,(function(){var t,n,r,a,o,i;return s(this,(function(s){switch(s.label){case 0:if("undefined"==typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");if(t=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"})),!(e.modelTopology instanceof ArrayBuffer))return[3,1];throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 1:return n=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:n},a=window.URL.createObjectURL(new Blob([JSON.stringify(r)],{type:"application/json"})),(o=null==this.jsonAnchor?document.createElement("a"):this.jsonAnchor).download=this.modelTopologyFileName,o.href=a,[4,Zp((function(){return o.dispatchEvent(new MouseEvent("click"))}))];case 2:return s.sent(),null==e.weightData?[3,4]:((i=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,i.href=t,[4,Zp((function(){return i.dispatchEvent(new MouseEvent("click"))}))]);case 3:s.sent(),s.label=4;case 4:return[2,{modelArtifactsInfo:Ip(e)}]}}))}))},e.URL_SCHEME="downloads://",e}(),td=function(){function e(e){if(null==e||e.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received "+e);this.files=e}return e.prototype.load=function(){return i(this,void 0,void 0,(function(){var e,t,n=this;return s(this,(function(r){return e=this.files[0],t=this.files.slice(1),[2,new Promise((function(r,a){var o=new FileReader;o.onload=function(o){var i=JSON.parse(o.target.result),s=i.modelTopology;if(null!=s){0===t.length&&r({modelTopology:s});var l=i.weightsManifest;if(null!=l){var u;try{u=n.checkManifestAndWeightFiles(l,t)}catch(e){return void a(e)}var c=[],p=[],d=[];l.forEach((function(e){e.paths.forEach((function(e){p.push(e),d.push(null)})),c.push.apply(c,e.weights)})),l.forEach((function(e){e.paths.forEach((function(e){var t=new FileReader;t.onload=function(t){var n=t.target.result,a=p.indexOf(e);d[a]=n,-1===d.indexOf(null)&&r({modelTopology:s,weightSpecs:c,weightData:Tp(d)})},t.onerror=function(t){return a("Failed to weights data from file of path '"+e+"'.")},t.readAsArrayBuffer(u[e])}))}))}else a(new Error("weightManifest field is missing from file "+e.name))}else a(new Error("modelTopology field is missing from file "+e.name))},o.onerror=function(t){return a("Failed to read model topology and weights manifest JSON from file '"+e.name+"'. BrowserFiles supports loading Keras-style tf.Model artifacts only.")},o.readAsText(e)}))]}))}))},e.prototype.checkManifestAndWeightFiles=function(e,t){for(var n=[],r=t.map((function(e){return Op(e.name)})),a={},o=0,i=e;o<i.length;o++)i[o].paths.forEach((function(e){var o=Op(e);if(-1!==n.indexOf(o))throw new Error("Duplicate file basename found in weights manifest: '"+o+"'");if(n.push(o),-1===r.indexOf(o))throw new Error("Weight file with basename '"+o+"' is not provided.");a[e]=t[r.indexOf(o)]}));if(n.length!==t.length)throw new Error("Mismatch in the number of files in weights manifest ("+n.length+") and the number of weight files provided ("+t.length+").");return a},e}();function nd(e,t,n,r){!function(e){x(null!=e&&Array.isArray(e)&&e.length>0,(function(){return"promises must be a none empty array"}))}(e),function(e,t){x(e>=0&&e<=1,(function(){return"Progress fraction must be in range [0, 1], but got startFraction "+e})),x(t>=0&&t<=1,(function(){return"Progress fraction must be in range [0, 1], but got endFraction "+t})),x(t>=e,(function(){return"startFraction must be no more than endFraction, but got startFraction "+e+" and endFraction "+t}))}(n=null==n?0:n,r=null==r?1:r);var a=0;return Promise.all(e.map((function(o){return o.then((function(o){var i=n+ ++a/e.length*(r-n);return t(i),o})),o})))}function rd(e,t){return i(this,void 0,void 0,(function(){var n,r,a,o,i,l,c,p,d;return s(this,(function(s){switch(s.label){case 0:return null==t&&(t={}),n=null==t.fetchFunc?u().platform.fetch:t.fetchFunc,r=e.map((function(e){return n(e,t.requestInit,{isBinary:!0})})),a=0,o=.5,null!=t.onProgress?[3,2]:[4,Promise.all(r)];case 1:return i=s.sent(),[3,4];case 2:return[4,nd(r,t.onProgress,a,o)];case 3:i=s.sent(),s.label=4;case 4:return l=i.map((function(e){return e.arrayBuffer()})),c=.5,p=1,null!=t.onProgress?[3,6]:[4,Promise.all(l)];case 5:return d=s.sent(),[3,8];case 6:return[4,nd(l,t.onProgress,c,p)];case 7:d=s.sent(),s.label=8;case 8:return[2,d]}}))}))}function ad(e){var t=this;return function(n,r,a){return void 0===r&&(r=""),i(t,void 0,void 0,(function(){var t,o,i,l,u,c,p,d,f,h;return s(this,(function(s){switch(s.label){case 0:if(t=n.map((function(){return!1})),o={},i=null!=a?a.map((function(){return!1})):[],l=[],n.forEach((function(e,n){var r=0;e.weights.forEach((function(e){var s="quantization"in e?e.quantization.dtype:e.dtype,u=wp[s]*S(e.shape),c=function(){t[n]=!0,null==o[n]&&(o[n]=[]),o[n].push({manifestEntry:e,groupOffset:r,sizeBytes:u})};null!=a?a.forEach((function(t,n){t===e.name&&(c(),i[n]=!0)})):c(),l.push(e.name),r+=u}))})),!i.every((function(e){return e})))throw u=a.filter((function(e,t){return!i[t]})),new Error("Could not find weights in manifest with names: "+u.join(", ")+". \nManifest JSON has weights with names: "+l.join(", ")+".");return c=t.reduce((function(e,t,n){return t&&e.push(n),e}),[]),p=[],c.forEach((function(e){n[e].paths.forEach((function(e){var t=r+(r.endsWith("/")?"":"/")+e;p.push(t)}))})),[4,e(p)];case 1:return d=s.sent(),f={},h=0,c.forEach((function(e){for(var t=n[e].paths.length,r=0,a=0;a<t;a++)r+=d[h+a].byteLength;for(var i=new ArrayBuffer(r),s=new Uint8Array(i),l=0,u=0;u<t;u++){var c=new Uint8Array(d[h+u]);s.set(c,l),l+=c.byteLength}o[e].forEach((function(e){var t=Cp(i.slice(e.groupOffset,e.groupOffset+e.sizeBytes),[e.manifestEntry]);for(var n in t)f[n]=t[n]})),h+=t})),[2,f]}}))}))}}Np.registerSaveRouter((function(e){return u().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(ed.URL_SCHEME)?(void 0===(t=e.slice(ed.URL_SCHEME.length))&&(t="model"),new ed(t)):null;var t}));var od=function(){function e(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.onProgress=t.onProgress,null!=t.fetchFunc?(x("function"==typeof t.fetchFunc,(function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"})),this.fetch=t.fetchFunc):this.fetch=u().platform.fetch,x(null!=e&&e.length>0,(function(){return"URL path for http must not be null, undefined or empty."})),Array.isArray(e)&&x(2===e.length,(function(){return"URL paths for http must have a length of 2, (actual length is "+e.length+")."})),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{}}return e.prototype.save=function(e){return i(this,void 0,void 0,(function(){var t,n,r,a;return s(this,(function(o){switch(o.label){case 0:if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return(t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,n=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,userDefinedMetadata:e.userDefinedMetadata,weightsManifest:n},t.body.append("model.json",new Blob([JSON.stringify(r)],{type:"application/json"}),"model.json"),null!=e.weightData&&t.body.append("model.weights.bin",new Blob([e.weightData],{type:"application/octet-stream"}),"model.weights.bin"),[4,this.fetch(this.path,t)];case 1:if((a=o.sent()).ok)return[2,{modelArtifactsInfo:Ip(e),responses:[a]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+a.status+".")}}))}))},e.prototype.load=function(){return i(this,void 0,void 0,(function(){var e,t,n,r,a,o,i,l;return s(this,(function(s){switch(s.label){case 0:return[4,this.fetch(this.path,this.requestInit)];case 1:if(!(e=s.sent()).ok)throw new Error("Request to "+this.path+" failed with status code "+e.status+". Please verify this URL points to the model JSON of the model to load.");s.label=2;case 2:return s.trys.push([2,4,,5]),[4,e.json()];case 3:return t=s.sent(),[3,5];case 4:throw s.sent(),n="Failed to parse model JSON of response from "+this.path+".",this.path.endsWith(".pb")?n+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":n+=" Please make sure the server is serving valid JSON for this request.",new Error(n);case 5:if(r=t.modelTopology,a=t.weightsManifest,null==r&&null==a)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");return null==a?[3,7]:[4,this.loadWeights(a)];case 6:l=s.sent(),o=l[0],i=l[1],s.label=7;case 7:return[2,{modelTopology:r,weightSpecs:o,weightData:i}]}}))}))},e.prototype.loadWeights=function(e){return i(this,void 0,void 0,(function(){var t,n,r,a,o,i,l,u,c,p,d;return s(this,(function(s){switch(s.label){case 0:for(t=Array.isArray(this.path)?this.path[1]:this.path,n=function(e){var t=e.lastIndexOf("/"),n=e.lastIndexOf("?");return[e.substring(0,t)+"/",n>t?e.substring(n):""]}(t),r=n[0],a=n[1],o=this.weightPathPrefix||r,i=[],l=0,u=e;l<u.length;l++)c=u[l],i.push.apply(i,c.weights);return p=[],e.forEach((function(e){e.paths.forEach((function(e){p.push(o+e+a)}))})),[4,rd(p,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress})];case 1:return d=s.sent(),[2,[i,Tp(d)]]}}))}))},e.URL_SCHEME_REGEX=/^https?:\/\//,e}();function id(e){return null!=e.match(od.URL_SCHEME_REGEX)}var sd=function(e,t){return"undefined"==typeof fetch?null:(Array.isArray(e)?e.every((function(e){return id(e)})):id(e))?ld(e,{onProgress:t}):null};function ld(e,t){return new od(e,t)}Np.registerSaveRouter(sd),Np.registerLoadRouter(sd);var ud=function(){function e(e){this.modelArtifacts=e}return e.prototype.load=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){return[2,this.modelArtifacts]}))}))},e}(),cd=function(){function e(e){this.saveHandler=e}return e.prototype.save=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){return[2,this.saveHandler(e)]}))}))},e}(),pd=Object.freeze({browserFiles:function(e){return new td(e)},browserHTTPRequest:function(e,t){return ld(e,t)},concatenateArrayBuffers:Tp,decodeWeights:Cp,encodeWeights:function(e,t){return i(this,void 0,void 0,(function(){var n,r,a,o,l,u=this;return s(this,(function(c){switch(c.label){case 0:for(n=[],r=[],a=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e),o=function(o){var l=a[o],c=Array.isArray(e)?e[o].tensor:e[l];if("float32"!==c.dtype&&"int32"!==c.dtype&&"bool"!==c.dtype&&"string"!==c.dtype)throw new Error("Unsupported dtype in weight '"+l+"': "+c.dtype);var p={name:l,shape:c.shape,dtype:c.dtype};if("string"===c.dtype){var d=new Promise((function(e){return i(u,void 0,void 0,(function(){var t,n,r,a,o,i,l;return s(this,(function(s){switch(s.label){case 0:return[4,c.bytes()];case 1:for(t=s.sent(),n=t.reduce((function(e,t){return e+t.length}),0)+xp*t.length,r=new Uint8Array(n),a=0,o=0;o<t.length;o++)i=t[o],l=new Uint8Array(new Uint32Array([i.length]).buffer),r.set(l,a),a+=xp,r.set(i,a),a+=i.length;return e(r),[2]}}))}))}));r.push(d)}else r.push(c.data());null!=t&&(p.group=t),n.push(p)},l=0;l<a.length;++l)o(l);return[4,Promise.all(r)];case 1:return[2,{data:Ep(c.sent()),specs:n}]}}))}))},fromMemory:function(e,t,n,r){return 1===arguments.length?null!=e.modelTopology||null!=e.weightSpecs?new ud(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new ud({modelTopology:e})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new ud({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r}))},getLoadHandlers:function(e,t){return Np.getLoadHandlers(e,t)},getModelArtifactsInfoForJSON:Ip,getSaveHandlers:function(e){return Np.getSaveHandlers(e)},http:ld,isHTTPScheme:id,loadWeights:function(e,t,n,r){return void 0===t&&(t=""),i(this,void 0,void 0,(function(){return s(this,(function(a){return[2,ad((function(e){return rd(e,{requestInit:r})}))(e,t,n)]}))}))},registerLoadRouter:function(e){return Np.registerLoadRouter(e)},registerSaveRouter:function(e){return Np.registerSaveRouter(e)},weightsLoaderFactory:ad,withSaveHandler:function(e){return new cd(e)},copyModel:function(e,t){return i(this,void 0,void 0,(function(){return s(this,(function(n){return[2,Mp(e,t,!1)]}))}))},listModels:function(){return i(this,void 0,void 0,(function(){var e,t,n,r,a,o,i;return s(this,(function(s){switch(s.label){case 0:e=_p.getSchemes(),t={},n=0,r=e,s.label=1;case 1:return n<r.length?(a=r[n],[4,_p.getManager(a).listModels()]):[3,4];case 2:for(i in o=s.sent())t[a+Ap+i]=o[i];s.label=3;case 3:return n++,[3,1];case 4:return[2,t]}}))}))},moveModel:function(e,t){return i(this,void 0,void 0,(function(){return s(this,(function(n){return[2,Mp(e,t,!0)]}))}))},removeModel:function(e){return i(this,void 0,void 0,(function(){var t;return s(this,(function(n){return t=Rp(e),[2,_p.getManager(t.scheme).removeModel(t.path)]}))}))}}),dd=xn({confusionMatrix_:function(e,t,n){var r=un(e,"labels","confusionMatrix"),a=un(t,"predictions","confusionMatrix");x(null==n||n>0&&Number.isInteger(n),(function(){return"If provided, numClasses must be a positive integer, but got "+n})),x(1===r.rank,(function(){return"Expected the rank of labels to be 1, but got "+r.rank})),x(1===a.rank,(function(){return"Expected the rank of predictions to be 1, but got "+a.rank})),x(r.shape[0]===a.shape[0],(function(){return"Mismatch in the number of examples: "+r.shape[0]+" vs. "+a.shape[0]+". Labels and predictions should have the same number of elements."})),x(n>0&&Number.isInteger(n),(function(){return"numClasses is required to be a positive integer, but got "+n}));var o=mr(r.asType("int32"),n),i=mr(a.asType("int32"),n);return o.transpose().matMul(i).asType("int32")}}),fd=Object.freeze({confusionMatrix:dd}),hd=xn({fromPixels_:function(e,t){if(void 0===t&&(t=3),t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");var n="undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement;if(n&&n&&e.readyState<2)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.");return Re.fromPixels(e,t)}}),vd=Object.freeze({toPixels:function(e,t){return i(this,void 0,void 0,(function(){var n,r,a,o,i,l,u,c,p,d,f,h,v,m,g,b,y,w,x,C,E,k,S;return s(this,(function(s){switch(s.label){case 0:if(n=un(e,"img","toPixels"),e instanceof ve||(n=n.toInt()),2!==n.rank&&3!==n.rank)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+n.rank+".");if(r=n.shape.slice(0,2),a=r[0],o=r[1],(i=2===n.rank?1:n.shape[2])>4||2===i)throw new Error("toPixels only supports depth of size 1, 3 or 4 but got "+i);return[4,n.data()];case 1:return l=s.sent(),u=n.min(),c=n.max(),[4,Promise.all([u.data(),c.data()])];case 2:if(p=s.sent(),d=p[0],f=p[1],h=d[0],v=f[0],u.dispose(),c.dispose(),"float32"===n.dtype){if(h<0||v>1)throw new Error("Tensor values for a float32 Tensor must be in the range [0 - 1] but got range ["+h+" - "+v+"].")}else{if("int32"!==n.dtype)throw new Error("Unsupported type for toPixels: "+n.dtype+". Please use float32 or int32 tensors.");if(h<0||v>255)throw new Error("Tensor values for a int32 Tensor must be in the range [0 - 255] but got range ["+h+" - "+v+"].")}for(m="float32"===n.dtype?255:1,g=new Uint8ClampedArray(o*a*4),b=0;b<a*o;++b)y=void 0,w=void 0,x=void 0,C=void 0,1===i?(y=l[b]*m,w=l[b]*m,x=l[b]*m,C=255):3===i?(y=l[3*b]*m,w=l[3*b+1]*m,x=l[3*b+2]*m,C=255):4===i&&(y=l[4*b]*m,w=l[4*b+1]*m,x=l[4*b+2]*m,C=l[4*b+3]*m),g[0+(E=4*b)]=Math.round(y),g[E+1]=Math.round(w),g[E+2]=Math.round(x),g[E+3]=Math.round(C);return null!=t&&(t.width=o,t.height=a,k=t.getContext("2d"),S=new ImageData(g,o,a),k.putImageData(S,0,0)),n!==e&&n.dispose(),[2,g]}}))}))},fromPixels:hd}),md=function(){function e(){}return e.prototype.getClassName=function(){return this.constructor.className},e.fromConfig=function(e,t){return new e(t)},e}(),gd=function(){function e(){this.classNameMap={}}return e.getMap=function(){return null==e.instance&&(e.instance=new e),e.instance},e.register=function(t){e.getMap().classNameMap[t.className]=[t,t.fromConfig]},e}();function bd(e){x(null!=e.className,(function(){return"Class being registered does not have the static className property defined."})),x("string"==typeof e.className,(function(){return"className is required to be a string, but got type "+typeof e.className})),x(e.className.length>0,(function(){return"Class being registered has an empty-string as its className, which is disallowed."})),gd.register(e)}var yd=Object.freeze({Serializable:md,SerializationMap:gd,registerClass:bd});function wd(){return 32===Re.backend.floatPrecision()?.001:.1}function xd(e,t,n){var r=!0;if(($(e)||$(t))&&(r=!1),$(e)&&$(t)&&(r=!0),r){var a=e.constructor.name,o=t.constructor.name;if(a!==o)throw new Error("Arrays are of different type. Actual: "+a+". Expected: "+o)}if(Array.isArray(e)&&Array.isArray(t)){var i=sn(e),s=sn(t);if(!T(i,s))throw new Error("Arrays have different shapes. Actual: ["+i+"]. Expected: ["+s+"]")}var l=$(e)?e:k(e),u=$(t)?t:k(t);if(l.length!==u.length)throw new Error("Arrays have different lengths actual: "+l.length+" vs expected: "+u.length+".\nActual:   "+l+".\nExpected: "+u+".");for(var c=0;c<u.length;++c){var p=l[c],d=u[c];if(!n(p,d))throw new Error("Arrays differ: actual["+c+"] = "+p+", expected["+c+"] = "+d+".\nActual:   "+l+".\nExpected: "+u+".")}}function Cd(e,t,n){return!isFinite(e)&&!isFinite(t)||!(isNaN(e)||isNaN(t)||Math.abs(e-t)>n)}var Ed=Object.freeze({TEST_EPSILON_FLOAT16:.1,expectArraysClose:function(e,t,n){return null==n&&(n=wd()),xd(e,t,(function(e,t){return Cd(e,t,n)}))},testEpsilon:wd,expectPromiseToFail:function(e,t){e().then((function(){return t.fail()}),(function(){return t()}))},expectArraysEqual:function(e,t){var n="string"==typeof t||"number"==typeof t||"boolean"==typeof t?[t]:t;return H(e)||H(e[0])||H(t)||H(t[0])?xd(e,n,(function(e,t){return e==t})):xd(e,t,(function(e,t){return Cd(e,t,0)}))},expectNumbersClose:function(e,t,n){if(null==n&&(n=wd()),!Cd(e,t,n))throw new Error("Numbers differ: actual === "+e+", expected === "+t)},expectValuesInRange:function(e,t,n){for(var r=0;r<e.length;r++)if(e[r]<t||e[r]>n)throw new Error("Value out of range:"+e[r]+" low: "+t+", high: "+n)},expectArrayBuffersEqual:function(e,t){expect(new Float32Array(e)).toEqual(new Float32Array(t))}}),kd="1.3.1",Sd=Object.freeze({gpgpu_util:hi,webgl_util:Bt,forceHalfFloat:function(){u().set("WEBGL_FORCE_F16_TEXTURES",!0)},MathBackendWebGL:Ns,setWebGLContext:$e,GPGPUContext:vi}),Td=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.minimize=function(e,t,n){void 0===t&&(t=!1);var r=this.computeGradients(e,n),a=r.value,o=r.grads;if(null!=n){var i=n.map((function(e){return{name:e.name,tensor:o[e.name]}}));this.applyGradients(i)}else this.applyGradients(o);return Gt(o),t?a:(a.dispose(),null)},Object.defineProperty(t.prototype,"iterations",{get:function(){return null==this.iterations_&&(this.iterations_=0),this.iterations_},enumerable:!0,configurable:!0}),t.prototype.incrementIterations=function(){this.iterations_=this.iterations+1},t.prototype.computeGradients=function(e,t){return ea(e,t)},t.prototype.dispose=function(){null!=this.iterations_&&Gt(this.iterations_)},t.prototype.saveIterations=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){return null==this.iterations_&&(this.iterations_=0),[2,{name:"iter",tensor:On(this.iterations_,"int32")}]}))}))},t.prototype.getWeights=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){throw new Error("getWeights() is not implemented for this optimizer yet.")}))}))},t.prototype.setWeights=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(e){throw new Error("setWeights() is not implemented for this optimizer class "+this.getClassName())}))}))},t.prototype.extractIterations=function(e){return i(this,void 0,void 0,(function(){var t;return s(this,(function(n){switch(n.label){case 0:return t=this,[4,e[0].tensor.data()];case 1:return t.iterations_=n.sent()[0],[2,e.slice(1)]}}))}))},t}(md);Object.defineProperty(Td,Symbol.hasInstance,{value:function(e){return null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients}});var Od=function(e){function t(t,n,r){void 0===r&&(r=null);var a=e.call(this)||this;return a.learningRate=t,a.rho=n,a.epsilon=r,a.accumulatedGrads=[],a.accumulatedUpdates=[],null==r&&(a.epsilon=Re.backend.epsilon()),a}return o(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=Re.registeredVariables[n];null==t.accumulatedGrads[r]&&(t.accumulatedGrads[r]={originalName:n+"/accum_grad",variable:qt((function(){return Vn(a).variable(!1)}))}),null==t.accumulatedUpdates[r]&&(t.accumulatedUpdates[r]={originalName:n+"/accum_var",variable:qt((function(){return Vn(a).variable(!1)}))});var o=Array.isArray(e)?e[r].tensor:e[n];if(null!=o){var i=t.accumulatedGrads[r].variable,s=t.accumulatedUpdates[r].variable;qt((function(){var e=i.mul(t.rho).add(o.square().mul(1-t.rho)),n=s.add(t.epsilon).sqrt().div(i.add(t.epsilon).sqrt()).mul(o),r=s.mul(t.rho).add(n.square().mul(1-t.rho));i.assign(e),s.assign(r);var l=n.mul(-t.learningRate).add(a);a.assign(l)}))}})),this.incrementIterations()},t.prototype.dispose=function(){null!=this.accumulatedUpdates&&(Gt(this.accumulatedGrads.map((function(e){return e.variable}))),Gt(this.accumulatedUpdates.map((function(e){return e.variable}))))},t.prototype.getWeights=function(){return i(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return e=this.accumulatedGrads.concat(this.accumulatedUpdates),[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(e.map((function(e){return{name:e.originalName,tensor:e.variable}})))]}}))}))},t.prototype.setWeights=function(e){return i(this,void 0,void 0,(function(){var t;return s(this,(function(n){switch(n.label){case 0:return[4,this.extractIterations(e)];case 1:return e=n.sent(),t=e.length/2,this.accumulatedGrads=e.slice(0,t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),this.accumulatedUpdates=e.slice(t,2*t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},t.fromConfig=function(e,t){return new e(t.learningRate,t.rho,t.epsilon)},t.className="Adadelta",t}(Td);bd(Od);var Id=function(e){function t(t,n){void 0===n&&(n=.1);var r=e.call(this)||this;return r.learningRate=t,r.initialAccumulatorValue=n,r.accumulatedGrads=[],r}return o(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=Re.registeredVariables[n];null==t.accumulatedGrads[r]&&(t.accumulatedGrads[r]={originalName:n+"/accumulator",variable:qt((function(){return Ln(a.shape,t.initialAccumulatorValue).variable(!1)}))});var o=Array.isArray(e)?e[r].tensor:e[n];if(null!=o){var i=t.accumulatedGrads[r].variable;qt((function(){var e=i.add(o.square());i.assign(e);var n=o.div(e.add(Re.backend.epsilon()).sqrt()).mul(-t.learningRate).add(a);a.assign(n)}))}})),this.incrementIterations()},t.prototype.dispose=function(){null!=this.accumulatedGrads&&Gt(this.accumulatedGrads.map((function(e){return e.variable})))},t.prototype.getWeights=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(this.accumulatedGrads.map((function(e){return{name:e.originalName,tensor:e.variable}})))]}}))}))},t.prototype.setWeights=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.extractIterations(e)];case 1:return e=t.sent(),this.accumulatedGrads=e.map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},t.fromConfig=function(e,t){return new e(t.learningRate,t.initialAccumulatorValue)},t.className="Adagrad",t}(Td);bd(Id);var Nd=function(e){function t(t,n,r,a){void 0===a&&(a=null);var o=e.call(this)||this;return o.learningRate=t,o.beta1=n,o.beta2=r,o.epsilon=a,o.accumulatedFirstMoment=[],o.accumulatedSecondMoment=[],qt((function(){o.accBeta1=On(n).variable(),o.accBeta2=On(r).variable()})),null==a&&(o.epsilon=Re.backend.epsilon()),o}return o(t,e),t.prototype.applyGradients=function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e);qt((function(){var r=Kl(1,t.accBeta1),a=Kl(1,t.accBeta2);n.forEach((function(n,o){var i=Re.registeredVariables[n];null==t.accumulatedFirstMoment[o]&&(t.accumulatedFirstMoment[o]={originalName:n+"/m",variable:qt((function(){return Vn(i).variable(!1)}))}),null==t.accumulatedSecondMoment[o]&&(t.accumulatedSecondMoment[o]={originalName:n+"/v",variable:qt((function(){return Vn(i).variable(!1)}))});var s=Array.isArray(e)?e[o].tensor:e[n];if(null!=s){var l=t.accumulatedFirstMoment[o].variable,u=t.accumulatedSecondMoment[o].variable,c=l.mul(t.beta1).add(s.mul(1-t.beta1)),p=u.mul(t.beta2).add(s.square().mul(1-t.beta2)),d=c.div(r),f=p.div(a);l.assign(c),u.assign(p);var h=d.div(f.sqrt().add(t.epsilon)).mul(-t.learningRate).add(i);i.assign(h)}})),t.accBeta1.assign(t.accBeta1.mul(t.beta1)),t.accBeta2.assign(t.accBeta2.mul(t.beta2))})),this.incrementIterations()},t.prototype.dispose=function(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&Gt(this.accumulatedFirstMoment.map((function(e){return e.variable}))),null!=this.accumulatedSecondMoment&&Gt(this.accumulatedSecondMoment.map((function(e){return e.variable})))},t.prototype.getWeights=function(){return i(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return e=this.accumulatedFirstMoment.concat(this.accumulatedSecondMoment),[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(e.map((function(e){return{name:e.originalName,tensor:e.variable}})))]}}))}))},t.prototype.setWeights=function(e){return i(this,void 0,void 0,(function(){var t,n=this;return s(this,(function(r){switch(r.label){case 0:return[4,this.extractIterations(e)];case 1:return e=r.sent(),qt((function(){n.accBeta1.assign(ql(n.beta1,n.iterations_+1)),n.accBeta2.assign(ql(n.beta2,n.iterations_+1))})),t=e.length/2,this.accumulatedFirstMoment=e.slice(0,t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),this.accumulatedSecondMoment=e.slice(t,2*t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},t.fromConfig=function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)},t.className="Adam",t}(Td);bd(Nd);var Ad=function(e){function t(t,n,r,a,o){void 0===a&&(a=null),void 0===o&&(o=0);var i=e.call(this)||this;return i.learningRate=t,i.beta1=n,i.beta2=r,i.epsilon=a,i.decay=o,i.accumulatedFirstMoment=[],i.accumulatedWeightedInfNorm=[],qt((function(){i.iteration=On(0).variable(),i.accBeta1=On(n).variable()})),null==a&&(i.epsilon=Re.backend.epsilon()),i}return o(t,e),t.prototype.applyGradients=function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e);qt((function(){var r=Kl(1,t.accBeta1),a=Dl(-t.learningRate,t.iteration.mul(t.decay).add(1));n.forEach((function(n,o){var i=Re.registeredVariables[n];null==t.accumulatedFirstMoment[o]&&(t.accumulatedFirstMoment[o]={originalName:n+"/m",variable:Vn(i).variable(!1)}),null==t.accumulatedWeightedInfNorm[o]&&(t.accumulatedWeightedInfNorm[o]={originalName:n+"/v",variable:Vn(i).variable(!1)});var s=Array.isArray(e)?e[o].tensor:e[n];if(null!=s){var l=t.accumulatedFirstMoment[o].variable,u=t.accumulatedWeightedInfNorm[o].variable,c=l.mul(t.beta1).add(s.mul(1-t.beta1)),p=u.mul(t.beta2),d=s.abs(),f=p.maximum(d);l.assign(c),u.assign(f);var h=a.div(r).mul(c.div(f.add(t.epsilon))).add(i);i.assign(h)}})),t.iteration.assign(t.iteration.add(1)),t.accBeta1.assign(t.accBeta1.mul(t.beta1))})),this.incrementIterations()},t.prototype.dispose=function(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&Gt(this.accumulatedFirstMoment.map((function(e){return e.variable}))),null!=this.accumulatedWeightedInfNorm&&Gt(this.accumulatedWeightedInfNorm.map((function(e){return e.variable})))},t.prototype.getWeights=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){throw new Error("getWeights() is not implemented for Adamax yet.")}))}))},t.prototype.setWeights=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(e){throw new Error("setWeights() is not implemented for Adamax yet.")}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},t.fromConfig=function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)},t.className="Adamax",t}(Td);bd(Ad);var _d=function(e){function t(t){var n=e.call(this)||this;return n.learningRate=t,n.setLearningRate(t),n}return o(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=Array.isArray(e)?e[r].tensor:e[n];if(null!=a){var o=Re.registeredVariables[n];qt((function(){var e=t.c.mul(a).add(o);o.assign(e)}))}})),this.incrementIterations()},t.prototype.setLearningRate=function(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=Xt(On(-e))},t.prototype.dispose=function(){this.c.dispose()},t.prototype.getWeights=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()]]}}))}))},t.prototype.setWeights=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.extractIterations(e)];case 1:if(0!==(e=t.sent()).length)throw new Error("SGD optimizer does not have settable weights.");return[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate}},t.fromConfig=function(e,t){return new e(t.learningRate)},t.className="SGD",t}(Td);bd(_d);var Rd=function(e){function t(t,n,r){void 0===r&&(r=!1);var a=e.call(this,t)||this;return a.learningRate=t,a.momentum=n,a.useNesterov=r,a.accumulations=[],a.m=On(a.momentum),a}return o(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=Re.registeredVariables[n];null==t.accumulations[r]&&(t.accumulations[r]={originalName:n+"/momentum",variable:qt((function(){return Vn(a).variable(!1)}))});var o=t.accumulations[r].variable,i=Array.isArray(e)?e[r].tensor:e[n];null!=i&&qt((function(){var e,n=t.m.mul(o).add(i);e=t.useNesterov?t.c.mul(i.add(n.mul(t.m))).add(a):t.c.mul(n).add(a),o.assign(n),a.assign(e)}))})),this.incrementIterations()},t.prototype.dispose=function(){this.m.dispose(),null!=this.accumulations&&Gt(this.accumulations.map((function(e){return e.variable})))},t.prototype.setMomentum=function(e){this.momentum=e},t.prototype.getWeights=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(this.accumulations.map((function(e){return{name:e.originalName,tensor:e.variable}})))]}}))}))},t.prototype.setWeights=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.extractIterations(e)];case 1:return e=t.sent(),this.accumulations=e.map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},t.fromConfig=function(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)},t.className="Momentum",t}(_d);bd(Rd);var Md=function(e){function t(t,n,r,a,o){void 0===n&&(n=.9),void 0===r&&(r=0),void 0===a&&(a=null),void 0===o&&(o=!1);var i=e.call(this)||this;return i.learningRate=t,i.decay=n,i.momentum=r,i.epsilon=a,i.accumulatedMeanSquares=[],i.accumulatedMoments=[],i.accumulatedMeanGrads=[],i.centered=o,null==a&&(i.epsilon=Re.backend.epsilon()),i}return o(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=Re.registeredVariables[n];null==t.accumulatedMeanSquares[r]&&(t.accumulatedMeanSquares[r]={originalName:n+"/rms",variable:qt((function(){return Vn(a).variable(!1)}))}),null==t.accumulatedMoments[r]&&(t.accumulatedMoments[r]={originalName:n+"/momentum",variable:qt((function(){return Vn(a).variable(!1)}))}),null==t.accumulatedMeanGrads[r]&&t.centered&&(t.accumulatedMeanGrads[r]={originalName:n+"/mg",variable:qt((function(){return Vn(a).variable(!1)}))});var o=Array.isArray(e)?e[r].tensor:e[n];if(null!=o){var i=t.accumulatedMeanSquares[r].variable,s=t.accumulatedMoments[r].variable;qt((function(){var e=i.mul(t.decay).add(o.square().mul(1-t.decay));if(t.centered){var n=t.accumulatedMeanGrads[r].variable,l=n.mul(t.decay).add(o.mul(1-t.decay)),u=s.mul(t.momentum).add(o.mul(t.learningRate).div(e.sub(l.square().add(t.epsilon)).sqrt()));i.assign(e),n.assign(l),s.assign(u);var c=a.sub(u);a.assign(c)}else{var p=i.mul(t.decay).add(o.square().mul(1-t.decay));u=s.mul(t.momentum).add(o.mul(t.learningRate).div(p.add(t.epsilon).sqrt())),i.assign(p),s.assign(u),c=a.sub(u),a.assign(c)}}))}})),this.incrementIterations()},t.prototype.dispose=function(){null!=this.accumulatedMeanSquares&&Gt(this.accumulatedMeanSquares.map((function(e){return e.variable}))),null!=this.accumulatedMeanGrads&&this.centered&&Gt(this.accumulatedMeanGrads.map((function(e){return e.variable}))),null!=this.accumulatedMoments&&Gt(this.accumulatedMoments.map((function(e){return e.variable})))},t.prototype.getWeights=function(){return i(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return e=this.accumulatedMeanSquares.concat(this.accumulatedMoments),this.centered&&e.push.apply(e,this.accumulatedMeanGrads),[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(e.map((function(e){return{name:e.originalName,tensor:e.variable}})))]}}))}))},t.prototype.setWeights=function(e){return i(this,void 0,void 0,(function(){var t;return s(this,(function(n){switch(n.label){case 0:return[4,this.extractIterations(e)];case 1:return e=n.sent(),t=this.centered?e.length/3:e.length/2,this.accumulatedMeanSquares=e.slice(0,t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),this.accumulatedMoments=e.slice(t,2*t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),this.centered&&(this.accumulatedMeanGrads=e.slice(2*t,3*t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}))),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},t.fromConfig=function(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)},t.className="RMSProp",t}(Td);bd(Md);var Pd=function(){function e(){}return e.sgd=function(e){return new _d(e)},e.momentum=function(e,t,n){return void 0===n&&(n=!1),new Rd(e,t,n)},e.rmsprop=function(e,t,n,r,a){return void 0===t&&(t=.9),void 0===n&&(n=0),void 0===r&&(r=null),void 0===a&&(a=!1),new Md(e,t,n,r,a)},e.adam=function(e,t,n,r){return void 0===e&&(e=.001),void 0===t&&(t=.9),void 0===n&&(n=.999),void 0===r&&(r=null),new Nd(e,t,n,r)},e.adadelta=function(e,t,n){return void 0===e&&(e=.001),void 0===t&&(t=.95),void 0===n&&(n=null),new Od(e,t,n)},e.adamax=function(e,t,n,r,a){return void 0===e&&(e=.002),void 0===t&&(t=.9),void 0===n&&(n=.999),void 0===r&&(r=null),void 0===a&&(a=0),new Ad(e,t,n,r,a)},e.adagrad=function(e,t){return void 0===t&&(t=.1),new Id(e,t)},e}(),Dd={sgd:Pd.sgd,momentum:Pd.momentum,adadelta:Pd.adadelta,adagrad:Pd.adagrad,rmsprop:Pd.rmsprop,adamax:Pd.adamax,adam:Pd.adam},Bd="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:"undefined"!=typeof setImmediate?setImmediate:function(e){return e()};function Ld(){return new Promise((function(e){return Bd((function(){return e()}))}))}fe=fp;var zd=function(e,t){return(zd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function Fd(e,t){function n(){this.constructor=e}zd(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var $d,Vd=function(){return(Vd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function jd(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?a(e.value):new n((function(t){t(e.value)})).then(i,s)}l((r=r.apply(e,t||[])).next())}))}function Hd(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function Wd(){return null==$d&&($d=rn().epsilon()),$d}var Ud=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return Fd(t,e),t}(Error),qd=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return Fd(t,e),t}(Error),Gd=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return Fd(t,e),t}(Error),Xd=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return Fd(t,e),t}(Error),Yd=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return Fd(t,e),t}(Error);!function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}Fd(t,e)}(Error);function Kd(e,t){if(Array.isArray(e)){for(var n=[],r=0;r<t;r++)n=n.concat(e);return n}return(n=new Array(t)).fill(e),n}function Jd(e,t){if(!e)throw new Yd(t)}function Qd(e,t){for(var n=0,r=0,a=e;r<a.length;r++)a[r]===t&&n++;return n}function Zd(e){return 1===e.length?e[0]:e}function ef(e){return Array.isArray(e)?e:[e]}function tf(e){var t=e.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return"_"!==t[0]?t:"private"+t}function nf(e){return e.length<=1||-1===e.indexOf("_")?e:e.replace(/[_]+(\w|$)/g,(function(e,t){return t.toUpperCase()}))}var rf={};function af(e){if(null==e)return null;var t={};return t.className=e.getClassName(),t.config=e.getConfig(),t}function of(e){if(null!=e&&"object"==typeof e)if(Array.isArray(e))e.forEach((function(e){return of(e)}));else for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t],a=e[r];null!=a&&"object"==typeof a&&(Array.isArray(a)||"ndarray"!==a.type||"number"!=typeof a.value?of(a):e[r]=a.value)}}function sf(e,t,n,r,a){var o,i,s;if(void 0===t&&(t={}),void 0===n&&(n={}),void 0===r&&(r="object"),void 0===a&&(a=!1),"string"==typeof e){var l=e,u=void 0;if(l in n)u=n[l];else if(l in rf)u=rf[l];else if(null==(u=t[l]))throw new Gd("Unknown "+r+": "+e+". This may be due to one of the following reasons:\n1. The "+r+" is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom "+r+" is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().");return u}var c=e;if(null==c.className||null==c.config)throw new Gd(r+": Improper config format: "+JSON.stringify(c)+".\n'className' and 'config' must set.");var p=c.className,d=void 0,f=void 0;if(p in n?(d=(o=n[p])[0],f=o[1]):p in rf?(d=(i=rf.className)[0],f=i[1]):p in t&&(d=(s=t[p])[0],f=s[1]),null==d)throw new Gd("Unknown "+r+": "+p+". This may be due to one of the following reasons:\n1. The "+r+" is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom "+r+" is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().");if(null!=f){for(var h={},v=0,m=Object.keys(rf);v<m.length;v++)h[C=m[v]]=rf[C];for(var g=0,b=Object.keys(n);g<b.length;g++)h[C=b[g]]=n[C];c.config.customObjects=h;for(var y=Vd({},rf),w=0,x=Object.keys(n);w<x.length;w++){var C=x[w];rf[C]=n[C]}of(c.config);var E=f(d,c.config,n,a);return rf=Vd({},y),E}y=Vd({},rf);for(var k=0,S=Object.keys(n);k<S.length;k++)C=S[k],rf[C]=n[C];return E=new d(c.config),rf=Vd({},y),E}function lf(e,t){return-1*function(e,t){return e<t?-1:e>t?1:0}(e,t)}function uf(e){if(null==e)return e;for(var t=[],n=0,r=e;n<r.length;n++){var a=r[n];-1===t.indexOf(a)&&t.push(a)}return t}function cf(e){if(null==e)throw new Gd("Invalid value in obj: "+JSON.stringify(e));for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function pf(e,t,n){if(null!=n&&e.indexOf(n)<0)throw new Gd(n+" is not a valid "+t+".  Valid values are "+e+" or null/undefined.")}function df(e,t,n,r){return void 0===n&&(n=0),void 0===r&&(r=1/0),Jd(n>=0),Jd(r>=n),Array.isArray(e)&&e.length>=n&&e.length<=r&&e.every((function(e){return typeof e===t}))}function ff(e,t){Array.isArray(e)?(ae.assert(e.length>0,(function(){return t+" is unexpectedly an empty array."})),e.forEach((function(e,n){return ff(e,"element "+(n+1)+" of "+t)}))):ae.assert(Number.isInteger(e)&&e>0,(function(){return"Expected "+t+" to be a positive integer, but got "+hf(e)+"."}))}function hf(e){return null===e?"null":Array.isArray(e)?"["+e.map((function(e){return hf(e)})).join(",")+"]":"string"==typeof e?'"'+e+'"':""+e}function vf(e){return"relu"===e?"relu":"linear"===e?"linear":"elu"===e?"elu":null}function mf(e,t){return qt((function(){return sl(oc(Ul(e,e),t,!0))}))}var gf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fd(t,e),t.prototype.getConfig=function(){return{}},t}(yd.Serializable),bf=function(e){function t(t){var n=e.call(this)||this;return n.defaultMaxValue=2,n.defaultAxis=0,n.maxValue=null!=t.maxValue?t.maxValue:n.defaultMaxValue,n.axis=null!=t.axis?t.axis:n.defaultAxis,n}return Fd(t,e),t.prototype.apply=function(e){var t=this;return qt((function(){var n=mf(e,t.axis),r=Fs(n,0,t.maxValue);return Wl(e,Dl(r,_l(Wd(),n)))}))},t.prototype.getConfig=function(){return{maxValue:this.maxValue,axis:this.axis}},t.className="MaxNorm",t}(gf);yd.registerClass(bf);var yf=function(e){function t(t){var n=e.call(this)||this;return n.defaultAxis=0,n.axis=null!=t.axis?t.axis:n.defaultAxis,n}return Fd(t,e),t.prototype.apply=function(e){var t=this;return qt((function(){return Dl(e,_l(Wd(),mf(e,t.axis)))}))},t.prototype.getConfig=function(){return{axis:this.axis}},t.className="UnitNorm",t}(gf);yd.registerClass(yf);var wf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fd(t,e),t.prototype.apply=function(e){return cc(e)},t.className="NonNeg",t}(gf);yd.registerClass(wf);var xf=function(e){function t(t){var n=e.call(this)||this;return n.defaultMinValue=0,n.defaultMaxValue=1,n.defaultRate=1,n.defaultAxis=0,n.minValue=null!=t.minValue?t.minValue:n.defaultMinValue,n.maxValue=null!=t.maxValue?t.maxValue:n.defaultMaxValue,n.rate=null!=t.rate?t.rate:n.defaultRate,n.axis=null!=t.axis?t.axis:n.defaultAxis,n}return Fd(t,e),t.prototype.apply=function(e){var t=this;return qt((function(){var n=mf(e,t.axis),r=_l(Wl(t.rate,Fs(n,t.minValue,t.maxValue)),Wl(1-t.rate,n));return Wl(e,Dl(r,_l(Wd(),n)))}))},t.prototype.getConfig=function(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}},t.className="MinMaxNorm",t}(gf);yd.registerClass(xf);var Cf={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function Ef(e){return af(e)}function kf(e,t){return void 0===t&&(t={}),sf(e,yd.SerializationMap.getMap().classNameMap,t,"constraint")}function Sf(e){return null==e?null:"string"==typeof e?kf({className:e in Cf?Cf[e]:e,config:{}}):e instanceof gf?e:kf(e)}var Tf=Object.freeze({maxNorm:function(e){return new bf(e)},unitNorm:function(e){return new yf(e)},nonNeg:function(){return new wf},minMaxNorm:function(e){return new xf(e)}}),Of=["channelsFirst","channelsLast"],If=["valid","same","causal"],Nf=["max","avg"],Af=["sum","mul","concat","ave"],_f=new Map;function Rf(e){pf(Of,"DataFormat",e)}function Mf(e){pf(If,"PaddingMode",e)}function Pf(e){pf(Nf,"PoolMode",e)}var Df=[],Bf="/";function Lf(e,t){Df.push(e);try{var n=t();return Df.pop(),n}catch(e){throw Df.pop(),e}}function zf(e){if(!Vf(e))throw new Error("Not a valid tensor name: '"+e+"'");return(0===Df.length?"":Df.join(Bf)+Bf)+e}function Ff(e){if(!Vf(e))throw new Error("Not a valid tensor name: '"+e+"'");_f.has(e)||_f.set(e,0);var t=_f.get(e);if(_f.set(e,_f.get(e)+1),t>0){var n=e+"_"+t;return _f.set(n,1),n}return e}var $f=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function Vf(e){return!!e.match($f)}function jf(e){return e===parseInt(e.toString(),10)}function Hf(e,t,n){null==t&&(t=0),null==n&&(n=e.length);for(var r=1,a=t;a<n;++a)r*=e[a];return r}function Wf(e){return In(e=Array.isArray(e)?new Float32Array(e):e)}function Uf(e){return rc(Wf(e)).dataSync()[0]}function qf(e){return tc(Wf(e)).dataSync()[0]}function Gf(e,t){if(t<e)throw new Gd("end ("+t+") < begin ("+e+") is forbidden.");for(var n=[],r=e;r<t;++r)n.push(r);return n}function Xf(e,t){return e.asType(t)}function Yf(e,t){void 0===t&&(t=-1);var n=e.shape.slice();return t<0&&(t=n.length+t+1),n.splice(t,0,1),e.reshape(n)}function Kf(e,t,n){return qt((function(){switch(e.rank){case 1:return Uu(e,t,n);case 2:return qu(e,[t,0],[n,e.shape[1]]);case 3:return Gu(e,[t,0,0],[n,e.shape[1],e.shape[2]]);case 4:return Xu(e,[t,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3]]);case 5:return Wu(e,[t,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4]]);case 6:return Wu(e,[t,0,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4],e.shape[5]]);default:throw new Gd("sliceAlongFirstAxis() received an unsupported tensor rank: "+e.rank)}}))}function Jf(e,t,n){return qt((function(){switch(e.rank){case 1:return Uu(e,t,n);case 2:return qu(e,[0,t],[e.shape[0],n]);case 3:return Gu(e,[0,0,t],[e.shape[0],e.shape[1],n]);case 4:return Xu(e,[0,0,0,t],[e.shape[0],e.shape[1],e.shape[2],n]);default:throw new Gd("sliceAlongLastAxis() received an unsupported tensor rank: "+e.rank)}}))}function Qf(e,t,n,r){return qt((function(){switch(e.rank){case 1:return Uu(e,t,n);case 2:switch(r){case 1:return Kf(e,t,n);case 2:return Jf(e,t,n);default:throw new Gd("The axis is not within the rank of the tensor "+r)}case 3:switch(r){case 1:return Kf(e,t,n);case 2:return Gu(e,[0,t,0],[e.shape[0],n,e.shape[2]]);case 3:return Jf(e,t,n);default:throw new Gd("The axis is not within the rank of the tensor "+r)}case 4:switch(r){case 1:return Kf(e,t,n);case 2:return Xu(e,[0,t,0,0],[e.shape[0],n,e.shape[2],e.shape[3]]);case 3:return Xu(e,[0,0,t,0],[e.shape[0],e.shape[1],n,e.shape[3]]);case 4:return Jf(e,t,n);default:throw new Gd("The axis is not within the rank of the tensor "+r)}default:throw new Gd("sliceAlongLastAxis() received an unsupported tensor rank: "+e.rank)}}))}function Zf(e,t){var n;return void 0===t&&(t=-1),t<0&&(t=0!==(n=e[0].rank)?n:0),t===e[0].rank&&(t=-1),jn(e,t)}function eh(e,t){switch(e.rank){case 1:return Hn([e,t]);case 2:return Wn([e,t],0);case 3:return Un([e,t],0);case 4:return qn([e,t],0);default:throw new Gd("concatAlongFirstAxis() received an unsupported tensor rank: "+e.rank)}}function th(e,t){if(Array.isArray(t)||(t=[t]),e.rank!==t.length)throw new Gd("The length of input n ("+t.length+") does not match the number of dimensions in input x ("+e.rank+")");return Ar(e,t)}function nh(e,t,n,r,a){return void 0===t&&(t=0),void 0===n&&(n=1),Er(e,t,n,r,a)}function rh(e,t,n,r){if(e.rank<2||t.rank<2)throw new Xd("dot requires both inputs to be rank >= 2 but got x shape = "+e.shape+" and y shape = "+t.shape);if(t.rank>=3&&e.shape.slice(-1)[0]!==(c=t.shape.slice(-2)[0]))throw new Xd("If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = "+e.shape+" and  y shape = "+t.shape);if(2===e.rank&&2===t.rank){var a=!1,o=!1;return dp.matMul({a:e,b:t,transposeA:a,transposeB:o,bias:r?ih(e.rank,r,"channelsLast"):null,activation:n})}var i=e.shape.slice(),s=i.pop();e=e.reshape([-1,s]);var l=t.shape.slice(),u=l.pop(),c=l.pop(),p=l.concat([u]),d=Array.from({length:t.rank},(function(e,n){return 0===n?t.rank-2:n<=t.rank-2?n-1:n}));t=t.transpose(d).reshape([c,-1]);var f=i.concat(p);return a=!1,o=!1,dp.matMul({a:e,b:t,transposeA:a,transposeB:o,bias:r?ih(e.rank,r,"channelsLast"):null,activation:n}).reshape(f)}function ah(e,t,n){return qt((function(){return t=Array.isArray(t)?In(t,"int32"):t.toInt(),du(e,t,n)}))}function oh(e){return Ul(e,e)}function ih(e,t,n){var r=t.shape;if(1!==t.rank&&t.rank!==e)throw new Gd("Unexpected bias dimensions: "+t.rank+"; expected it to be 1 or "+e);if(5===e){if("channelsFirst"===n)return 1===r.length?t.reshape([1,r[0],1,1,1]):t.reshape([1,r[3],r[0],r[1],r[2]]);if("channelsLast"===n)return 1===r.length?t.reshape([1,1,1,1,r[0]]):t.reshape([1].concat(r))}else if(4===e){if("channelsFirst"===n)return 1===r.length?t.reshape([1,r[0],1,1]):t.reshape([1,r[2],r[0],r[1]]);if("channelsLast"===n)return 1===r.length?t.reshape([1,1,1,r[0]]):t.reshape([1].concat(r))}else if(3===e){if("channelsFirst"===n)return 1===r.length?t.reshape([1,r[0],1]):t.reshape([1,r[1],r[0]]);if("channelsLast"===n)return 1===r.length?t.reshape([1,1,r[0]]):t.reshape([1].concat(r))}else if(e<3)return t;throw new Gd("Unsupported input rank by biasAdd: "+t.rank)}function sh(e,t,n){return qt((function(){return null==n&&(n="channelsLast"),Rf(n),e.add(ih(e.rank,t,n))}))}function lh(e,t,n,r){return qt((function(){return Ac(e,t,n,r)}))}function uh(e,t,n){return void 0===n&&(n=!1),n?e():t()}var ch=["fanIn","fanOut","fanAvg"],ph=["normal","uniform","truncatedNormal"];var dh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fd(t,e),t.prototype.fromConfigUsesCustomObjects=function(){return!1},t.prototype.getConfig=function(){return{}},t}(yd.Serializable),fh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fd(t,e),t.prototype.apply=function(e,t){return Bn(e,t)},t.className="Zeros",t}(dh);yd.registerClass(fh);var hh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fd(t,e),t.prototype.apply=function(e,t){return Dn(e,t)},t.className="Ones",t}(dh);yd.registerClass(hh);var vh=function(e){function t(t){var n=e.call(this)||this;if("object"!=typeof t)throw new Gd("Expected argument of type ConstantConfig but got "+t);if(void 0===t.value)throw new Gd("config must have value set but got "+t);return n.value=t.value,n}return Fd(t,e),t.prototype.apply=function(e,t){var n=this;return qt((function(){return Wl(On(n.value),Dn(e,t))}))},t.prototype.getConfig=function(){return{value:this.value}},t.className="Constant",t}(dh);yd.registerClass(vh);var mh=function(e){function t(t){var n=e.call(this)||this;return n.DEFAULT_MINVAL=-.05,n.DEFAULT_MAXVAL=.05,n.minval=t.minval||n.DEFAULT_MINVAL,n.maxval=t.maxval||n.DEFAULT_MAXVAL,n.seed=t.seed,n}return Fd(t,e),t.prototype.apply=function(e,t){return Sr(e,this.minval,this.maxval,t)},t.prototype.getConfig=function(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}},t.className="RandomUniform",t}(dh);yd.registerClass(mh);var gh=function(e){function t(t){var n=e.call(this)||this;return n.DEFAULT_MEAN=0,n.DEFAULT_STDDEV=.05,n.mean=t.mean||n.DEFAULT_MEAN,n.stddev=t.stddev||n.DEFAULT_STDDEV,n.seed=t.seed,n}return Fd(t,e),t.prototype.apply=function(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new Xd("randomNormal does not support dType "+t+".");return nh(e,this.mean,this.stddev,t,this.seed)},t.prototype.getConfig=function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}},t.className="RandomNormal",t}(dh);yd.registerClass(gh);var bh=function(e){function t(t){var n=e.call(this)||this;return n.DEFAULT_MEAN=0,n.DEFAULT_STDDEV=.05,n.mean=t.mean||n.DEFAULT_MEAN,n.stddev=t.stddev||n.DEFAULT_STDDEV,n.seed=t.seed,n}return Fd(t,e),t.prototype.apply=function(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new Xd("truncatedNormal does not support dType "+t+".");return _r(e,this.mean,this.stddev,t,this.seed)},t.prototype.getConfig=function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}},t.className="TruncatedNormal",t}(dh);yd.registerClass(bh);var yh=function(e){function t(t){var n=e.call(this)||this;return n.gain=null!=t.gain?t.gain:1,n}return Fd(t,e),t.prototype.apply=function(e,t){var n=this;return qt((function(){if(2!==e.length||e[0]!==e[1])throw new Gd("Identity matrix initializer can only be used for 2D square matrices.");return Wl(n.gain,hr(e[0]))}))},t.prototype.getConfig=function(){return{gain:this.gain}},t.className="Identity",t}(dh);yd.registerClass(yh);var wh=function(e){function t(t){var n=e.call(this)||this;if(t.scale<0)throw new Gd("scale must be a positive float. Got: "+t.scale);return n.scale=null==t.scale?1:t.scale,n.mode=null==t.mode?"fanIn":t.mode,function(e){pf(ch,"FanMode",e)}(n.mode),n.distribution=null==t.distribution?"normal":t.distribution,function(e){pf(ph,"Distribution",e)}(n.distribution),n.seed=t.seed,n}return Fd(t,e),t.prototype.apply=function(e,t){var n=function(e,t){var n,r;if(void 0===t&&(t="channelsLast"),Rf(t),2===e.length)n=e[0],r=e[1];else if(-1!==[3,4,5].indexOf(e.length))if("channelsFirst"===t){var a=Hf(e,2);n=e[1]*a,r=e[0]*a}else"channelsLast"===t&&(a=Hf(e,0,e.length-2),n=e[e.length-2]*a,r=e[e.length-1]*a);else{var o=Hf(e);n=Math.sqrt(o),r=Math.sqrt(o)}return[n,r]}(e),r=n[0],a=n[1],o=this.scale;if("fanIn"===this.mode?o/=Math.max(1,r):"fanOut"===this.mode?o/=Math.max(1,a):o/=Math.max(1,(r+a)/2),"normal"===this.distribution){var i=Math.sqrt(o);if("float32"!==(t=t||"float32")&&"int32"!==t)throw new Xd(this.getClassName()+" does not support dType "+t+".");return _r(e,0,i,t,this.seed)}var s=Math.sqrt(3*o);return Sr(e,-s,s,t)},t.prototype.getConfig=function(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}},t.className="VarianceScaling",t}(dh);yd.registerClass(wh);var xh=function(e){function t(t){return e.call(this,{scale:1,mode:"fanAvg",distribution:"uniform",seed:null==t?null:t.seed})||this}return Fd(t,e),t.prototype.getClassName=function(){return wh.className},t.className="GlorotUniform",t}(wh);yd.registerClass(xh);var Ch=function(e){function t(t){return e.call(this,{scale:1,mode:"fanAvg",distribution:"normal",seed:null==t?null:t.seed})||this}return Fd(t,e),t.prototype.getClassName=function(){return wh.className},t.className="GlorotNormal",t}(wh);yd.registerClass(Ch);var Eh=function(e){function t(t){return e.call(this,{scale:2,mode:"fanIn",distribution:"normal",seed:null==t?null:t.seed})||this}return Fd(t,e),t.prototype.getClassName=function(){return wh.className},t.className="HeNormal",t}(wh);yd.registerClass(Eh);var kh=function(e){function t(t){return e.call(this,{scale:2,mode:"fanIn",distribution:"uniform",seed:null==t?null:t.seed})||this}return Fd(t,e),t.prototype.getClassName=function(){return wh.className},t.className="HeUniform",t}(wh);yd.registerClass(kh);var Sh=function(e){function t(t){return e.call(this,{scale:1,mode:"fanIn",distribution:"normal",seed:null==t?null:t.seed})||this}return Fd(t,e),t.prototype.getClassName=function(){return wh.className},t.className="LeCunNormal",t}(wh);yd.registerClass(Sh);var Th=function(e){function t(t){return e.call(this,{scale:1,mode:"fanIn",distribution:"uniform",seed:null==t?null:t.seed})||this}return Fd(t,e),t.prototype.getClassName=function(){return wh.className},t.className="LeCunNormal",t}(wh);yd.registerClass(Th);var Oh=function(e){function t(t){var n=e.call(this)||this;if(n.DEFAULT_GAIN=1,n.gain=null==t.gain?n.DEFAULT_GAIN:t.gain,n.seed=t.seed,null!=n.seed)throw new Xd("Random seed is not implemented for Orthogonal Initializer yet.");return n}return Fd(t,e),t.prototype.apply=function(e,t){var n=this;return qt((function(){if(2!==e.length)throw new Xd("The Orthogonal Initializer does not support non-2D shapes yet.");e[0]*e[1]>2e3&&console.warn("Orthogonal initializer is being called on a matrix with more than 2000 ("+e[0]*e[1]+") elements: Slowness may result.");var t=nh(e[0]>e[1]?[e[1],e[0]]:e,0,1,"float32"),r=Qc.gramSchmidt(t);return e[0]>e[1]&&(r=r.transpose()),Wl(n.gain,r)}))},t.prototype.getConfig=function(){return{gain:this.gain,seed:this.seed}},t.className="Orthogonal",t}(dh);yd.registerClass(Oh);var Ih={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function Nh(e,t){return void 0===t&&(t={}),sf(e,yd.SerializationMap.getMap().classNameMap,t,"initializer")}function Ah(e){return af(e)}function _h(e){if("string"==typeof e){var t=e in Ih?Ih[e]:e;if("GlorotNormal"===t)return new Ch;if("GlorotUniform"===t)return new xh;if("HeNormal"===t)return new Eh;if("HeUniform"===t)return new kh;if("LeCunNormal"===t)return new Sh;if("LeCunUniform"===t)return new Th;var n={};return n.className=t,n.config={},Nh(n)}return e instanceof dh?e:Nh(e)}var Rh=Object.freeze({zeros:function(){return new fh},ones:function(){return new hh},constant:function(e){return new vh(e)},randomUniform:function(e){return new mh(e)},randomNormal:function(e){return new gh(e)},truncatedNormal:function(e){return new bh(e)},identity:function(e){return new yh(e)},varianceScaling:function(e){return new wh(e)},glorotUniform:function(e){return new xh(e)},glorotNormal:function(e){return new Ch(e)},heNormal:function(e){return new Eh(e)},heUniform:function(e){return new kh(e)},leCunNormal:function(e){return new Sh(e)},leCunUniform:function(e){return new Th(e)},orthogonal:function(e){return new Oh(e)}}),Mh=0;function Ph(){return Mh++}var Dh={};function Bh(e){return void 0===e&&(e=""),e in Dh||(Dh[e]=0),Dh[e]+=1,e+Dh[e].toString()}function Lh(e){return Array.isArray(e)&&Array.isArray(e[0])}function zh(e){return 0===e.length?[]:Array.isArray(e[0])?e:[e]}function Fh(e){var t;if(Array.isArray(e)){if(1!==e.length)throw new Gd("Expected Tensor length to be 1; got "+e.length);t=e[0]}else t=e;return t}function $h(e){if(Array.isArray(e)&&Array.isArray(e[0])){if(1===e.length)return e[0];throw new Gd("Expected exactly 1 Shape; got "+e.length)}return e}function Vh(e){for(var t=0,n=0,r=e;n<r.length;n++){var a=r[n];0===a.shape.length?t+=1:t+=a.shape.reduce((function(e,t){return e*t}))}return t}var jh="Variable",Hh=function(){function e(e,t,n,r,a){void 0===t&&(t="float32"),void 0===n&&(n=jh),void 0===r&&(r=!0),void 0===a&&(a=null),this.dtype=null==t?"float32":t,this.shape=e.shape,this.id=Ph(),n=null==n?jh:n,this.originalName=zf(n),this.name=Ff(this.originalName),this.trainable_=r,this.constraint=a,this.val=Pn(e,this.trainable_,this.name,this.dtype)}return e.prototype.read=function(){return this.assertNotDisposed(),this.val},e.prototype.write=function(e){return this.assertNotDisposed(),function(e,t){if(e.shape.toString()!==t.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(e.shape)+" vs. "+JSON.stringify(t.shape))}(this.val,e),this.val.id!==e.id&&(this.val.assign(e),null!=this.constraint&&this.val.assign(this.constraint.apply(this.val))),this},e.prototype.dispose=function(){this.assertNotDisposed(),this.val.dispose()},e.prototype.assertNotDisposed=function(){if(this.val.isDisposed)throw new Error("LayersVariable "+this.name+" is already disposed.")},Object.defineProperty(e.prototype,"trainable",{get:function(){return this.trainable_},set:function(e){this.trainable_=e,this.val.trainable=e},enumerable:!0,configurable:!0}),e}();function Wh(e){return e.map((function(e){return e.read()}))}function Uh(e){e.forEach((function(e){e[0].write(e[1])}))}var qh=function(e){this.dtype=e.dtype,this.shape=e.shape,null!=e.shape?this.ndim=e.shape.length:this.ndim=e.ndim,this.maxNDim=e.maxNDim,this.minNDim=e.minNDim,this.axes=e.axes||{}},Gh=function(e,t,n,r,a,o,i){this.dtype=e,this.shape=t,this.sourceLayer=n,this.inputs=r,this.callArgs=a,this.outputTensorIndex=i,this.id=Ph(),null!=o&&(this.originalName=zf(o),this.name=Ff(this.originalName)),this.rank=t.length},Xh=0,Yh=function(){function e(e,t){this.callArgs=t,this.id=Xh++,this.outboundLayer=e.outboundLayer,this.inboundLayers=e.inboundLayers,this.nodeIndices=e.nodeIndices,this.tensorIndices=e.tensorIndices,this.inputTensors=e.inputTensors,this.outputTensors=e.outputTensors,this.inputMasks=e.inputMasks,this.outputMasks=e.outputMasks,this.inputShapes=e.inputShapes,this.outputShapes=e.outputShapes;for(var n=0,r=e.inboundLayers;n<r.length;n++){var a=r[n];null!=a&&a.outboundNodes.push(this)}e.outboundLayer.inboundNodes.push(this)}return e.prototype.getConfig=function(){for(var e=[],t=0,n=this.inboundLayers;t<n.length;t++){var r=n[t];null!=r?e.push(r.name):e.push(null)}return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}},e}(),Kh=0,Jh=function(e){function t(t){var n=e.call(this)||this;n._callHook=null,n._addedWeightNames=[],n._stateful=!1,n.id=Kh++,n.activityRegularizer=null,n.inputSpec=null,n.supportsMasking=!1,n._trainableWeights=[],n._nonTrainableWeights=[],n._losses=[],n._updates=[],n._built=!1,n.inboundNodes=[],n.outboundNodes=[];var r=t.name;if(!r){var a=n.getClassName();r=tf(a)+"_"+Bh(a)}if(n.name=r,n.trainable_=null==t.trainable||t.trainable,null!=t.inputShape||null!=t.batchInputShape){var o=void 0;if(null!=t.batchInputShape)o=t.batchInputShape;else if(null!=t.inputShape){var i=null;null!=t.batchSize&&(i=t.batchSize),o=[i].concat(t.inputShape)}n.batchInputShape=o;var s=t.dtype;null==s&&(s=t.inputDType),null==s&&(s="float32"),n.dtype=s}return null!=t.weights?n.initialWeights=t.weights:n.initialWeights=null,n._refCount=null,n.fastWeightInitDuringBuild=!1,n}return Fd(t,e),t.nodeKey=function(e,t){return e.name+"_ib-"+t.toString()},t.prototype.getNodeAtIndex=function(e,t){if(0===this.inboundNodes.length)throw new qd("The layer has never been called and thus has no defined "+t+".");if(this.inboundNodes.length<=e)throw new Gd("Asked to get "+t+" at node "+e+", but the layer has only "+this.inboundNodes.length+" inbound nodes.");return this.inboundNodes[e]},t.prototype.getInputAt=function(e){return Zd(this.getNodeAtIndex(e,"input").inputTensors)},t.prototype.getOutputAt=function(e){return Zd(this.getNodeAtIndex(e,"output").outputTensors)},Object.defineProperty(t.prototype,"input",{get:function(){if(this.inboundNodes.length>1)throw new Ud("Layer "+this.name+' has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use `getInputAt(nodeIndex)` instead.');if(0===this.inboundNodes.length)throw new Ud("Layer "+this.name+" is not connected, no input to return.");return Zd(this.getNodeAtIndex(0,"input").inputTensors)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"output",{get:function(){if(0===this.inboundNodes.length)throw new Ud("Layer "+this.name+" has no inbound nodes.");if(this.inboundNodes.length>1)throw new Ud("Layer "+this.name+' has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use `getOutputAt(nodeIndex)` instead.');return Zd(this.getNodeAtIndex(0,"output").outputTensors)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"losses",{get:function(){return this._losses},enumerable:!0,configurable:!0}),t.prototype.calculateLosses=function(){return this.losses.map((function(e){return e()}))},Object.defineProperty(t.prototype,"updates",{get:function(){return this._updates},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"built",{get:function(){return this._built},set:function(e){this._built=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trainable",{get:function(){return this.trainable_},set:function(e){this._trainableWeights.forEach((function(t){return t.trainable=e})),this.trainable_=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trainableWeights",{get:function(){return this.trainable_?this._trainableWeights.filter((function(e){return e.trainable})):[]},set:function(e){this._trainableWeights=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonTrainableWeights",{get:function(){return this.trainable?this._trainableWeights.filter((function(e){return!e.trainable})).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)},set:function(e){this._nonTrainableWeights=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weights",{get:function(){return this.trainableWeights.concat(this.nonTrainableWeights)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stateful",{get:function(){return this._stateful},enumerable:!0,configurable:!0}),t.prototype.resetStates=function(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")},t.prototype.assertInputCompatibility=function(e){if(e=ef(e),null!=this.inputSpec&&0!==this.inputSpec.length){var t=ef(this.inputSpec);if(e.length!==t.length)throw new Gd("Layer "+this.name+" expects "+t.length+" inputs, but it received "+e.length+" input tensors. Input received: "+e);for(var n=0;n<e.length;n++){var r=e[n],a=t[n];if(null!=a){var o=r.rank;if(null!=a.ndim&&o!==a.ndim)throw new Gd("Input "+n+" is incompatible with layer "+this.name+": expected ndim="+a.ndim+", found ndim="+o);if(null!=a.maxNDim&&o>a.maxNDim)throw new Gd("Input "+n+" is incompatible with layer "+this.name+": expected max_ndim="+a.maxNDim+", found ndim="+o);if(null!=a.minNDim&&o<a.minNDim)throw new Gd("Input "+n+" is incompatible with layer "+this.name+": expected min_ndim="+a.minNDim+", found ndim="+o+".");if(null!=a.dtype&&r.dtype!==a.dtype)throw new Gd("Input "+n+" is incompatible with layer "+this.name+" : expected dtype="+a.dtype+", found dtype="+r.dtype+".");if(a.axes){var i=r.shape;for(var s in a.axes){var l=Number(s),u=a.axes[s],c=l>=0?i[l]:i[i.length+l];if(null!=u&&-1===[u,null].indexOf(c))throw new Gd("Input "+n+" is incompatible with layer "+this.name+": expected axis "+l+" of input shape to have value "+u+" but got shape "+i+".")}}if(null!=a.shape)for(var p=0;p<a.shape.length;++p){var d=a.shape[p],f=r.shape[p];if(null!=d&&null!=f&&d!==f)throw new Gd("Input "+n+" is incompatible with layer "+this.name+": expected shape="+a.shape+", found shape="+r.shape+".")}}}}},t.prototype.call=function(e,t){return e},t.prototype.invokeCallHook=function(e,t){null!=this._callHook&&this._callHook(e,t)},t.prototype.setCallHook=function(e){this._callHook=e},t.prototype.clearCallHook=function(){this._callHook=null},t.prototype.apply=function(e,t){var n=this;t=t||{},this.assertNotDisposed();for(var r=ef(e),a=!0,o=0,i=r;o<i.length;o++)if(!(i[o]instanceof Gh)){a=!1;break}for(var s=!0,l=0,u=r;l<u.length;l++)if(u[l]instanceof Gh){s=!1;break}if(a===s)throw new Gd("Arguments to apply() must be all SymbolicTensors or all Tensors");return Lf(this.name,(function(){if(!n.built){n.assertInputCompatibility(e);for(var a=[],o=0,i=ef(e);o<i.length;o++){var l=i[o];a.push(l.shape)}n.build(Zd(a)),n.built=!0,n.initialWeights&&n.setWeights(n.initialWeights),null===n._refCount&&s&&(n._refCount=1)}if(n.assertInputCompatibility(e),s){for(var u=[],c=0,p=ef(v=n.call(e,t));c<p.length;c++){var d=p[c];-1!==r.indexOf(d)&&(d=d.clone()),u.push(d)}if(v=Zd(u),null!=n.activityRegularizer)throw new Xd("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return v}var f=function(e){for(var t=[],n=0,r=e=ef(e);n<r.length;n++){var a=r[n];t.push(a.shape)}return Zd(t)}(e),h=n.computeOutputShape(f),v=void 0,m="float32";if(n.warnOnIncompatibleInputShape(Array.isArray(e)?f[0]:f),v=null!=h&&h.length>0&&Array.isArray(h[0])?h.map((function(r,a){return new Gh(m,r,n,ef(e),t,n.name,a)})):new Gh(m,h,n,ef(e),t,n.name),n.addInboundNode(e,v,null,null,f,h,t),n._refCount++,null!=n.activityRegularizer)throw new Xd("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return v}))},t.prototype.warnOnIncompatibleInputShape=function(e){if(null!=this.batchInputShape)if(e.length!==this.batchInputShape.length)console.warn("The rank of the input tensor provided (shape: "+JSON.stringify(e)+") does not match that of the batchInputShape ("+JSON.stringify(this.batchInputShape)+") of the layer "+this.name);else{var t=!1;this.batchInputShape.forEach((function(n,r){null!=n&&null!=e[r]&&e[r]!==n&&(t=!0)})),t&&console.warn("The shape of the input tensor ("+JSON.stringify(e)+") does not match the expectation of layer "+this.name+": "+JSON.stringify(this.batchInputShape))}},Object.defineProperty(t.prototype,"outputShape",{get:function(){if(null==this.inboundNodes||0===this.inboundNodes.length)throw new Ud("The layer "+this.name+" has never been called and thus has no defined output shape.");for(var e=[],t=0,n=this.inboundNodes;t<n.length;t++){var r=n[t],a=JSON.stringify(r.outputShapes);-1===e.indexOf(a)&&e.push(a)}if(1===e.length){var o=this.inboundNodes[0].outputShapes;return Array.isArray(o)&&Array.isArray(o[0])&&1===o.length?o[0]:o}throw new Ud("The layer "+this.name+' has multiple inbound nodes with different output shapes. Hence the notion of "outut shape" is ill-defined for the layer.')},enumerable:!0,configurable:!0}),t.prototype.countParams=function(){if(!this.built)throw new qd("You tried to call countParams() on "+this.name+", but the layer is not built yet. Build it first by calling build(batchInputShape).");return Vh(this.weights)},t.prototype.build=function(e){this.built=!0},t.prototype.getWeights=function(e){return void 0===e&&(e=!1),Wh(e?this.trainableWeights:this.weights)},t.prototype.setWeights=function(e){var t=this;qt((function(){var n=t.weights;if(n.length!==e.length)throw new Gd('You called setWeights(weights) on layer "'+t.name+'" with a weight list of length '+e.length+", but the layer was expecting "+n.length+" weights. Provided weights: "+e+"...");if(0!==n.length){for(var r=[],a=Wh(n),o=0;o<a.length;++o){var i=a[o],s=n[o],l=e[o];if(!ae.arraysEqual(i.shape,l.shape))throw new Gd("Layer weight shape "+i.shape+" not compatible with provided weight shape "+l.shape);r.push([s,l])}Uh(r)}}))},t.prototype.addWeight=function(e,t,n,r,a,o,i){if(-1!==this._addedWeightNames.indexOf(e))throw new Gd("Duplicate weight name "+e+" for layer "+this.name);this._addedWeightNames.push(e),null==n&&(n="float32"),this.fastWeightInitDuringBuild&&(r=_h("zeros"));var s=r.apply(t,n),l=new Hh(s,n,e,o,i);return s.dispose(),null!=a&&this.addLoss((function(){return a.apply(l.read())})),null==o&&(o=!0),o?this._trainableWeights.push(l):this._nonTrainableWeights.push(l),l},t.prototype.setFastWeightInitDuringBuild=function(e){this.fastWeightInitDuringBuild=e},t.prototype.addLoss=function(e){var t;null==e||Array.isArray(e)&&0===e.length||(e=ef(e),void 0!==this._losses&&null!==this._losses&&(t=this.losses).push.apply(t,e))},t.prototype.computeOutputShape=function(e){return e},t.prototype.computeMask=function(e,t){var n=this;if(!this.supportsMasking){if(null!=t){if(!Array.isArray(t))throw new TypeError("Layer "+this.name+" does not support masking, but was passed an inputMask.");t.forEach((function(e){if(null!=e)throw new TypeError("Layer "+n.name+" does not support masking, but was passed an inputMask.")}))}return null}return t},t.prototype.addInboundNode=function(e,t,n,r,a,o,i){void 0===i&&(i=null);var s=ef(e);t=ef(t),n=ef(n),r=ef(r),a=zh(a),o=zh(o);for(var l=[],u=[],c=[],p=0,d=s;p<d.length;p++){var f=d[p];l.push(f.sourceLayer),u.push(f.nodeIndex),c.push(f.tensorIndex)}new Yh({outboundLayer:this,inboundLayers:l,nodeIndices:u,tensorIndices:c,inputTensors:s,outputTensors:t,inputMasks:n,outputMasks:r,inputShapes:a,outputShapes:o},i);for(var h=0;h<t.length;h++)t[h].sourceLayer=this,t[h].nodeIndex=this.inboundNodes.length-1,t[h].tensorIndex=h},t.prototype.getConfig=function(){var e={name:this.name,trainable:this.trainable};return null!=this.batchInputShape&&(e.batchInputShape=this.batchInputShape),null!=this.dtype&&(e.dtype=this.dtype),e},t.prototype.disposeWeights=function(){return this.weights.forEach((function(e){return e.dispose()})),this.weights.length},t.prototype.assertNotDisposed=function(){if(0===this._refCount)throw new Error("Layer '"+this.name+"' is already disposed.")},t.prototype.dispose=function(){if(!this.built)throw new Error("Cannot dispose Layer "+this.name+" because it has not been built yet.");if(null===this._refCount)throw new Error("Cannot dispose Layer "+this.name+" because it has not been used yet.");this.assertNotDisposed();var e=0;return 0==--this._refCount&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}},t}(yd.Serializable);function Qh(e,t,n){if((null==t||null!=n&&n>0)&&(t=e.sourceLayer,n=e.nodeIndex),0===t.inboundNodes.length)return[e];var r=t.inboundNodes[n];if(0===r.inboundLayers.length)return r.inputTensors;for(var a=[],o=0;o<r.inboundLayers.length;o++)for(var i=0,s=Qh(r.inputTensors[o],r.inboundLayers[o],r.nodeIndices[o]);i<s.length;i++){var l=s[i];-1===a.indexOf(l)&&a.push(l)}return a}var Zh,ev=function(e){function t(t){var n=e.call(this,{dtype:t.dtype,name:null!=t.name?t.name:Bh("input").toString()})||this;if(null==t.batchSize&&(t.batchSize=null),null==t.sparse&&(t.sparse=!1),n.trainable=!1,n.built=!0,n.sparse=t.sparse,null!=t.inputShape&&null!=t.batchInputShape)throw new Gd("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");var r=t.batchInputShape;if(null==r){if(null==t.inputShape)throw new Gd("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");r=[t.batchSize].concat(t.inputShape)}else if(null!=t.batchSize)throw new Gd("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");var a=t.dtype||"float32";n.batchInputShape=r,n.dtype=a,n.inputSpec=[{shape:r}];var o=new Gh(n.dtype,n.batchInputShape,n,[],{},n.name);return o.nodeIndex=0,o.tensorIndex=0,new Yh({outboundLayer:n,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[o],outputTensors:[o],inputMasks:[null],outputMasks:[null],inputShapes:[r],outputShapes:[r]}),n}return Fd(t,e),t.prototype.apply=function(e,t){throw new Gd("Cannot pass any input to an InputLayer's apply() method. InputLayer name: "+this.name)},t.prototype.dispose=function(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}},t.prototype.getConfig=function(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}},t.className="InputLayer",t}(Jh);function tv(e){if(null==e.batchShape&&null==e.shape)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(null!=e.batchShape&&null!=e.shape)throw new Gd("Please provide either a `shape` or `batchShape` argument to Input, but not both.");var t=e.batchShape;null!=e.shape&&null==t&&(t=[null].concat(e.shape));var n=e.dtype;return null==n&&(n="float32"),new ev({batchInputShape:t,name:e.name,dtype:n,sparse:e.sparse}).inboundNodes[0].outputTensors[0]}function nv(e){return jd(this,void 0,void 0,(function(){var t,n,r,a,o,i,s,l;return Hd(this,(function(u){switch(u.label){case 0:if(null==e)return[2];for(a in t=[],n=[],r=[],e)"number"!=typeof(o=e[a])&&(i=o,t.push(i.data()),n.push(a),r.push(i));return t.length>0?[4,Promise.all(t)]:[3,2];case 1:for(s=u.sent(),l=0;l<s.length;++l)e[n[l]]=s[l][0];Gt(r),u.label=2;case 2:return[2]}}))}))}function rv(e){if(null!=e)for(var t in e){var n=e[t];"number"!=typeof n&&n.dispose()}}yd.registerClass(ev),function(e){e[e.SILENT=0]="SILENT",e[e.VERBOSE=1]="VERBOSE"}(Zh||(Zh={}));var av=function(){function e(){this.validationData=null}return e.prototype.setParams=function(e){this.params=e},e.prototype.onEpochBegin=function(e,t){return jd(this,void 0,void 0,(function(){return Hd(this,(function(e){return[2]}))}))},e.prototype.onEpochEnd=function(e,t){return jd(this,void 0,void 0,(function(){return Hd(this,(function(e){return[2]}))}))},e.prototype.onBatchBegin=function(e,t){return jd(this,void 0,void 0,(function(){return Hd(this,(function(e){return[2]}))}))},e.prototype.onBatchEnd=function(e,t){return jd(this,void 0,void 0,(function(){return Hd(this,(function(e){return[2]}))}))},e.prototype.onTrainBegin=function(e){return jd(this,void 0,void 0,(function(){return Hd(this,(function(e){return[2]}))}))},e.prototype.onTrainEnd=function(e){return jd(this,void 0,void 0,(function(){return Hd(this,(function(e){return[2]}))}))},e.prototype.setModel=function(e){},e}(),ov=function(){function e(e,t){void 0===t&&(t=10),null==e&&(e=[]),this.callbacks=e,this.queueLength=t}return e.prototype.append=function(e){this.callbacks.push(e)},e.prototype.setParams=function(e){for(var t=0,n=this.callbacks;t<n.length;t++)n[t].setParams(e)},e.prototype.setModel=function(e){for(var t=0,n=this.callbacks;t<n.length;t++)n[t].setModel(e)},e.prototype.onEpochBegin=function(e,t){return jd(this,void 0,void 0,(function(){var n,r;return Hd(this,(function(a){switch(a.label){case 0:null==t&&(t={}),n=0,r=this.callbacks,a.label=1;case 1:return n<r.length?[4,r[n].onEpochBegin(e,t)]:[3,4];case 2:a.sent(),a.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},e.prototype.onEpochEnd=function(e,t){return jd(this,void 0,void 0,(function(){var n,r;return Hd(this,(function(a){switch(a.label){case 0:null==t&&(t={}),n=0,r=this.callbacks,a.label=1;case 1:return n<r.length?[4,r[n].onEpochEnd(e,t)]:[3,4];case 2:a.sent(),a.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},e.prototype.onBatchBegin=function(e,t){return jd(this,void 0,void 0,(function(){var n,r;return Hd(this,(function(a){switch(a.label){case 0:null==t&&(t={}),n=0,r=this.callbacks,a.label=1;case 1:return n<r.length?[4,r[n].onBatchBegin(e,t)]:[3,4];case 2:a.sent(),a.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},e.prototype.onBatchEnd=function(e,t){return jd(this,void 0,void 0,(function(){var n,r;return Hd(this,(function(a){switch(a.label){case 0:null==t&&(t={}),n=0,r=this.callbacks,a.label=1;case 1:return n<r.length?[4,r[n].onBatchEnd(e,t)]:[3,4];case 2:a.sent(),a.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},e.prototype.onTrainBegin=function(e){return jd(this,void 0,void 0,(function(){var t,n;return Hd(this,(function(r){switch(r.label){case 0:null==e&&(e={}),t=0,n=this.callbacks,r.label=1;case 1:return t<n.length?[4,n[t].onTrainBegin(e)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))},e.prototype.onTrainEnd=function(e){return jd(this,void 0,void 0,(function(){var t,n;return Hd(this,(function(r){switch(r.label){case 0:null==e&&(e={}),t=0,n=this.callbacks,r.label=1;case 1:return t<n.length?[4,n[t].onTrainEnd(e)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))},e}(),iv=function(e){function t(){return e.call(this)||this}return Fd(t,e),t.prototype.onEpochBegin=function(e){return jd(this,void 0,void 0,(function(){return Hd(this,(function(e){return this.seen=0,this.totals={},[2]}))}))},t.prototype.onBatchEnd=function(e,t){return jd(this,void 0,void 0,(function(){var e,n,r,a,o=this;return Hd(this,(function(i){for(a in null==t&&(t={}),e=null==t.size?0:t.size,this.seen+=e,n=function(n){var a=t[n];if("number"==typeof a)r.totals.hasOwnProperty(n)||(r.totals[n]=0),r.totals[n]=r.totals[n]+a*e;else{var i=void 0;n in r.totals?i=r.totals[n]:r.totals[n]=0;var s=qt((function(){return _l(o.totals[n],Wl(a,e))}));r.totals[n]=s,null!=i&&i.dispose()}},r=this,t)n(a);return[2]}))}))},t.prototype.onEpochEnd=function(e,t){return jd(this,void 0,void 0,(function(){var e,n,r,a,o,i=this;return Hd(this,(function(s){if(null!=t)for(e=function(e){if(null==n.totals[e])return"continue";"number"==typeof n.totals[e]?t[e]=n.totals[e]/n.seen:qt((function(){var n=Wl(Dl(1,i.seen),i.totals[e]);t[e]=n,i.totals[e].dispose(),Xt(t[e])}))},n=this,r=0,a=this.params.metrics;r<a.length;r++)o=a[r],e(o);return[2]}))}))},t}(av),sv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fd(t,e),t.prototype.onTrainBegin=function(e){return jd(this,void 0,void 0,(function(){return Hd(this,(function(e){return this.epoch=[],this.history={},[2]}))}))},t.prototype.onEpochEnd=function(e,t){return jd(this,void 0,void 0,(function(){var n;return Hd(this,(function(r){for(n in null==t&&(t={}),this.epoch.push(e),t)null==this.history[n]&&(this.history[n]=[]),this.history[n].push(t[n]);return[2]}))}))},t.prototype.syncData=function(){return jd(this,void 0,void 0,(function(){var e,t,n,r,a,o,i,s,l;return Hd(this,(function(u){switch(u.label){case 0:for(r in e=[],t=[],n=[],this.history)for(a=this.history[r],o=0;o<a.length;++o)"number"!=typeof a[o]&&(i=a[o],e.push(i.data()),t.push(r),n.push(o));return[4,Promise.all(e)];case 1:for(s=u.sent(),l=0;l<s.length;++l)this.history[t[l]][n[l]].dispose(),this.history[t[l]][n[l]]=s[l][0];return[2]}}))}))},t}(av),lv=function(e){function t(t,n){var r=e.call(this)||this;if(r.currentEpoch=0,r.yieldEvery=n||"auto","auto"===r.yieldEvery&&(r.yieldEvery=125),"never"===r.yieldEvery&&null!=t.onYield)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");return ae.isNumber(r.yieldEvery)&&(r.maybeWait=function(e,t){var n,r=ae.now();return function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];var i=ae.now();return i-r<t?n:(r=i,n=e.apply(void 0,a))}}(r.maybeWait.bind(r),r.yieldEvery)),r.trainBegin=t.onTrainBegin,r.trainEnd=t.onTrainEnd,r.epochBegin=t.onEpochBegin,r.epochEnd=t.onEpochEnd,r.batchBegin=t.onBatchBegin,r.batchEnd=t.onBatchEnd,r.yield=t.onYield,r}return Fd(t,e),t.prototype.maybeWait=function(e,t,n){return jd(this,void 0,void 0,(function(){var r;return Hd(this,(function(a){switch(a.label){case 0:return r=[],null==this.yield?[3,2]:[4,nv(n)];case 1:a.sent(),r.push(this.yield(e,t,n)),a.label=2;case 2:return r.push(Ld()),[4,Promise.all(r)];case 3:return a.sent(),[2]}}))}))},t.prototype.onEpochBegin=function(e,t){return jd(this,void 0,void 0,(function(){return Hd(this,(function(n){switch(n.label){case 0:return this.currentEpoch=e,null==this.epochBegin?[3,3]:[4,nv(t)];case 1:return n.sent(),[4,this.epochBegin(e,t)];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))},t.prototype.onEpochEnd=function(e,t){return jd(this,void 0,void 0,(function(){var n;return Hd(this,(function(r){switch(r.label){case 0:return n=[],null==this.epochEnd?[3,2]:[4,nv(t)];case 1:r.sent(),n.push(this.epochEnd(e,t)),r.label=2;case 2:return"epoch"===this.yieldEvery&&n.push(Ld()),[4,Promise.all(n)];case 3:return r.sent(),[2]}}))}))},t.prototype.onBatchBegin=function(e,t){return jd(this,void 0,void 0,(function(){return Hd(this,(function(n){switch(n.label){case 0:return null==this.batchBegin?[3,3]:[4,nv(t)];case 1:return n.sent(),[4,this.batchBegin(e,t)];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))},t.prototype.onBatchEnd=function(e,t){return jd(this,void 0,void 0,(function(){var n;return Hd(this,(function(r){switch(r.label){case 0:return n=[],null==this.batchEnd?[3,2]:[4,nv(t)];case 1:r.sent(),n.push(this.batchEnd(e,t)),r.label=2;case 2:return"batch"===this.yieldEvery?n.push(Ld()):ae.isNumber(this.yieldEvery)&&n.push(this.maybeWait(this.currentEpoch,e,t)),[4,Promise.all(n)];case 3:return r.sent(),[2]}}))}))},t.prototype.onTrainBegin=function(e){return jd(this,void 0,void 0,(function(){return Hd(this,(function(t){switch(t.label){case 0:return null==this.trainBegin?[3,3]:[4,nv(e)];case 1:return t.sent(),[4,this.trainBegin(e)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},t.prototype.onTrainEnd=function(e){return jd(this,void 0,void 0,(function(){return Hd(this,(function(t){switch(t.label){case 0:return null==this.trainEnd?[3,3]:[4,nv(e)];case 1:return t.sent(),[4,this.trainEnd(e)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},t}(av);function uv(e,t){return null==e&&(e={}),e instanceof av?[e]:Array.isArray(e)&&e[0]instanceof av?e:ef(e).map((function(e){return new lv(e,t)}))}var cv=function(){function e(){}return e.registerCallbackConstructor=function(t,n){ae.assert(t>=0&&Number.isInteger(t),(function(){return"Verbosity level is expected to be an integer >= 0, but got "+t})),e.checkForDuplicate(n),null==e.constructors[t]&&(e.constructors[t]=[]),e.constructors[t].push(n)},e.checkForDuplicate=function(t){for(var n in e.constructors)e.constructors[+n].forEach((function(e){if(e===t)throw new Gd("Duplicate callback constructor.")}))},e.clear=function(){e.constructors={}},e.createCallbacks=function(t){var n=[];for(var r in e.constructors){var a=+r;t>=a&&n.push.apply(n,e.constructors[a])}return n.map((function(e){return new e}))},e.constructors={},e}();function pv(e,t,n,r,a,o,i,s,l){var u=new sv,c=[new iv].concat(cv.createCallbacks(t));null!=e&&c.push.apply(c,e),c.push(u);var p=new ov(c);return p.setParams({epochs:n,initialEpoch:r,samples:a,steps:o,batchSize:i,verbose:t,doValidation:s,metrics:l}),{callbackList:p,history:u}}function dv(e,t,n){return void 0===t&&(t={}),void 0===n&&(n=!1),sf(e,yd.SerializationMap.getMap().classNameMap,t,"layer",n)}function fv(e,t){return qt((function(){"float32"!==e.dtype&&(e=e.asType("float32"));var n=oc(oh(e),t,!0),r=Ln(n.shape,Wd()),a=sl(zl(n,r));return Dl(e,a)}))}function hv(e,t){return qt((function(){return nc(oh(Kl(t,e)),-1)}))}function vv(e,t){return qt((function(){return nc(_s(Kl(t,e)),-1)}))}function mv(e,t){return qt((function(){var n=Kl(e,t),r=Fs(_s(e),Wd(),Number.MAX_VALUE),a=_s(Dl(n,r));return Wl(100,nc(a,-1))}))}function gv(e,t,n){return void 0===n&&(n=!1),qt((function(){if(n)t=ra(t);else{var r=oc(t,t.shape.length-1,!0);t=Dl(t,r)}return t=Fs(t,Wd(),1-Wd()),Ys(oc(Wl(e.toFloat(),qs(t)),t.shape.length-1))}))}function bv(e,t){return qt((function(){var n=Us(function(e){var t=[Hf(e.shape)];return e.reshape(t)}(e)).toInt(),r=(t=Fs(t,Wd(),1-Wd())).shape;return gv(mr(n,r[r.length-1]).reshape(r),t,!1)}))}function yv(e,t){return qt((function(){var n;return n=Fs(t,Wd(),1-Wd()),n=qs(Dl(n,Kl(1,n))),nc(function(e,t){if(!ae.arraysEqual(e.shape,t.shape))throw new Gd("logits and labels must have the same shape, but got shapes "+JSON.stringify(e.shape)+" and "+JSON.stringify(t.shape));return qt((function(){var n=t.relu(),r=t.abs().neg();return n.sub(t.mul(e)).add(r.exp().log1p())}))}(e,n),-1)}))}function wv(e,t){return qt((function(){var n=fv(e,-1),r=fv(t,-1),a=Wl(n,r);return Ys(oc(a,-1))}))}var xv={meanSquaredError:hv,meanAbsoluteError:vv,meanAbsolutePercentageError:mv,meanSquaredLogarithmicError:function(e,t){return qt((function(){var n=Fs(t,Wd(),Number.MAX_VALUE),r=qs(_l(1,n)),a=Fs(e,Wd(),Number.MAX_VALUE),o=qs(_l(1,a));return nc(oh(Kl(r,o)),-1)}))},squaredHinge:function(e,t){return qt((function(){var n=zl(0,Kl(1,Wl(e,t)));return nc(oh(n),-1)}))},hinge:function(e,t){return qt((function(){var n=zl(0,Kl(1,Wl(e,t)));return nc(n,-1)}))},categoricalHinge:function(e,t){return qt((function(){var n=oc(Wl(e,t),-1),r=tc(Wl(Kl(1,e),t),-1);return zl(0,_l(1,Kl(r,n)))}))},logcosh:function(e,t){return qt((function(){var n=Math.log(2),r=Kl(t,e),a=Kl(_l(r,il(Wl(-2,r))),n);return nc(a,-1)}))},categoricalCrossentropy:gv,sparseCategoricalCrossentropy:bv,binaryCrossentropy:yv,kullbackLeiblerDivergence:function(e,t){return qt((function(){var n=Fs(e,Wd(),1),r=Fs(t,Wd(),1);return oc(Wl(e,qs(Dl(n,r))),-1)}))},poisson:function(e,t){return qt((function(){var n=qs(_l(Wd(),t));return nc(Kl(t,Wl(e,n)),-1)}))},cosineProximity:wv};function Cv(e){if("string"==typeof e){if(e in xv)return xv[e];var t="Unknown loss "+e;throw e.toLowerCase().includes("softmaxcrossentropy")&&(t="Unknown loss "+e+'. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy'),new Gd(t)}return e}function Ev(e,t){return qt((function(){var n=Wl(.5,$n(t)),r=Xf(eu(t,n),e.dtype);return nc(Ql(e,r),-1)}))}function kv(e,t){return qt((function(){return Xf(Ql(Qu(e,-1),Qu(t,-1)),"float32")}))}function Sv(e,t){return qt((function(){return Sl(e.equal(1),t.equal(1)).sum().cast("float32")}))}function Tv(e,t){return qt((function(){var n=Sv(e,t),r=function(e,t){return qt((function(){return Sl(e.equal(0),t.equal(1)).sum().cast("float32")}))}(e,t),a=n.add(r);return Nl(eu(a,0),n.div(a),0).cast("float32")}))}function Ov(e,t){return qt((function(){var n=Sv(e,t),r=function(e,t){return qt((function(){return Sl(e.equal(1),t.equal(0)).sum().cast("float32")}))}(e,t),a=n.add(r);return Nl(eu(a,0),n.div(a),0).cast("float32")}))}function Iv(e,t){return yv(e,t)}function Nv(e,t){return e.rank===t.rank&&(e=e.squeeze([e.rank-1])),(t=t.argMax(-1)).dtype!==e.dtype&&(t=t.asType(e.dtype)),Ql(e,t).asType("float32")}var Av=gv,_v=bv,Rv={binaryAccuracy:Ev,categoricalAccuracy:kv,precision:Tv,categoricalCrossentropy:Av,sparseCategoricalCrossentropy:_v,mse:hv,MSE:hv,mae:vv,MAE:vv,mape:mv,MAPE:mv,cosine:wv};function Mv(e){if(Jd(null!==e,"Unknown LossOrMetricFn "+e),"string"==typeof e)return e;for(var t=void 0,n=0,r=Object.keys(xv);n<r.length;n++){var a=r[n];if(xv[a]===e){t=a;break}}if(void 0!==t)return t;for(var o=0,i=Object.keys(Rv);o<i.length;o++)if(a=i[o],Rv[a]===e){t=a;break}return void 0!==t?t:e.name}var Pv=1048576;function Dv(e,t,n){if(void 0===n&&(n=!1),null==e||"object"!=typeof e||Object.getPrototypeOf(e)!==Object.prototype||!Bv(e))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){var r=JSON.stringify(e);r.length>Pv&&console.warn('User-defined metadata of model "'+t+'" is too large in size (length='+r.length+" when serialized). It is not recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= "+Pv+".")}}function Bv(e){if(null===e)return!0;if("object"==typeof e){if(Object.getPrototypeOf(e)===Object.prototype){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];if("string"!=typeof r)return!1;if(!Bv(e[r]))return!1}return!0}if(Array.isArray(e)){for(var a=0,o=e;a<o.length;a++)if(!Bv(o[a]))return!1;return!0}return!1}var i=typeof e;return"string"===i||"number"===i||"boolean"===i}function Lv(e,t,n,r){void 0===r&&(r=console.log);var a,o=function(e){var t=!0,n=[],r=[];for(var a in e.nodesByDepth)n.push(e.nodesByDepth[a]);for(var o=0,i=n;o<i.length;o++){var s=i[o];if(s.length>1||1===s.length&&s[0].inboundLayers.length>1){t=!1;break}r.push.apply(r,s)}if(t)for(var l=0,u=e.layers;l<u.length;l++){for(var c=!1,p=0,d=u[l].inboundNodes;p<d.length;p++){var f=d[p];if(-1!==r.indexOf(f)){if(c){t=!1;break}c=!0}}if(!t)break}return t}(e),i=["Layer (type)","Output shape","Param #"];if(o?(t=t||65,n=n||[.45,.85,1]):(t=t||98,n=n||[.33,.55,.67,1]),n[n.length-1]<=1&&(n=n.map((function(e){return Math.floor(t*e)}))),!o)for(var s in i.push("Receives inputs"),a=[],e.nodesByDepth)a.push.apply(a,e.nodesByDepth[s]);r("_".repeat(t)),zv(i,n,r),r("=".repeat(t));for(var l=e.layers,u=0;u<l.length;++u)o?Fv(l[u],n,r):$v(l[u],n,a,r),r((u===l.length-1?"=":"_").repeat(t));e.checkTrainableWeightsConsistency();var c=function(e){return null!=e.collectedTrainableWeights?Vh(e.collectedTrainableWeights):Vh(e.trainableWeights)}(e),p=Vh(e.nonTrainableWeights);r("Total params: "+(c+p)),r("Trainable params: "+c),r("Non-trainable params: "+p),r("_".repeat(t))}function zv(e,t,n){void 0===n&&(n=console.log);for(var r="",a=0;a<e.length;++a)a>0&&(r=r.slice(0,r.length-1)+" "),r=(r+=e[a]).slice(0,t[a]),r+=" ".repeat(t[a]-r.length);n(r)}function Fv(e,t,n){var r;try{r=JSON.stringify(e.outputShape)}catch(e){r="multiple"}zv([e.name+" ("+e.getClassName()+")",r,e.countParams().toString()],t,n)}function $v(e,t,n,r){var a;try{a=JSON.stringify(e.outputShape)}catch(e){a="multiple"}for(var o=[],i=0,s=e.inboundNodes;i<s.length;i++){var l=s[i];if(!(null!=n&&n.length>0&&-1===n.indexOf(l)))for(var u=0;u<l.inboundLayers.length;++u){var c=l.inboundLayers[u].name,p=l.nodeIndices[u],d=l.tensorIndices[u];o.push(c+"["+p+"]["+d+"]")}}var f=e.name,h=e.getClassName(),v=0===o.length?"":o[0];for(zv([f+" ("+h+")",a,e.countParams().toString(),v],t,r),u=1;u<o.length;++u)zv(["","","",o[u]],t,r)}function Vv(e,t,n){return("inboundNodes"===e||"outputLayers"===e||"inputLayers"===e)&&0===t&&"string"==typeof n}function jv(e,t){if(null===e)return null;if("string"==typeof e)return nf(e);if("number"==typeof e||"boolean"==typeof e)return e;if(e instanceof Array){for(var n=[],r=e.length,a=0;a<r;++a){var o=e[a];Vv(t,a,o)?n.push(o):n.push(jv(o,t))}return n}for(var i={},s=0,l=Object.keys(e);s<l.length;s++){var u=l[s],c=e[u];if("name"===u&&"string"==typeof c)i[u]=c;else{var p=nf(u);i[p]=jv(c,p)}}return i}function Hv(e,t){if(null==e)return null;if("string"==typeof e)return tf(e);if("number"==typeof e||"boolean"==typeof e)return e;if(e instanceof Array){for(var n=[],r=e.length,a=0;a<r;++a){var o=e[a];Vv(t,a,o)?n.push(o):n.push(Hv(o,t))}return n}for(var i={},s=0,l=Object.keys(e);s<l.length;s++){var u=l[s],c=e[u];i[tf(u)]="name"!==u&&"className"!==u||"string"!=typeof c?Hv(c,u):c}return i}var Wv="1.3.1";var Uv=function(){function e(t){if(this.id2Value={},this.id2Mask={},this.name2Id={},t instanceof e)for(var n in t.id2Value)this.id2Value[n]=t.id2Value[n],n in t.id2Mask&&(this.id2Mask[n]=t.id2Mask[n]);else{if(null==t)return;for(var r=0,a=t;r<a.length;r++){var o=a[r];this.add(o.key,o.value)}}}return e.prototype.add=function(e,t,n){if(null!=this.id2Value[e.id])throw new Gd("Duplicate key: name="+e.name+", id="+e.id);return this.id2Value[e.id]=function(e,t){if(null==e.dtype||e.dtype===t.dtype)return t;try{return ur(t,e.dtype)}catch(n){throw new Gd("The dtype of the feed ("+t.dtype+") can not be cast to the dtype of the key '"+e.name+"' ("+e.dtype+").")}}(e,t),this.name2Id[e.name]=e.id,null!=n&&(this.id2Mask[e.id]=n),this},e.prototype.addFeed=function(e){this.add(e.key,e.value)},e.prototype.hasKey=function(e){return null!=this.id2Value[e.id]},e.prototype.names=function(){return Object.keys(this.name2Id)},e.prototype.getValue=function(e){if(e instanceof Gh){if(null==this.id2Value[e.id])throw new Gd("Nonexistent key: "+e.name);return this.id2Value[e.id]}var t=this.name2Id[e];if(null==t)throw new Gd("Feed dict has no SymbolicTensor name: "+e);return this.id2Value[t]},e.prototype.getMask=function(e){if(e instanceof Gh){if(null==this.id2Value[e.id])throw new Gd("Nonexistent key: "+e.name);return this.id2Mask[e.id]}var t=this.name2Id[e];if(null==t)throw new Gd("Feed dict has no SymbolicTensor name: "+e);return this.id2Mask[t]},e.prototype.disposeMasks=function(){null!=this.id2Mask&&Gt(this.id2Mask)},e}(),qv={},Gv={};function Xv(e,t,n,r){for(var a=null!=n&&n.training,o=Array.isArray(e),i=o?e:[e],s=i.map((function(e){return e.name})),l=[],u=t.names(),c=0,p=s;c<p.length;c++){var d=p[c];-1!==u.indexOf(d)?l.push(t.getValue(d)):l.push(null)}null!=r&&(r.maxNumTensors=-1/0,r.minNumTensors=1/0);var f,h,v=s.join(",")+"|"+t.names().join(",");if(null==qv[v]){var m=function(e,t){ae.assert(null!=e&&e.length>0,(function(){return"Expected at least one fetch, got none"}));var n=[],r={};if(1===e.length){var a=Kv(e[0],t);n=a.sorted,r=a.recipientMap}else for(var o=new Set,i=0,s=e;i<s.length;i++){for(var l=Kv(s[i],t),u=l.sorted,c=l.recipientMap,p=0,d=u;p<d.length;p++){var f=d[p];o.has(f.name)||(n.push(f),o.add(f.name))}var h=function(e){null==r[e]&&(r[e]=new Set),c[e].forEach((function(t){return r[e].add(t)}))};for(var v in c)h(v)}return{sorted:n,recipientCounts:Yv(r)}}(i,t);f=m.sorted,h=m.recipientCounts,qv[v]=f,Gv[v]=h}f=qv[v],h={},a||Object.assign(h,Gv[v]);for(var g=new Uv(t),b=0;b<f.length;++b){if(null!=r){var y=Wt().numTensors;y>r.maxNumTensors&&(r.maxNumTensors=y),y<r.minNumTensors&&(r.minNumTensors=y)}var w=f[b],x=w.sourceLayer;if(!(x instanceof ev)){for(var C=[],E=[],k=[],S=!1,T=0,O=w.inputs;T<O.length;T++){var I=O[T],N=g.getValue(I),A=g.getMask(I);C.push(N),E.push(A),null!=A&&(S=!0),a||(h[I.name]--,0!==h[I.name]||t.hasKey(I)||-1!==s.indexOf(I.name)||N.isDisposed||!0===I.sourceLayer.stateful||k.push(N))}S&&((n=n||{}).mask=E[0]);var _=ef(x.apply(C,n)),R=null;x.supportsMasking&&(R=x.computeMask(C,E));for(var M=Jv(w),P=Array.isArray(M)?M:[M],D=0;D<P.length;++D){g.hasKey(P[D])||g.add(P[D],_[D],Array.isArray(R)?R[0]:R);var B=s.indexOf(P[D].name);-1!==B&&(l[B]=_[D])}a||Gt(k)}}return g.disposeMasks(),o?l:l[0]}function Yv(e){var t={};for(var n in e)t[n]=e[n].size;return t}function Kv(e,t){for(var n=new Set,r=[],a={},o=0,i=t.names();o<i.length;o++){var s=i[o];n.add(s)}var l=[],u=[];for(l.push(e);l.length>0;){var c=l[l.length-1];if(n.has(c.name))l.pop();else{var p=u[u.length-1]===l.length-1;if(0===c.inputs.length||p)l.pop(),r.push(c),n.add(c.name),p&&u.pop();else{u.push(l.length-1);for(var d=0,f=c.inputs;d<f.length;d++){var h=f[d];null==a[h.name]&&(a[h.name]=new Set),a[h.name].add(c.name),n.has(h.name)||l.push(h)}}}}return{sorted:r,recipientMap:a}}function Jv(e){var t;if(1===e.sourceLayer.inboundNodes.length)t=e.sourceLayer.output;else{for(var n=null,r=0;r<e.sourceLayer.inboundNodes.length;++r)for(var a=0,o=e.sourceLayer.inboundNodes[r].outputTensors;a<o.length;a++)if(o[a].id===e.id){n=r;break}t=e.sourceLayer.getOutputAt(n)}return t}var Qv=function(e){function t(n){var r=e.call(this,{})||this;if(r.containerNodes=new Set,r.name=n.name,null==r.name){var a=r.getClassName().toLowerCase();r.name=Bh(a)}if(r.supportsMasking=!1,r.trainable_=!0,Array.isArray(n.inputs)?r.inputs=n.inputs.slice():r.inputs=[n.inputs],Array.isArray(n.outputs)?r.outputs=n.outputs.slice():r.outputs=[n.outputs],uf(r.inputs).length!==r.inputs.length)throw new Gd("The list of inputs passed to the model is redundant. All inputs should only appear once. Found: "+r.inputs.map((function(e){return e.name})));uf(r.outputs).length!==r.outputs.length&&console.warn("The list of outputs passed to the model is redundant. All outputs should only appear once. Found: "+r.outputs.map((function(e){return e.name}))),r.inputLayers=[],r.inputLayersNodeIndices=[],r.inputLayersTensorIndices=[],r.outputLayers=[],r.outputLayersNodeIndices=[],r.outputLayersTensorIndices=[],r.layers=[],r.internalContainerRefs=[];for(var o=0,i=r.outputs;o<i.length;o++){var s=(T=i[o]).sourceLayer,l=T.nodeIndex,u=T.tensorIndex;r.outputLayers.push(s),r.outputLayersNodeIndices.push(l),r.outputLayersTensorIndices.push(u)}for(var c=0,p=r.inputs;c<p.length;c++)s=(T=p[c]).sourceLayer,l=T.nodeIndex,u=T.tensorIndex,Jd(0===l,"input layer has >1 nodes"),Jd(0===u,"input layer has >1 tensors"),r.inputLayers.push(s),r.inputLayersNodeIndices.push(l),r.inputLayersTensorIndices.push(u);r.inputNames=[],r.outputNames=[],r.feedInputShapes=[],r.feedInputNames=[],r.feedOutputNames=[];for(var d=0;d<r.inputLayers.length;d++){if(!((s=r.inputLayers[d])instanceof ev))throw new TypeError("Input layers to a LayersModel must be InputLayer objects. Received inputs: "+n.inputs+". Input "+d+" (0-based) originates from layer type "+s.getClassName()+".");r.inputNames.push(s.name),r.feedInputShapes.push(s.batchInputShape),r.feedInputNames.push(s.name)}for(var f=0,h=r.outputLayers;f<h.length;f++)s=h[f],r.outputNames.push(s.name);r.internalInputShapes=r.inputs.map((function(e){return e.shape})),r.internalOutputShapes=r.outputs.map((function(e){return e.shape}));for(var v={},m={},g={},b={},y={},w=[],x=function(e,n,a,o,i,s){null!=o&&null!=i&&null!=s||(o=e.sourceLayer,i=e.nodeIndex,s=e.tensorIndex);var l=o.inboundNodes[i];if(-1!==a.indexOf(l))throw new qd("The tensor "+e.name+' at layer "'+o.name+'" is part of a cycle.');if(-1===n.indexOf(l)){r.containerNodes.add(t.nodeKey(o,i)),o.id in y||(y[o.id]=Object.keys(y).length),-1===a.indexOf(l)&&a.push(l);for(var u=l.inboundLayers.length,c=0;c<u;c++){var p=l.inputTensors[c],d=l.inboundLayers[c],f=l.nodeIndices[c],h=l.tensorIndices[c];x(p,n,a,d,f,h)}for(n.push(l);a.indexOf(l)>=0;)a.splice(a.indexOf(l),1);w.push(l)}},C=[],E=[],k=0,S=r.outputs;k<S.length;k++){var T=S[k];x(T,C,E)}for(var O=0,I=w.slice().reverse();O<I.length;O++){m[(K=I[O]).id]=K,K.id in v||(v[K.id]=0);var N=v[K.id],A=null==g[K.outboundLayer.id]?0:g[K.outboundLayer.id];for(N=Math.max(N,A),g[K.outboundLayer.id]=N,b[K.outboundLayer.id]=K.outboundLayer,v[K.id]=N,d=0;d<K.inboundLayers.length;d++){var _=K.inboundLayers[d],R=(l=K.nodeIndices[d],_.inboundNodes[l]),M=null==v[R.id]?0:v[R.id];v[R.id]=Math.max(N+1,M),m[R.id]=R}}var P={};for(var D in v)(N=v[D])in P||(P[N]=[]),P[N].push(m[D]);var B={};for(var L in g)(N=g[L])in B||(B[N]=[]),B[N].push(b[L]);var z=Object.keys(B).map((function(e){return parseInt(e,10)})).sort(lf);r.layers=[];for(var F=0,$=z;F<$.length;F++){var V=B[N=$[F]];V.sort((function(e,t){var n=y[e.id],r=y[t.id];return n<r?-1:n>r?1:0}));for(var j=0,H=V;j<H.length;j++)(s=H[j])instanceof t&&r.internalContainerRefs.push(s),r.layers.push(s)}r.layersByDepth=B,z=Object.keys(P).map((function(e){return parseInt(e,10)})).sort(lf);for(var W=r.inputs.slice(),U=[],q=0,G=z;q<G.length;q++)for(var X=0,Y=P[N=G[q]];X<Y.length;X++){var K;if(null!=(s=(K=Y[X]).outboundLayer)){for(var J=0,Q=K.inputTensors;J<Q.length;J++)if(T=Q[J],-1===W.indexOf(T))throw new qd("Graph disconnected: cannot obtain value for tensor "+T+' at layer "'+s.name+'". The following previous layers were accessed without issue: '+U);for(var Z=0,ee=K.outputTensors;Z<ee.length;Z++)T=ee[Z],W.push(T);U.push(s.name)}}r.nodesByDepth=P;for(var te=r.layers.map((function(e){return e.name})),ne=function(e){var t=te.filter((function(t){return t===e})).length;if(1!==t)throw new qd('The name "'+e+'" is used '+t+" times in the model. All layer names should be unique. Layer names: "+JSON.stringify(te))},re=0,ae=te;re<ae.length;re++)ne(ae[re]);return r.outboundNodes=[],r.inboundNodes=[],new Yh({outboundLayer:r,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:r.inputs,outputTensors:r.outputs,inputMasks:r.inputs.map((function(e){return null})),outputMasks:r.outputs.map((function(e){return null})),inputShapes:r.inputs.map((function(e){return e.shape})),outputShapes:r.outputs.map((function(e){return e.shape}))}),r.built=!0,r._refCount=1,r}return Fd(t,e),t.prototype.assertNotDisposed=function(){if(0===this._refCount)throw new Error("Container '"+this.name+"' is already disposed.")},t.prototype.dispose=function(){this.assertNotDisposed();var e={refCountAfterDispose:null,numDisposedVariables:0};if(0==--this._refCount){for(var t=0,n=this.layers;t<n.length;t++){var r=n[t];e.numDisposedVariables+=r.dispose().numDisposedVariables}for(var a=0,o=this.internalContainerRefs;a<o.length;a++){var i=o[a];e.numDisposedVariables+=i.dispose().numDisposedVariables}}return e.refCountAfterDispose=this._refCount,e},Object.defineProperty(t.prototype,"trainable",{get:function(){return this.trainable_},set:function(e){this.layers.forEach((function(t){t._trainableWeights.forEach((function(t){return t.trainable=e}))})),this.trainable_=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trainableWeights",{get:function(){if(this._trainableWeights.length>0)throw new Gd("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];for(var e=[],t=0,n=this.layers;t<n.length;t++){var r=n[t];e=e.concat(r.trainableWeights)}return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonTrainableWeights",{get:function(){for(var e=[],t=0,n=this.layers;t<n.length;t++){var r=n[t];e.push.apply(e,r.nonTrainableWeights)}if(!this.trainable){for(var a=[],o=0,i=this.layers;o<i.length;o++)r=i[o],a.push.apply(a,r.trainableWeights);return a.concat(e)}return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weights",{get:function(){return this.trainableWeights.concat(this.nonTrainableWeights)},enumerable:!0,configurable:!0}),t.prototype.loadWeights=function(e,t){void 0===t&&(t=!0);for(var n={},r=0,a=0,o=this.layers;a<o.length;a++)for(var i=0,s=o[a].weights;i<s.length;i++){var l=s[i];if(null!=n[l.originalName])throw new Gd("Duplicate weight name: "+l.originalName);n[l.originalName]=l,r++}var u=[];for(var c in e){if(null!=n[c])u.push([n[c],e[c]]);else if(t)throw new Gd("Provided weight data has no target variable: "+c);delete n[c]}if(t){var p=[];for(var d in n)p.push(d);if(p.length>0)throw new Gd(p.length+" of "+r+" weights are not set: "+p)}Uh(u)},t.prototype.updatedConfig=function(){var e=this.getConfig(),t={};return t.className=this.getClassName(),t.config=e,t.kerasVersion="tfjs-layers "+Wv,t.backend="TensorFlow.js",t},t.prototype.toJSON=function(e,t){void 0===t&&(t=!0);var n=Hv(this.updatedConfig());return t?JSON.stringify(n):n},t.prototype.call=function(e,t){var n=this;return qt((function(){e=ef(e);for(var r=new Uv,a=0;a<n.inputs.length;++a)r.add(n.inputs[a],e[a]);return Xv(n.outputs,r,t)}))},t.prototype.computeMask=function(e,t){var n=this;return qt((function(){var r;return e=ef(e),r=null==t?Kd(null,e.length):ef(t),n.runInternalGraph(e,r)[1]}))},t.prototype.computeOutputShape=function(e){var t=zh(e);if(t.length!==this.inputLayers.length)throw new Gd("Invalid inputShape argument "+e+": model has "+this.inputLayers.length+" tensor inputs.");for(var n={},r=0;r<t.length;r++){var a=this.inputLayers[r],o=t[r];n[E=a.name+"_0_0"]=o}var i=Object.keys(this.nodesByDepth).map((function(e){return parseInt(e,10)})).sort(lf);if(i.length>1)for(var s=0,l=i;s<l.length;s++)for(var u=l[s],c=0,p=this.nodesByDepth[u];c<p.length;c++){var d=p[c];if(a=d.outboundLayer,-1===this.inputLayers.map((function(e){return e.id})).indexOf(a.id)){for(var f=[],h=0;h<d.inboundLayers.length;h++){var v=d.inboundLayers[h],m=d.nodeIndices[h],g=d.tensorIndices[h],b=n[E=v.name+"_"+m+"_"+g];f.push(b)}var y=zh(a.computeOutputShape(Zd(f))),w=a.inboundNodes.indexOf(d);for(h=0;h<y.length;h++)n[E=a.name+"_"+w+"_"+h]=y[h]}}var x=[],C=[];for(r=0;r<this.outputLayers.length;r++){a=this.outputLayers[r],w=this.outputLayersNodeIndices[r],g=this.outputLayersTensorIndices[r];var E=a.name+"_"+w+"_"+g;C.push(E)}for(r=0;r<C.length;r++){var k=C[r];Jd(k in n),x.push(n[k])}return Zd(x)},t.prototype.runInternalGraph=function(e,t){null==t&&(t=Kd(null,e.length));for(var n={},r=0;r<this.inputs.length;++r){var a=this.inputs[r],o=e[r],i=t[r];n[a.id]=[o,i]}for(var s=0,l=Object.keys(this.nodesByDepth).map((function(e){return parseInt(e,10)})).sort(lf);s<l.length;s++)for(var u=l[s],c=0,p=this.nodesByDepth[u];c<p.length;c++){for(var d=p[c],f=d.outboundLayer,h=d.inputTensors,v=d.outputTensors,m=new Array,g=0,b=h;g<b.length;g++)(a=b[g]).id in n&&m.push(n[a.id]);if(m.length===h.length){var y={},w=void 0,x=void 0,C=void 0,E=void 0;if(null!=d.callArgs&&(y=d.callArgs),1===m.length){var k=m[0],S=k[0],T=k[1];null==y.mask&&(y.mask=T),C=ef(f.call(S,y)),E=ef(f.computeMask(S,T)),w=[S],x=[T]}else w=m.map((function(e){return e[0]})),x=m.map((function(e){return e[1]})),null==y.mask&&(y.mask=x),C=ef(f.call(w,y)),E=ef(f.computeMask(w,x));if(f.activityRegularizer)throw new Xd("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(r=0;r<v.length;++r)a=v[r],o=C[r],i=E[r],n[a.id]=[o,i]}}for(var O=[],I=[],N=[],A=0,_=this.outputs;A<_.length;A++){Jd((a=_[A]).id in n,"Could not compute output "+a.name+" : "+a.id);var R=n[a.id],M=R[0];i=R[1],N.push(M.shape),O.push(M),I.push(i)}return[O,I,N]},t.prototype.buildNodeConversionMap=function(e){for(var n,r={},a=0,o=this.layers;a<o.length;a++){var i=o[a];n=i instanceof t?1:0;for(var s=0;s<i.inboundNodes.length;s++){var l=t.nodeKey(i,s);this.containerNodes.has(l)&&(r[l]=n,n+=1)}}return r},t.prototype.getLayer=function(e,t){if(null!=t){if(this.layers.length<=t)throw new Gd("Was asked to retrieve layer at index "+t+", but model only has "+this.layers.length+" layer(s).");return this.layers[t]}if(null==e)throw new Gd("Provide either a layer name or layer index");for(var n=0,r=this.layers;n<r.length;n++){var a=r[n];if(a.name===e)return a}throw new Gd("No such layer: "+e)},t.prototype.calculateLosses=function(){var e=this;return qt((function(){for(var n=[],r=0,a=e.layers;r<a.length;r++)for(var o=a[r],i=0;i<o.inboundNodes.length;++i){var s=t.nodeKey(o,i);e.containerNodes.has(s)&&n.push.apply(n,o.calculateLosses())}return n}))},t.prototype.getConfig=function(){for(var e={name:this.name},n=this.buildNodeConversionMap(this.layers),r=[],a=0,o=this.layers;a<o.length;a++){for(var i=(w=o[a]).getClassName(),s=w.getConfig(),l=[],u=0;u<w.inboundNodes.length;u++){var c=w.inboundNodes[u],p=t.nodeKey(w,u),d={};if(this.containerNodes.has(p)){if(c.callArgs)try{JSON.stringify(c.callArgs),d=c.callArgs}catch(e){console.warn("Layer "+w.name+" was passed non-serializable keyword arguments: "+c.callArgs+". They will not be included in the serialized model (and thus will be missing at deserialization time)."),d={}}if(c.inboundLayers.length>0){for(var f=[],h=0;h<c.inboundLayers.length;h++){var v=c.inboundLayers[h],m=c.nodeIndices[h],g=c.tensorIndices[h];null==(C=n[t.nodeKey(v,m)])&&(C=0),f.push([v.name,C,g,d])}l.push(f)}}}var b={};b.name=w.name,b.className=i,b.config=s,b.inboundNodes=l,r.push(b)}e.layers=r;var y=[];for(h=0;h<this.inputLayers.length;h++){var w=this.inputLayers[h];m=this.inputLayersNodeIndices[h],p=t.nodeKey(w,m),this.containerNodes.has(p)&&(null!==(C=n[p])&&void 0!==C||(C=0),g=this.inputLayersTensorIndices[h],y.push([w.name,C,g]))}e.inputLayers=y;var x=[];for(h=0;h<this.outputLayers.length;h++){var C;if(w=this.outputLayers[h],m=this.outputLayersNodeIndices[h],p=t.nodeKey(w,m),this.containerNodes.has(p))null!==(C=n[p])&&void 0!==C||(C=0),g=this.outputLayersTensorIndices[h],x.push([w.name,C,g])}return e.outputLayers=x,e},t.fromConfig=function(e,t,n,r){void 0===n&&(n={}),void 0===r&&(r=!1);var a={},o={};function i(e,t){e.name in o?o[e.name].push(t):o[e.name]=[t]}function s(e,t){for(var n,r=[],o=0,s=t;o<s.length;o++){var l=s[o],u=l[0],c=l[1],p=l[2];if(n=null==l[3]?{}:l[3],!(u in a))return void i(e,t);var d=a[u];if(d.inboundNodes.length<=c)return void i(e,t);var f=d.inboundNodes[c];r.push(f.outputTensors[p])}r.length>0&&e.apply(Zd(r),n)}function l(e){var n=e.name,o=dv(e,null!=t.customObjects?t.customObjects:{});o.setFastWeightInitDuringBuild(r),a[n]=o,e.inboundNodes.forEach((function(e){if(!(e instanceof Array))throw new Gd("Corrupted configuration, expected array for nodeData: "+e);i(o,e)}))}for(var u=t.name,c=t.layers,p=0,d=c;p<d.length;p++)l(v=d[p]);for(;!cf(o);)for(var f=0,h=c;f<h.length;f++){var v=h[f];if((N=a[v.name]).name in o){var m=o[N.name];delete o[N.name];for(var g=0,b=m;g<b.length;g++)s(N,b[g])}}for(var y=[],w=[],x=0,C=t.inputLayers;x<C.length;x++){var E=(v=C[x])[0],k=v[1],S=v[2];Jd(E in a);var T=(N=a[E]).inboundNodes[k].outputTensors;y.push(T[S])}for(var O=0,I=t.outputLayers;O<I.length;O++){var N;E=(v=I[O])[0],k=v[1],S=v[2],Jd(E in a),T=(N=a[E]).inboundNodes[k].outputTensors,w.push(T[S])}return new e({inputs:y,outputs:w,name:u})},Object.defineProperty(t.prototype,"stateful",{get:function(){if(this._stateful)throw new Gd("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(var e=0,t=this.layers;e<t.length;e++)if(t[e].stateful)return!0;return!1},enumerable:!0,configurable:!0}),t.prototype.resetStates=function(){var e=this;qt((function(){e.layers.forEach((function(e){e.stateful&&e.resetStates()}))}))},t}(Jh);function Zv(e,t){return function(e,t,n){var r=t.length;if(null==e||Array.isArray(e)&&0===e.length)return t.map((function(e){return null}));if(1===r)return Array.isArray(e)&&1===e.length?e:"object"==typeof e&&t[0]in e?[e[t[0]]]:[e];if(Array.isArray(e)){if(e.length!==r)throw new Error("Provided "+n+" is an array of "+e.length+" element(s), but the model has "+r+" outputs. Make sure a set of weights is provided for each model output.");return e}if("object"==typeof e&&Object.keys(e).length>0&&"object"==typeof e[Object.keys(e)[0]]){var a=[];return t.forEach((function(t){t in e?a.push(e[t]):a.push(null)})),a}throw new Error("The model has multiple ("+r+") outputs, so "+n+" must be either an array with "+r+" elements or an object with "+t+" keys. Provided "+n+" not understood: "+JSON.stringify(e))}(e,t,"classWeight")}function em(e,t,n,r){return jd(this,void 0,void 0,(function(){var a,o,i,s,l;return Hd(this,(function(u){switch(u.label){case 0:if(null!=t||null!=r)throw new Error("Support sampleWeight is not implemented yet");return null==n?[3,2]:(a=qt((function(){if(1===e.shape.length)return e.clone();if(2===e.shape.length){if(e.shape[1]>1)return e.argMax(1);if(1===e.shape[1])return e.reshape([e.shape[0]]);throw new Error("Encountered unexpected last-dimension size ("+e.shape[1]+") during handling of class weights. The size is expected to be >= 1.")}throw new Error("Unexpected rank of target (y) tensor ("+e.rank+") during handling of class weights. The rank is expected to be 1 or 2.")})),s=(i=Array).from,[4,a.data()]);case 1:return o=s.apply(i,[u.sent()]),Gt(a),l=[],o.forEach((function(e){if(null==n[e])throw new Error("classWeight must contain all classes in the training data. The class "+e+" exists in the data but not in classWeight");l.push(n[e])})),[2,In(l,"float32")];case 2:return[2,null]}}))}))}function tm(e,t){return Wl(e,t)}function nm(e,t){var n,r,a=t;n=a.xs,r=a.ys,ae.assert(null!=n&&null!=r,(function(){return"A Dataset iterator for fitDataset() is expected to generate objects of the form `{xs: xVal, ys: yVal}`, where the two values may be `tf.Tensor`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates "+t}));var o=rm("input",e.inputNames,n),i=rm("output",e.outputNames,r),s=o[0].shape[0];ae.assert(o.length===e.inputs.length,(function(){return"LayersModel has "+e.inputs.length+" inputs, but the dataset provides "+o.length+" inputs.  (Expected input keys: "+JSON.stringify(e.inputNames)+")"})),ae.assert(i.length===e.outputs.length,(function(){return"LayersModel has "+e.outputs.length+" outputs, but the dataset provides "+i.length+" outputs.  (Expected output keys: "+JSON.stringify(e.outputNames)+")"}));var l=function(t){ae.assert(o[t].shape[0]===s,(function(){return"Batch size mismatch: input "+e.inputNames[t]+" has "+o[t].shape[0]+"; expected  "+s+" based on input "+e.inputNames[0]+"."}))};for(var u in o)l(u);var c=function(t){ae.assert(i[t].shape[0]===s,(function(){return"Batch size mismatch: output "+e.outputNames[t]+" has "+i[t].shape[0]+"; expected  "+s+" based on input "+e.inputNames[0]+"."}))};for(var p in i)c(p);return{xs:o,ys:i}}function rm(e,t,n){if(n instanceof ve)return[n];if(Array.isArray(n))return ae.assert(n.length===t.length,(function(){return"Received an array of "+n.length+" Tensors, but expected "+t.length+" to match the "+e+" keys "+t+"."})),n;for(var r=[],a=0,o=t;a<o.length;a++){var i=o[a];if(null==n[i])throw new Gd("The feature data generated by the dataset lacks the required "+e+" key '"+i+"'.");r.push(n[i])}return r}function am(e,t,n){return jd(this,void 0,void 0,(function(){var r,a,o,i,s,l,u,c,p,d,f,h,v,m,g,b,y,w,x,C,E,k,S,T,O,I,N,A,_,R,M,P,D,B;return Hd(this,(function(L){switch(L.label){case 0:if(r=null!=n.batchesPerEpoch,ae.assert(null!=e.optimizer,(function(){return"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."})),ae.assert(null!=n,(function(){return"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."})),ae.assert(null!=n.epochs&&n.epochs>0&&Number.isInteger(n.epochs),(function(){return"For fitDataset(), config.epochs is expected to be a positive integer, but got "+n.epochs})),ae.assert(!r||n.batchesPerEpoch>0&&Number.isInteger(n.batchesPerEpoch),(function(){return"For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got "+n.batchesPerEpoch})),ae.assert(null==n.validationSplit,(function(){return"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."})),e.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");e.isTraining=!0,L.label=1;case 1:return L.trys.push([1,,26,27]),a=null!=n.validationData,o=void 0,i=void 0,a&&(om(n.validationData)?ae.assert(null==n.validationBatches||n.validationBatches>0&&Number.isInteger(n.validationBatches),(function(){return"For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got "+n.validationBatches})):(s=function(e){if(3===e.length)throw new Xd("Validation with sample weights is not implemented yet.");return{xs:e[0],ys:e[1]}}(n.validationData),o=s.xs,i=s.ys)),l=e.makeTrainFunction(),u=e.getDedupedMetricsNames(),void 0,c=a?u.slice().concat(u.map((function(e){return"val_"+e}))):u.slice(),p=uv(n.callbacks,n.yieldEvery),d=null==n.verbose?1:n.verbose,f=pv(p,d,n.epochs,null,null,function(e,t){var n=null;return null!=t.batchesPerEpoch?n=t.batchesPerEpoch:Number.isFinite(e.size)&&(n=e.size),n}(t,n),null,a,c),h=f.callbackList,v=f.history,h.setModel(e),e.history=v,[4,h.onTrainBegin()];case 2:return L.sent(),e.stopTraining_=!1,m=null==n.initialEpoch?0:n.initialEpoch,[4,t.iterator()];case 3:g=L.sent(),L.label=4;case 4:return m<n.epochs?(b={},[4,h.onEpochBegin(m)]):[3,23];case 5:return L.sent(),y=0,w=0,r?[3,7]:[4,t.iterator()];case 6:g=L.sent(),L.label=7;case 7:return!r||y<n.batchesPerEpoch?[4,g.next()]:[3,21];case 8:return x=L.sent(),r&&x.done?(console.warn("You provided `batchesPerEpoch` as "+n.batchesPerEpoch+", but your dataset iterator ran out of data after "+y+" batches; interrupting training. Make sure that your dataset can generate at least `batchesPerEpoch * epochs` batches (in this case, "+n.batchesPerEpoch*n.epochs+" batches). You may need to use the repeat() function when building your dataset."),[3,21]):null==x.value?[3,15]:(C=nm(e,x.value),E=C.xs,k=C.ys,(S={}).batch=w,S.size=E[0].shape[0],[4,h.onBatchBegin(w,S)]);case 9:if(L.sent(),T=[],null==n.classWeight)return[3,13];O=Zv(n.classWeight,e.outputNames),B=0,L.label=10;case 10:return B<O.length?(N=(I=T).push,[4,em(k[B],null,O[B])]):[3,13];case 11:N.apply(I,[L.sent()]),L.label=12;case 12:return++B,[3,10];case 13:for(A=E.concat(k).concat(T),_=l(A),Gt(A),B=0;B<u.length;++B)R=u[B],M=_[B],S[R]=M,Xt(M);return[4,h.onBatchEnd(w,S)];case 14:L.sent(),rv(S),w++,y++,L.label=15;case 15:return(r?y>=n.batchesPerEpoch:x.done)?a?(P=void 0,om(n.validationData)?(D=ef,[4,e.evaluateDataset(n.validationData,{batches:n.validationBatches})]):[3,17]):[3,19]:[3,20];case 16:return P=D.apply(void 0,[L.sent()]),[3,18];case 17:P=ef(e.evaluate(o,i,{batchSize:null==n.validationBatchSize?32:n.validationBatchSize,verbose:0})),L.label=18;case 18:for(B=0;B<e.metricsNames.length;++B)b["val_"+e.metricsNames[B]]=P[B];L.label=19;case 19:return[3,21];case 20:return e.stopTraining_?[3,21]:[3,7];case 21:return[4,h.onEpochEnd(m,b)];case 22:return L.sent(),m++,e.stopTraining_?[3,23]:[3,4];case 23:return[4,h.onTrainEnd()];case 24:return L.sent(),[4,e.history.syncData()];case 25:return L.sent(),[2,e.history];case 26:return e.isTraining=!1,[7];case 27:return[2]}}))}))}function om(e){return"function"==typeof e.iterator}function im(e,t,n){return jd(this,void 0,void 0,(function(){var r,a,o,i,s,l,u,c,p,d;return Hd(this,(function(f){switch(f.label){case 0:if(r=null!=(n=n||{}).batches,a=e.testFunction,o=[],n.verbose>0)throw new Xd("Verbose mode is not implemented yet.");return ae.assert(!r||n.batches>0&&Number.isInteger(n.batches),(function(){return"Test loop expects `batches` to be a positive integer, but received "+JSON.stringify(n.batches)})),function(e){return"function"==typeof e.next}(t)?(s=t,[3,3]):[3,1];case 1:return[4,t.iterator()];case 2:s=f.sent(),f.label=3;case 3:i=s,l=0,u=0,c=function(){var t;return Hd(this,(function(s){switch(s.label){case 0:return[4,i.next()];case 1:return t=s.sent(),o=qt((function(){if(t.value){var n=nm(e,t.value),r=n.xs,i=n.ys,s=r.concat(i),c=qt((function(){return a(s)}));if(Gt(s),0===u)for(var p=0;p<c.length;++p)o.push(On(0));var d=s[0].shape[0],f=function(e){var t=c[e],n=o[e];o[e]=qt((function(){return _l(o[e],Wl(d,t))})),u>0&&Gt(n)};for(p=0;p<c.length;++p)f(p);Gt(c),l+=d,++u}return o})),t.done?(r&&console.warn("Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least `batches` batches (in this case, "+n.batches+" batches). You may need to use the repeat() function when building your dataset."),[2,"break"]):[2]}}))},f.label=4;case 4:return!r||u<n.batches?[5,c()]:[3,6];case 5:return"break"===f.sent()?[3,6]:[3,4];case 6:for(p=0;p<o.length;++p)d=o[p],o[p]=Dl(o[p],l),Gt(d);return[2,Zd(o)]}}))}))}function sm(e){ae.assert(e>0&&Number.isInteger(e),(function(){return"batchSize is required to be a positive integer, but got "+e}))}function lm(e,t,n){return null==e?[null]:Array.isArray(e)?e.map((function(e){return Kf(e,t,n-t)})):Kf(e,t,n-t)}function um(e,t){return qt((function(){return null==e?null:Array.isArray(e)?e.map((function(e){return um(e,t)})):ah(e,"int32"===t.dtype?t:t.toInt())}))}function cm(e,t){for(var n=[],r=0,a=null;r<e;)(a=r+t)>=e&&(a=e),n.push([r,a]),r=a;return n}function pm(e,t,n,r,a,o,i,s,l,u,c,p,d,f,h){return jd(this,void 0,void 0,(function(){var v,m,g,b,y,w,x,C;return Hd(this,(function(E){switch(E.label){case 0:if(null==a&&(a=32),null==o&&(o=1),null==c&&(c=!0),null==d&&(d=0),v=!1,null!=l&&null!=u&&(v=!0),null!=h&&(v=!0,null==f))throw new Gd("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");return null!=(m=e.checkNumSamples(n,a,f,"steps_per_epoch"))&&(g=Gf(0,m)),null==i&&(i=1),b=pv(s,i,o,d,m,f,a,v,p),y=b.callbackList,w=b.history,y.setModel(e),e.history=w,[4,y.onTrainBegin()];case 1:E.sent(),e.stopTraining_=!1,x=function(o){var i,s,p,d,h;return Hd(this,(function(b){switch(b.label){case 0:return[4,y.onEpochBegin(o)];case 1:if(b.sent(),i={},null==f)return[3,2];throw new Xd("stepsPerEpoch mode is not implemented yet.");case 2:if("batch"===c)throw new Xd("batch shuffling is not implemneted yet");c&&ae.shuffle(g),s=In(g),p=cm(m,a),d=function(o){var c;return Hd(this,(function(d){switch(d.label){case 0:return c={},[4,y.onBatchBegin(o,c)];case 1:return d.sent(),qt((function(){var d=p[o][0],f=p[o][1],h=Kf(s,d,f-d);c.batch=o,c.size=f-d;for(var m=um(n,h),g=t(m),b=0;b<r.length;++b){var y=r[b],w=g[b];c[y]=w,Xt(w)}if(o===p.length-1&&v){var x=e.testLoop(l,u,a);for(b=0;b<r.length;++b)y=r[b],Xt(w=x[b]),i["val_"+y]=w}})),[4,y.onBatchEnd(o,c)];case 2:return d.sent(),rv(c),e.stopTraining_?[2,"break"]:[2]}}))},h=0,b.label=3;case 3:return h<p.length?[5,d(h)]:[3,6];case 4:if("break"===b.sent())return[3,6];b.label=5;case 5:return++h,[3,3];case 6:s.dispose(),b.label=7;case 7:return[4,y.onEpochEnd(o,i)];case 8:return b.sent(),e.stopTraining_?[2,"break"]:[2]}}))},C=d,E.label=2;case 2:return C<o?[5,x(C)]:[3,5];case 3:if("break"===E.sent())return[3,5];E.label=4;case 4:return++C,[3,2];case 5:return[4,y.onTrainEnd()];case 6:return E.sent(),[4,e.history.syncData()];case 7:return E.sent(),[2,e.history]}}))}))}function dm(e,t,n,r){return void 0===r&&(r={}),jd(this,void 0,void 0,(function(){var a,o,i,s,l,u,c,p,d,f,h,v,m,g,b,y,w,x,C,E;return Hd(this,(function(k){switch(k.label){case 0:if(e.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");e.isTraining=!0,k.label=1;case 1:return k.trys.push([1,,7,8]),sm(p=null==r.batchSize?32:r.batchSize),!1,[4,e.standardizeUserData(t,n,r.sampleWeight,r.classWeight,false,p)];case 2:if(d=k.sent(),a=d[0],o=d[1],c=d[2],f=!1,h=void 0,!(null!=r.validationData&&r.validationData.length>0))return[3,4];if(f=!0,2!==r.validationData.length)throw 3===r.validationData.length?new Xd("validationData including sample weights is not supported yet."):new Gd("When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; "+r.validationData+" is invalid.");return i=r.validationData[0],s=r.validationData[1],!0,[4,e.standardizeUserData(i,s,null,null,true,p)];case 3:return v=k.sent(),l=v[0],u=v[1],h=l.concat(u),[3,5];case 4:null!=r.validationSplit&&r.validationSplit>0&&r.validationSplit<1?(f=!0,m=Math.floor(a[0].shape[0]*(1-r.validationSplit)),g=a[0].shape[0],l=lm(a,m,g),a=lm(a,0,m),u=lm(o,m,g),o=lm(o,0,m),h=l.concat(u)):null!=r.validationSteps&&(f=!0),k.label=5;case 5:return b=a.concat(o).concat(c),e.checkTrainableWeightsConsistency(),y=e.makeTrainFunction(),w=e.getDedupedMetricsNames(),x=void 0,C=void 0,f?(e.makeTestFunction(),x=e.testFunction,C=w.slice().concat(w.map((function(e){return"val_"+e})))):(x=null,h=[],C=w.slice()),E=uv(r.callbacks,r.yieldEvery),[4,pm(e,y,b,w,p,r.epochs,r.verbose,E,x,h,r.shuffle,C,r.initialEpoch,null,null)];case 6:return[2,k.sent()];case 7:return e.isTraining=!1,hm(a,t),hm(o,n),hm(l,i),hm(u,s),null!=c&&Gt(c),[7];case 8:return[2]}}))}))}function fm(e){var t=[];e instanceof ve&&(e=[e]);for(var n=0;n<e.length;++n){var r=e[n];if(1===r.rank)t.push(Yf(r,1));else{if(0===r.rank)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");t.push(r)}}return t}function hm(e,t){if(null!=e){var n=[];if(t instanceof ve)n.push(t.id);else if(Array.isArray(t))t.forEach((function(e){return n.push(e.id)}));else if(null!=t)for(var r in t){var a=t[r];n.push(a.id)}var o=[];if(e instanceof ve)-1===n.indexOf(e.id)&&o.push(e);else if(Array.isArray(e))e.forEach((function(e){-1===n.indexOf(e.id)&&o.push(e)}));else if(null!=e)for(var i in e){var s=e[i];-1===n.indexOf(s.id)&&o.push(s)}o.forEach((function(e){e.isDisposed||e.dispose()}))}}function vm(e){return Array.isArray(e)}function mm(e){return!function(e){return e instanceof ve}(e)&&!vm(e)}function gm(e,t,n,r,a){if(void 0===r&&(r=!0),void 0===a&&(a=""),null==t||0===t.length){if(null!=e){var o=!1;if(vm(e)&&e.length>0)o=!0;else if(mm(e)){for(var i in e)if(e.hasOwnProperty(i)){o=!0;break}}else o=!0;if(o)throw new Gd("Error when checking model "+a+" expected no data, but got "+e)}return[]}if(null==e)return t.map((function(e){return null}));var s;if(mm(e)){s=[];for(var l=0,u=t;l<u.length;l++){var c=u[l];if(null==e[c])throw new Gd('No data provided for "'+c+'". Need data for each key in: '+t);s.push(e[c])}}else if(vm(e)){if(e.length!==t.length)throw new Gd("Error when checking model "+a+": the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see "+t.length+" Tensor(s), but instead got the following list of Tensor(s): "+e);s=e}else{if(t.length>1)throw new Gd("The model "+a+" expects "+t.length+" Tensor(s), but only received one Tensor. Found: Tensor with shape "+e.shape);s=[e]}if(s=fm(s),null!=n)for(var p=0;p<t.length;++p)if(null!=n[p]){var d=s[p];if(d.shape.length!==n[p].length)throw new Gd("Error when checking "+a+": expected "+t[p]+" to have "+n[p].length+" dimension(s). but got array with shape "+d.shape);for(var f=0;f<n[p].length;++f)if(0!==f||r){var h=d.shape[f],v=n[p][f];if(null!=v&&v>=0&&h!==v)throw new Gd("Error when checking "+a+": expected "+t[p]+" to have shape ["+n[p]+"], but got array with shape ["+d.shape+"].")}}return s}function bm(e,t,n,r,a){var o;if(void 0===r&&(r=!0),void 0===a&&(a=""),Array.isArray(e)){if(e.length!==t.length)throw new Gd("Error when checking model "+a+": the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see "+t.length+" Tensor(s), but instead got "+e.length+" Tensors(s).");o=e}else{if(t.length>1)throw new Gd("The model expects "+t.length+" "+a+" Tensors, but only received one Tensor. Found: array with shape "+JSON.stringify(e.shape)+".");o=[e]}if(null!=n)for(var i=0;i<t.length;++i)if(null!=n[i]){var s=o[i];if(s.shape.length!==n[i].length)throw new Gd("Error when checking "+a+": expected "+t[i]+" to have "+n[i].length+" dimension(s), but got array with shape "+JSON.stringify(s.shape));for(var l=0;l<n[i].length;++l)if(0!==l||r){var u=s.shape[l],c=n[i][l];if(null!=c&&c!==u)throw new Gd("Error when checking "+a+": expected "+t[i]+" to have shape "+JSON.stringify(n[i])+" but got array with shape "+JSON.stringify(s.shape)+".")}}}var ym=function(e){function t(t){var n=e.call(this,t)||this;return n.isTraining=!1,n}return Fd(t,e),t.prototype.summary=function(e,t,n){if(void 0===n&&(n=console.log),!this.built)throw new Gd("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");Lv(this,e,t,n)},t.prototype.compile=function(e){var t=this;if(null==e.loss&&(e.loss=[]),this.loss=e.loss,"string"==typeof e.optimizer)this.optimizer_=function(e){var t={Adagrad:function(){return Dd.adagrad(.01)},Adadelta:function(){return Dd.adadelta(1,.95,Wd())},Adam:function(){return Dd.adam(.001,.9,.999,Wd())},Adamax:function(){return Dd.adamax(.002,.9,.999,Wd(),0)},RMSProp:function(){return Dd.rmsprop(.001,.9,0,Wd())},SGD:function(){return Dd.sgd(.01)}};if(t.adagrad=t.Adagrad,t.adadelta=t.Adadelta,t.adam=t.Adam,t.adamax=t.Adamax,t.rmsprop=t.RMSProp,t.sgd=t.SGD,e in t)return t[e]();throw new Gd("Unknown Optimizer "+e)}(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof Td))throw new Gd("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}var n=[];if(Array.isArray(e.loss)||"string"==typeof e.loss||"function"==typeof e.loss)if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new Gd("When passing an Array as loss, it should have one entry per model output. The model has "+this.outputs.length+" output(s), but you passed loss="+e.loss+".");var r=e.loss;n=r.map((function(e){return Cv(e)}))}else{var a=Cv(e.loss);this.outputs.forEach((function(e){n.push(a)}))}else{for(var o in e.loss=e.loss,e.loss)if(-1===this.outputNames.indexOf(o))throw new Gd('Unknown entry in loss dictionary: "'+o+'". Only expected the following keys: '+this.outputNames);for(var i=0,s=this.outputNames;i<s.length;i++){var l=s[i];null==e.loss[l]&&console.warn('Output "'+l+'" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to '+l+" during training"),n.push(Cv(e.loss[l]))}}this.lossFunctions=n,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(var u=0;u<this.outputs.length;++u){var c=this.internalOutputShapes[u],p=this.outputNames[u];this.feedOutputNames.push(p),this.feedOutputShapes.push(c),this.feedLossFns.push(this.lossFunctions[u])}var d=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],Lf("loss",(function(){for(var e=0;e<t.outputs.length;++e)if(-1===d.indexOf(e)){var n=t.lossFunctions[e];t.outputs.length>1&&(t.metricsTensors.push([n,e]),t.metricsNames.push(t.outputNames[e]+"_loss"))}}));var f=function(e,t){if(null==e||Array.isArray(e)&&0===e.length)return t.map((function(e){return[]}));var n;if("string"==typeof e||"function"==typeof e)n=[e];else{if(!Array.isArray(e)&&"object"!=typeof e)throw new TypeError("Type of metrics argument not understood. Expected an string,function, Array, or Object, found: "+e);n=e}if(Array.isArray(n))return t.map((function(e){return n}));for(var r=[],a=0,o=t;a<o.length;a++){var i=o[a],s=n.hasOwnProperty(i)?n[i]:[];Array.isArray(s)||(s=[s]),r.push(s)}return r}(e.metrics,this.outputNames);Lf("metric",(function(){for(var e=function(e){if(-1!==d.indexOf(e))return"continue";!function(n){for(var r,a,o,i=function(n){if("string"==typeof n&&-1!==["accuracy","acc","crossentropy","ce"].indexOf(n)){var i=t.internalOutputShapes[e];1===i[i.length-1]||t.lossFunctions[e]===yv?-1!==["accuracy","acc"].indexOf(n)?a=Ev:-1!==["crossentropy","ce"].indexOf(n)&&(a=Iv):t.lossFunctions[e]===bv?-1!==["accuracy","acc"].indexOf(n)?a=Nv:-1!==["crossentropy","ce"].indexOf(n)&&(a=_v):-1!==["accuracy","acc"].indexOf(n)?a=kv:-1!==["crossentropy","ce"].indexOf(n)&&(a=Av);var s=void 0;-1!==["accuracy","acc"].indexOf(n)?s="acc":-1!==["crossentropy","ce"].indexOf(n)&&(s="ce"),o=a,r=""+s}else{var l=function(e){if("string"==typeof e&&e in Rv)return Rv[e];if("string"!=typeof e&&null!=e)return e;throw new Gd("Unknown metric "+e)}(n);o=l,r=""+Mv(n)}var u;Lf(r,(function(){u=o})),function(e,n,r){t.outputNames.length>1&&(n=t.outputNames[e]+"_"+n),t.metricsNames.push(n),t.metricsTensors.push([r,e])}(e,r,u)},s=0,l=n;s<l.length;s++)i(l[s])}(f[e])},n=0;n<t.outputs.length;++n)e(n)})),this.collectedTrainableWeights=this.trainableWeights},t.prototype.checkTrainableWeightsConsistency=function(){null!=this.collectedTrainableWeights&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")},t.prototype.evaluate=function(e,t,n){void 0===n&&(n={});var r=null==n.batchSize?32:n.batchSize;sm(r);var a=this.standardizeUserDataXY(e,t,!0,r);try{var o=a[0].concat(a[1]);this.makeTestFunction();var i=this.testFunction;return Zd(this.testLoop(i,o,r,n.verbose,n.steps))}finally{hm(a[0],e),hm(a[1],t)}},t.prototype.evaluateDataset=function(e,t){return jd(this,void 0,void 0,(function(){return Hd(this,(function(n){return this.makeTestFunction(),[2,im(this,e,t)]}))}))},t.prototype.checkNumSamples=function(e,t,n,r){var a;if(void 0===r&&(r="steps"),null!=n){if(a=null,null!=t)throw new Gd("If "+r+" is set, batchSize must be null or undefined.Got batchSize = "+t)}else{if(null==e)throw new Gd("Either the input data should have a defined shape, or "+r+" shoud be specified.");a=Array.isArray(e)?e[0].shape[0]:e.shape[0]}return a},t.prototype.execute=function(e,t){if(Array.isArray(t)&&0===t.length)throw new Gd("`outputs` is an empty Array, which is not allowed.");var n=Array.isArray(t),r=n?t:[t],a=this.retrieveSymbolicTensors(r),o=new Uv;if(e instanceof ve&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new Gd("The number of inputs provided ("+e.length+") does not match the number of inputs of this model ("+this.inputs.length+").");for(var i=0;i<this.inputs.length;++i)o.add(this.inputs[i],e[i])}else for(var s=0,l=this.inputs;s<l.length;s++){var u=l[s],c=e[u.name];if(null==c)throw new Gd("No value is provided for the model's input "+u.name);o.add(u,c)}var p=Xv(a,o);return n?p:p[0]},t.prototype.retrieveSymbolicTensors=function(e){for(var t=Kd(null,e.length),n=e.length,r=0,a=this.layers;r<a.length;r++){for(var o=a[r],i=Array.isArray(o.output)?o.output:[o.output],s=i.map((function(e){return e.name})),l=0;l<e.length;++l){var u=s.indexOf(e[l]);if(-1!==u&&(t[l]=i[u],n--),0===n)break}if(0===n)break}if(n>0){var c=[];throw t.forEach((function(t,n){null==t&&c.push(e[n])})),new Gd("Cannot find SymbolicTensors for output name(s): "+JSON.stringify(c))}return t},t.prototype.predictLoop=function(e,t,n){var r=this;return void 0===t&&(t=32),void 0===n&&(n=!1),qt((function(){var a=r.checkNumSamples(e);if(n)throw new Xd("Verbose predictLoop() is not implemented yet.");for(var o=cm(a,t),i=r.outputs.map((function(e){return[]})),s=function(t){qt((function(){var n=o[t][0],a=o[t][1],i=lm(e,n,a),s=[];if(Array.isArray(i))for(var l=0;l<i.length;++l)s.push({key:r.inputs[l],value:i[l]});else s.push({key:r.inputs[0],value:i});var u=new Uv(s);return Xv(r.outputs,u)})).forEach((function(e,t){return i[t].push(e)}))},l=0;l<o.length;++l)s(l);return Zd(i.map((function(e){return jn(e,0)})))}))},t.prototype.predict=function(e,t){void 0===t&&(t={});var n=fm(e);bm(n,this.inputNames,this.feedInputShapes,!1);try{var r=null==t.batchSize?32:t.batchSize;return sm(r),this.predictLoop(n,r)}finally{hm(n,e)}},t.prototype.predictOnBatch=function(e){bm(e,this.inputNames,this.feedInputShapes,!0);var t=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,t)},t.prototype.standardizeUserDataXY=function(e,t,n,r){if(void 0===n&&(n=!0),null==this.optimizer_)throw new qd("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");for(var a=[],o=0;o<this.feedOutputShapes.length;++o){var i=this.feedOutputShapes[o];this.feedLossFns[o]===bv?a.push(i.slice(0,i.length-1).concat([1])):a.push(i)}if(function(e,t,n){var r=uf(e.map((function(e){return e.shape[0]})));r.sort();var a=uf(t.map((function(e){return e.shape[0]})));if(a.sort(),r.length>1)throw new Gd("All input Tensors (x) should have the same number of samples. Got array shapes: "+JSON.stringify(e.map((function(e){return e.shape}))));if(a.length>1)throw new Gd("All target Tensors (y) should have the same number of samples. Got array shapes: "+JSON.stringify(t.map((function(e){return e.shape}))));if(r.length>0&&a.length>0&&!ae.arraysEqual(r,a))throw new Gd("Input Tensors should have the same number of samples as target Tensors. Found "+r[0]+" input sample(s) and "+a[0]+" target sample(s).")}(e=gm(e,this.feedInputNames,this.feedInputShapes,!1,"input"),t=gm(t,this.feedOutputNames,a,!1,"target")),function(e,t,n){for(var r=[hv,yv,gv],a=0;a<e.length;++a){var o=e[a],i=t[a],s=n[a];if(null!=i){if(i===gv&&1===o.shape[o.shape.length-1])throw new Gd("You are passing a target array of shape "+o.shape+" while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].");if(-1!==r.indexOf(i))for(var l=o.shape.slice(1),u=s.slice(1),c=0;c<l.length;++c){var p=l[c],d=u[c];if(null!=d&&p!==d)throw new Gd("A target Tensor with shape "+o.shape+" was passed for an output of shape "+s+", while using a loss function that expects targets to have the same shape as the output.")}}}}(t,this.feedLossFns,this.feedOutputShapes),this.stateful&&null!=r&&r>0&&e[0].shape[0]%r!=0)throw new Gd("In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size "+r+". Found: "+e[0].shape[0]+" sample(s).");return[e,t]},t.prototype.standardizeUserData=function(e,t,n,r,a,o){return void 0===a&&(a=!0),jd(this,void 0,void 0,(function(){var i,s,l,u,c,p,d,f;return Hd(this,(function(h){switch(h.label){case 0:if(i=this.standardizeUserDataXY(e,t,a,o),s=i[0],l=i[1],null!=n)throw new Error("sample weight is not supported yet.");if(u=null,null==r)return[3,4];c=Zv(r,this.outputNames),u=[],p=0,h.label=1;case 1:return p<c.length?(f=(d=u).push,[4,em(l[p],null,c[p])]):[3,4];case 2:f.apply(d,[h.sent()]),h.label=3;case 3:return++p,[3,1];case 4:return[2,[s,l,u]]}}))}))},t.prototype.testLoop=function(e,t,n,r,a){var o=this;return void 0===r&&(r=0),qt((function(){var i=o.checkNumSamples(t,n,a,"steps"),s=[];if(r>0)throw new Xd("Verbose mode is not implemented yet.");if(null!=a)throw new Xd("steps mode in testLoop() is not implemented yet");for(var l=cm(i,n),u=In(Gf(0,i)),c=0;c<l.length;++c){var p=l[c][0],d=l[c][1],f=Kf(u,p,d-p),h=um(t,f),v=e(h);if(0===c)for(var m=0;m<v.length;++m)s.push(On(0));for(m=0;m<v.length;++m){var g=v[m];s[m]=_l(s[m],Wl(d-p,g))}}for(m=0;m<s.length;++m)s[m]=Dl(s[m],i);return s}))},t.prototype.getDedupedMetricsNames=function(){for(var e=this.metricsNames,t=[],n=0;n<e.length;++n){var r=e[n],a=r;Qd(e,r)>1&&(a+="_"+Qd(e.slice(0,n),r)),t.push(a)}return t},t.prototype.makeTrainFunction=function(){var e=this;return function(t){var n=[],r=t.slice(0,e.inputs.length),a=t.slice(e.inputs.length,e.inputs.length+e.outputs.length),o=t.slice(e.inputs.length+e.outputs.length,e.inputs.length+2*e.outputs.length),i=[],s=e.collectedTrainableWeights.map((function(e){return e.read()}));return[e.optimizer_.minimize((function(){for(var t=[],s=0;s<e.inputs.length;++s)t.push({key:e.inputs[s],value:r[s]});var l,u=new Uv(t),c=Xv(e.outputs,u,{training:!0});for(s=0;s<e.lossFunctions.length;++s){var p=(0,e.lossFunctions[s])(a[s],c[s]);null!=o[s]&&(p=tm(p,o[s]));var d=nc(p);n.push(d),l=0===s?p:_l(l,p)}for(s=0;s<e.metricsTensors.length;++s){var f=void 0;if(e.outputs.length>1&&s<e.outputs.length)f=n[s];else{var h=e.metricsTensors[s][0],v=e.metricsTensors[s][1];f=nc(h(a[v],c[v]))}Xt(f),i.push(f)}return l=nc(l),e.calculateLosses().forEach((function(e){l=_l(l,e)})),l}),!0,s)].concat(i)}},t.prototype.makeTestFunction=function(){var e=this;this.testFunction=function(t){return qt((function(){for(var n,r=[],a=t.slice(0,e.inputs.length),o=t.slice(e.inputs.length,e.inputs.length+e.outputs.length),i=[],s=0;s<e.inputs.length;++s)i.push({key:e.inputs[s],value:a[s]});var l=new Uv(i),u=Xv(e.outputs,l);for(s=0;s<e.lossFunctions.length;++s){var c=e.lossFunctions[s],p=nc(c(o[s],u[s]));n=0===s?p:_l(n,p),r.push(n)}for(s=0;s<e.metricsTensors.length;++s){var d=e.metricsTensors[s][0],f=e.metricsTensors[s][1],h=nc(d(o[f],u[f]));r.push(h)}return r}))}},t.prototype.fit=function(e,t,n){return void 0===n&&(n={}),jd(this,void 0,void 0,(function(){return Hd(this,(function(r){return[2,dm(this,e,t,n)]}))}))},t.prototype.fitDataset=function(e,t){return jd(this,void 0,void 0,(function(){return Hd(this,(function(n){return[2,am(this,e,t)]}))}))},t.prototype.trainOnBatch=function(e,t){return jd(this,void 0,void 0,(function(){var n,r,a,o,i,s,l,u,c;return Hd(this,(function(p){switch(p.label){case 0:return[4,this.standardizeUserData(e,t)];case 1:n=p.sent(),r=n[0],a=n[1],o=this.makeTrainFunction(),i=o(r.concat(a)),s=[],l=0,u=i,p.label=2;case 2:return l<u.length?[4,u[l].data()]:[3,5];case 3:c=p.sent(),s.push(c[0]),p.label=4;case 4:return l++,[3,2];case 5:return Gt(i),[2,Zd(s)]}}))}))},t.prototype.getNamedWeights=function(e){for(var t=[],n=null!=e&&e.trainableOnly,r=n?this.trainableWeights:this.weights,a=this.getWeights(n),o=0;o<r.length;++o)n&&!r[o].trainable||t.push({name:r[o].originalName,tensor:a[o]});return t},Object.defineProperty(t.prototype,"stopTraining",{get:function(){return this.stopTraining_},set:function(e){this.stopTraining_=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"optimizer",{get:function(){return this.optimizer_},set:function(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var t=e.prototype.dispose.call(this);if(0===t.refCountAfterDispose&&null!=this.optimizer&&this.isOptimizerOwned){var n=Wt().numTensors;this.optimizer_.dispose(),t.numDisposedVariables+=n-Wt().numTensors}return t},t.prototype.getLossIdentifiers=function(){var e;if("string"==typeof this.loss)e=tf(this.loss);else if(Array.isArray(this.loss)){for(var t=0,n=this.loss;t<n.length;t++)if("string"!=typeof n[t])throw new Error("Serialization of non-string loss is not supported.");e=this.loss.map((function(e){return tf(e)}))}else{var r=Object.keys(this.loss);e={};for(var a=this.loss,o=0,i=r;o<i.length;o++){var s=i[o];if("string"!=typeof a[s])throw new Error("Serialization of non-string loss is not supported.");e[s]=tf(a[s])}}return e},t.prototype.getMetricIdentifiers=function(){if("string"==typeof this.metrics||"function"==typeof this.metrics)return[tf(Mv(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map((function(e){return tf(Mv(e))}));var e={};for(var t in this.metrics)e[t]=tf(Mv(this.metrics[t]));return e},t.prototype.getTrainingConfig=function(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}},t.prototype.loadTrainingConfig=function(e){if(null!=e.weighted_metrics)throw new Error("Loading weight_metrics is not supported yet.");if(null!=e.loss_weights)throw new Error("Loading loss_weights is not supported yet.");if(null!=e.sample_weight_mode)throw new Error("Loading sample_weight_mode is not supported yet.");var t,n,r=dv(jv(e.optimizer_config));if("string"==typeof e.loss)t=nf(e.loss);else if(Array.isArray(e.loss))t=e.loss.map((function(e){return nf(e)}));else if(null!=e.loss)for(var a in t={},e.loss)t[a]=nf(e.loss[a]);if(Array.isArray(e.metrics))n=e.metrics.map((function(e){return nf(e)}));else if(null!=e.metrics)for(var a in n={},e.metrics)n[a]=nf(e.metrics[a]);this.compile({loss:t,metrics:n,optimizer:r})},t.prototype.save=function(e,t){return jd(this,void 0,void 0,(function(){var n,r,a,o,i,s,l,u,c,p,d;return Hd(this,(function(f){switch(f.label){case 0:if("string"==typeof e){if(0===(n=pd.getSaveHandlers(e)).length)throw new Gd("Cannot find any save handlers for URL '"+e+"'");if(n.length>1)throw new Gd("Found more than one ("+n.length+") save handlers for URL '"+e+"'");e=n[0]}if(null==e.save)throw new Gd("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return[4,pd.encodeWeights(this.getNamedWeights(t))];case 1:return r=f.sent(),!1,null,a=this.toJSON(null,false),o={modelTopology:a,format:"layers-model",generatedBy:"TensorFlow.js tfjs-layers v"+Wv,convertedBy:null},null!=t&&t.includeOptimizer&&null!=this.optimizer?(o.trainingConfig=this.getTrainingConfig(),i="optimizer",p=(c=pd).encodeWeights,[4,this.optimizer.getWeights()]):[3,4];case 2:return[4,p.apply(c,[f.sent(),i])];case 3:s=f.sent(),l=s.data,u=s.specs,(d=r.specs).push.apply(d,u),r.data=pd.concatenateArrayBuffers([r.data,l]),f.label=4;case 4:return null!=this.userDefinedMetadata&&(!0,Dv(this.userDefinedMetadata,this.name,true),o.userDefinedMetadata=this.userDefinedMetadata),o.weightData=r.data,o.weightSpecs=r.specs,[2,e.save(o)]}}))}))},t.prototype.setUserDefinedMetadata=function(e){Dv(e,this.name),this.userDefinedMetadata=e},t.prototype.getUserDefinedMetadata=function(){return this.userDefinedMetadata},t.className="Model",t}(Qv);function wm(e,t,n){return jd(this,void 0,void 0,(function(){var r,a,o,i,s,l,u,c,p;return Hd(this,(function(d){switch(d.label){case 0:if(null==n&&(n={}),null==e.load)throw new Gd("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");return[4,e.load()];case 1:if(r=d.sent(),null!=(a=r.modelTopology).model_config&&(a=a.model_config),o=null==n.strict||n.strict,i=null!=r.weightData&&null!=r.weightSpecs&&o,s=dv(jv(a),t,i),null!=(l=r.trainingConfig)&&s.loadTrainingConfig(l),null!=r.userDefinedMetadata&&s.setUserDefinedMetadata(r.userDefinedMetadata),null==r.weightData)return[3,4];if(null==r.weightSpecs)throw new Gd("LayersModel artifacts contains weight data, but not weight specs. Therefore loading of weights cannot proceed.");return u=function(e,t){var n=pd.decodeWeights(e,t),r={},a=[];return t.forEach((function(e){"optimizer"===e.group?a.push({name:e.name,tensor:n[e.name]}):r[e.name]=n[e.name]})),{modelWeights:r,optimizerWeights:a}}(r.weightData,r.weightSpecs),c=u.modelWeights,p=u.optimizerWeights,s.loadWeights(c,o),null!=s.optimizer&&p.length>0?[4,s.optimizer.setWeights(p)]:[3,3];case 2:d.sent(),d.label=3;case 3:Gt(c),Gt(p.map((function(e){return e.tensor}))),d.label=4;case 4:return[2,s]}}))}))}yd.registerClass(ym);var xm=function(e){function t(t){var n=e.call(this,{inputs:[],outputs:[]})||this;if(t=t||{},n.trainable=!0,n.built=!1,n.name=null!=t.name?t.name:Bh("sequential_"),null!=t.layers)for(var r=0,a=t.layers;r<a.length;r++){var o=a[r];n.add(o)}return n}return Fd(t,e),t.prototype.checkShape=function(e){if(e.inboundNodes[0].outputTensors[0].shape.some((function(e){return e<0})))throw new Gd("Negative dimension size caused by adding layer "+e.name+" with input shape ["+e.inboundNodes[0].inputTensors[0].shape+"]")},t.prototype.add=function(e){var n,r=e instanceof t||e instanceof ym;if(r){if(1!==(n=e).outputs.length)throw new Gd("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(1!==n.inputs.length)throw new Gd("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(0===this.outputs.length){if(0===e.inboundNodes.length){if(null==e.batchInputShape)throw new Gd("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");var a=tv({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(a)}if(r)this.outputs=n.outputs,this.inputs=n.inputs;else{if(1!==e.inboundNodes.length)throw new Gd("A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer "+e.name+" which has "+e.inboundNodes.length+" pre-existing inbound connections.");if(1!==e.inboundNodes[0].outputTensors.length)throw new Gd("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=Qh(this.outputs[0])}this.inboundNodes=[],new Yh({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:Kd(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map((function(e){return e.shape})),outputShapes:this.outputs[0].shape})}else{var o=e.apply(this.outputs[0]);if(Array.isArray(o))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[o],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1},t.prototype.pop=function(){if(0===this.layers.length)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),0===this.layers.length)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{var e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}},t.prototype.call=function(e,t){return null==this.model&&this.build(),this.model.call(e,t)},t.prototype.build=function(e){if($h(e),0===this.inputs.length||0===this.outputs.length)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new ym({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0},t.prototype.countParams=function(){return this.built||this.build(),e.prototype.countParams.call(this)},t.prototype.summary=function(t,n,r){void 0===r&&(r=console.log),this.built||this.build(),e.prototype.summary.call(this,t,n,r)},t.prototype.setWeights=function(e){null==this.model&&this.build(),this.model.setWeights(e)},t.prototype.evaluate=function(e,t,n){if(void 0===n&&(n={}),!this.built)throw new qd("The model needs to be compiled before being used.");return this.model.evaluate(e,t,n)},t.prototype.evaluateDataset=function(e,t){return jd(this,void 0,void 0,(function(){return Hd(this,(function(n){if(!this.built)throw new qd("The model needs to be compiled before being used.");return[2,this.model.evaluateDataset(e,t)]}))}))},t.prototype.predict=function(e,t){return void 0===t&&(t={}),null==this.model&&this.build(),this.model.predict(e,t)},t.prototype.predictOnBatch=function(e){return null==this.model&&this.build(),this.model.predictOnBatch(e)},t.prototype.compile=function(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames},Object.defineProperty(t.prototype,"optimizer",{get:function(){return null==this.model?void 0:this.model.optimizer},set:function(e){this.model.optimizer=e},enumerable:!0,configurable:!0}),t.prototype.fit=function(e,t,n){return void 0===n&&(n={}),jd(this,void 0,void 0,(function(){return Hd(this,(function(r){if(!this.built)throw new qd("The model needs to be compiled before being used.");return[2,this.model.fit(e,t,n)]}))}))},t.prototype.fitDataset=function(e,t){return jd(this,void 0,void 0,(function(){return Hd(this,(function(n){if(!this.built)throw new qd("The model needs to be compiled before being used.");return[2,this.model.fitDataset(e,t)]}))}))},t.prototype.trainOnBatch=function(e,t){return jd(this,void 0,void 0,(function(){return Hd(this,(function(n){return[2,this.model.trainOnBatch(e,t)]}))}))},t.fromConfig=function(e,n,r,a){var o;void 0===r&&(r={}),void 0===a&&(a=!1);var i={};if(n instanceof Array){if(null==n[0].className||"Merge"===n[0].className)throw new Gd("Legacy serialization format not supported yet.");o=n}else ae.assert(null!=n.layers,(function(){return"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."})),o=n.layers,delete n.layers,i=n;var s=new e(i);if(!(s instanceof t))throw new Xd("Sequential.fromConfig called on non-Sequential input: "+s);for(var l=0,u=o;l<u.length;l++){var c=dv(u[l],void 0,a);a&&c.setFastWeightInitDuringBuild(!0),s.add(c)}return s},Object.defineProperty(t.prototype,"stopTraining",{get:function(){if(null==this.model)throw new Gd("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining},set:function(e){if(null==this.model)throw new Gd("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e},enumerable:!0,configurable:!0}),t.prototype.getConfig=function(){for(var e=[],t=0,n=this.layers;t<n.length;t++){var r=n[t],a={};a.className=r.getClassName(),a.config=r.getConfig(),e.push(a)}return{name:this.name,layers:e}},t.className="Sequential",t}(ym);function Cm(e){return new ym(e)}function Em(e){return new xm(e)}function km(e,t){return null==t&&(t={}),function(e,t){return jd(this,void 0,void 0,(function(){var n;return Hd(this,(function(r){if(null==t&&(t={}),"string"==typeof e){if(0===(n=pd.getLoadHandlers(e,t.onProgress)).length)n.push(pd.browserHTTPRequest(e,t));else if(n.length>1)throw new Gd("Found more than one ("+n.length+") load handlers for URL '"+e+"'");e=n[0]}return[2,wm(e,void 0,t)]}))}))}(e,t)}function Sm(e){return tv(e)}function Tm(e,t){cv.registerCallbackConstructor(e,t)}yd.registerClass(xm);var Om=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fd(t,e),t.prototype.getConfig=function(){return{}},t}(yd.Serializable),Im=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fd(t,e),t.prototype.apply=function(e,t){return void 0===t&&(t=1),function(e,t){if(void 0===t&&(t=1),1!==t)throw new Xd("Support for alpha values other than 1 ("+t+") is not implemented yet.");return sc(e)}(e,t)},t.className="elu",t}(Om);yd.registerClass(Im);var Nm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fd(t,e),t.prototype.apply=function(e){return dc(e)},t.className="selu",t}(Om);yd.registerClass(Nm);var Am=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fd(t,e),t.prototype.apply=function(e){return cc(e)},t.className="relu",t}(Om);yd.registerClass(Am);var _m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fd(t,e),t.prototype.apply=function(e){return qt((function(){return $l(6,cc(e))}))},t.className="relu6",t}(Om);yd.registerClass(_m);var Rm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fd(t,e),t.prototype.apply=function(e){return e},t.className="linear",t}(Om);yd.registerClass(Rm);var Mm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fd(t,e),t.prototype.apply=function(e){return Zs(e)},t.className="sigmoid",t}(Om);yd.registerClass(Mm);var Pm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fd(t,e),t.prototype.apply=function(e){return function(e){return qt((function(){var t=_l(.5,Wl(.2,e));return Fs(t,0,1)}))}(e)},t.className="hardSigmoid",t}(Om);yd.registerClass(Pm);var Dm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fd(t,e),t.prototype.apply=function(e){return il(e)},t.className="softplus",t}(Om);yd.registerClass(Dm);var Bm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fd(t,e),t.prototype.apply=function(e){return function(e){return qt((function(){return Dl(e,_s(e).add(1))}))}(e)},t.className="softsign",t}(Om);yd.registerClass(Bm);var Lm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fd(t,e),t.prototype.apply=function(e){return cl(e)},t.className="tanh",t}(Om);yd.registerClass(Lm);var zm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fd(t,e),t.prototype.apply=function(e,t){return void 0===t&&(t=-1),ra(e,t)},t.className="softmax",t}(Om);yd.registerClass(zm);var Fm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fd(t,e),t.prototype.apply=function(e,t){return void 0===t&&(t=-1),aa(e,t)},t.className="logSoftmax",t}(Om);function $m(e){return e.getClassName()}function Vm(e,t){return void 0===t&&(t={}),sf(e,yd.SerializationMap.getMap().classNameMap,t,"activation")}function jm(e){var t;return null==e?Vm(t={className:"linear",config:{}}):"string"==typeof e?((t={}).className=e,t.config={},Vm(t)):e instanceof Om?e:Vm(e)}function Hm(e){if(null!=e&&"object"!=typeof e)throw new Error("Argument to L1L2 regularizer's constructor is expected to be an object, but received: "+e)}yd.registerClass(Fm);var Wm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fd(t,e),t}(yd.Serializable),Um=function(e){function t(t){var n=e.call(this)||this;return Hm(t),n.l1=null==t||null==t.l1?.01:t.l1,n.l2=null==t||null==t.l2?.01:t.l2,n.hasL1=0!==n.l1,n.hasL2=0!==n.l2,n}return Fd(t,e),t.prototype.apply=function(e){var t=this;return qt((function(){var n=Bn([1]);return t.hasL1&&(n=_l(n,oc(Wl(t.l1,_s(e))))),t.hasL2&&(n=_l(n,oc(Wl(t.l2,oh(e))))),n.asScalar()}))},t.prototype.getConfig=function(){return{l1:this.l1,l2:this.l2}},t.fromConfig=function(e,t){return new e({l1:t.l1,l2:t.l2})},t.className="L1L2",t}(Wm);yd.registerClass(Um);var qm={l1l2:"L1L2"};function Gm(e){return af(e)}function Xm(e,t){return void 0===t&&(t={}),sf(e,yd.SerializationMap.getMap().classNameMap,t,"regularizer")}function Ym(e){return null==e?null:"string"==typeof e?Xm({className:e in qm?qm[e]:e,config:{}}):e instanceof Wm?e:Xm(e)}var Km=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;return n.supportsMasking=!0,null!=t&&(n.maxValue=t.maxValue),n}return Fd(t,e),t.prototype.call=function(e,t){e=Fh(e);var n=cc(e);return null!=this.maxValue&&(n=Fs(n,0,this.maxValue)),n},t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t={maxValue:this.maxValue},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="ReLU",t}(Jh);yd.registerClass(Km);var Jm=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;return n.DEFAULT_ALPHA=.3,null==t&&(t={}),n.alpha=null==t.alpha?n.DEFAULT_ALPHA:t.alpha,n}return Fd(t,e),t.prototype.call=function(e,t){var n=Fh(e);return lc(n,this.alpha)},t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t={alpha:this.alpha},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="LeakyReLU",t}(Jh);yd.registerClass(Jm);var Qm=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;if(n.DEFAULT_ALPHA_INITIALIZER="zeros",null==t&&(t={}),n.supportsMasking=!0,n.alphaInitializer=_h(t.alphaInitializer||n.DEFAULT_ALPHA_INITIALIZER),n.alphaRegularizer=Ym(t.alphaRegularizer),n.alphaConstraint=Sf(t.alphaConstraint),null==t.sharedAxes)n.sharedAxes=null;else if(Array.isArray(t.sharedAxes))n.sharedAxes=t.sharedAxes;else{if("number"!=typeof t.sharedAxes)throw new Gd("Expected sharedAxes to be a number or an array of numbers, but got "+t.sharedAxes);n.sharedAxes=[t.sharedAxes]}return n}return Fd(t,e),t.prototype.build=function(e){var t=(e=$h(e)).slice(1);if(null!=this.sharedAxes)for(var n=0,r=this.sharedAxes;n<r.length;n++)t[(o=r[n])-1]=1;this.alpha=this.addWeight("alpha",t,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);var a={};if(null!=this.sharedAxes)for(var o=1;o<e.length;++o)a[o]=e[o];this.inputSpec=[new qh({ndim:e.length,axes:a})],this.built=!0},t.prototype.call=function(e,t){return e=Fh(e),uc(e,this.alpha.read())},t.prototype.getConfig=function(){var t={alphaInitializer:Ah(this.alphaInitializer),alphaRegularizer:Gm(this.alphaRegularizer),alphaConstraint:Ef(this.alphaConstraint),sharedAxes:this.sharedAxes},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="PReLU",t}(Jh);yd.registerClass(Qm);var Zm=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;if(n.DEFAULT_ALPHA=1,null==t&&(t={}),null!=t.alpha&&t.alpha!==n.DEFAULT_ALPHA)throw new Xd("Non-default alpha value ("+t.alpha+") is not supported by the ELU layer yet.");return n.alpha=null==t.alpha?n.DEFAULT_ALPHA:t.alpha,n}return Fd(t,e),t.prototype.call=function(e,t){var n=Fh(e);return sc(n)},t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t={alpha:this.alpha},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="ELU",t}(Jh);yd.registerClass(Zm);var eg=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;return n.DEFAULT_THETA=1,null==t&&(t={}),n.theta=null==t.theta?n.DEFAULT_THETA:t.theta,n}return Fd(t,e),t.prototype.call=function(e,t){var n=Fh(e);return n.mul(Xf(n.greater(this.theta),"float32"))},t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t={theta:this.theta},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="ThresholdedReLU",t}(Jh);yd.registerClass(eg);var tg=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;return n.DEFAULT_AXIS=1,null==t&&(t={}),n.softmax=(new zm).apply,n.axis=null==t.axis?n.DEFAULT_AXIS:t.axis,n}return Fd(t,e),t.prototype.call=function(e,t){var n=Fh(e);return this.softmax(n,this.axis)},t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t={axis:this.axis},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Softmax",t}(Jh);function ng(e,t,n){if("number"==typeof e)return Kd(e,t);if(e.length!==t)throw new Gd("The "+n+" argument must be an integer or tuple of "+t+" integers. Received: "+e.length+" elements.");for(var r=0;r<t;++r){var a=e[r];if(!jf(a))throw new Gd("The "+n+" argument must be an integer or tuple of "+t+" integers. Received: "+JSON.stringify(e)+" including a non-integer number "+a)}return e}function rg(e,t,n,r,a){return void 0===a&&(a=1),null==e?e:(o="same"===n?e:e-(t+(t-1)*(a-1))+1,Math.floor((o+r-1)/r));var o}function ag(e,t,n,r){if(null==e)return null;if("valid"===r)e=e*t+qf([n-t,0]);else{if("same"!==r)throw new Gd("Unsupport padding mode: "+r+".");e*=t}return e}function og(e,t){return qt((function(){return Rf(t),"channelsFirst"===t?fc(e,[0,2,3,1]):e}))}function ig(e,t){return qt((function(){return Rf(t),"channelsFirst"===t?fc(e,[0,2,3,4,1]):e}))}function sg(e,t,n,r,a,o,i,s){return void 0===r&&(r=[1,1]),void 0===a&&(a="valid"),void 0===s&&(s=null),qt((function(){if(null==o&&(o="channelsLast"),Rf(o),3!==e.rank&&4!==e.rank)throw new Gd("conv2dWithBiasActivation expects input to be of rank 3 or 4, but received "+e.rank+".");if(3!==t.rank&&4!==t.rank)throw new Gd("conv2dWithBiasActivation expects kernel to be of rank 3 or 4, but received "+e.rank+".");var l=og(e,o);if("causal"===a)throw new Xd("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return l=dp.conv2d({x:l,filter:t,strides:r,pad:"same"===a?"same":"valid",dilations:i,dataFormat:"NHWC",bias:n,activation:s}),"channelsFirst"===o&&(l=fc(l,[0,3,1,2])),l}))}yd.registerClass(tg);var lg=function(e){function t(n,r){var a=e.call(this,r)||this;if(a.bias=null,a.DEFAULT_KERNEL_INITIALIZER="glorotNormal",a.DEFAULT_BIAS_INITIALIZER="zeros",t.verifyArgs(r),a.rank=n,ff(a.rank,"rank"),1!==a.rank&&2!==a.rank&&3!==a.rank)throw new Xd("Convolution layer for rank other than 1, 2, or 3 ("+a.rank+") is not implemented yet.");if(a.kernelSize=ng(r.kernelSize,n,"kernelSize"),a.strides=ng(null==r.strides?1:r.strides,n,"strides"),a.padding=null==r.padding?"valid":r.padding,Mf(a.padding),a.dataFormat=null==r.dataFormat?"channelsLast":r.dataFormat,Rf(a.dataFormat),a.activation=jm(r.activation),a.useBias=null==r.useBias||r.useBias,a.biasInitializer=_h(r.biasInitializer||a.DEFAULT_BIAS_INITIALIZER),a.biasConstraint=Sf(r.biasConstraint),a.biasRegularizer=Ym(r.biasRegularizer),a.activityRegularizer=Ym(r.activityRegularizer),a.dilationRate=ng(null==r.dilationRate?1:r.dilationRate,n,"dilationRate"),1===a.rank&&Array.isArray(a.dilationRate)&&1!==a.dilationRate.length)throw new Gd("dilationRate must be a number or an array of a single number for 1D convolution, but received "+JSON.stringify(a.dilationRate));if(2===a.rank){if("number"==typeof a.dilationRate)a.dilationRate=[a.dilationRate,a.dilationRate];else if(2!==a.dilationRate.length)throw new Gd("dilationRate must be a number or array of two numbers for 2D convolution, but received "+JSON.stringify(a.dilationRate))}else if(3===a.rank)if("number"==typeof a.dilationRate)a.dilationRate=[a.dilationRate,a.dilationRate,a.dilationRate];else if(3!==a.dilationRate.length)throw new Gd("dilationRate must be a number or array of three numbers for 3D convolution, but received "+JSON.stringify(a.dilationRate));return a}return Fd(t,e),t.verifyArgs=function(e){if(Jd("kernelSize"in e,"required key 'kernelSize' not in config"),"number"!=typeof e.kernelSize&&!df(e.kernelSize,"number",1,3))throw new Gd("BaseConv expects config.kernelSize to be number or number[] with length 1, 2, or 3, but received "+JSON.stringify(e.kernelSize)+".")},t.prototype.getConfig=function(){var t={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:$m(this.activation),useBias:this.useBias,biasInitializer:Ah(this.biasInitializer),biasRegularizer:Gm(this.biasRegularizer),activityRegularizer:Gm(this.activityRegularizer),biasConstraint:Ef(this.biasConstraint)},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t}(Jh),ug=function(e){function t(n,r){var a=e.call(this,n,r)||this;return a.kernel=null,t.verifyArgs(r),a.filters=r.filters,ff(a.filters,"filters"),a.kernelInitializer=_h(r.kernelInitializer||a.DEFAULT_KERNEL_INITIALIZER),a.kernelConstraint=Sf(r.kernelConstraint),a.kernelRegularizer=Ym(r.kernelRegularizer),a}return Fd(t,e),t.prototype.build=function(e){var t;e=$h(e);var n="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[n])throw new Gd("The channel dimension of the input should be defined. Found "+e[n]);var r=e[n],a=this.kernelSize.concat([r,this.filters]);this.kernel=this.addWeight("kernel",a,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:(t={},t[n]=r,t)}],this.built=!0},t.prototype.call=function(e,t){var n=this;return qt((function(){var t;e=Fh(e);var r=null==n.bias?null:n.bias.read(),a=vf(n.activation.getClassName());if(null!=a&&2===n.rank)t=sg(e,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate,a);else{if(1===n.rank)t=function(e,t,n,r,a,o,i){return void 0===r&&(r=1),void 0===a&&(a="valid"),void 0===i&&(i=1),qt((function(){if(null==o&&(o="channelsLast"),Rf(o),3!==e.shape.length)throw new Gd("The input of a conv1dWithBias operation should be 3, but is "+e.shape.length+" instead.");if(3!==t.shape.length)throw new Gd("The kernel for a conv1dWithBias operation should be 3, but is "+t.shape.length+" instead");if(null!=n&&1!==n.shape.length)throw new Gd("The bias for a conv1dWithBias operation should be 1, but is "+t.shape.length+" instead");if("channelsFirst"===o&&(e=fc(e,[0,2,1])),"causal"===a)throw new Xd("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");var s=bu(e,t,r,"same"===a?"same":"valid","NWC",i);return null!=n&&(s=sh(s,n)),s}))}(e,n.kernel.read(),r,n.strides[0],n.padding,n.dataFormat,n.dilationRate[0]);else if(2===n.rank)t=sg(e,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate);else{if(3!==n.rank)throw new Xd("convolutions greater than 3D are not implemented yet.");t=function(e,t,n,r,a,o,i){return void 0===r&&(r=[1,1,1]),void 0===a&&(a="valid"),qt((function(){if(null==o&&(o="channelsLast"),Rf(o),4!==e.rank&&5!==e.rank)throw new Gd("conv3dWithBias expects input to be of rank 4 or 5, but received "+e.rank+".");if(4!==t.rank&&5!==t.rank)throw new Gd("conv3dWithBias expects kernel to be of rank 4 or 5, but received "+e.rank+".");var s=ig(e,o);if("causal"===a)throw new Xd("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return s=wu(s,t,r,"same"===a?"same":"valid","NDHWC",i),null!=n&&(s=sh(s,n)),"channelsFirst"===o&&(s=fc(s,[0,4,1,2,3])),s}))}(e,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate)}null!=n.activation&&(t=n.activation.apply(t))}return t}))},t.prototype.computeOutputShape=function(e){e=$h(e);for(var t=[],n="channelsLast"===this.dataFormat?e.slice(1,e.length-1):e.slice(2),r=0;r<n.length;++r){var a=rg(n[r],this.kernelSize[r],this.padding,this.strides[r],"number"==typeof this.dilationRate?this.dilationRate:this.dilationRate[r]);t.push(a)}var o=[e[0]];return"channelsLast"===this.dataFormat?(o=o.concat(t)).push(this.filters):(o.push(this.filters),o=o.concat(t)),o},t.prototype.getConfig=function(){var t={filters:this.filters,kernelInitializer:Ah(this.kernelInitializer),kernelRegularizer:Gm(this.kernelRegularizer),kernelConstraint:Ef(this.kernelConstraint)},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.verifyArgs=function(e){if(!("filters"in e)||"number"!=typeof e.filters||e.filters<1)throw new Gd("Convolution layer expected config.filters to be a 'number' > 0 but got "+JSON.stringify(e.filters))},t}(lg),cg=function(e){function t(n){var r=e.call(this,2,n)||this;return t.verifyArgs(n),r}return Fd(t,e),t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this);return delete t.rank,t},t.verifyArgs=function(e){if("number"!=typeof e.kernelSize&&!df(e.kernelSize,"number",1,2))throw new Gd("Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received "+JSON.stringify(e.kernelSize)+".")},t.className="Conv2D",t}(ug);yd.registerClass(cg);var pg=function(e){function t(n){var r=e.call(this,3,n)||this;return t.verifyArgs(n),r}return Fd(t,e),t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this);return delete t.rank,t},t.verifyArgs=function(e){if("number"!=typeof e.kernelSize&&(!Array.isArray(e.kernelSize)||1!==e.kernelSize.length&&3!==e.kernelSize.length))throw new Gd("Conv3D expects config.kernelSize to be number or [number, number, number], but received "+JSON.stringify(e.kernelSize)+".")},t.className="Conv3D",t}(ug);yd.registerClass(pg);var dg=function(e){function t(t){var n=e.call(this,t)||this;if(n.inputSpec=[new qh({ndim:4})],"same"!==n.padding&&"valid"!==n.padding)throw new Gd("Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode "+n.padding);return n}return Fd(t,e),t.prototype.build=function(e){var t;if(4!==(e=$h(e)).length)throw new Gd("Input should have rank 4; Received input shape: "+JSON.stringify(e));var n="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[n])throw new Gd("The channel dimension of the inputs should be defined. Found `None`.");var r=e[n],a=this.kernelSize.concat([this.filters,r]);this.kernel=this.addWeight("kernel",a,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new qh({ndim:4,axes:(t={},t[n]=r,t)})],this.built=!0},t.prototype.call=function(e,t){var n=this;return qt((function(){var t=Fh(e);if(4!==t.shape.length)throw new Gd("Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-"+t.shape.length);var r,a,o=t.shape,i=o[0];"channelsFirst"===n.dataFormat?(r=2,a=3):(r=1,a=2);var s=o[r],l=o[a],u=n.kernelSize[0],c=n.kernelSize[1],p=n.strides[0],d=n.strides[1],f=[i,ag(s,p,u,n.padding),ag(l,d,c,n.padding),n.filters];"channelsLast"!==n.dataFormat&&(t=fc(t,[0,2,3,1]));var h=Ou(t,n.kernel.read(),f,n.strides,n.padding);return"channelsLast"!==n.dataFormat&&(h=fc(h,[0,3,1,2])),null!=n.bias&&(h=sh(h,n.bias.read(),n.dataFormat)),null!=n.activation&&(h=n.activation.apply(h)),h}))},t.prototype.computeOutputShape=function(e){var t,n,r,a=(e=$h(e)).slice();"channelsFirst"===this.dataFormat?(t=1,n=2,r=3):(t=3,n=1,r=2);var o=this.kernelSize[0],i=this.kernelSize[1],s=this.strides[0],l=this.strides[1];return a[t]=this.filters,a[n]=ag(a[n],s,o,this.padding),a[r]=ag(a[r],l,i,this.padding),a},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this);return delete t.dilationRate,t},t.className="Conv2DTranspose",t}(cg);yd.registerClass(dg);var fg=function(e){function t(t,n){var r=e.call(this,t,n)||this;if(r.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",r.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",r.depthwiseKernel=null,r.pointwiseKernel=null,null==n.filters)throw new Gd("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(null!=n.kernelInitializer||null!=n.kernelRegularizer||null!=n.kernelConstraint)throw new Gd("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(null!=n.padding&&"same"!==n.padding&&"valid"!==n.padding)throw new Gd("SeparableConv"+r.rank+"D supports only padding modes: 'same' and 'valid', but received "+JSON.stringify(n.padding));return r.depthMultiplier=null==n.depthMultiplier?1:n.depthMultiplier,r.depthwiseInitializer=_h(n.depthwiseInitializer||r.DEFAULT_DEPTHWISE_INITIALIZER),r.depthwiseRegularizer=Ym(n.depthwiseRegularizer),r.depthwiseConstraint=Sf(n.depthwiseConstraint),r.pointwiseInitializer=_h(n.depthwiseInitializer||r.DEFAULT_POINTWISE_INITIALIZER),r.pointwiseRegularizer=Ym(n.pointwiseRegularizer),r.pointwiseConstraint=Sf(n.pointwiseConstraint),r}return Fd(t,e),t.prototype.build=function(e){var t;if((e=$h(e)).length<this.rank+2)throw new Gd("Inputs to SeparableConv"+this.rank+"D should have rank "+(this.rank+2)+", but received input shape: "+JSON.stringify(e));var n="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[n]||e[n]<0)throw new Gd("The channel dimension of the inputs should be defined, but found "+JSON.stringify(e[n]));for(var r=e[n],a=this.kernelSize.concat([r,this.depthMultiplier]),o=[],i=0;i<this.rank;++i)o.push(1);o.push(r*this.depthMultiplier,this.filters),this.depthwiseKernel=this.addWeight("depthwise_kernel",a,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",o,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,!0,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.inputSpec=[new qh({ndim:this.rank+2,axes:(t={},t[n]=r,t)})],this.built=!0},t.prototype.call=function(e,t){var n=this;return qt((function(){var t;if(e=Fh(e),1===n.rank)throw new Xd("1D separable convolution is not implemented yet.");return 2===n.rank&&("channelsFirst"===n.dataFormat&&(e=fc(e,[0,2,3,1])),t=Tu(e,n.depthwiseKernel.read(),n.pointwiseKernel.read(),n.strides,n.padding,n.dilationRate,"NHWC")),n.useBias&&(t=sh(t,n.bias.read(),n.dataFormat)),null!=n.activation&&(t=n.activation.apply(t)),"channelsFirst"===n.dataFormat&&(t=fc(t,[0,3,1,2])),t}))},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this);return delete t.rank,delete t.kernelInitializer,delete t.kernelRegularizer,delete t.kernelConstraint,t.depthwiseInitializer=Ah(this.depthwiseInitializer),t.pointwiseInitializer=Ah(this.pointwiseInitializer),t.depthwiseRegularizer=Gm(this.depthwiseRegularizer),t.pointwiseRegularizer=Gm(this.pointwiseRegularizer),t.depthwiseConstraint=Ef(this.depthwiseConstraint),t.pointwiseConstraint=Ef(this.pointwiseConstraint),t},t.className="SeparableConv",t}(ug),hg=function(e){function t(t){return e.call(this,2,t)||this}return Fd(t,e),t.className="SeparableConv2D",t}(fg);yd.registerClass(hg);var vg=function(e){function t(n){var r=e.call(this,1,n)||this;return t.verifyArgs(n),r.inputSpec=[{ndim:3}],r}return Fd(t,e),t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this);return delete t.rank,delete t.dataFormat,t},t.verifyArgs=function(e){if("number"!=typeof e.kernelSize&&!df(e.kernelSize,"number",1,1))throw new Gd("Conv1D expects config.kernelSize to be number or number[] with length 1, but received "+JSON.stringify(e.kernelSize)+".")},t.className="Conv1D",t}(ug);yd.registerClass(vg);var mg=function(e){function t(t){var n=e.call(this,t)||this;return"number"==typeof t.cropping?n.cropping=[[t.cropping,t.cropping],[t.cropping,t.cropping]]:"number"==typeof t.cropping[0]?n.cropping=[[t.cropping[0],t.cropping[0]],[t.cropping[1],t.cropping[1]]]:n.cropping=t.cropping,n.dataFormat=void 0===t.dataFormat?"channelsLast":t.dataFormat,n.inputSpec=[{ndim:4}],n}return Fd(t,e),t.prototype.computeOutputShape=function(e){return"channelsFirst"===this.dataFormat?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]},t.prototype.call=function(e,t){var n=this;return qt((function(){return e=Fh(e),"channelsLast"===n.dataFormat?Qf(Qf(e,n.cropping[0][0],e.shape[1]-n.cropping[0][0]-n.cropping[0][1],2),n.cropping[1][0],e.shape[2]-n.cropping[1][1]-n.cropping[1][0],3):Qf(Qf(e,n.cropping[0][0],e.shape[2]-n.cropping[0][0]-n.cropping[0][1],3),n.cropping[1][0],e.shape[3]-n.cropping[1][1]-n.cropping[1][0],4)}))},t.prototype.getConfig=function(){var t={cropping:this.cropping,dataFormat:this.dataFormat},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Cropping2D",t}(Jh);yd.registerClass(mg);var gg=function(e){function t(t){var n=e.call(this,t)||this;return n.DEFAULT_SIZE=[2,2],n.inputSpec=[{ndim:4}],n.size=null==t.size?n.DEFAULT_SIZE:t.size,n.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,n}return Fd(t,e),t.prototype.computeOutputShape=function(e){if("channelsFirst"===this.dataFormat){var t=null==e[2]?null:this.size[0]*e[2],n=null==e[3]?null:this.size[1]*e[3];return[e[0],e[1],t,n]}return t=null==e[1]?null:this.size[0]*e[1],n=null==e[2]?null:this.size[1]*e[2],[e[0],t,n,e[3]]},t.prototype.call=function(e,t){var n=this;return qt((function(){var t=Fh(e),r=t.shape;if("channelsFirst"===n.dataFormat){t=fc(t,[0,2,3,1]);var a=n.size[0]*r[2],o=n.size[1]*r[3],i=t.resizeNearestNeighbor([a,o]);return fc(i,[0,3,1,2])}return a=n.size[0]*r[1],o=n.size[1]*r[2],t.resizeNearestNeighbor([a,o])}))},t.prototype.getConfig=function(){var t={size:this.size,dataFormat:this.dataFormat},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="UpSampling2D",t}(Jh);yd.registerClass(gg);var bg=function(e){function t(t){var n=e.call(this,2,t)||this;return n.depthwiseKernel=null,n.depthMultiplier=null==t.depthMultiplier?1:t.depthMultiplier,n.depthwiseInitializer=_h(t.depthwiseInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.depthwiseConstraint=Sf(t.depthwiseConstraint),n.depthwiseRegularizer=Ym(t.depthwiseRegularizer),n}return Fd(t,e),t.prototype.build=function(e){if((e=$h(e)).length<4)throw new Gd("Inputs to DepthwiseConv2D should have rank 4. Received input shape: "+JSON.stringify(e)+".");var t="channelsFirst"===this.dataFormat?1:3;if(null==e[t]||e[t]<0)throw new Gd("The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not ("+e[t]+").");var n=e[t],r=[this.kernelSize[0],this.kernelSize[1],n,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",r,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[n*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0},t.prototype.call=function(e,t){var n=this;return qt((function(){var t=function(e,t,n,r,a,o){return void 0===n&&(n=[1,1]),void 0===r&&(r="valid"),qt((function(){null==a&&(a="channelsLast"),Rf(a);var i=og(e,a);if(4!==e.rank)throw new Gd("Input for depthwiseConv2d is required to be 4-D, but is instead "+e.rank+"-D");if(4!==t.rank)throw new Gd("depthwiseKernel is required to be 4-D, but is instead "+t.rank+"-D");return i=Eu(i,t,n,"same"===r?"same":"valid","NHWC",o),"channelsFirst"===a&&(i=fc(i,[0,3,1,2])),i}))}(e=Fh(e),n.depthwiseKernel.read(),n.strides,n.padding,n.dataFormat,null);return n.useBias&&(t=sh(t,n.bias.read(),n.dataFormat)),null!=n.activation&&(t=n.activation.apply(t)),t}))},t.prototype.computeOutputShape=function(e){e=$h(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,a=rg(t,this.kernelSize[0],this.padding,this.strides[0]),o=rg(n,this.kernelSize[1],this.padding,this.strides[1]);return"channelsFirst"===this.dataFormat?[e[0],r,a,o]:[e[0],a,o,r]},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this);return t.depthMultiplier=this.depthMultiplier,t.depthwiseInitializer=Ah(this.depthwiseInitializer),t.depthwiseRegularizer=Gm(this.depthwiseRegularizer),t.depthwiseConstraint=Ef(this.depthwiseRegularizer),t},t.className="DepthwiseConv2D",t}(lg);yd.registerClass(bg);var yg=function(e){function t(t){var n=e.call(this,t)||this;return n.rate=Math.max(Math.min(t.rate,1),0),n.noiseShape=t.noiseShape,n.seed=t.seed,n.supportsMasking=!0,n}return Fd(t,e),t.prototype.getNoiseShape=function(e){if(null==this.noiseShape)return this.noiseShape;for(var t=e.shape,n=[],r=0;r<this.noiseShape.length;++r)n.push(null==this.noiseShape[r]?t[r]:this.noiseShape[r]);return n},t.prototype.call=function(e,t){var n=this;return qt((function(){n.invokeCallHook(e,t);var r=Fh(e);if(0<n.rate&&n.rate<1){var a=null!=t.training&&t.training,o=n.getNoiseShape(r);return uh((function(){return lh(r,n.rate,o,n.seed)}),(function(){return r}),a)}return e}))},t.prototype.getConfig=function(){var t={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.prototype.dispose=function(){return e.prototype.dispose.call(this)},t.className="Dropout",t}(Jh);yd.registerClass(yg);var wg=function(e){function t(t){var n=e.call(this,t)||this;if(n.activation=null,n.useBias=!0,n.kernel=null,n.bias=null,n.DEFAULT_KERNEL_INITIALIZER="glorotNormal",n.DEFAULT_BIAS_INITIALIZER="zeros",null==t.batchInputShape&&null==t.inputShape&&null!=t.inputDim){var r=null;null!=t.batchSize&&(r=t.batchSize),n.batchInputShape=[r,t.inputDim]}return n.units=t.units,ff(n.units,"units"),n.activation=jm(t.activation),null!=t.useBias&&(n.useBias=t.useBias),n.kernelInitializer=_h(t.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.biasInitializer=_h(t.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.kernelConstraint=Sf(t.kernelConstraint),n.biasConstraint=Sf(t.biasConstraint),n.kernelRegularizer=Ym(t.kernelRegularizer),n.biasRegularizer=Ym(t.biasRegularizer),n.activityRegularizer=Ym(t.activityRegularizer),n.supportsMasking=!0,n.inputSpec=[{minNDim:2}],n}return Fd(t,e),t.prototype.build=function(e){var t,n=(e=$h(e))[e.length-1];null==this.kernel&&(this.kernel=this.addWeight("kernel",[n,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:(t={},t[-1]=n,t)}],this.built=!0},t.prototype.computeOutputShape=function(e){var t=(e=$h(e)).slice();return t[t.length-1]=this.units,t},t.prototype.call=function(e,t){var n=this;return qt((function(){n.invokeCallHook(e,t);var r,a=Fh(e),o=vf(n.activation.getClassName());return null!=o?r=rh(a,n.kernel.read(),o,n.bias?n.bias.read():null):(r=rh(a,n.kernel.read()),null!=n.bias&&(r=sh(r,n.bias.read())),null!=n.activation&&(r=n.activation.apply(r))),r}))},t.prototype.getConfig=function(){var t={units:this.units,activation:$m(this.activation),useBias:this.useBias,kernelInitializer:Ah(this.kernelInitializer),biasInitializer:Ah(this.biasInitializer),kernelRegularizer:Gm(this.kernelRegularizer),biasRegularizer:Gm(this.biasRegularizer),activityRegularizer:Gm(this.activityRegularizer),kernelConstraint:Ef(this.kernelConstraint),biasConstraint:Ef(this.biasConstraint)},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Dense",t}(Jh);yd.registerClass(wg);var xg=function(e){function t(t){var n=e.call(this,t||{})||this;return n.inputSpec=[{minNDim:3}],n}return Fd(t,e),t.prototype.computeOutputShape=function(e){for(var t=0,n=(e=$h(e)).slice(1);t<n.length;t++)if(null==n[t])throw new Gd('The shape of the input to "Flatten" is not fully defined (got '+e.slice(1)+'). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.');return[e[0],Hf(e,1)]},t.prototype.call=function(e,t){var n=this;return qt((function(){return n.invokeCallHook(e,t),function(e){if(e.rank<=1)throw new Gd("batchFlatten requires a minimum rank of 2. Got rank: "+e.rank+".");var t=[e.shape[0],Hf(e.shape,1)];return e.reshape(t)}(Fh(e))}))},t.className="Flatten",t}(Jh);yd.registerClass(xg);var Cg=function(e){function t(t){var n=e.call(this,t)||this;return n.supportsMasking=!0,n.activation=jm(t.activation),n}return Fd(t,e),t.prototype.call=function(e,t){var n=this;return qt((function(){n.invokeCallHook(e,t);var r=Fh(e);return n.activation.apply(r)}))},t.prototype.getConfig=function(){var t={activation:$m(this.activation)},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Activation",t}(Jh);yd.registerClass(Cg);var Eg=function(e){function t(t){var n=e.call(this,t)||this;return n.n=t.n,n.inputSpec=[{ndim:2}],n}return Fd(t,e),t.prototype.computeOutputShape=function(e){return[e[0],this.n,e[1]]},t.prototype.call=function(e,t){var n=this;return qt((function(){return function(e,t){return qt((function(){if(2!==e.shape.length)throw new Gd("repeat() expects a rank-2 tensor, but received a rank-"+e.shape.length+" tensor.");return th(Yf(e,1),[1,t,1])}))}(e=Fh(e),n.n)}))},t.prototype.getConfig=function(){var t={n:this.n},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="RepeatVector",t}(Jh);yd.registerClass(Eg);var kg=function(e){function t(t){var n=e.call(this,t)||this;n.targetShape=t.targetShape;for(var r=0;r<n.targetShape.length;++r)n.isUnknown(n.targetShape[r])&&(n.targetShape[r]=null);return n}return Fd(t,e),t.prototype.isUnknown=function(e){return e<0||null==e},t.prototype.fixUnknownDimension=function(e,t){for(var n="Total size of new array must be unchanged.",r=t.slice(),a=1,o=null,i=0;i<r.length;++i){var s=r[i];if(this.isUnknown(s)){if(null!==o)throw new Gd("Can only specifiy one unknown dimension.");o=i}else a*=s}var l=Hf(e);if(null!==o){if(0===a||l%a!=0)throw new Gd(n);r[o]=l/a}else if(l!==a)throw new Gd(n);return r},t.prototype.computeOutputShape=function(e){for(var t=!1,n=0;n<e.length;++n)if(this.isUnknown(e[n])){t=!0;break}return t?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))},t.prototype.call=function(e,t){var n=this;return qt((function(){n.invokeCallHook(e,t);var r=Fh(e),a=r.shape,o=a.slice(0,1).concat(n.fixUnknownDimension(a.slice(1),n.targetShape));return r.reshape(o)}))},t.prototype.getConfig=function(){var t={targetShape:this.targetShape},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Reshape",t}(Jh);yd.registerClass(kg);var Sg=function(e){function t(t){var n=e.call(this,t)||this;if(null==t.dims)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(t.dims))throw new Error("Permute constructor requires `dims` to be an Array, but received "+t.dims+" instead.");var r=Gf(1,t.dims.length+1);if(!ae.arraysEqual(t.dims.slice().sort(),r))throw new Error("Invalid permutation `dims`: "+JSON.stringify(t.dims)+" `dims` must contain consecutive integers starting from 1.");return n.dims=t.dims,n.dimsIncludingBatch=[0].concat(n.dims),n.inputSpec=[new qh({ndim:n.dims.length+1})],n}return Fd(t,e),t.prototype.computeOutputShape=function(e){var t=(e=$h(e)).slice();return this.dims.forEach((function(n,r){t[r+1]=e[n]})),t},t.prototype.call=function(e,t){return fc(Fh(e),this.dimsIncludingBatch)},t.prototype.getConfig=function(){var t={dims:this.dims},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Permute",t}(Jh);yd.registerClass(Sg);var Tg=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;return n.supportsMasking=!0,n.maskValue=null!=t?null==t.maskValue?0:t.maskValue:0,n}return Fd(t,e),t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this),n={maskValue:this.maskValue};return Object.assign(n,t),n},t.prototype.computeMask=function(e,t){var n=Fh(e);return Ju(lu(n,this.maskValue),-1)},t.prototype.call=function(e,t){var n=this;return qt((function(){n.invokeCallHook(e,t);var r=Fh(e),a=Ju(lu(r,n.maskValue),-1,!0);return r.mul(a.asType(r.dtype))}))},t.className="Masking",t}(Jh);yd.registerClass(Tg);var Og=function(e){function t(t){var n=e.call(this,t)||this;if(n.embeddings=null,n.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",null==t.batchInputShape&&null==t.inputShape){var r=null;null!=t.batchSize&&(r=t.batchSize),null==t.inputLength?n.batchInputShape=[r,null]:n.batchInputShape=[r].concat(ef(t.inputLength))}return n.inputDim=t.inputDim,ff(n.inputDim,"inputDim"),n.outputDim=t.outputDim,ff(n.outputDim,"outputDim"),n.embeddingsInitializer=_h(t.embeddingsInitializer||n.DEFAULT_EMBEDDINGS_INITIALIZER),n.embeddingsRegularizer=Ym(t.embeddingsRegularizer),n.activityRegularizer=Ym(t.activityRegularizer),n.embeddingsConstraint=Sf(t.embeddingsConstraint),n.maskZero=t.maskZero,n.supportsMasking=t.maskZero,n.inputLength=t.inputLength,n}return Fd(t,e),t.prototype.build=function(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0},t.prototype.warnOnIncompatibleInputShape=function(e){},t.prototype.computeMask=function(e,t){var n=this;return qt((function(){return n.maskZero?(e=Fh(e),lu(e,Vn(e))):null}))},t.prototype.computeOutputShape=function(e){if(e=$h(e),null==this.inputLength)return e.concat([this.outputDim]);var t=ef(this.inputLength);if(t.length!==e.length-1)throw new Gd('"inputLength" is '+this.inputLength+", but received input shape has shape "+e);for(var n=0,r=0;r<t.length;++r){var a=t[r],o=e[r+1];if(null!=a&&null!=o&&a!==o)throw new Gd('"inputLength" is '+this.inputLength+", but received input shape has shape "+e);null==a&&(t[n]=o),n++}return[e[0]].concat(t,[this.outputDim])},t.prototype.call=function(e,t){var n=this;return qt((function(){n.invokeCallHook(e,t);var r=Fh(e);return"int32"!==r.dtype&&(r=Xf(r,"int32")),ah(n.embeddings.read(),r.as1D()).reshape($h(n.computeOutputShape(r.shape)))}))},t.prototype.getConfig=function(){var t={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:Ah(this.embeddingsInitializer),embeddingsRegularizer:Gm(this.embeddingsRegularizer),activityRegularizer:Gm(this.activityRegularizer),embeddingsConstraint:Ef(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Embedding",t}(Jh);yd.registerClass(Og);var Ig=function(e){function t(t){var n=e.call(this,t||{})||this;return n.supportsMasking=!0,n}return Fd(t,e),t.prototype.mergeFunction=function(e){throw new Xd},t.prototype.computeElementwiseOpOutputShape=function(e,t){if(null==e||null==t)return null;if(e.length<t.length)return this.computeElementwiseOpOutputShape(t,e);if(0===t.length)return e;for(var n=e.slice(0,e.length-t.length),r=0;r<t.length;++r){var a=e[e.length-t.length+r],o=t[r];if(null==a||null==o||a<0||o<0)n.push(null);else if(1===a)n.push(o);else if(1===o)n.push(a);else{if(a!==o)throw new Gd("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(t));n.push(a)}}return n},t.prototype.build=function(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[$h(e)]),e.length<2)throw new Gd("A merge layer should be called on an Array of at least 2 inputs. Got "+e.length+" input(s).");for(var t=[],n=0,r=e;n<r.length;n++)null!=(i=r[n])&&null!==i[0]&&t.push(i[0]);if((t=uf(t)).length>1)throw new Gd("Can not merge tensors with different batch sizes. Got tensors with shapes: "+JSON.stringify(e)+".");for(var a=null==e[0]?null:e[0].slice(1),o=1;o<e.length;++o){var i=null==e[o]?null:e[o].slice(1);a=this.computeElementwiseOpOutputShape(a,i)}var s=e.map((function(e){return e.length}));-1===e.indexOf(null)&&1===uf(s).length?this.reshapeRequired=!1:this.reshapeRequired=!0},t.prototype.call=function(e,t){var n=this;return qt((function(){if(n.reshapeRequired){var t=[],r=e.map((function(e){return e.rank}));if(-1===r.indexOf(null)){for(var a=qf(r),o=0,i=e;o<i.length;o++){for(var s=(d=i[o]).rank,l=0;l<a-s;++l)d=Yf(d,1);t.push(d)}return n.mergeFunction(t)}for(var u=!1,c=0,p=e;c<p.length;c++){var d;if(null==(s=(d=p[c]).rank)){var f=d.shape,h=f[0],v=f.slice(1).concat([h]),m=d.reshape([h].concat(Hf(f.slice(1))));m=(m=fc(m,[1,0])).reshape(v),t.push(m),u=!0}else if(s>1){var g=Gf(1,s).concat([0]);t.push(fc(d,g)),u=!0}else t.push(d)}var b=n.mergeFunction(t),y=b.rank;if(u)if(null==y){var w=b.shape;v=[h=w[w.length-1]].concat(w.slice(0,w.length-1)),b=fc(b.reshape([-1,h]),[1,0]).reshape(v)}else y>1&&(g=[y-1].concat(Gf(0,y-1)),b=fc(b,g));return b}return n.mergeFunction(e)}))},t.prototype.computeOutputShape=function(e){var t;t=null==e[0]?null:e[0].slice(1);for(var n=1;n<e.length;++n){var r=null==e[n]?null:e[n].slice(1);t=this.computeElementwiseOpOutputShape(t,r)}for(var a=[],o=0,i=e;o<i.length;o++)null!=(r=i[o])&&null!==r[0]&&a.push(r[0]);return 1===(a=uf(a)).length?a.concat(t):[null].concat(t)},t.prototype.computeMask=function(e,t){return qt((function(){if(null==t)return null;if(!Array.isArray(t))throw new Gd("`mask` should be an Array");if(!Array.isArray(e))throw new Gd("`inputs` should be an Array");if(t.length!==e.length)throw new Gd("The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths ("+e.length+" vs "+t.length+")");if(t.every((function(e){return null==e})))return null;for(var n=(t=t.map((function(e){return null==e?e:fr(e,0)})))[0],r=1;r<t.length-1;++r)n=Sl(n,t[r]);return n}))},t}(Jh),Ng=function(e){function t(t){return e.call(this,t)||this}return Fd(t,e),t.prototype.mergeFunction=function(e){return qt((function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=_l(t,e[n]);return t}))},t.className="Add",t}(Ig);yd.registerClass(Ng);var Ag=function(e){function t(t){return e.call(this,t)||this}return Fd(t,e),t.prototype.mergeFunction=function(e){return qt((function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=Wl(t,e[n]);return t}))},t.className="Multiply",t}(Ig);yd.registerClass(Ag);var _g=function(e){function t(t){return e.call(this,t)||this}return Fd(t,e),t.prototype.mergeFunction=function(e){return qt((function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=_l(t,e[n]);return Wl(1/e.length,t)}))},t.className="Average",t}(Ig);yd.registerClass(_g);var Rg=function(e){function t(t){return e.call(this,t)||this}return Fd(t,e),t.prototype.mergeFunction=function(e){return qt((function(){for(var t=e[0],n=1;n<e.length;++n)t=zl(t,e[n]);return t}))},t.className="Maximum",t}(Ig);yd.registerClass(Rg);var Mg=function(e){function t(t){return e.call(this,t)||this}return Fd(t,e),t.prototype.mergeFunction=function(e){return qt((function(){for(var t=e[0],n=1;n<e.length;++n)t=$l(t,e[n]);return t}))},t.className="Minimum",t}(Ig);yd.registerClass(Mg);var Pg=function(e){function t(t){var n=e.call(this,t)||this;return n.DEFAULT_AXIS=-1,null==t&&(t={}),n.axis=null==t.axis?n.DEFAULT_AXIS:t.axis,n.supportsMasking=!0,n.reshapeRequired=!1,n}return Fd(t,e),t.prototype.build=function(e){if(!Array.isArray(e)||!Array.isArray(e[0])||1===e.length)throw new Gd("A `Concatenate` layer should be called on a list of at least 2 inputs");for(var t=!0,n=0,r=e;n<r.length;n++)if(null!=(c=r[n])){t=!1;break}if(!t){for(var a=[],o=0;o<e.length;++o){var i=e[o].slice();i.splice(this.axis,1);for(var s=!1,l=0,u=a;l<u.length;l++){var c=u[l];if(ae.arraysEqual(c,i)){s=!0;break}}s||a.push(i)}if(a.length>1)throw new Gd("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}},t.prototype.mergeFunction=function(e){var t=this;return qt((function(){return Zf(e,t.axis)}))},t.prototype.computeOutputShape=function(e){if(!Array.isArray(e)||!Array.isArray(e[0]))throw new Gd("A `Concatenate` layer should be called on a list of inputs.");for(var t=e,n=t[0].slice(),r=this.axis<0?n.length+this.axis:this.axis,a=0,o=t.slice(1);a<o.length;a++){var i=o[a];if(null==n[r]||null==i[r]){n[r]=null;break}n[r]+=i[r]}return n},t.prototype.computeMask=function(e,t){var n=this;if(null==t)return null;if(!Array.isArray(t))throw new Gd("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new Gd("`inputs` should be an array for Concatenate");if(t.length!==e.length)throw new Gd("Mismatch in the length of mask ("+t.length+") and the legnth of inputs ("+e.length+")");return qt((function(){var r=!0;if(t.forEach((function(e){null==e||(r=!1)})),r)return null;for(var a=[],o=0;o<e.length;++o)null==t[o]?a.push($n(e[o]).asType("bool")):t[o].rank<e[o].rank?a.push(fr(t[o],-1)):a.push(t[o]);var i=jn(a,n.axis);return Ku(i,-1,!1)}))},t.prototype.getConfig=function(){var t={axis:this.axis},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Concatenate",t}(Ig);function Dg(e,t){for(;e<0;)e+=t;return e}yd.registerClass(Pg);var Bg=function(e){function t(t){var n=e.call(this,t)||this;return n.axes=t.axes,n.normalize=null!=t.normalize&&t.normalize,n.supportsMasking=!0,n.reshapeRequired=!1,n}return Fd(t,e),t.prototype.build=function(e){ae.assert(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(function(){return"A `Dot` layer should be called on a list of exactly 2 inputs."}));var t=e[0],n=e[1];if(t.length>3||n.length>3)throw new Xd("Dot layer does not support tensors of 4D or higher rank yet.");var r=this.interpretAxes(t,n);if(t[r[0]]!==n[r[1]])throw new Gd("Dimension incompatibility: "+t[r[0]]+" !== "+n[r[1]])},t.prototype.mergeFunction=function(e){if(2!==e.length)throw new Gd("A `Dot` layer must be called on exactly 2 inputs, but received "+e.length+" input(s).");var t,n=e[0],r=e[1];return t=Array.isArray(this.axes)?this.axes.map((function(t,n){return Dg(t,e[n].shape.length)})):[Dg(this.axes,n.shape.length),Dg(this.axes,r.shape.length)],this.normalize&&(n=fv(n,t[0]),r=fv(r,t[1])),function(e,t,n){if(e.shape.length>3||t.shape.length>3)throw new Xd("batchDot is not implemented for tensors of 4D or higher rank yet");if(ae.assert(e.shape.length>=2,(function(){return"batchDot requires the rank of x to be >= 2, but got "+e.shape.length})),ae.assert(e.shape.length>=2,(function(){return"batchDot requires the rank of y to be >= 2, but got "+t.shape.length})),"number"==typeof n&&(n=[n,n]),"complex64"===e.dtype||"complex64"===t.dtype)throw new Xd("batchDot is not implemented for complex64-type Tensors yet.");var r=e.shape.length,a=t.shape.length;null==n&&(n=[r-1,a-2]);var o=n;return qt((function(){var n,i;if(r>a){n=r-a;for(var s=[],l=0;l<n;++l)s.push(1);t=t.reshape(t.shape.concat(s))}else if(a>r){for(n=a-r,s=[],l=0;l<n;++l)s.push(1);e=e.reshape(e.shape.concat(s))}else n=0;if(2===e.shape.length&&2===t.shape.length)i=o[0]===o[1]?e.mulStrict(t).sum(o[0]):e.transpose([1,0]).mulStrict(t).sum(o[1]);else{var u=o[0]!==e.shape.length-1,c=o[1]===t.shape.length-1;i=e.matMul(t,u,c)}if(n>0){var p,d=[];for(l=p=r>a?r+a-3:r-1;l<p+n;++l)d.push(l);i=i.squeeze(d)}return 1===i.shape.length&&(i=i.expandDims(1)),i}))}(n,r,t)},t.prototype.interpretAxes=function(e,t){return Array.isArray(this.axes)?this.axes:[Dg(this.axes,e.length),Dg(this.axes,t.length)]},t.prototype.computeOutputShape=function(e){ae.assert(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(function(){return"A `Dot` layer should be called on a list of exactly 2 inputs."}));var t=e[0].slice(),n=e[1].slice();if(t.length>3||n.length>3)throw new Xd("Dot layer does not support tensors of 4D or higher rank yet.");var r=this.interpretAxes(t,n);t.splice(r[0],1),n.splice(r[1],1),n.splice(0,1);var a=t.concat(n);return 1===a.length&&a.push(1),a},t.prototype.computeMask=function(e,t){return null},t.prototype.getConfig=function(){var t={axes:this.axes,normalize:this.normalize},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Dot",t}(Ig);yd.registerClass(Bg);var Lg=function(e){function t(t){var n=e.call(this,t)||this;return n.supportsMasking=!0,n.stddev=t.stddev,n}return Fd(t,e),t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this),n={stddev:this.stddev};return Object.assign(n,t),n},t.prototype.call=function(e,t){var n=this;return qt((function(){n.invokeCallHook(e,t);var r=Fh(e);return uh((function(){return nh(r.shape,0,n.stddev).add(r)}),(function(){return r}),t.training||!1)}))},t.className="GaussianNoise",t}(Jh);yd.registerClass(Lg);var zg=function(e){function t(t){var n=e.call(this,t)||this;return n.supportsMasking=!0,n.rate=t.rate,n}return Fd(t,e),t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this),n={rate:this.rate};return Object.assign(n,t),n},t.prototype.call=function(e,t){var n=this;return qt((function(){n.invokeCallHook(e,t);var r=Fh(e);return n.rate>0&&n.rate<1?uh((function(){var e=Math.sqrt(n.rate/(1-n.rate));return r.mul(nh(r.shape,1,e))}),(function(){return r}),t.training||!1):r}))},t.className="GaussianDropout",t}(Jh);yd.registerClass(zg);var Fg=function(e){function t(t){var n=e.call(this,t)||this;return n.supportsMasking=!0,n.rate=t.rate,n.noiseShape=t.noiseShape,n}return Fd(t,e),t.prototype._getNoiseShape=function(e){return this.noiseShape||Fh(e).shape},t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this),n={rate:this.rate};return Object.assign(n,t),n},t.prototype.call=function(e,t){var n=this;return qt((function(){if(n.rate<1&&n.rate>0){var r=n._getNoiseShape(e);return uh((function(){var t=Fh(e),a=-1.7580993408473766,o=tu(Sr(r),n.rate);o=Xf(o,"float32");var i=Math.pow((1-n.rate)*(1+n.rate*Math.pow(a,2)),-.5),s=-i*a*n.rate;return t.mul(o).add(o.add(-1).mul(a)).mul(i).add(s)}),(function(){return Fh(e)}),t.training||!1)}return e}))},t.className="AlphaDropout",t}(Jh);function $g(e,t,n,r,a,o){var i;if(void 0===o&&(o=.001),2===e.rank)i=Cl(e,t,n,r,a,o);else if(3===e.rank)i=El(e,t,n,r,a,o);else{if(4!==e.rank)throw new Xd("batchNormalization is not implemented for array of rank "+e.rank+" yet");i=kl(e,t,n,r,a,o)}return i}function Vg(e,t,n,r,a){return void 0===a&&(a=.001),ae.arraysEqual(r.slice().sort(),Gf(0,e.rank-1))?function(e,t,n,r,a){return void 0===a&&(a=.001),qt((function(){var o=ac(e,r),i=o.mean,s=o.variance;return[$g(e,i,s,n,t,a),i,s]}))}(e,t,n,r,a):function(e,t,n,r,a){return void 0===a&&(a=.001),qt((function(){for(var o=ac(e,r),i=o.mean,s=o.variance,l=[],u=0,c=Gf(0,e.rank);u<c.length;u++){var p=c[u];-1!==r.indexOf(p)?l.push(1):l.push(e.shape[p])}var d=i.reshape(l),f=s.reshape(l),h=null==t?null:t.reshape(l),v=null==n?null:n.reshape(l);return[$g(e,d,f,v,h,a),i,s]}))}(e,t,n,r,a)}yd.registerClass(Fg);var jg=function(e){function t(t){var n=this;return null==t&&(t={}),(n=e.call(this,t)||this).supportsMasking=!0,n.axis=null==t.axis?-1:t.axis,n.momentum=null==t.momentum?.99:t.momentum,n.epsilon=null==t.epsilon?.001:t.epsilon,n.center=null==t.center||t.center,n.scale=null==t.scale||t.scale,n.betaInitializer=_h(t.betaInitializer||"zeros"),n.gammaInitializer=_h(t.gammaInitializer||"ones"),n.movingMeanInitializer=_h(t.movingMeanInitializer||"zeros"),n.movingVarianceInitializer=_h(t.movingVarianceInitializer||"ones"),n.betaConstraint=Sf(t.betaConstraint),n.gammaConstraint=Sf(t.gammaConstraint),n.betaRegularizer=Ym(t.betaRegularizer),n.gammaRegularizer=Ym(t.gammaRegularizer),n}return Fd(t,e),t.prototype.build=function(e){var t;e=$h(e);var n=this.axis>=0?this.axis:this.axis+e.length,r=e[n];if(null==r)throw new Gd("Axis "+n+" of input tensor should have a defined dimension but the layer received an input with shape "+JSON.stringify(e)+".");this.inputSpec=[new qh({ndim:e.length,axes:(t={},t[n]=r,t)})];var a=[r];this.scale&&(this.gamma=this.addWeight("gamma",a,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",a,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",a,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",a,null,this.movingVarianceInitializer,null,!1),this.built=!0},t.prototype.call=function(e,t){var n=this;return qt((function(){var r=null!=t.training&&t.training,a=Fh(e),o=a.shape,i=o.length,s=Gf(0,i),l=n.axis>=0?n.axis:n.axis+i;s.splice(l,1);var u=Kd(1,i);u[l]=o[l];var c=s.slice();c.sort();var p=!ae.arraysEqual(c,Gf(0,i).slice(0,i-1));if(!r)return function(){if(p){var e=n.movingMean.read().reshape(u),t=n.movingVariance.read().reshape(u),r=n.center?n.beta.read().reshape(u):null,o=n.scale?n.gamma.read().reshape(u):null;return $g(a,e,t,r,o,n.epsilon)}return $g(a,n.movingMean.read(),n.movingVariance.read(),null==n.beta?null:n.beta.read(),null==n.gamma?null:n.gamma.read(),n.epsilon)}();var d=Vg(a,n.gamma.read(),n.beta.read(),s,n.epsilon),f=d[0],h=d[1],v=d[2],m=function(e,t,n){qt((function(){var r=1-n,a=e.read(),o=a.sub(t).mul(r);e.write(a.sub(o))}))};return m(n.movingMean,h,n.momentum),m(n.movingVariance,v,n.momentum),f}))},t.prototype.getConfig=function(){var t={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:Ah(this.betaInitializer),gammaInitializer:Ah(this.gammaInitializer),movingMeanInitializer:Ah(this.movingMeanInitializer),movingVarianceInitializer:Ah(this.movingVarianceInitializer),betaRegularizer:Gm(this.betaRegularizer),gammaRegularizer:Gm(this.gammaRegularizer),betaConstraint:Ef(this.betaConstraint),gammaConstraint:Ef(this.gammaConstraint)},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="BatchNormalization",t}(Jh);yd.registerClass(jg);var Hg=function(e){function t(t){var n=this;if(null==t&&(t={}),(n=e.call(this,t)||this).axis=null==t.axis?-1:t.axis,"number"==typeof n.axis){if(!Number.isInteger(n.axis))throw new Error("Expected axis to be an integer, but received "+n.axis)}else{if(!Array.isArray(n.axis))throw new Error("Expected axis to be an integer or an array of integers, but received "+JSON.stringify(n.axis));for(var r=0,a=n.axis;r<a.length;r++){var o=a[r];if(!Number.isInteger(o))throw new Error("Expected axis to be an array of integers, but received "+JSON.stringify(n.axis))}}return n.epsilon=null==t.epsilon?.001:t.epsilon,n.center=null==t.center||t.center,n.scale=null==t.scale||t.scale,n.betaInitializer=_h(t.betaInitializer||"zeros"),n.gammaInitializer=_h(t.gammaInitializer||"ones"),n.betaRegularizer=Ym(t.betaRegularizer),n.gammaRegularizer=Ym(t.gammaRegularizer),n.supportsMasking=!0,n}return Fd(t,e),t.prototype.build=function(e){var t=(e=$h(e)).length;"number"==typeof this.axis&&(this.axis=[this.axis]);for(var n=0;n<this.axis.length;++n)this.axis[n]<0&&(this.axis[n]+=t);for(var r=0,a=this.axis;r<a.length;r++){var o=a[r];if(o<0||o>=t)throw new Error("Invalid axis: "+o)}if(this.axis.length!==uf(this.axis).length)throw new Error("Found duplicate axes in: "+this.axis);var i=this.axis.map((function(t){return e[t]}));this.scale?this.gamma=this.addWeight("gamma",i,"float32",this.gammaInitializer,this.gammaRegularizer,!0):this.gamma=null,this.center?this.beta=this.addWeight("beta",i,"float32",this.betaInitializer,this.betaRegularizer,!0):this.beta=null,this.built=!0},t.prototype.call=function(e,t){var n=this,r=Fh(e),a=r.shape,o=a.length;return qt((function(){for(var e=ac(r,n.axis,!0),t=e.mean,i=e.variance,s=Kd(1,o),l=0,u=n.axis;l<u.length;l++){var c=u[l];s[c]=a[c]}for(var p=function(e){return null!=e&&e.shape.length!==o&&n.axis!==[o-1]?e.reshape(s):e},d=p(n.gamma.read()),f=p(n.beta.read()),h=[],v=[],m=0;m<o;++m)-1!==n.axis.indexOf(m)?(h.push(a[m]),v.push(1)):(h.push(1),v.push(a[m]));return t=t.tile(h),i=i.tile(h),d=d.tile(v),f=f.tile(v),$g(r,t,i,f,d,n.epsilon)}))},t.prototype.getConfig=function(){var t={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:Ah(this.betaInitializer),gammaInitializer:Ah(this.gammaInitializer),betaRegularizer:Gm(this.betaRegularizer),gammaRegularizer:Gm(this.gammaRegularizer)},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="LayerNormalization",t}(Jh);yd.registerClass(Hg);var Wg=function(e){function t(t){var n=this;if(null==t&&(t={}),(n=e.call(this,t)||this).dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,null==t.padding)n.padding=[[1,1],[1,1]];else if("number"==typeof t.padding)n.padding=[[t.padding,t.padding],[t.padding,t.padding]];else{if(t.padding=t.padding,2!==t.padding.length)throw new Gd("ZeroPadding2D expects padding to be a length-2 array, but received a length-"+t.padding.length+" array.");var r=void 0,a=void 0;if("number"==typeof t.padding[0])r=[t.padding[0],t.padding[0]],a=[t.padding[1],t.padding[1]];else{if(t.padding=t.padding,2!==t.padding[0].length)throw new Gd("ZeroPadding2D expects height padding to be a length-2 array, but received a length-"+t.padding[0].length+" array.");if(r=t.padding[0],2!==t.padding[1].length)throw new Gd("ZeroPadding2D expects width padding to be a length-2 array, but received a length-"+t.padding[1].length+" array.");a=t.padding[1]}n.padding=[r,a]}return n.inputSpec=[new qh({ndim:4})],n}return Fd(t,e),t.prototype.computeOutputShape=function(e){var t,n;return e=$h(e),"channelsFirst"===this.dataFormat?(t=null!=e[2]&&e[2]>=0?e[2]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[3]&&e[3]>=0?e[3]+this.padding[1][0]+this.padding[1][1]:null,[e[0],e[1],t,n]):(t=null!=e[1]&&e[1]>=0?e[1]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[2]&&e[2]>=0?e[2]+this.padding[1][0]+this.padding[1][1]:null,[e[0],t,n,e[3]])},t.prototype.call=function(e,t){var n=this;return qt((function(){return function(e,t,n){return qt((function(){if(4!==e.rank)throw new Gd("temporalPadding expects input tensor to be 4-D, but received a "+e.rank+"-D tensor.");if(null==t&&(t=[[1,1],[1,1]]),2!==t.length||2!==t[0].length||2!==t[1].length)throw new Gd("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(null==n&&(n="channelsLast"),"channelsLast"!==n&&"channelsFirst"!==n)throw new Gd("Unknown data format: "+n+". Supported data formats are 'channelsLast' and 'channelsFirst.");var r;return r="channelsFirst"===n?[[0,0],[0,0],t[0],t[1]]:[[0,0],t[0],t[1],[0,0]],gr(e,r)}))}(Fh(e),n.padding,n.dataFormat)}))},t.prototype.getConfig=function(){var t={padding:this.padding,dataFormat:this.dataFormat},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="ZeroPadding2D",t}(Jh);function Ug(e,t,n,r,a,o){return qt((function(){var i;Rf(a),Pf(o),Mf(r),null==n&&(n=[1,1]),null==r&&(r="valid"),null==a&&(a="channelsLast"),null==o&&(o="max"),e=og(e,a);var s="same"===r?"same":"valid";return i="max"===o?Fu(e,t,n,s):$u(e,t,n,s),"channelsFirst"===a&&(i=fc(i,[0,3,1,2])),i}))}function qg(e,t,n,r,a,o){return qt((function(){var i;Rf(a),Pf(o),Mf(r),null==n&&(n=[1,1,1]),null==r&&(r="valid"),null==a&&(a="channelsLast"),null==o&&(o="max"),e=ig(e,a);var s="same"===r?"same":"valid";return i="max"===o?ju(e,t,n,s):Hu(e,t,n,s),"channelsFirst"===a&&(i=fc(i,[0,4,1,2,3])),i}))}yd.registerClass(Wg);var Gg=function(e){function t(t){var n=this;if(null==t.poolSize&&(t.poolSize=2),n=e.call(this,t)||this,"number"==typeof t.poolSize)n.poolSize=[t.poolSize];else{if(!Array.isArray(t.poolSize)||1!==t.poolSize.length||"number"!=typeof t.poolSize[0])throw new Gd("poolSize for 1D convolutional layer must be a number or an Array of a single number, but received "+JSON.stringify(t.poolSize));n.poolSize=t.poolSize}if(ff(n.poolSize,"poolSize"),null==t.strides)n.strides=n.poolSize;else if("number"==typeof t.strides)n.strides=[t.strides];else{if(!Array.isArray(t.strides)||1!==t.strides.length||"number"!=typeof t.strides[0])throw new Gd("strides for 1D convolutional layer must be a number or an Array of a single number, but received "+JSON.stringify(t.strides));n.strides=t.strides}return ff(n.strides,"strides"),n.padding=null==t.padding?"valid":t.padding,Mf(n.padding),n.inputSpec=[new qh({ndim:3})],n}return Fd(t,e),t.prototype.computeOutputShape=function(e){var t=rg((e=$h(e))[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],t,e[2]]},t.prototype.call=function(e,t){var n=this;return qt((function(){n.invokeCallHook(e,t),e=Yf(Fh(e),2);var r=n.poolingFunction(Fh(e),[n.poolSize[0],1],[n.strides[0],1],n.padding,"channelsLast");return Ir(r,[2])}))},t.prototype.getConfig=function(){var t={poolSize:this.poolSize,padding:this.padding,strides:this.strides},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t}(Jh),Xg=function(e){function t(t){return e.call(this,t)||this}return Fd(t,e),t.prototype.poolingFunction=function(e,t,n,r,a){return Rf(a),Mf(r),Ug(e,t,n,r,a,"max")},t.className="MaxPooling1D",t}(Gg);yd.registerClass(Xg);var Yg=function(e){function t(t){return e.call(this,t)||this}return Fd(t,e),t.prototype.poolingFunction=function(e,t,n,r,a){return Rf(a),Mf(r),Ug(e,t,n,r,a,"avg")},t.className="AveragePooling1D",t}(Gg);yd.registerClass(Yg);var Kg=function(e){function t(t){var n=this;if(null==t.poolSize&&(t.poolSize=[2,2]),(n=e.call(this,t)||this).poolSize=Array.isArray(t.poolSize)?t.poolSize:[t.poolSize,t.poolSize],null==t.strides)n.strides=n.poolSize;else if(Array.isArray(t.strides)){if(2!==t.strides.length)throw new Gd("If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length "+t.strides.length+".");n.strides=t.strides}else n.strides=[t.strides,t.strides];return ff(n.poolSize,"poolSize"),ff(n.strides,"strides"),n.padding=null==t.padding?"valid":t.padding,n.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,Rf(n.dataFormat),Mf(n.padding),n.inputSpec=[new qh({ndim:4})],n}return Fd(t,e),t.prototype.computeOutputShape=function(e){e=$h(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2];return t=rg(t,this.poolSize[0],this.padding,this.strides[0]),n=rg(n,this.poolSize[1],this.padding,this.strides[1]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n]:[e[0],t,n,e[3]]},t.prototype.call=function(e,t){var n=this;return qt((function(){return n.invokeCallHook(e,t),n.poolingFunction(Fh(e),n.poolSize,n.strides,n.padding,n.dataFormat)}))},t.prototype.getConfig=function(){var t={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t}(Jh),Jg=function(e){function t(t){return e.call(this,t)||this}return Fd(t,e),t.prototype.poolingFunction=function(e,t,n,r,a){return Rf(a),Mf(r),Ug(e,t,n,r,a,"max")},t.className="MaxPooling2D",t}(Kg);yd.registerClass(Jg);var Qg=function(e){function t(t){return e.call(this,t)||this}return Fd(t,e),t.prototype.poolingFunction=function(e,t,n,r,a){return Rf(a),Mf(r),Ug(e,t,n,r,a,"avg")},t.className="AveragePooling2D",t}(Kg);yd.registerClass(Qg);var Zg=function(e){function t(t){var n=this;if(null==t.poolSize&&(t.poolSize=[2,2,2]),(n=e.call(this,t)||this).poolSize=Array.isArray(t.poolSize)?t.poolSize:[t.poolSize,t.poolSize,t.poolSize],null==t.strides)n.strides=n.poolSize;else if(Array.isArray(t.strides)){if(3!==t.strides.length)throw new Gd("If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length "+t.strides.length+".");n.strides=t.strides}else n.strides=[t.strides,t.strides,t.strides];return ff(n.poolSize,"poolSize"),ff(n.strides,"strides"),n.padding=null==t.padding?"valid":t.padding,n.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,Rf(n.dataFormat),Mf(n.padding),n.inputSpec=[new qh({ndim:5})],n}return Fd(t,e),t.prototype.computeOutputShape=function(e){e=$h(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[4]:e[3];return t=rg(t,this.poolSize[0],this.padding,this.strides[0]),n=rg(n,this.poolSize[1],this.padding,this.strides[1]),r=rg(r,this.poolSize[2],this.padding,this.strides[2]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n,r]:[e[0],t,n,r,e[4]]},t.prototype.call=function(e,t){var n=this;return qt((function(){return n.invokeCallHook(e,t),n.poolingFunction(Fh(e),n.poolSize,n.strides,n.padding,n.dataFormat)}))},t.prototype.getConfig=function(){var t={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t}(Jh),eb=function(e){function t(t){return e.call(this,t)||this}return Fd(t,e),t.prototype.poolingFunction=function(e,t,n,r,a){return Rf(a),Mf(r),qg(e,t,n,r,a,"max")},t.className="MaxPooling3D",t}(Zg);yd.registerClass(eb);var tb=function(e){function t(t){return e.call(this,t)||this}return Fd(t,e),t.prototype.poolingFunction=function(e,t,n,r,a){return Rf(a),Mf(r),qg(e,t,n,r,a,"avg")},t.className="AveragePooling3D",t}(Zg);yd.registerClass(tb);var nb=function(e){function t(t){var n=e.call(this,t)||this;return n.inputSpec=[new qh({ndim:3})],n}return Fd(t,e),t.prototype.computeOutputShape=function(e){return[e[0],e[2]]},t.prototype.call=function(e,t){throw new Xd},t}(Jh),rb=function(e){function t(t){return e.call(this,t||{})||this}return Fd(t,e),t.prototype.call=function(e,t){return qt((function(){var t=Fh(e);return nc(t,1)}))},t.className="GlobalAveragePooling1D",t}(nb);yd.registerClass(rb);var ab=function(e){function t(t){return e.call(this,t||{})||this}return Fd(t,e),t.prototype.call=function(e,t){return qt((function(){var t=Fh(e);return tc(t,1)}))},t.className="GlobalMaxPooling1D",t}(nb);yd.registerClass(ab);var ob=function(e){function t(t){var n=e.call(this,t)||this;return n.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,Rf(n.dataFormat),n.inputSpec=[new qh({ndim:4})],n}return Fd(t,e),t.prototype.computeOutputShape=function(e){return"channelsLast"===this.dataFormat?[e[0],e[3]]:[e[0],e[1]]},t.prototype.call=function(e,t){throw new Xd},t.prototype.getConfig=function(){var t={dataFormat:this.dataFormat},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t}(Jh),ib=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fd(t,e),t.prototype.call=function(e,t){var n=this;return qt((function(){var t=Fh(e);return"channelsLast"===n.dataFormat?nc(t,[1,2]):nc(t,[2,3])}))},t.className="GlobalAveragePooling2D",t}(ob);yd.registerClass(ib);var sb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fd(t,e),t.prototype.call=function(e,t){var n=this;return qt((function(){var t=Fh(e);return"channelsLast"===n.dataFormat?tc(t,[1,2]):tc(t,[2,3])}))},t.className="GlobalMaxPooling2D",t}(ob);function lb(e,t,n,r){if(Array.isArray(e)){if(null!=t||null!=n)throw new Gd("When inputs is an array, neither initialState or constants should be provided");null!=r&&(n=e.slice(e.length-r,e.length),e=e.slice(0,e.length-r)),e.length>1&&(t=e.slice(1,e.length)),e=e[0]}function a(e){return null==e||Array.isArray(e)?e:[e]}return{inputs:e,initialState:t=a(t),constants:n=a(n)}}function ub(e,t,n,r,a,o,i,s){return void 0===r&&(r=!1),void 0===i&&(i=!1),void 0===s&&(s=!1),qt((function(){var l=t.shape.length;if(l<3)throw new Gd("Input should be at least 3D, but is "+l+"D.");var u=[1,0].concat(Gf(2,l));if(t=fc(t,u),null!=o)throw new Xd("The rnn() functoin of the deeplearn.js backend does not support constants yet.");i&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),null!=a&&((a=a.asType("bool").asType("float32")).rank===l-1&&(a=fr(a,-1)),a=fc(a,u)),r&&(t=Ru(t,0),null!=a&&(a=Ru(a,0)));var c,p,d=[],f=n,h=t.shape[0],v=Rr(t);null!=a&&(p=Rr(a));for(var m,g=function(t){var n=v[t],r=qt((function(){return e(n,f)}));if(null==a)c=r[0],f=r[1];else{var o=qt((function(){var e=p[t],n=$n(e).sub(e);return{output:r[0].mul(e).addStrict(f[0].mul(n)),newStates:f.map((function(t,a){return r[1][a].mul(e).addStrict(t.mul(n))}))}}));c=o.output,f=o.newStates}s&&d.push(c)},b=0;b<h;++b)g(b);return s&&(m=Nr(d,1)),[c,m,f]}))}yd.registerClass(sb);var cb=function(e){function t(t){var n,r=e.call(this,t)||this;if(null==t.cell)throw new Gd("cell property is missing for the constructor of RNN.");if(null==(n=Array.isArray(t.cell)?new bb({cells:t.cell}):t.cell).stateSize)throw new Gd("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");return r.cell=n,r.returnSequences=null!=t.returnSequences&&t.returnSequences,r.returnState=null!=t.returnState&&t.returnState,r.goBackwards=null!=t.goBackwards&&t.goBackwards,r._stateful=null!=t.stateful&&t.stateful,r.unroll=null!=t.unroll&&t.unroll,r.supportsMasking=!0,r.inputSpec=[new qh({ndim:3})],r.stateSpec=null,r.states_=null,r.numConstants=null,r.keptStates=[],r}return Fd(t,e),t.prototype.getStates=function(){return null==this.states_?Gf(0,Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1).map((function(e){return null})):this.states_},t.prototype.setStates=function(e){this.states_=e},t.prototype.computeOutputShape=function(e){Lh(e)&&(e=e[0]);var t=this.cell.stateSize;Array.isArray(t)||(t=[t]);var n,r=t[0];if(n=this.returnSequences?[e[0],e[1],r]:[e[0],r],this.returnState){for(var a=[],o=0,i=t;o<i.length;o++){var s=i[o];a.push([e[0],s])}return[n].concat(a)}return n},t.prototype.computeMask=function(e,t){var n=this;return qt((function(){Array.isArray(t)&&(t=t[0]);var e=n.returnSequences?t:null;if(n.returnState){var r=n.states.map((function(e){return null}));return[e].concat(r)}return e}))},Object.defineProperty(t.prototype,"states",{get:function(){if(null==this.states_){for(var e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,t=[],n=0;n<e;++n)t.push(null);return t}return this.states_},set:function(e){this.states_=e},enumerable:!0,configurable:!0}),t.prototype.build=function(e){if(null!=this.numConstants)throw new Xd("Constants support is not implemented in RNN yet.");Lh(e)&&(e=e[0]);var t=this.stateful?e[0]:null,n=e[e.length-1];this.inputSpec[0]=new qh({shape:[t,null,n]});var r,a=[e[0]].concat(e.slice(2));if(this.cell.build(a),r=Array.isArray(this.cell.stateSize)?this.cell.stateSize:[this.cell.stateSize],null!=this.stateSpec){if(!ae.arraysEqual(this.stateSpec.map((function(e){return e.shape[e.shape.length-1]})),r))throw new Gd("An initialState was passed that is not compatible with cell.stateSize. Received stateSpec="+this.stateSpec+"; However cell.stateSize is "+this.cell.stateSize)}else this.stateSpec=r.map((function(e){return new qh({shape:[null,e]})}));this.stateful&&this.resetStates()},t.prototype.resetStates=function(e,t){var n=this;void 0===t&&(t=!1),qt((function(){if(!n.stateful)throw new Ud("Cannot call resetStates() on an RNN Layer that is not stateful.");var r=n.inputSpec[0].shape[0];if(null==r)throw new Gd("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==n.states_)Array.isArray(n.cell.stateSize)?n.states_=n.cell.stateSize.map((function(e){return Bn([r,e])})):n.states_=[Bn([r,n.cell.stateSize])];else if(null==e)Gt(n.states_),null!=n.keptStates&&(Gt(n.keptStates),n.keptStates=[]),Array.isArray(n.cell.stateSize)?n.states_=n.cell.stateSize.map((function(e){return Bn([r,e])})):n.states_[0]=Bn([r,n.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==n.states_.length)throw new Gd("Layer "+n.name+" expects "+n.states_.length+" state(s), but it received "+e.length+" state value(s). Input received: "+e);!0===t?n.keptStates.push(n.states_.slice()):Gt(n.states_);for(var a=0;a<n.states_.length;++a){var o=e[a],i=Array.isArray(n.cell.stateSize)?n.cell.stateSize[a]:n.cell.stateSize,s=[r,i];if(!ae.arraysEqual(o.shape,s))throw new Gd("State "+a+" is incompatible with layer "+n.name+": expected shape="+s+", received shape="+o.shape);n.states_[a]=o}}n.states_=n.states_.map((function(e){return Xt(e.clone())}))}))},t.prototype.apply=function(t,n){var r=null==n?null:n.initialState,a=null==n?null:n.constants;null==n&&(n={});var o=lb(t,r,a,this.numConstants);t=o.inputs,r=o.initialState,a=o.constants;var i=[],s=[];if(null!=r){n.initialState=r,i=i.concat(r),this.stateSpec=[];for(var l=0,u=r;l<u.length;l++){var c=u[l];this.stateSpec.push(new qh({shape:c.shape}))}s=s.concat(this.stateSpec)}if(null!=a&&(n.constants=a,i=i.concat(a),this.numConstants=a.length),i[0]instanceof Gh){var p=[t].concat(i),d=this.inputSpec.concat(s),f=this.inputSpec;this.inputSpec=d;var h=e.prototype.apply.call(this,p,n);return this.inputSpec=f,h}return e.prototype.apply.call(this,t,n)},t.prototype.call=function(e,t){var n=this;return qt((function(){var r=null==t?null:t.mask,a=null==t?null:t.training,o=null==t?null:t.initialState;e=Fh(e),null==o&&(o=n.stateful?n.states_:n.getInitialState(e));var i=Array.isArray(n.cell.stateSize)?n.cell.stateSize.length:1;if(o.length!==i)throw new Gd("RNN Layer has "+i+" state(s) but was passed "+o.length+" initial state(s).");n.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");var s={training:a},l=ub((function(e,t){var r=n.cell.call([e].concat(t),s);return[r[0],r.slice(1)]}),e,o,n.goBackwards,r,null,n.unroll,n.returnSequences),u=l[0],c=l[1],p=l[2];n.stateful&&n.resetStates(p,a);var d=n.returnSequences?c:u;return n.returnState?[d].concat(p):d}))},t.prototype.getInitialState=function(e){var t=this;return qt((function(){var n=Bn(e.shape);return n=Yf(n=oc(n,[1,2])),Array.isArray(t.cell.stateSize)?t.cell.stateSize.map((function(e){return e>1?th(n,[1,e]):n})):t.cell.stateSize>1?[th(n,[1,t.cell.stateSize])]:[n]}))},Object.defineProperty(t.prototype,"trainableWeights",{get:function(){return this.trainable?this.cell.trainableWeights:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonTrainableWeights",{get:function(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights},enumerable:!0,configurable:!0}),t.prototype.setFastWeightInitDuringBuild=function(t){e.prototype.setFastWeightInitDuringBuild.call(this,t),null!=this.cell&&this.cell.setFastWeightInitDuringBuild(t)},t.prototype.getConfig=function(){var t={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};null!=this.numConstants&&(t.numConstants=this.numConstants);var n=this.cell.getConfig();t.cell={className:this.cell.getClassName(),config:n};var r=e.prototype.getConfig.call(this);return Object.assign(t,r),t},t.fromConfig=function(e,t,n){void 0===n&&(n={});var r=dv(t.cell,n);return new e(Object.assign(t,{cell:r}))},t.className="RNN",t}(Jh);yd.registerClass(cb);var pb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fd(t,e),t}(Jh),db=function(e){function t(t){var n=e.call(this,t)||this;return n.DEFAULT_ACTIVATION="tanh",n.DEFAULT_KERNEL_INITIALIZER="glorotNormal",n.DEFAULT_RECURRENT_INITIALIZER="orthogonal",n.DEFAULT_BIAS_INITIALIZER="zeros",n.units=t.units,ff(n.units,"units"),n.activation=jm(null==t.activation?n.DEFAULT_ACTIVATION:t.activation),n.useBias=null==t.useBias||t.useBias,n.kernelInitializer=_h(t.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.recurrentInitializer=_h(t.recurrentInitializer||n.DEFAULT_RECURRENT_INITIALIZER),n.biasInitializer=_h(t.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.kernelRegularizer=Ym(t.kernelRegularizer),n.recurrentRegularizer=Ym(t.recurrentRegularizer),n.biasRegularizer=Ym(t.biasRegularizer),n.kernelConstraint=Sf(t.kernelConstraint),n.recurrentConstraint=Sf(t.recurrentConstraint),n.biasConstraint=Sf(t.biasConstraint),n.dropout=Uf([1,qf([0,null==t.dropout?0:t.dropout])]),n.recurrentDropout=Uf([1,qf([0,null==t.recurrentDropout?0:t.recurrentDropout])]),n.stateSize=n.units,n.dropoutMask=null,n.recurrentDropoutMask=null,n}return Fd(t,e),t.prototype.build=function(e){e=$h(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0},t.prototype.call=function(e,t){var n=this;return qt((function(){if(2!==e.length)throw new Gd("SimpleRNNCell expects 2 input Tensors, got "+e.length+".");var r=e[1];e=e[0];var a,o=null!=t.training&&t.training;0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=yb((function(){return $n(e)}),n.dropout,o)),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=yb((function(){return $n(r)}),n.recurrentDropout,o));var i=n.dropoutMask,s=n.recurrentDropoutMask;a=rh(null!=i?Wl(e,i):e,n.kernel.read()),null!=n.bias&&(a=sh(a,n.bias.read())),null!=s&&(r=Wl(r,s));var l=_l(a,rh(r,n.recurrentKernel.read()));return null!=n.activation&&(l=n.activation.apply(l)),[l,l]}))},t.prototype.getConfig=function(){var t={units:this.units,activation:$m(this.activation),useBias:this.useBias,kernelInitializer:Ah(this.kernelInitializer),recurrentInitializer:Ah(this.recurrentInitializer),biasInitializer:Ah(this.biasInitializer),kernelRegularizer:Gm(this.kernelRegularizer),recurrentRegularizer:Gm(this.recurrentRegularizer),biasRegularizer:Gm(this.biasRegularizer),activityRegularizer:Gm(this.activityRegularizer),kernelConstraint:Ef(this.kernelConstraint),recurrentConstraint:Ef(this.recurrentConstraint),biasConstraint:Ef(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="SimpleRNNCell",t}(pb);yd.registerClass(db);var fb=function(e){function t(t){return t.cell=new db(t),e.call(this,t)||this}return Fd(t,e),t.prototype.call=function(t,n){var r=this;return qt((function(){null!=r.cell.dropoutMask&&(Gt(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(Gt(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);var a=null==n?null:n.mask,o=null==n?null:n.training,i=null==n?null:n.initialState;return e.prototype.call.call(r,t,{mask:a,training:o,initialState:i})}))},Object.defineProperty(t.prototype,"units",{get:function(){return this.cell.units},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activation",{get:function(){return this.cell.activation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useBias",{get:function(){return this.cell.useBias},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelInitializer",{get:function(){return this.cell.kernelInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentInitializer",{get:function(){return this.cell.recurrentInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasInitializer",{get:function(){return this.cell.biasInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelRegularizer",{get:function(){return this.cell.kernelRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentRegularizer",{get:function(){return this.cell.recurrentRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasRegularizer",{get:function(){return this.cell.biasRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelConstraint",{get:function(){return this.cell.kernelConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentConstraint",{get:function(){return this.cell.recurrentConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasConstraint",{get:function(){return this.cell.biasConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropout",{get:function(){return this.cell.dropout},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentDropout",{get:function(){return this.cell.recurrentDropout},enumerable:!0,configurable:!0}),t.prototype.getConfig=function(){var t={units:this.units,activation:$m(this.activation),useBias:this.useBias,kernelInitializer:Ah(this.kernelInitializer),recurrentInitializer:Ah(this.recurrentInitializer),biasInitializer:Ah(this.biasInitializer),kernelRegularizer:Gm(this.kernelRegularizer),recurrentRegularizer:Gm(this.recurrentRegularizer),biasRegularizer:Gm(this.biasRegularizer),activityRegularizer:Gm(this.activityRegularizer),kernelConstraint:Ef(this.kernelConstraint),recurrentConstraint:Ef(this.recurrentConstraint),biasConstraint:Ef(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout},n=e.prototype.getConfig.call(this);return delete n.cell,Object.assign(t,n),t},t.fromConfig=function(e,t){return new e(t)},t.className="SimpleRNN",t}(cb);yd.registerClass(fb);var hb=function(e){function t(t){var n=e.call(this,t)||this;return n.DEFAULT_ACTIVATION="tanh",n.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",n.DEFAULT_KERNEL_INITIALIZER="glorotNormal",n.DEFAULT_RECURRENT_INITIALIZER="orthogonal",n.DEFAULT_BIAS_INITIALIZER="zeros",n.units=t.units,ff(n.units,"units"),n.activation=jm(void 0===t.activation?n.DEFAULT_ACTIVATION:t.activation),n.recurrentActivation=jm(void 0===t.recurrentActivation?n.DEFAULT_RECURRENT_ACTIVATION:t.recurrentActivation),n.useBias=null==t.useBias||t.useBias,n.kernelInitializer=_h(t.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.recurrentInitializer=_h(t.recurrentInitializer||n.DEFAULT_RECURRENT_INITIALIZER),n.biasInitializer=_h(t.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.kernelRegularizer=Ym(t.kernelRegularizer),n.recurrentRegularizer=Ym(t.recurrentRegularizer),n.biasRegularizer=Ym(t.biasRegularizer),n.kernelConstraint=Sf(t.kernelConstraint),n.recurrentConstraint=Sf(t.recurrentConstraint),n.biasConstraint=Sf(t.biasConstraint),n.dropout=Uf([1,qf([0,null==t.dropout?0:t.dropout])]),n.recurrentDropout=Uf([1,qf([0,null==t.recurrentDropout?0:t.recurrentDropout])]),n.implementation=t.implementation,n.stateSize=n.units,n.dropoutMask=null,n.recurrentDropoutMask=null,n}return Fd(t,e),t.prototype.build=function(e){var t=(e=$h(e))[e.length-1];this.kernel=this.addWeight("kernel",[t,3*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,3*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[3*this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0},t.prototype.call=function(e,t){var n=this;return qt((function(){if(2!==e.length)throw new Gd("GRUCell expects 2 input Tensors (inputs, h, c), got "+e.length+".");var r=null!=t.training&&t.training,a=e[1];e=e[0],0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=yb((function(){return $n(e)}),n.dropout,r,3)),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=yb((function(){return $n(a)}),n.recurrentDropout,r,3));var o,i,s,l=n.dropoutMask,u=n.recurrentDropoutMask;0<n.dropout&&n.dropout<1&&(e=Wl(e,l[0]));var c=rh(e,n.kernel.read());n.useBias&&(c=sh(c,n.bias.read())),0<n.recurrentDropout&&n.recurrentDropout<1&&(a=Wl(a,u[0]));var p=n.recurrentKernel.read(),d=Gn(p,[2*n.units,n.units],p.rank-1),f=d[0],h=d[1],v=rh(a,f),m=Gn(c,3,c.rank-1),g=m[0],b=m[1],y=m[2],w=Gn(v,2,v.rank-1),x=w[0],C=w[1];o=n.recurrentActivation.apply(_l(g,x)),i=n.recurrentActivation.apply(_l(b,C));var E=rh(Wl(i,a),h);s=n.activation.apply(_l(y,E));var k=_l(Wl(o,a),Wl(_l(1,Ys(o)),s));return[k,k]}))},t.prototype.getConfig=function(){var t={units:this.units,activation:$m(this.activation),recurrentActivation:$m(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Ah(this.kernelInitializer),recurrentInitializer:Ah(this.recurrentInitializer),biasInitializer:Ah(this.biasInitializer),kernelRegularizer:Gm(this.kernelRegularizer),recurrentRegularizer:Gm(this.recurrentRegularizer),biasRegularizer:Gm(this.biasRegularizer),activityRegularizer:Gm(this.activityRegularizer),kernelConstraint:Ef(this.kernelConstraint),recurrentConstraint:Ef(this.recurrentConstraint),biasConstraint:Ef(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="GRUCell",t}(pb);yd.registerClass(hb);var vb=function(e){function t(t){return 0===t.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),t.cell=new hb(t),e.call(this,t)||this}return Fd(t,e),t.prototype.call=function(t,n){var r=this;return qt((function(){null!=r.cell.dropoutMask&&(Gt(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(Gt(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);var a=null==n?null:n.mask,o=null==n?null:n.training,i=null==n?null:n.initialState;return e.prototype.call.call(r,t,{mask:a,training:o,initialState:i})}))},Object.defineProperty(t.prototype,"units",{get:function(){return this.cell.units},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activation",{get:function(){return this.cell.activation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentActivation",{get:function(){return this.cell.recurrentActivation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useBias",{get:function(){return this.cell.useBias},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelInitializer",{get:function(){return this.cell.kernelInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentInitializer",{get:function(){return this.cell.recurrentInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasInitializer",{get:function(){return this.cell.biasInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelRegularizer",{get:function(){return this.cell.kernelRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentRegularizer",{get:function(){return this.cell.recurrentRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasRegularizer",{get:function(){return this.cell.biasRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelConstraint",{get:function(){return this.cell.kernelConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentConstraint",{get:function(){return this.cell.recurrentConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasConstraint",{get:function(){return this.cell.biasConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropout",{get:function(){return this.cell.dropout},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentDropout",{get:function(){return this.cell.recurrentDropout},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"implementation",{get:function(){return this.cell.implementation},enumerable:!0,configurable:!0}),t.prototype.getConfig=function(){var t={units:this.units,activation:$m(this.activation),recurrentActivation:$m(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Ah(this.kernelInitializer),recurrentInitializer:Ah(this.recurrentInitializer),biasInitializer:Ah(this.biasInitializer),kernelRegularizer:Gm(this.kernelRegularizer),recurrentRegularizer:Gm(this.recurrentRegularizer),biasRegularizer:Gm(this.biasRegularizer),activityRegularizer:Gm(this.activityRegularizer),kernelConstraint:Ef(this.kernelConstraint),recurrentConstraint:Ef(this.recurrentConstraint),biasConstraint:Ef(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},n=e.prototype.getConfig.call(this);return delete n.cell,Object.assign(t,n),t},t.fromConfig=function(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)},t.className="GRU",t}(cb);yd.registerClass(vb);var mb=function(e){function t(t){var n=e.call(this,t)||this;return n.DEFAULT_ACTIVATION="tanh",n.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",n.DEFAULT_KERNEL_INITIALIZER="glorotNormal",n.DEFAULT_RECURRENT_INITIALIZER="orthogonal",n.DEFAULT_BIAS_INITIALIZER="zeros",n.units=t.units,ff(n.units,"units"),n.activation=jm(void 0===t.activation?n.DEFAULT_ACTIVATION:t.activation),n.recurrentActivation=jm(void 0===t.recurrentActivation?n.DEFAULT_RECURRENT_ACTIVATION:t.recurrentActivation),n.useBias=null==t.useBias||t.useBias,n.kernelInitializer=_h(t.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.recurrentInitializer=_h(t.recurrentInitializer||n.DEFAULT_RECURRENT_INITIALIZER),n.biasInitializer=_h(t.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.unitForgetBias=t.unitForgetBias,n.kernelRegularizer=Ym(t.kernelRegularizer),n.recurrentRegularizer=Ym(t.recurrentRegularizer),n.biasRegularizer=Ym(t.biasRegularizer),n.kernelConstraint=Sf(t.kernelConstraint),n.recurrentConstraint=Sf(t.recurrentConstraint),n.biasConstraint=Sf(t.biasConstraint),n.dropout=Uf([1,qf([0,null==t.dropout?0:t.dropout])]),n.recurrentDropout=Uf([1,qf([0,null==t.recurrentDropout?0:t.recurrentDropout])]),n.implementation=t.implementation,n.stateSize=[n.units,n.units],n.dropoutMask=null,n.recurrentDropoutMask=null,n}return Fd(t,e),t.prototype.build=function(e){var t,n,r=(e=$h(e))[e.length-1];if(this.kernel=this.addWeight("kernel",[r,4*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,4*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){if(this.unitForgetBias){var a=this.biasInitializer,o=this.units;n=new((t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fd(t,e),t.prototype.apply=function(e,t){var n=a.apply([o]),r=(new hh).apply([o]),i=a.apply([2*o]);return eh(eh(n,r),i)},t}(dh)).className="CustomInit",t)}else n=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.units],null,n,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0},t.prototype.call=function(e,t){var n=this;return qt((function(){var r=null!=t.training&&t.training;if(3!==e.length)throw new Gd("LSTMCell expects 3 input Tensors (inputs, h, c), got "+e.length+".");var a=e[1],o=e[2];e=e[0],0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=yb((function(){return $n(e)}),n.dropout,r,4)),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=yb((function(){return $n(a)}),n.recurrentDropout,r,4));var i,s,l,u,c=n.dropoutMask,p=n.recurrentDropoutMask;0<n.dropout&&n.dropout<1&&(e=Wl(e,c[0]));var d=rh(e,n.kernel.read());0<n.recurrentDropout&&n.recurrentDropout<1&&(a=Wl(a,p[0])),d=_l(d,rh(a,n.recurrentKernel.read())),n.useBias&&(d=sh(d,n.bias.read()));var f=Gn(d,4,d.rank-1),h=f[0],v=f[1],m=f[2],g=f[3];i=n.recurrentActivation.apply(h),s=n.recurrentActivation.apply(v),l=_l(Wl(s,o),Wl(i,n.activation.apply(m))),u=n.recurrentActivation.apply(g);var b=Wl(u,n.activation.apply(l));return[b,b,l]}))},t.prototype.getConfig=function(){var t={units:this.units,activation:$m(this.activation),recurrentActivation:$m(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Ah(this.kernelInitializer),recurrentInitializer:Ah(this.recurrentInitializer),biasInitializer:Ah(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:Gm(this.kernelRegularizer),recurrentRegularizer:Gm(this.recurrentRegularizer),biasRegularizer:Gm(this.biasRegularizer),activityRegularizer:Gm(this.activityRegularizer),kernelConstraint:Ef(this.kernelConstraint),recurrentConstraint:Ef(this.recurrentConstraint),biasConstraint:Ef(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="LSTMCell",t}(pb);yd.registerClass(mb);var gb=function(e){function t(t){return 0===t.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),t.cell=new mb(t),e.call(this,t)||this}return Fd(t,e),t.prototype.call=function(t,n){var r=this;return qt((function(){null!=r.cell.dropoutMask&&(Gt(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(Gt(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);var a=null==n?null:n.mask,o=null==n?null:n.training,i=null==n?null:n.initialState;return e.prototype.call.call(r,t,{mask:a,training:o,initialState:i})}))},Object.defineProperty(t.prototype,"units",{get:function(){return this.cell.units},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activation",{get:function(){return this.cell.activation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentActivation",{get:function(){return this.cell.recurrentActivation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useBias",{get:function(){return this.cell.useBias},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelInitializer",{get:function(){return this.cell.kernelInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentInitializer",{get:function(){return this.cell.recurrentInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasInitializer",{get:function(){return this.cell.biasInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"unitForgetBias",{get:function(){return this.cell.unitForgetBias},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelRegularizer",{get:function(){return this.cell.kernelRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentRegularizer",{get:function(){return this.cell.recurrentRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasRegularizer",{get:function(){return this.cell.biasRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelConstraint",{get:function(){return this.cell.kernelConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentConstraint",{get:function(){return this.cell.recurrentConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasConstraint",{get:function(){return this.cell.biasConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropout",{get:function(){return this.cell.dropout},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentDropout",{get:function(){return this.cell.recurrentDropout},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"implementation",{get:function(){return this.cell.implementation},enumerable:!0,configurable:!0}),t.prototype.getConfig=function(){var t={units:this.units,activation:$m(this.activation),recurrentActivation:$m(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Ah(this.kernelInitializer),recurrentInitializer:Ah(this.recurrentInitializer),biasInitializer:Ah(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:Gm(this.kernelRegularizer),recurrentRegularizer:Gm(this.recurrentRegularizer),biasRegularizer:Gm(this.biasRegularizer),activityRegularizer:Gm(this.activityRegularizer),kernelConstraint:Ef(this.kernelConstraint),recurrentConstraint:Ef(this.recurrentConstraint),biasConstraint:Ef(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},n=e.prototype.getConfig.call(this);return delete n.cell,Object.assign(t,n),t},t.fromConfig=function(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)},t.className="LSTM",t}(cb);yd.registerClass(gb);var bb=function(e){function t(t){var n=e.call(this,t)||this;return n.cells=t.cells,n}return Fd(t,e),Object.defineProperty(t.prototype,"stateSize",{get:function(){for(var e=[],t=0,n=this.cells.slice().reverse();t<n.length;t++){var r=n[t];Array.isArray(r.stateSize)?e.push.apply(e,r.stateSize):e.push(r.stateSize)}return e},enumerable:!0,configurable:!0}),t.prototype.call=function(e,t){var n=this;return qt((function(){for(var r=e.slice(1),a=[],o=0,i=n.cells.slice().reverse();o<i.length;o++){var s=i[o];Array.isArray(s.stateSize)?a.push(r.splice(0,s.stateSize.length)):a.push(r.splice(0,1))}a.reverse();for(var l,u=[],c=0;c<n.cells.length;++c)s=n.cells[c],r=a[c],l=0===c?[e[0]].concat(r):[l[0]].concat(r),l=s.call(l,t),u.push(l.slice(1));r=[];for(var p=0,d=u.slice().reverse();p<d.length;p++){var f=d[p];r.push.apply(r,f)}return[l[0]].concat(r)}))},t.prototype.build=function(e){var t;Lh(e)&&(e=e[0]),this.cells.forEach((function(n,r){Lf("RNNCell_"+r,(function(){n.build(e),t=Array.isArray(n.stateSize)?n.stateSize[0]:n.stateSize,e=[e[0],t]}))})),this.built=!0},t.prototype.getConfig=function(){for(var t=[],n=0,r=this.cells;n<r.length;n++){var a=r[n];t.push({className:a.getClassName(),config:a.getConfig()})}var o={cells:t},i=e.prototype.getConfig.call(this);return Object.assign(o,i),o},t.fromConfig=function(e,t,n){void 0===n&&(n={});for(var r=[],a=0,o=t.cells;a<o.length;a++){var i=o[a];r.push(dv(i,n))}return new e({cells:r})},Object.defineProperty(t.prototype,"trainableWeights",{get:function(){if(!this.trainable)return[];for(var e=[],t=0,n=this.cells;t<n.length;t++){var r=n[t];e.push.apply(e,r.trainableWeights)}return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonTrainableWeights",{get:function(){for(var e=[],t=0,n=this.cells;t<n.length;t++){var r=n[t];e.push.apply(e,r.nonTrainableWeights)}if(!this.trainable){for(var a=[],o=0,i=this.cells;o<i.length;o++)r=i[o],a.push.apply(a,r.trainableWeights);return a.concat(e)}return e},enumerable:!0,configurable:!0}),t.prototype.getWeights=function(){for(var e=[],t=0,n=this.cells;t<n.length;t++){var r=n[t];e.push.apply(e,r.weights)}return Wh(e)},t.prototype.setWeights=function(e){for(var t=[],n=0,r=this.cells;n<r.length;n++)for(var a=r[n],o=a.weights.length,i=e.splice(o),s=0;s<a.weights.length;++s)t.push([a.weights[s],i[s]]);Uh(t)},t.className="StackedRNNCells",t}(pb);function yb(e,t,n,r){function a(){return lh(e(),t)}if(void 0===n&&(n=null),void 0===r&&(r=1),r>1){for(var o=[],i=0;i<r;i++)o.push(uh(a,e,n));return o.map((function(e){return Xt(e.clone())}))}return Xt(uh(a,e,n).clone())}yd.registerClass(bb);var wb=function(e){function t(t){var n=e.call(this,t)||this;return n.layer=t.layer,n}return Fd(t,e),t.prototype.build=function(e){this.built=!0},Object.defineProperty(t.prototype,"trainable",{get:function(){return null!=this.layer&&this.layer.trainable},set:function(e){null!=this.layer&&(this.layer.trainable=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trainableWeights",{get:function(){return this.layer.trainableWeights},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonTrainableWeights",{get:function(){return this.layer.nonTrainableWeights},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updates",{get:function(){return this.layer._updates},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"losses",{get:function(){return this.layer.losses},enumerable:!0,configurable:!0}),t.prototype.getWeights=function(){return this.layer.getWeights()},t.prototype.setWeights=function(e){this.layer.setWeights(e)},t.prototype.getConfig=function(){var t={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.prototype.setFastWeightInitDuringBuild=function(t){e.prototype.setFastWeightInitDuringBuild.call(this,t),null!=this.layer&&this.layer.setFastWeightInitDuringBuild(t)},t.fromConfig=function(e,t,n){void 0===n&&(n={});var r=dv(t.layer,n);delete t.layer;var a={layer:r};return Object.assign(a,t),new e(a)},t}(Jh),xb=function(e){function t(t){var n=e.call(this,t)||this;return n.supportsMasking=!0,n}return Fd(t,e),t.prototype.build=function(t){if((t=$h(t)).length<3)throw new Gd("TimeDistributed layer expects an input shape >= 3D, but received input shape "+JSON.stringify(t));this.inputSpec=[{shape:t}];var n=[t[0]].concat(t.slice(2));this.layer.built||(this.layer.build(n),this.layer.built=!0),e.prototype.build.call(this,t)},t.prototype.computeOutputShape=function(e){var t=[(e=$h(e))[0]].concat(e.slice(2)),n=this.layer.computeOutputShape(t),r=e[1];return[n[0],r].concat(n.slice(1))},t.prototype.call=function(e,t){var n=this;return qt((function(){return ub((function(e,r){return[Fh(n.layer.call(e,t)),[]]}),e=Fh(e),[],!1,null,null,!1,!0)[1]}))},t.className="TimeDistributed",t}(wb);yd.registerClass(xb);var Cb=function(e){function t(t){var n=e.call(this,t)||this,r=t.layer.getConfig(),a={};a.className=t.layer.getClassName(),a.config=r,n.forwardLayer=dv(a),r.goBackwards=!0!==r.goBackwards;var o={};if(o.className=t.layer.getClassName(),o.config=r,n.backwardLayer=dv(o),n.forwardLayer.name="forward_"+n.forwardLayer.name,n.backwardLayer.name="backward_"+n.backwardLayer.name,n.mergeMode=void 0===t.mergeMode?"concat":t.mergeMode,function(e){pf(Af,"BidirectionalMergeMode",e)}(n.mergeMode),t.weights)throw new Xd("weights support is not implemented for Bidirectional layer yet.");return n._stateful=t.layer.stateful,n.returnSequences=t.layer.returnSequences,n.returnState=t.layer.returnState,n.supportsMasking=!0,n._trainable=!0,n.inputSpec=t.layer.inputSpec,n.numConstants=null,n}return Fd(t,e),Object.defineProperty(t.prototype,"trainable",{get:function(){return this._trainable},set:function(e){this._trainable=e,null!=this.forwardLayer&&(this.forwardLayer.trainable=e),null!=this.backwardLayer&&(this.backwardLayer.trainable=e)},enumerable:!0,configurable:!0}),t.prototype.getWeights=function(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())},t.prototype.setWeights=function(e){var t=e.length,n=Math.floor(t/2);this.forwardLayer.setWeights(e.slice(0,n)),this.backwardLayer.setWeights(e.slice(n))},t.prototype.computeOutputShape=function(e){var t,n,r,a=this.forwardLayer.computeOutputShape(e);return Array.isArray(a)&&Array.isArray(a[0])||(a=[a]),this.returnState?(r=a.slice(1),t=a[0]):t=a[0],"concat"===this.mergeMode?(t[t.length-1]*=2,n=[t]):n=null==this.mergeMode?[t,t.slice()]:[t],this.returnState?null==this.mergeMode?n.concat(r).concat(r.slice()):[t].concat(r).concat(r.slice()):Zd(n)},t.prototype.apply=function(t,n){var r=null==n?null:n.initialState,a=null==n?null:n.constants;null==n&&(n={});var o=lb(t,r,a,this.numConstants);if(t=o.inputs,r=o.initialState,a=o.constants,Array.isArray(t)&&(r=t.slice(1),t=t[0]),(null==r||0===r.length)&&null==a)return e.prototype.apply.call(this,t,n);var i=[],s=[];if(null!=r){var l=r.length;if(l%2>0)throw new Gd("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");n.initialState=r,i.push.apply(i,r);var u=r.map((function(e){return new qh({shape:e.shape})}));this.forwardLayer.stateSpec=u.slice(0,l/2),this.backwardLayer.stateSpec=u.slice(l/2),s.push.apply(s,u)}if(null!=a)throw new Xd("Support for constants in Bidirectional layers is not implemented yet.");for(var c=i[0]instanceof Gh,p=0,d=i;p<d.length;p++)if(d[p]instanceof Gh!==c)throw new Gd("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(c){var f=[t].concat(i),h=this.inputSpec.concat(s),v=this.inputSpec;this.inputSpec=h;var m=e.prototype.apply.call(this,f,n);return this.inputSpec=v,m}return e.prototype.apply.call(this,t,n)},t.prototype.call=function(e,t){var n=this;return qt((function(){if(null!=t.mask)throw new Xd("The support for masking is not implemented for Bidirectional layers yet.");var r,a,o,i,s=t.initialState;if(null==s)r=n.forwardLayer.call(e,t),a=n.backwardLayer.call(e,t);else{var l=s.slice(0,s.length/2),u=s.slice(s.length/2);r=n.forwardLayer.call(e,Object.assign(t,{initialState:l})),a=n.backwardLayer.call(e,Object.assign(t,{initialState:u}))}return n.returnState&&(Array.isArray(r)&&(o=r.slice(1).concat(a.slice(1))),r=r[0],a=a[0]),n.returnSequences&&(a=Ru(a,1)),"concat"===n.mergeMode?i=Zf([r,a]):"sum"===n.mergeMode?i=_l(r,a):"ave"===n.mergeMode?i=Wl(.5,_l(r,a)):"mul"===n.mergeMode?i=Wl(r,a):null==n.mergeMode&&(i=[r,a]),n.returnState?null==n.mergeMode?i.concat(o):[i].concat(o):i}))},t.prototype.resetStates=function(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()},t.prototype.build=function(e){var t=this;Lf(this.forwardLayer.name,(function(){t.forwardLayer.build(e)})),Lf(this.backwardLayer.name,(function(){t.backwardLayer.build(e)})),this.built=!0},Object.defineProperty(t.prototype,"trainableWeights",{get:function(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonTrainableWeights",{get:function(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)},enumerable:!0,configurable:!0}),t.prototype.setFastWeightInitDuringBuild=function(t){e.prototype.setFastWeightInitDuringBuild.call(this,t),null!=this.forwardLayer&&this.forwardLayer.setFastWeightInitDuringBuild(t),null!=this.backwardLayer&&this.backwardLayer.setFastWeightInitDuringBuild(t)},t.prototype.getConfig=function(){var t={mergeMode:this.mergeMode},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.fromConfig=function(e,t){var n=dv(t.layer);if(delete t.layer,null!=t.numConstants)throw new Xd("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");var r=t;return r.layer=n,new e(r)},t.className="Bidirectional",t}(wb);function Eb(e){return new Yg(e)}function kb(e){return new Qg(e)}function Sb(e){return new tb(e)}function Tb(e){return new ab(e)}function Ob(e){return new sb(e)}function Ib(e){return new Xg(e)}function Nb(e){return new Jg(e)}yd.registerClass(Cb);var Ab=Tb,_b=Ob,Rb=Ib,Mb=Nb;var Pb=Object.freeze({inputLayer:function(e){return new ev(e)},elu:function(e){return new Zm(e)},reLU:function(e){return new Km(e)},leakyReLU:function(e){return new Jm(e)},prelu:function(e){return new Qm(e)},softmax:function(e){return new tg(e)},thresholdedReLU:function(e){return new eg(e)},conv1d:function(e){return new vg(e)},conv2d:function(e){return new cg(e)},conv2dTranspose:function(e){return new dg(e)},conv3d:function(e){return new pg(e)},separableConv2d:function(e){return new hg(e)},cropping2D:function(e){return new mg(e)},upSampling2d:function(e){return new gg(e)},depthwiseConv2d:function(e){return new bg(e)},activation:function(e){return new Cg(e)},dense:function(e){return new wg(e)},dropout:function(e){return new yg(e)},flatten:function(e){return new xg(e)},repeatVector:function(e){return new Eg(e)},reshape:function(e){return new kg(e)},permute:function(e){return new Sg(e)},embedding:function(e){return new Og(e)},add:function(e){return new Ng(e)},average:function(e){return new _g(e)},concatenate:function(e){return new Pg(e)},maximum:function(e){return new Rg(e)},minimum:function(e){return new Mg(e)},multiply:function(e){return new Ag(e)},dot:function(e){return new Bg(e)},batchNormalization:function(e){return new jg(e)},layerNormalization:function(e){return new Hg(e)},zeroPadding2d:function(e){return new Wg(e)},averagePooling1d:Eb,avgPool1d:function(e){return Eb(e)},avgPooling1d:function(e){return Eb(e)},averagePooling2d:kb,avgPool2d:function(e){return kb(e)},avgPooling2d:function(e){return kb(e)},averagePooling3d:Sb,avgPool3d:function(e){return Sb(e)},avgPooling3d:function(e){return Sb(e)},globalAveragePooling1d:function(e){return new rb(e)},globalAveragePooling2d:function(e){return new ib(e)},globalMaxPooling1d:Tb,globalMaxPooling2d:Ob,maxPooling1d:Ib,maxPooling2d:Nb,maxPooling3d:function(e){return new eb(e)},gru:function(e){return new vb(e)},gruCell:function(e){return new hb(e)},lstm:function(e){return new gb(e)},lstmCell:function(e){return new mb(e)},simpleRNN:function(e){return new fb(e)},simpleRNNCell:function(e){return new db(e)},rnn:function(e){return new cb(e)},stackedRNNCells:function(e){return new bb(e)},bidirectional:function(e){return new Cb(e)},timeDistributed:function(e){return new xb(e)},globalMaxPool1d:Ab,globalMaxPool2d:_b,maxPool1d:Rb,maxPool2d:Mb,Layer:Jh,RNN:cb,RNNCell:pb,input:Sm,gaussianNoise:function(e){return new Lg(e)},gaussianDropout:function(e){return new zg(e)},alphaDropout:function(e){return new Fg(e)},masking:function(e){return new Tg(e)}});var Db=Object.freeze({binaryAccuracy:function(e,t){return Ev(e,t)},binaryCrossentropy:function(e,t){return Iv(e,t)},sparseCategoricalAccuracy:function(e,t){return Nv(e,t)},categoricalAccuracy:function(e,t){return kv(e,t)},categoricalCrossentropy:function(e,t){return Av(e,t)},precision:function(e,t){return Tv(e,t)},recall:function(e,t){return Ov(e,t)},cosineProximity:function(e,t){return wv(e,t)},meanAbsoluteError:function(e,t){return vv(e,t)},meanAbsolutePercentageError:function(e,t){return mv(e,t)},MAPE:function(e,t){return mv(e,t)},mape:function(e,t){return mv(e,t)},meanSquaredError:function(e,t){return hv(e,t)},MSE:function(e,t){return hv(e,t)},mse:function(e,t){return hv(e,t)}}),Bb=Object.freeze({modelFromJSON:function(e,t){return jd(this,void 0,void 0,(function(){var n,r,a,o,i,s,l,u;return Hd(this,(function(c){switch(c.label){case 0:return"modelTopology"in e||(e={modelTopology:e}),null!=(n=e.modelTopology).model_config&&(n=n.model_config),r=jv(n),a=dv(r,t),null==e.weightsManifest?[3,2]:[4,pd.loadWeights(e.weightsManifest,e.pathPrefix,a.weights.map((function(e){return e.originalName})))];case 1:for(o=c.sent(),i={},s=0,l=a.weights;s<l.length;s++)u=l[s],i[u.originalName]=o[u.originalName];a.loadWeights(i),Gt(o),c.label=2;case 2:return[2,a]}}))}))}});var Lb=Object.freeze({l1l2:function(e){return new Um(e)},l1:function(e){return function(e){return Hm(e),new Um({l1:null!=e?e.l1:null,l2:0})}(e)},l2:function(e){return function(e){return Hm(e),new Um({l2:null!=e?e.l2:null,l1:0})}(e)}}),zb=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.model=null,t}return Fd(t,e),t.prototype.setModel=function(e){if(!(e instanceof ym))throw new Error("model must be a LayersModel, not some other Container");this.model=e},t}(av);function Fb(e,t){return e<t}function $b(e,t){return e>t}var Vb=function(e){function t(t){var n=e.call(this)||this;if(null==t&&(t={}),t.restoreBestWeights)throw new Xd("restoreBestWeights = True is not implemented in EarlyStopping yet.");return n.monitor=t.monitor||"val_loss",n.minDelta=Math.abs(t.minDelta||0),n.patience=t.patience||0,n.verbose=t.verbose||0,n.mode=t.mode||"auto",n.baseline=t.baseline,-1===["auto","min","max"].indexOf(n.mode)&&(console.warn("EarlyStopping mode '"+n.mode+"' is invalid. Falling back to mode 'auto'."),n.mode="auto"),"min"===n.mode?n.monitorFunc=Fb:"max"===n.mode||-1!==n.monitor.indexOf("acc")?n.monitorFunc=$b:n.monitorFunc=Fb,n.monitorFunc===Fb&&(n.minDelta*=-1),n}return Fd(t,e),t.prototype.onTrainBegin=function(e){return jd(this,void 0,void 0,(function(){return Hd(this,(function(e){return this.wait=0,this.stoppedEpoch=0,null!=this.baseline?this.best=this.baseline:this.best=this.monitorFunc===Fb?1/0:-1/0,[2]}))}))},t.prototype.onEpochEnd=function(e,t){return jd(this,void 0,void 0,(function(){var n;return Hd(this,(function(r){switch(r.label){case 0:return[4,nv(t)];case 1:return r.sent(),null==(n=this.getMonitorValue(t))||(this.monitorFunc(n-this.minDelta,this.best)?(this.best=n,this.wait=0):(this.wait++,this.wait>=this.patience&&(this.stoppedEpoch=e,this.model.stopTraining=!0))),[2]}}))}))},t.prototype.onTrainEnd=function(e){return jd(this,void 0,void 0,(function(){return Hd(this,(function(e){return this.stoppedEpoch>0&&this.verbose&&console.log("Epoch "+this.stoppedEpoch+": early stopping."),[2]}))}))},t.prototype.getMonitorValue=function(e){null==e&&(e={});var t=e[this.monitor];return null==t&&console.warn("Metric for EarlyStopping "+this.monitor+" is not available. Available metrics are: "+Object.keys(e)),t},t}(zb);var jb,Hb,Wb={earlyStopping:function(e){return new Vb(e)}},Ub=function(){return(Ub=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function qb(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?a(e.value):new n((function(t){t(e.value)})).then(i,s)}l((r=r.apply(e,t||[])).next())}))}function Gb(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}!function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF"}(jb||(jb={})),function(e){!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(Hb||(Hb={}));var Xb={};function Yb(e,t){var n={tfOpName:e,category:"custom",inputs:[],attrs:[],customExecutor:t};Xb[e]=n}function Kb(e){return Xb[e]}function Jb(e){delete Xb[e]}function Qb(e,t,n,r){var a=t.inputParams[e];if(a&&void 0!==a.inputIndexStart){var o=a.inputIndexStart,i=0===a.inputIndexEnd?void 0:void 0===a.inputIndexEnd?o+1:a.inputIndexEnd;if("tensor"===a.type)return Zb(t.inputNames[a.inputIndexStart],n,r);if("tensors"===a.type)return t.inputNames.slice(o,i).map((function(e){return Zb(e,n,r)}));var s=Array.prototype.slice.call(Zb(t.inputNames.slice(o)[0],n,r).dataSync());return"number"===a.type?s[0]:s}var l=t.attrParams[e];return l&&l.value}function Zb(e,t,n){var r=ny(e),a=r[0],o=r[1],i=n.currentContextIds.find((function(e){return!!t[ty(a,e)]}));return void 0!==i?t[ty(a,i)][o]:void 0}function ey(e,t){var n=ny(e),r=n[0],a=n[1];return[ty(r,t&&t.currentContextId),a]}function ty(e,t){return t?e+"-"+t:e}function ny(e){var t=e.lastIndexOf(":");return-1===t?[e,0]:[e.substring(0,t),Number(e.substring(t+1))]}function ry(e,t){for(var n=[],r=0;r<e.length;r+=t)n.push(e.slice(r,r+t));return n}var ay=Object.freeze({json:[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]}),oy=Object.freeze({json:[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"clip_value_min",name:"clipValueMin",type:"number"},{tfName:"clip_value_max",name:"clipValueMax",type:"number"}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"clipValueMin",name:"clipValueMin",type:"number",defaultValue:0},{tfName:"clipValueMax",name:"clipValueMax",type:"number",defaultValue:6}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Prod",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axes",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]}),iy=Object.freeze({json:[{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"}]}]}),sy=Object.freeze({json:[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]}]}),ly=Object.freeze({json:[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}]}),uy=Object.freeze({json:[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]}),cy=Object.freeze({json:[{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]}]}),py=Object.freeze({json:[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}]}),dy=Object.freeze({json:[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]}]}),fy=Object.freeze({json:[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]}),hy=Object.freeze({json:[{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]}),vy=Object.freeze({json:[{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"SparseToDense",category:"normalization",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!0,notSupported:!0}]}]}),my=Object.freeze({json:[{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]}]}),gy=Object.freeze({json:[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool",notSupported:!0}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]}]}),by=Object.freeze({json:[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}]}),yy=Object.freeze({json:[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]}]}),wy=function(){function e(){var e=[ay,oy,iy,sy,ly,uy,cy,fy,dy,py,hy,vy,my,gy,by,yy],t=[].concat.apply([],e.map((function(e){return e.json})));this.opMappers=t.reduce((function(e,t){return e[t.tfOpName]=t,e}),{})}return Object.defineProperty(e,"Instance",{get:function(){return this._instance||(this._instance=new this)},enumerable:!0,configurable:!0}),e.prototype.transformGraph=function(e){var t=this,n=[],r=[],a=e.node.reduce((function(e,a){return e[a.name]=t.mapNode(a),"Placeholder"===a.op&&n.push(e[a.name]),"Const"===a.op&&r.push(e[a.name]),e}),{}),o=[],i=[],s=Object.keys(a);return s.forEach((function(e){var t=a[e];t.inputNames.forEach((function(e){var n=ey(e)[0];t.inputs.push(a[n]),a[n].children.push(t)})),0===t.inputs.length&&o.push(t)})),s.forEach((function(e){var t=a[e];0===t.children.length&&i.push(t)})),{nodes:a,inputs:o,outputs:i,weights:r,placeholders:n}},e.prototype.mapNode=function(e){var t=Kb(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});var n={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map((function(e){return e.startsWith("^")?e.substr(1):e})),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr};return null!=t.inputs&&(n.inputParams=t.inputs.reduce((function(e,t){return e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e}),{})),null!=t.attrs&&(n.attrParams=t.attrs.reduce((function(t,n){var r=n.type,a=void 0;switch(n.type){case"string":void 0===(a=Ey(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=Ey(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":void 0===(a=Ry(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=Ry(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":void 0===(a=Sy(e.attr,n.tfName,n.defaultValue||0))&&n.tfDeprecatedName&&(a=Sy(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":void 0===(a=_y(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=_y(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":void 0===(a=ky(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=ky(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":void 0===(a=Py(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=Py(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":void 0===(a=Ay(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=Ay(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":void 0===(a=My(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=My(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":void 0===(a=Oy(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=Oy(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":void 0===(a=Iy(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=Iy(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error("Unsupported param type: "+n.type+" for op: "+e.op)}return t[n.name]={value:a,type:r},t}),{})),n},e}();function xy(e){var t=u().global;if(void 0!==t.atob)return t.atob(e);if("undefined"!=typeof Buffer)return new Buffer(e,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}function Cy(e,t){var n=Array.isArray(e)?String.fromCharCode.apply(null,e):xy(e);return t?n:n.toLowerCase()}function Ey(e,t,n,r){void 0===r&&(r=!1);var a=e[t];return null!=a?Cy(a.s,r):n}function ky(e,t,n){var r=e[t];return r?r.b:n}function Sy(e,t,n){var r=e[t]||{},a=null!=r.i?r.i:null!=r.f?r.f:n;return"number"==typeof a?a:parseInt(a,10)}function Ty(e){switch("string"==typeof e&&(e=jb[e]),e){case jb.DT_FLOAT:return"float32";case jb.DT_INT32:case jb.DT_INT64:return"int32";case jb.DT_BOOL:return"bool";case jb.DT_DOUBLE:return"float32";case jb.DT_STRING:return"string";default:return null}}function Oy(e,t,n){var r=e[t];return r&&r.type?Ty(r.type):n}function Iy(e,t,n){var r=e[t];return r&&r.list&&r.list.type?r.list.type.map((function(e){return Ty(e)})):n}function Ny(e){if(!e.unknownRank)return null!=e.dim?e.dim.map((function(e){return"number"==typeof e.size?e.size:parseInt(e.size,10)})):[]}function Ay(e,t,n){var r=e[t];return r&&r.shape?Ny(r.shape):n}function _y(e,t,n){var r=e[t];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map((function(e){return"number"==typeof e?e:parseInt(e,10)})):n}function Ry(e,t,n,r){void 0===r&&(r=!1);var a=e[t];return a&&a.list&&a.list.s?a.list.s.map((function(e){return Cy(e,r)})):n}function My(e,t,n){var r=e[t];return r&&r.list&&r.list.shape?r.list.shape.map((function(e){return Ny(e)})):n}function Py(e,t,n){var r=e[t];return r&&r.list&&r.list.b?r.list.b:n}var Dy=function(){function e(e,t,n){var r=this;this.node=e,this.tensorMap=t,this.context=n,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map((function(e){return r.getInput(e)})),null!=e.rawAttrs&&(this.attrs=Object.keys(e.rawAttrs).reduce((function(e,t){return e[t]=r.getAttr(t),e}),{}))}return e.prototype.getInput=function(e){return Zb(e,this.tensorMap,this.context)},e.prototype.getAttr=function(e,t){var n=this.node.rawAttrs[e];if(null!=n.tensor)return Zb(e,this.tensorMap,this.context);if(null!=n.i||null!=n.f)return Sy(this.node.rawAttrs,e,t);if(null!=n.s)return Ey(this.node.rawAttrs,e,t);if(null!=n.b)return ky(this.node.rawAttrs,e,t);if(null!=n.shape)return Ay(this.node.rawAttrs,e,t);if(null!=n.type)return Oy(this.node.rawAttrs,e,t);if(null!=n.list){if(null!=n.list.i||null!=n.list.f)return _y(this.node.rawAttrs,e,t);if(null!=n.list.s)return Ry(this.node.rawAttrs,e,t);if(null!=n.list.shape)return My(this.node.rawAttrs,e,t);if(null!=n.list.b)return Py(this.node.rawAttrs,e,t);if(null!=n.list.type)return Iy(this.node.rawAttrs,e,t)}return t},e}(),By=function(){function e(t,n,r,a,o,i,s){this.name=t,this.dtype=n,this.maxSize=r,this.elementShape=a,this.identicalElementShapes=o,this.dynamicSize=i,this.clearAfterRead=s,this.tensors=[],this.closed_=!1,this.id=e.nextId++}return Object.defineProperty(e.prototype,"closed",{get:function(){return this.closed_},enumerable:!0,configurable:!0}),e.prototype.clearAndClose=function(){this.tensors.forEach((function(e){return e.tensor.dispose()})),this.tensors=[],this.closed_=!0},e.prototype.size=function(){return this.tensors.length},e.prototype.read=function(e){if(this.closed_)throw new Error("TensorArray "+this.name+" has already been closed.");if(e<0||e>=this.tensors.length)throw new Error("Tried to read from index "+e+", but array size is: "+this.tensors.length);var t=this.tensors[e];if(t.cleared)throw new Error("TensorArray "+this.name+": Could not read index "+e+" twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).");return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor},e.prototype.readMany=function(e){var t=this;return e.map((function(e){return t.read(e)}))},e.prototype.write=function(e,t){if(this.closed_)throw new Error("TensorArray "+this.name+" has already been closed.");if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error("Tried to write to index "+e+", but array is not resizeable and size is: "+this.maxSize);var n=this.tensors[e]||{};if(t.dtype!==this.dtype)throw new Error("TensorArray "+this.name+": Could not write to TensorArray index "+e+",\n          because the value dtype is "+t.dtype+", but TensorArray dtype is "+this.dtype+".");if(0!==this.size()||null!=this.elementShape&&0!==this.elementShape.length||(this.elementShape=t.shape),this.assertShapesMatchAllowUndefinedSize(this.elementShape,t.shape,"TensorArray "+this.name+": Could not write to TensorArray index "+e+"."),n&&n.read)throw new Error("TensorArray "+this.name+": Could not write to TensorArray index "+e+", because it has already been read.");if(n&&n.written)throw new Error("TensorArray "+this.name+": Could not write to TensorArray index "+e+", because it has already been written.");n.tensor=t,n.written=!0,this.tensors[e]=n},e.prototype.writeMany=function(e,t){var n=this;if(e.length!==t.length)throw new Error("TensorArray "+this.name+": could not write multiple tensors,because the index size: "+e.length+" is not the same as tensors size: "+t.length+".");e.forEach((function(e,r){return n.write(e,t[r])}))},e.prototype.gather=function(e,t){if(t&&t!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but gather requested dtype "+t);if(!e){e=[];for(var n=0;n<this.size();n++)e.push(n)}if(0===e.length)return Sn([],[0].concat(this.elementShape));var r=this.readMany(e);return this.assertShapesMatchAllowUndefinedSize(this.elementShape,r[0].shape,"TensorArray shape mismatch: "),Nr(r,0)},e.prototype.concat=function(e){if(e&&e!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but concat requested dtype "+e);if(0===this.size())return Sn([],[0].concat(this.elementShape));for(var t=[],n=0;n<this.size();n++)t.push(n);var r=this.readMany(t);return this.assertShapesMatchAllowUndefinedSize(this.elementShape,r[0].shape,"TensorArray shape mismatch: tensor array shape ("+this.elementShape+") vs first tensor shape ("+r[0].shape+")"),jn(r,0)},e.prototype.scatter=function(e,t){if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but tensor has dtype "+t.dtype);if(e.length!==t.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: "+e.length+" vs. "+t.shape[0]);var n=Math.max.apply(Math,e);if(!this.dynamicSize&&n>=this.maxSize)throw new Error("Max index must be < array size ("+n+"  vs. "+this.maxSize+")");this.writeMany(e,Rr(t,0))},e.prototype.split=function(e,t){var n=this;if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but tensor has dtype "+t.dtype);var r=0,a=e.map((function(e){return r+=e}));if(r!==t.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        "+r+", and tensor's shape is: "+t.shape);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error("TensorArray's size is not equal to the size of lengths ("+this.maxSize+" vs. "+e.length+"), and the TensorArray is not marked as dynamically resizeable");var o=0===r?0:t.size/r,i=[];qt((function(){t=t.reshape([1,r,o]);for(var s=0;s<e.length;++s){var l=[0,0===s?0:a[s-1],0],u=[1,e[s],o];i[s]=Wu(t,l,u).reshape(n.elementShape)}return i}));for(var s=[],l=0;l<e.length;l++)s[l]=l;this.writeMany(s,i)},e.prototype.assertShapesMatchAllowUndefinedSize=function(e,t,n){void 0===n&&(n=""),ae.assert(this.shapesEqualAllowUndefinedSize(e,t),(function(){return n+" Shapes "+e+" and "+t+" must match"}))},e.prototype.shapesEqualAllowUndefinedSize=function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(-1!==e[n]&&-1!==t[n]&&e[n]!==t[n])return!1;return!0},e.nextId=0,e}();function Ly(e,t,n){var r=function(e,t,n){switch(e.category){case"arithmetic":return function(e,t,n){switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[_l(Qb("a",e,t,n),Qb("b",e,t,n))];case"AddN":return[Rl(Qb("tensors",e,t,n))];case"FloorMod":case"Mod":return[jl(Qb("a",e,t,n),Qb("b",e,t,n))];case"Mul":return[Wl(Qb("a",e,t,n),Qb("b",e,t,n))];case"RealDiv":case"Div":return[Dl(Qb("a",e,t,n),Qb("b",e,t,n))];case"FloorDiv":return[Ll(Qb("a",e,t,n),Qb("b",e,t,n))];case"Sub":return[Kl(Qb("a",e,t,n),Qb("b",e,t,n))];case"Minimum":return[$l(Qb("a",e,t,n),Qb("b",e,t,n))];case"Maximum":return[zl(Qb("a",e,t,n),Qb("b",e,t,n))];case"Pow":return[ql(Qb("a",e,t,n),Qb("b",e,t,n))];case"SquaredDifference":return[Xl(Qb("a",e,t,n),Qb("b",e,t,n))];default:throw TypeError("Node type "+e.op+" is not implemented")}}(e,t,n);case"basic_math":return function(e,t,n){switch(e.op){case"Abs":case"ComplexAbs":return[_s(Qb("x",e,t,n))];case"Acos":return[Rs(Qb("x",e,t,n))];case"Acosh":return[Ms(Qb("x",e,t,n))];case"Asin":return[Ps(Qb("x",e,t,n))];case"Asinh":return[Ds(Qb("x",e,t,n))];case"Atan":return[Bs(Qb("x",e,t,n))];case"Atan2":return[Pl(Qb("x",e,t,n),Qb("y",e,t,n))];case"Atanh":return[Ls(Qb("x",e,t,n))];case"Ceil":return[zs(Qb("x",e,t,n))];case"Complex":return[Cn(Qb("real",e,t,n),Qb("imag",e,t,n))];case"Cos":return[$s(Qb("x",e,t,n))];case"Cosh":return[Vs(Qb("x",e,t,n))];case"Elu":return[sc(Qb("x",e,t,n))];case"Erf":return[js(Qb("x",e,t,n))];case"Exp":return[Hs(Qb("x",e,t,n))];case"Expm1":return[Ws(Qb("x",e,t,n))];case"Floor":return[Us(Qb("x",e,t,n))];case"Log":return[qs(Qb("x",e,t,n))];case"Log1p":return[Gs(Qb("x",e,t,n))];case"Imag":return[kn(Qb("x",e,t,n))];case"Neg":return[Ys(Qb("x",e,t,n))];case"Reciprocal":return[Ks(Qb("x",e,t,n))];case"Real":return[En(Qb("x",e,t,n))];case"Relu":return[cc(Qb("x",e,t,n))];case"Round":return[Js(Qb("x",e,t,n))];case"Selu":return[dc(Qb("x",e,t,n))];case"Sigmoid":return[Zs(Qb("x",e,t,n))];case"Sin":return[al(Qb("x",e,t,n))];case"Sign":return[el(Qb("x",e,t,n))];case"Sinh":return[ol(Qb("x",e,t,n))];case"Softplus":return[il(Qb("x",e,t,n))];case"Sqrt":return[sl(Qb("x",e,t,n))];case"Square":return[As(Qb("x",e,t,n))];case"Tanh":return[cl(Qb("x",e,t,n))];case"Tan":return[ul(Qb("x",e,t,n))];case"Relu6":case"ClipByValue":return[Fs(Qb("x",e,t,n),Qb("clipValueMin",e,t,n),Qb("clipValueMax",e,t,n))];case"Rsqrt":return[Qs(Zb(e.inputNames[0],t,n))];case"Prod":return[ic(Qb("x",e,t,n),Qb("axes",e,t,n))];case"LeakyRelu":return[lc(Qb("x",e,t,n),Qb("alpha",e,t,n))];default:throw TypeError("Node type "+e.op+" is not implemented")}}(e,t,n);case"control":return function(e,t,n){return qb(this,void 0,void 0,(function(){var r,a,o,i,s,l,u,c,p,d,f,h,v,m,g,b,y,w,x,C,E,k,S,T,O,I,N,A,_,R,M,P,D,B;return Gb(this,(function(L){switch(L.label){case 0:switch(e.op){case"LoopCond":return[3,1];case"Switch":return[3,2];case"Merge":return[3,4];case"Enter":return[3,5];case"Exit":return[3,6];case"NextIteration":return[3,7];case"TensorArrayV3":return[3,8];case"TensorArrayWriteV3":return[3,9];case"TensorArrayReadV3":return[3,10];case"TensorArrayGatherV3":return[3,11];case"TensorArrayScatterV3":return[3,12];case"TensorArrayConcatV3":return[3,13];case"TensorArraySplitV3":return[3,14];case"TensorArraySizeV3":return[3,15];case"TensorArrayCloseV3":return[3,16]}return[3,17];case 1:return[2,[Qb("pred",e,t,n).clone()]];case 2:return r=Qb("pred",e,t,n),a=Qb("data",e,t,n),[4,r.data()];case 3:return[2,L.sent()[0]?[void 0,a.clone()]:[a.clone(),void 0]];case 4:return[2,(o=e.inputNames.find((function(e){return void 0!==Zb(e,t,n)})))?[Zb(o,t,n).clone()]:void 0];case 5:return i=Qb("frameName",e,t,n),s=Qb("tensor",e,t,n),n.enterFrame(i),[2,[s.clone()]];case 6:return l=Qb("tensor",e,t,n),n.exitFrame(),[2,[l.clone()]];case 7:return u=Qb("tensor",e,t,n),n.nextIteration(),[2,[u.clone()]];case 8:return c=Qb("size",e,t,n),p=Qb("dtype",e,t,n),d=Qb("elementShape",e,t,n),f=Qb("dynamicSize",e,t,n),h=Qb("clearAfterRead",e,t,n),v=Qb("identicalElementShapes",e,t,n),m=Qb("name",e,t,n),g=new By(m,p,c,d,v,f,h),n.addTensorArray(g),[2,[On(g.id),On(1)]];case 9:return b=Qb("tensorArrayId",e,t,n),y=Qb("index",e,t,n),w=Qb("tensor",e,t,n),n.getTensorArray(b).write(y,w),[2,[On(1)]];case 10:return x=Qb("tensorArrayId",e,t,n),C=Qb("index",e,t,n),[2,[n.getTensorArray(x).read(C)]];case 11:return E=Qb("tensorArrayId",e,t,n),k=Qb("indices",e,t,n),S=Qb("dtype",e,t,n),[2,[n.getTensorArray(E).gather(k,S)]];case 12:return T=Qb("tensorArrayId",e,t,n),O=Qb("indices",e,t,n),I=Qb("tensor",e,t,n),n.getTensorArray(T).scatter(O,I),[2,[On(1)]];case 13:return N=Qb("tensorArrayId",e,t,n),A=n.getTensorArray(N),_=Qb("dtype",e,t,n),[2,[A.concat(_)]];case 14:return R=Qb("tensorArrayId",e,t,n),M=Qb("tensor",e,t,n),P=Qb("lengths",e,t,n),n.getTensorArray(R).split(P,M),[2,[On(1)]];case 15:return D=Qb("tensorArrayId",e,t,n),[2,[On(n.getTensorArray(D).size(),"int32")]];case 16:return B=Qb("tensorArrayId",e,t,n),n.getTensorArray(B).clearAndClose(),[2,[]];case 17:throw TypeError("Node type "+e.op+" is not implemented")}}))}))}(e,t,n);case"convolution":return function(e,t,n){var r,a;switch(e.op){case"Conv1D":var o=Qb("stride",e,t,n),i=Qb("pad",e,t,n),s=Qb("dataFormat",e,t,n).toUpperCase(),l=Qb("dilation",e,t,n);return[bu(Qb("x",e,t,n),Qb("filter",e,t,n),o,i,s,l)];case"Conv2D":o=Qb("strides",e,t,n),i=Qb("pad",e,t,n),s=Qb("dataFormat",e,t,n).toUpperCase();var u=Qb("dilations",e,t,n);return[yu(Qb("x",e,t,n),Qb("filter",e,t,n),[o[1],o[2]],i,s,[u[1],u[2]])];case"_FusedConv2D":var c=(r=Qb("fusedOps",e,t,n))[0],p=r[1],d="biasadd"===c,f="prelu"===p,h="fusedbatchnorm"===c,v=Qb("numArgs",e,t,n);if(d){if(f&&2!==v)throw new Error("Fused Conv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!f&&1!==v)throw new Error("Fused Conv2d with BiasAdd must have one extra argument: bias.")}if(h)throw new Error("Fused Conv2d with FusedBatchNorm is not supported.");o=Qb("strides",e,t,n),i=Qb("pad",e,t,n),s=Qb("dataFormat",e,t,n).toUpperCase(),u=Qb("dilations",e,t,n);var m=(a=Qb("args",e,t,n))[0],g=a[1];return[dp.conv2d({x:Qb("x",e,t,n),filter:Qb("filter",e,t,n),strides:[o[1],o[2]],pad:i,dataFormat:s,dilations:[u[1],u[2]],bias:m,activation:p,preluActivationWeights:g})];case"Conv2DBackpropInput":case"Conv2dTranspose":var b=Qb("outputShape",e,t,n);return o=Qb("strides",e,t,n),i=Qb("pad",e,t,n),[Ou(Qb("x",e,t,n),Qb("filter",e,t,n),b,[o[1],o[2]],i)];case"DepthwiseConv2dNative":case"DepthwiseConv2d":return o=Qb("strides",e,t,n),i=Qb("pad",e,t,n),u=Qb("dilations",e,t,n),s=Qb("dataFormat",e,t,n).toUpperCase(),[Eu(Qb("input",e,t,n),Qb("filter",e,t,n),[o[1],o[2]],i,s,[u[1],u[2]])];case"Conv3D":return o=Qb("strides",e,t,n),i=Qb("pad",e,t,n),s=Qb("dataFormat",e,t,n).toUpperCase(),u=Qb("dilations",e,t,n),[wu(Qb("x",e,t,n),Qb("filter",e,t,n),[o[1],o[2],o[3]],i,s,[u[1],u[2],u[3]])];case"AvgPool":o=Qb("strides",e,t,n),i=Qb("pad",e,t,n);var y=Qb("kernelSize",e,t,n);return[$u(Qb("x",e,t,n),[y[1],y[2]],[o[1],o[2]],i)];case"MaxPool":return o=Qb("strides",e,t,n),i=Qb("pad",e,t,n),y=Qb("kernelSize",e,t,n),[Fu(Qb("x",e,t,n),[y[1],y[2]],[o[1],o[2]],i)];case"AvgPool3D":return o=Qb("strides",e,t,n),i=Qb("pad",e,t,n),y=Qb("kernelSize",e,t,n),[Hu(Qb("x",e,t,n),[y[1],y[2],y[3]],[o[1],o[2],o[3]],i)];case"MaxPool3D":return o=Qb("strides",e,t,n),i=Qb("pad",e,t,n),y=Qb("kernelSize",e,t,n),[ju(Qb("x",e,t,n),[y[1],y[2],y[3]],[o[1],o[2],o[3]],i)];default:throw TypeError("Node type "+e.op+" is not implemented")}}(e,t,n);case"creation":return function(e,t,n){switch(e.op){case"Fill":var r=Qb("shape",e,t,n),a=Qb("dtype",e,t,n);return[Ln(r,Qb("value",e,t,n),a)];case"LinSpace":var o=Qb("start",e,t,n);return[zn(o,Qb("stop",e,t,n),Qb("num",e,t,n))];case"Multinomial":var i=Qb("logits",e,t,n),s=Qb("numSamples",e,t,n),l=Qb("seed",e,t,n);return[vr(i,s,l)];case"OneHot":var u=Qb("indices",e,t,n),c=Qb("depth",e,t,n),p=Qb("onValue",e,t,n),d=Qb("offValue",e,t,n);return[mr(u,c,p,d)];case"Ones":return[Dn(Qb("shape",e,t,n),Qb("dtype",e,t,n))];case"OnesLike":return[$n(Qb("x",e,t,n))];case"RandomUniform":return[Sr(Qb("shape",e,t,n),Qb("minval",e,t,n),Qb("maxval",e,t,n),Qb("dtype",e,t,n))];case"Range":return[Fn(o=Qb("start",e,t,n),Qb("stop",e,t,n),Qb("step",e,t,n),Qb("dtype",e,t,n))];case"TruncatedNormal":r=Qb("shape",e,t,n);var f=Qb("mean",e,t,n),h=Qb("stdDev",e,t,n);return l=Qb("seed",e,t,n),[_r(r,f,h,Qb("dtype",e,t,n),l)];case"Zeros":return[Bn(Qb("shape",e,t,n),Qb("dtype",e,t,n))];case"ZerosLike":return[Vn(Qb("x",e,t,n))];default:throw TypeError("Node type "+e.op+" is not implemented")}}(e,t,n);case"dynamic":return function(e,t,n){return qb(this,void 0,void 0,(function(){var r,a,o,i,s;return Gb(this,(function(l){switch(l.label){case 0:switch(e.op){case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":return[3,1];case"Where":return[3,3];case"ListDiff":return[3,5]}return[3,6];case 1:return r=Qb("boxes",e,t,n),a=Qb("scores",e,t,n),o=Qb("maxOutputSize",e,t,n),i=Qb("iouThreshold",e,t,n),s=Qb("scoreThreshold",e,t,n),[4,ap.nonMaxSuppressionAsync(r,a,o,i,s)];case 2:case 4:return[2,[l.sent()]];case 3:return[4,Al(Qb("condition",e,t,n).asType("bool"))];case 5:return[2,Mr(Qb("x",e,t,n),Qb("y",e,t,n))];case 6:throw TypeError("Node type "+e.op+" is not implemented")}}))}))}(e,t,n);case"evaluation":return function(e,t,n){if("TopKV2"===e.op){var r=Qb("x",e,t,n),a=Qb("k",e,t,n),o=Qb("sorted",e,t,n),i=wc(r,a,o);return[i.values,i.indices]}throw TypeError("Node type "+e.op+" is not implemented")}(e,t,n);case"image":return function(e,t,n){switch(e.op){case"ResizeBilinear":var r=Qb("images",e,t,n),a=Qb("size",e,t,n),o=Qb("alignCorners",e,t,n);return[ap.resizeBilinear(r,[a[0],a[1]],o)];case"ResizeNearestNeighbor":return r=Qb("images",e,t,n),a=Qb("size",e,t,n),o=Qb("alignCorners",e,t,n),[ap.resizeNearestNeighbor(r,[a[0],a[1]],o)];case"CropAndResize":var i=Qb("image",e,t,n),s=Qb("boxes",e,t,n),l=Qb("boxInd",e,t,n),u=Qb("cropSize",e,t,n),c=Qb("method",e,t,n),p=Qb("extrapolationValue",e,t,n);return[ap.cropAndResize(i,s,l,u,c,p)];default:throw TypeError("Node type "+e.op+" is not implemented")}}(e,t,n);case"graph":return function(e,t,n){switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":var r=Qb("default",e,t,n);return[Zb(e.name,t,n)||r];case"Placeholder":return[Zb(e.name,t,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":case"Snapshot":return[Qb("x",e,t,n).clone()];case"IdentityN":return Qb("x",e,t,n).map((function(e){return e.clone()}));case"Shape":return[In(Qb("x",e,t,n).shape,"int32")];case"ShapeN":return Qb("x",e,t,n).map((function(e){return In(e.shape)}));case"Size":return[On(Qb("x",e,t,n).size,"int32")];case"Rank":return[On(Qb("x",e,t,n).rank,"int32")];case"NoOp":return[];case"Print":var a=Qb("x",e,t,n),o=Qb("data",e,t,n),i=Qb("message",e,t,n),s=Qb("summarize",e,t,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(i);for(var l=0;l<o.length;l++)console.log(Array.prototype.slice.call(o[l].dataSync()).slice(0,s));return[a];default:throw TypeError("Node type "+e.op+" is not implemented")}}(e,t,n);case"logical":return function(e,t,n){switch(e.op){case"Equal":return[Ql(Qb("a",e,t,n),Qb("b",e,t,n))];case"NotEqual":return[lu(Qb("a",e,t,n),Qb("b",e,t,n))];case"Greater":return[eu(Qb("a",e,t,n),Qb("b",e,t,n))];case"GreaterEqual":return[tu(Qb("a",e,t,n),Qb("b",e,t,n))];case"Less":return[au(Qb("a",e,t,n),Qb("b",e,t,n))];case"LessEqual":return[ou(Qb("a",e,t,n),Qb("b",e,t,n))];case"LogicalAnd":return[Sl(Qb("a",e,t,n),Qb("b",e,t,n))];case"LogicalNot":return[Tl(Qb("a",e,t,n))];case"LogicalOr":return[Ol(Qb("a",e,t,n),Qb("b",e,t,n))];case"Select":return[Nl(Qb("condition",e,t,n),Qb("a",e,t,n),Qb("b",e,t,n))];default:throw TypeError("Node type "+e.op+" is not implemented")}}(e,t,n);case"matrices":return function(e,t,n){switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[Nu(Qb("a",e,t,n),Qb("b",e,t,n),Qb("transposeA",e,t,n),Qb("transposeB",e,t,n))];case"Transpose":return[fc(Qb("x",e,t,n),Qb("perm",e,t,n))];default:throw TypeError("Node type "+e.op+" is not implemented")}}(e,t,n);case"normalization":return function(e,t,n){switch(e.op){case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[xl(Qb("x",e,t,n),Qb("mean",e,t,n),Qb("variance",e,t,n),Qb("offset",e,t,n),Qb("scale",e,t,n),Qb("epsilon",e,t,n))];case"LRN":return[hc(Qb("x",e,t,n),Qb("radius",e,t,n),Qb("bias",e,t,n),Qb("alpha",e,t,n),Qb("beta",e,t,n))];case"Softmax":return[ra(Qb("x",e,t,n))];case"LogSoftmax":return[aa(Qb("x",e,t,n))];case"SparseToDense":return[Oc(Qb("sparseIndices",e,t,n),Qb("outputShape",e,t,n),Qb("sparseValues",e,t,n),Qb("defaultValue",e,t,n))];default:throw TypeError("Node type "+e.op+" is not implemented")}}(e,t,n);case"reduction":return function(e,t,n){switch(e.op){case"Max":var r=Qb("axis",e,t,n),a=Qb("keepDims",e,t,n);return[tc(Qb("x",e,t,n),r,a)];case"Mean":return r=Qb("axis",e,t,n),a=Qb("keepDims",e,t,n),[nc(Qb("x",e,t,n),r,a)];case"Min":return r=Qb("axis",e,t,n),a=Qb("keepDims",e,t,n),[rc(Qb("x",e,t,n),r,a)];case"Sum":return r=Qb("axis",e,t,n),a=Qb("keepDims",e,t,n),[oc(Qb("x",e,t,n),r,a)];case"All":return r=Qb("axis",e,t,n),a=Qb("keepDims",e,t,n),[Ku(Qb("x",e,t,n),r,a)];case"Any":return r=Qb("axis",e,t,n),a=Qb("keepDims",e,t,n),[Ju(Qb("x",e,t,n),r,a)];case"ArgMax":return r=Qb("axis",e,t,n),[Qu(Qb("x",e,t,n),r)];case"ArgMin":return r=Qb("axis",e,t,n),[Zu(Qb("x",e,t,n),r)];case"Prod":return r=Qb("axis",e,t,n),a=Qb("keepDims",e,t,n),[ic(Qb("x",e,t,n),r,a)];default:throw TypeError("Node type "+e.op+" is not implemented")}}(e,t,n);case"slice_join":return function(e,t,n){switch(e.op){case"ConcatV2":case"Concat":var r=Qb("axis",e,t,n),a=Qb("tensors",e,t,n);return[jn(a,r)];case"GatherV2":case"Gather":r=Qb("axis",e,t,n);var o=Qb("x",e,t,n),i=Qb("indices",e,t,n);return[du(o,i.asType("int32"),r)];case"ReverseV2":case"Reverse":return r=Qb("axis",e,t,n),o=Qb("x",e,t,n),[Ru(o,r)];case"Slice":var s=Qb("begin",e,t,n),l=Qb("size",e,t,n);return[Wu(Qb("x",e,t,n),s,l)];case"StridedSlice":s=Qb("begin",e,t,n);var u=Qb("end",e,t,n),c=Qb("strides",e,t,n),p=Qb("beginMask",e,t,n),d=Qb("endMask",e,t,n),f=Qb("ellipsisMask",e,t,n),h=Qb("newAxisMask",e,t,n),v=Qb("shrinkAxisMask",e,t,n),m=Qb("x",e,t,n);if(1===s.length&&m.shape.length>1)for(var g=1;g<m.shape.length;g++)s.push(0),u.push(m.shape[g]),c.push(c[0]);return[yc(m,s,u,c,p,d,f,h,v)];case"Pack":return qt((function(){var r=Qb("axis",e,t,n),a=Qb("tensors",e,t,n),o=a[0].shape,i=a[0].squeeze().shape,s=a.map((function(e){var t=ae.arraysEqual(e.shape,o);if(!t&&!ae.arraysEqual(e.squeeze().shape,i))throw new Error("the input tensors shape does not match");return t?e:e.reshape(o)}));return[Nr(s,r)]}));case"Unpack":return qt((function(){var r=Qb("axis",e,t,n),a=Qb("tensor",e,t,n);return Rr(a,r)}));case"Tile":var b=Qb("reps",e,t,n);return[Ar(Qb("x",e,t,n),b)];case"Split":case"SplitV":r=Qb("axis",e,t,n);var y=Qb("numOrSizeSplits",e,t,n);return Gn(Qb("x",e,t,n),y,r);case"ScatterNd":i=Qb("indices",e,t,n);var w=Qb("values",e,t,n),x=Qb("shape",e,t,n);return[xc(i,w,x)];case"GatherNd":var C=Qb("x",e,t,n);return i=Qb("indices",e,t,n),[Ic(C,i)];case"SparseToDense":i=Qb("sparseIndices",e,t,n),x=Qb("outputShape",e,t,n);var E=Qb("sparseValues",e,t,n),k=Qb("defaultValue",e,t,n);return[Oc(i,E,x,E.dtype===k.dtype?k:k.asType(E.dtype))];default:throw TypeError("Node type "+e.op+" is not implemented")}}(e,t,n);case"spectral":return function(e,t,n){switch(e.op){case"FFT":return[Cc(Qb("x",e,t,n))];case"IFFT":return[Ec(Qb("x",e,t,n))];case"RFFT":return[kc(Qb("x",e,t,n))];case"IRFFT":return[Sc(Qb("x",e,t,n))];default:throw TypeError("Node type "+e.op+" is not implemented")}}(e,t,n);case"transformation":return function(e,t,n){switch(e.op){case"Cast":return[ur(Qb("x",e,t,n),Qb("dtype",e,t,n))];case"ExpandDims":var r=Qb("axis",e,t,n);return[fr(Qb("x",e,t,n),r)];case"Squeeze":return r=Qb("axis",e,t,n),[Ir(Qb("x",e,t,n),r)];case"Reshape":return[Tr(Qb("x",e,t,n),Qb("shape",e,t,n))];case"PadV2":case"Pad":return[gr(Qb("x",e,t,n),ry(Qb("padding",e,t,n),2),Qb("constantValue",e,t,n))];case"SpaceToBatchND":var a=Qb("blockShape",e,t,n),o=ry(Qb("paddings",e,t,n),2);return[Or(Qb("x",e,t,n),a,o)];case"BatchToSpaceND":a=Qb("blockShape",e,t,n);var i=ry(Qb("crops",e,t,n),2);return[lr(Qb("x",e,t,n),a,i)];case"DepthToSpace":var s=Qb("blockSize",e,t,n),l=Qb("dataFormat",e,t,n).toUpperCase();return[dr(Qb("x",e,t,n),s,l)];default:throw TypeError("Node type "+e.op+" is not implemented")}}(e,t,n);case"custom":var r=Kb(e.op);if(r&&r.customExecutor)return r.customExecutor(new Dy(e,t,n));throw TypeError("Custom op "+e.op+" is not registered.");default:throw TypeError("Unknown op '"+e.op+"'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()")}}(e,t,n);return r instanceof Promise?r.then((function(e){return[].concat(e)})):[].concat(r)}var zy=function(){function e(e,t){this.weightMap=e,this.tensorArrayMap=t,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}return e.prototype.newFrame=function(e,t){return{id:e,frameName:t,iterationId:0}},Object.defineProperty(e.prototype,"currentContext",{get:function(){return this.contexts},set:function(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentContextId",{get:function(){return this._currentContextIds[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentContextIds",{get:function(){return this._currentContextIds},enumerable:!0,configurable:!0}),e.prototype.generateCurrentContextIds=function(){for(var e=[],t=0;t<this.contexts.length-1;t++){var n=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(n))}e.push(""),this._currentContextIds=e},e.prototype.contextIdforContexts=function(e){return e?e.map((function(e){return 0===e.id&&0===e.iterationId?"":e.frameName+"-"+e.iterationId})).join("/"):""},e.prototype.enterFrame=function(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))},e.prototype.exitFrame=function(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()},e.prototype.nextIteration=function(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");this.contexts=this.contexts.slice(),this.lastId++;var e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))},e.prototype.getWeight=function(e){return this.weightMap[e]},e.prototype.addTensorArray=function(e){this.tensorArrayMap[e.id]=e},e.prototype.getTensorArray=function(e){return this.tensorArrayMap[e]},e}();function Fy(e,t,n){for(var r=new Set,a=[],o=null,i=null,s=new Set,l=t.slice();l.length>0;){var u=l.pop();(jy(u)||Hy(u))&&null==o&&(i=(o=u).children.map((function(e){return e.name})).filter((function(e){return r.has(e)}))),r.add(u.name),null==n[u.name]&&null==e[u.name]&&(0!==u.inputs.length?u.inputs.forEach((function(e){s.has(e.name)||(s.add(e.name),l.push(e))})):a.push(u.name))}return{inputs:e,outputs:t,usedNodes:r,missingInputs:a,dynamicNode:o,syncInputs:i}}var $y=["Switch","Merge","Enter","Exit","NextIteration"],Vy=["NonMaxSuppressionV2","NonMaxSuppressionV3","Where"];function jy(e){return $y.indexOf(e.op)>=0}function Hy(e){return Vy.indexOf(e.op)>=0}var Wy=function(){function e(e){this.graph=e,this.compiledMap=new Map,this._weightMap={},this.SEPERATOR=",",this.placeholders=e.placeholders,this._outputs=e.outputs}return Object.defineProperty(e.prototype,"weightMap",{get:function(){return this._weightMap},set:function(e){var t=Object.keys(e).map((function(t){return e[t].map((function(e){return e.id}))}));this.weightIds=[].concat.apply([],t),this._weightMap=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputs",{get:function(){return this.placeholders.map((function(e){return{name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){return this._outputs.map((function(e){return{name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputNodes",{get:function(){return this.placeholders.map((function(e){return e.name}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputNodes",{get:function(){return this.outputs.map((function(e){return e.name}))},enumerable:!0,configurable:!0}),e.prototype.getCompilationKey=function(e,t){var n=e.map((function(e){return e.name})).sort(),r=t.map((function(e){return e.name})).sort();return n.join(this.SEPERATOR)+"--"+r.join(this.SEPERATOR)},e.prototype.compile=function(e,t){var n=Fy(e,t,this.weightMap),r=n.missingInputs,a=n.dynamicNode,o=n.syncInputs;if(null!=a)throw new Error("This execution contains the node '"+a.name+"', which has the dynamic op '"+a.op+"'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs ["+o+"]");if(r.length>0){var i=t.map((function(e){return e.name})),s=Object.keys(e);throw new Error("Cannot compute the outputs ["+i+"] from the provided inputs ["+s+"]. Missing the following inputs: ["+r+"]")}return function(e,t,n){var r=n.usedNodes,a=n.inputs,o=[];Object.keys(a).map((function(t){return e.nodes[t]})).forEach((function(e){r.has(e.name)&&o.push(e)})),e.weights.forEach((function(e){r.has(e.name)&&o.push(e)}));for(var i=new Set,s=[];o.length>0;){var l=o.pop();i.add(l.name),t[l.name]||s.push(l),l.children.forEach((function(e){!i.has(e.name)&&r.has(e.name)&&e.inputs.every((function(e){return i.has(e.name)}))&&o.push(e)}))}return s}(this.graph,this.weightMap,n)},e.prototype.execute=function(e,t){var n=this,r=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),this.checkOutputs(t);var a=r.map((function(e){return n.graph.nodes[e]})),o=t.map((function(e){return n.graph.nodes[ny(e)[0]]})),i=this.getCompilationKey(a,o),s=this.compiledMap.get(i);null==s&&(s=this.compile(e,o),this.compiledMap.set(i,s));var l={};return qt((function(){var r=new zy(n._weightMap,l),a=Ub({},n.weightMap);Object.keys(e).forEach((function(t){a[t]=[e[t]]}));for(var o=n.getFrozenTensorIds(a),i={},u=0;u<s.length;u++){var c=s[u];if(!a[c.name]){var p=Ly(c,a,r);if(p instanceof Promise)throw new Error("The execution of the op '"+c.op+"' returned a promise. Please use model.executeAsync() instead.");a[c.name]=p,n.checkTensorForDisposal(c.name,c,a,r,o,t,i)}}return t.map((function(e){return Zb(e,a,r)}))}))},e.prototype.getFrozenTensorIds=function(e){var t=[].concat.apply([],Object.keys(e).map((function(t){return e[t]})).map((function(e){return e.map((function(e){return e.id}))})));return new Set(t)},e.prototype.checkTensorForDisposal=function(e,t,n,r,a,o,i){"control"!==t.category&&-1===o.indexOf(e)&&(n[e].forEach((function(e){null!=e&&(i[e.id]=(i[e.id]||0)+t.children.length)})),t.inputs.forEach((function(e){if("control"!==e.category){var t=function(e,t,n){return t[ty(e,n.currentContextId)]}(e.name,n,r);null!=t&&t.forEach((function(e){if(e&&!a.has(e.id)){var t=i[e.id];1===t?(e.dispose(),delete i[e.id]):null!=t&&i[e.id]--}}))}})))},e.prototype.executeAsync=function(e,t){return qb(this,void 0,void 0,(function(){var n,r,a,o,i,s,l=this;return Gb(this,(function(u){switch(u.label){case 0:return this.checkInputs(e),this.checkInputShapeAndType(e),this.checkOutputs(t),n={},r=new zy(this._weightMap,n),[4,this.executeWithControlFlow(e,r,t)];case 1:return a=u.sent(),o=t.map((function(e){return Zb(e,a,r)})),i=new Set(o.map((function(e){return e.id}))),s=new Set(Object.keys(e).map((function(t){return e[t].id}))),Object.keys(a).forEach((function(e){a[e].forEach((function(e){!e||e.isDisposed||i.has(e.id)||s.has(e.id)||-1!==l.weightIds.indexOf(e.id)||e.dispose()}))})),[2,o]}}))}))},e.prototype.executeWithControlFlow=function(e,t,n){return qb(this,void 0,void 0,(function(){var r,a,o,i,s,l,u,c,p,d,f,h,v,m,g,b,y=this;return Gb(this,(function(w){switch(w.label){case 0:r=Object.keys(e),a=r.map((function(e){return y.graph.nodes[e]})),o=n.map((function(e){return y.graph.nodes[ny(e)[0]]})),i=Fy(e,o,this.weightMap),s=i.usedNodes,l=i.missingInputs,u=i.dynamicNode,c=i.syncInputs,p=a.concat(this.graph.weights).map((function(e){return{node:e,contexts:t.currentContext}})),d=Ub({},this.weightMap),Object.keys(e).forEach((function(t){d[t]=[e[t]]})),f={},h=this.getFrozenTensorIds(d),v={},w.label=1;case 1:return p.length>0?(m=this.processStack(a,p,t,d,v,h,n,f,s),[4,Promise.all(m)]):[3,3];case 2:return w.sent(),[3,1];case 3:if(null==u&&console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead."),(g=o.filter((function(e){return!jy(e)&&!Zb(e.name,d,t)})).map((function(e){return e.name}))).length>0)throw b="",null!=u&&(b="Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs ["+c+"]"),new Error("Cannot compute the outputs ["+g+"] from the provided inputs ["+r+"]. Consider providing the following inputs: ["+l+"]. "+b);return[2,d]}}))}))},e.prototype.processStack=function(e,t,n,r,a,o,i,s,l){for(var u=this,c=[],p=function(){var p=t.pop();n.currentContext=p.contexts;var f="";if("Enter"===p.node.op&&Qb("isConstant",p.node,r,n)&&(f=ey(p.node.name,n)[0]),-1===e.indexOf(p.node)){var h=Ly(p.node,r,n);f||(f=ey(p.node.name,n)[0]);var v=n.currentContext;h instanceof Promise?c.push(h.then((function(e){return r[f]=e,n.currentContext=v,u.checkTensorForDisposal(f,p.node,r,n,o,i,s),u.processChildNodes(p.node,t,n,r,a,l),e}))):(r[f]=h,d.checkTensorForDisposal(f,p.node,r,n,o,i,s),d.processChildNodes(p.node,t,n,r,a,l))}else d.processChildNodes(p.node,t,n,r,a,l)},d=this;t.length>0;)p();return c},e.prototype.processChildNodes=function(e,t,n,r,a,o){e.children.forEach((function(e){var i=ey(e.name,n)[0];!a[i]&&o.has(e.name)&&("Merge"===e.op?e.inputNames.some((function(e){return!!Zb(e,r,n)}))&&(a[i]=!0,t.push({contexts:n.currentContext,node:e})):e.inputNames.every((function(e){return!!Zb(e,r,n)}))&&(a[i]=!0,t.push({contexts:n.currentContext,node:e})))}))},e.prototype.dispose=function(){var e=this;Object.keys(this.weightMap).forEach((function(t){return e.weightMap[t].forEach((function(e){return e.dispose()}))}))},e.prototype.checkInputShapeAndType=function(e){var t=this;Object.keys(e).forEach((function(n){var r=e[n],a=t.graph.nodes[n];if(a.attrParams.shape&&a.attrParams.shape.value){var o=a.attrParams.shape.value,i=o.length===r.shape.length&&r.shape.every((function(e,t){return-1===o[t]||o[t]===e}));ae.assert(i,(function(){return"The shape of dict['"+a.name+"'] provided in model.execute(dict) must be ["+o+"], but was ["+r.shape+"]"}))}a.attrParams.dtype&&a.attrParams.dtype.value&&ae.assert(r.dtype===a.attrParams.dtype.value,(function(){return"The dtype of dict['"+a.name+"'] provided in model.execute(dict) must be "+a.attrParams.dtype.value+", but was "+r.dtype}))}))},e.prototype.checkInputs=function(e){var t=this,n=Object.keys(e).filter((function(e){return!t.graph.nodes[e]}));if(n.length>0)throw new Error("The dict provided in model.execute(dict) has keys: ["+n+"] that are not part of graph")},e.prototype.checkOutputs=function(e){var t=this;e.forEach((function(e){var n=ny(e)[0];if(!t.graph.nodes[n])throw new Error("The output '"+e+"' is not found in the graph")}))},e}(),Uy="?tfjs-format=file",qy="model.json",Gy=function(){function e(e,t){void 0===t&&(t={}),this.modelUrl=e,this.loadOptions=t,this.version="n/a",null==t&&(this.loadOptions={})}return Object.defineProperty(e.prototype,"modelVersion",{get:function(){return this.version},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputNodes",{get:function(){return this.executor.inputNodes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputNodes",{get:function(){return this.executor.outputNodes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputs",{get:function(){return this.executor.inputs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){return this.executor.outputs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"weights",{get:function(){return this.executor.weightMap},enumerable:!0,configurable:!0}),e.prototype.findIOHandler=function(){var e=this.modelUrl;if(null!=e.load)this.handler=e;else if(null!=this.loadOptions.requestInit)this.handler=pd.browserHTTPRequest(e,this.loadOptions);else{var t=pd.getLoadHandlers(e,this.loadOptions.onProgress);if(0===t.length)t.push(pd.browserHTTPRequest(e,this.loadOptions));else if(t.length>1)throw new Error("Found more than one ("+t.length+") load handlers for URL '"+[e]+"'");this.handler=t[0]}},e.prototype.load=function(){return qb(this,void 0,void 0,(function(){var e,t,n;return Gb(this,(function(r){switch(r.label){case 0:if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");return[4,this.handler.load()];case 1:return e=r.sent(),t=e.modelTopology,this.version=t.versions.producer+"."+t.versions.minConsumer,n=pd.decodeWeights(e.weightData,e.weightSpecs),this.executor=new Wy(wy.Instance.transformGraph(t)),this.executor.weightMap=this.convertTensorMapToTensorsMap(n),[2,!0]}}))}))},e.prototype.predict=function(e,t){return this.execute(e,this.outputNodes)},e.prototype.normalizeInputs=function(e){if(!(e instanceof ve||Array.isArray(e)))return e;if((e=Array.isArray(e)?e:[e]).length!==this.inputNodes.length)throw new Error("Input tensor count mismatch,the graph model has "+this.inputNodes.length+" placeholders, while there are "+e.length+" input tensors.");return this.inputNodes.reduce((function(t,n,r){return t[n]=e[r],t}),{})},e.prototype.normalizeOutputs=function(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]},e.prototype.execute=function(e,t){e=this.normalizeInputs(e),t=this.normalizeOutputs(t);var n=this.executor.execute(e,t);return n.length>1?n:n[0]},e.prototype.executeAsync=function(e,t){return qb(this,void 0,void 0,(function(){var n;return Gb(this,(function(r){switch(r.label){case 0:return e=this.normalizeInputs(e),t=this.normalizeOutputs(t),[4,this.executor.executeAsync(e,t)];case 1:return[2,(n=r.sent()).length>1?n:n[0]]}}))}))},e.prototype.convertTensorMapToTensorsMap=function(e){return Object.keys(e).reduce((function(t,n){return t[n]=[e[n]],t}),{})},e.prototype.dispose=function(){this.executor.dispose()},e}();function Xy(e,t){return void 0===t&&(t={}),qb(this,void 0,void 0,(function(){var n;return Gb(this,(function(r){switch(r.label){case 0:if(null==e)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");return null==t&&(t={}),t.fromTFHub&&null==e.load&&(e.endsWith("/")||(e+="/"),e=""+e+qy+Uy),[4,(n=new Gy(e,t)).load()];case 1:return r.sent(),[2,n]}}))}))}var Yy="1.3.1",Ky=function(e,t){return(Ky=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function Jy(e,t){function n(){this.constructor=e}Ky(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function Qy(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?a(e.value):new n((function(t){t(e.value)})).then(i,s)}l((r=r.apply(e,t||[])).next())}))}function Zy(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self&&self;function ew(e,t){return e(t={exports:{}},t.exports),t.exports}var tw=ew((function(e){!function(e,t,n){function r(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function a(e,t){var n=new function(e){var t,n=this,r=(t=4022871197,function(e){e=e.toString();for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)});n.next=function(){var e=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=e-(n.c=0|e)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(e),n.s0<0&&(n.s0+=1),n.s1-=r(e),n.s1<0&&(n.s1+=1),n.s2-=r(e),n.s2<0&&(n.s2+=1),r=null}(e),a=t&&t.state,o=n.next;return o.int32=function(){return 4294967296*n.next()|0},o.double=function(){return o()+11102230246251565e-32*(2097152*o()|0)},o.quick=o,a&&("object"==typeof a&&r(a,n),o.state=function(){return r(n,{})}),o}t&&t.exports?t.exports=a:this.alea=a}(0,e)})),nw=ew((function(e){!function(e,t,n){function r(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function a(e,t){var n=new function(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}(e),a=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,a&&("object"==typeof a&&r(a,n),o.state=function(){return r(n,{})}),o}t&&t.exports?t.exports=a:this.xor128=a}(0,e)})),rw=ew((function(e){!function(e,t,n){function r(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function a(e,t){var n=new function(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}(e),a=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,a&&("object"==typeof a&&r(a,n),o.state=function(){return r(n,{})}),o}t&&t.exports?t.exports=a:this.xorwow=a}(0,e)})),aw=ew((function(e){!function(e,t,n){function r(e,t){return t.x=e.x.slice(),t.i=e.i,t}function a(e,t){null==e&&(e=+new Date);var n=new function(e){var t=this;t.next=function(){var e,n,r=t.x,a=t.i;return e=r[a],n=(e^=e>>>7)^e<<24,n^=(e=r[a+1&7])^e>>>10,n^=(e=r[a+3&7])^e>>>3,n^=(e=r[a+4&7])^e<<7,e=r[a+7&7],n^=(e^=e<<13)^e<<9,r[a]=n,t.i=a+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}(e),a=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,a&&(a.x&&r(a,n),o.state=function(){return r(n,{})}),o}t&&t.exports?t.exports=a:this.xorshift7=a}(0,e)})),ow=ew((function(e){!function(e,t,n){function r(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function a(e,t){null==e&&(e=+new Date);var n=new function(e){var t=this;t.next=function(){var e,n,r=t.w,a=t.X,o=t.i;return t.w=r=r+1640531527|0,n=a[o+34&127],e=a[o=o+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=a[o]=n^e,t.i=o,n+(r^r>>>16)|0},function(e,t){var n,r,a,o,i,s=[],l=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,l=Math.max(l,t.length)),a=0,o=-32;o<l;++o)t&&(r^=t.charCodeAt((o+32)%t.length)),0===o&&(i=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,o>=0&&(i=i+1640531527|0,a=0==(n=s[127&o]^=r+i)?a+1:0);for(a>=128&&(s[127&(t&&t.length||0)]=-1),a=127,o=512;o>0;--o)r=s[a+34&127],n=s[a=a+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[a]=r^n;e.w=i,e.X=s,e.i=a}(t,e)}(e),a=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,a&&(a.X&&r(a,n),o.state=function(){return r(n,{})}),o}t&&t.exports?t.exports=a:this.xor4096=a}(0,e)})),iw=ew((function(e){!function(e,t,n){function r(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function a(e,t){var n=new function(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,a=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^a,a=a-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^a,t.a=a-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}(e),a=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,a&&("object"==typeof a&&r(a,n),o.state=function(){return r(n,{})}),o}t&&t.exports?t.exports=a:this.tychei=a}(0,e)})),sw=ew((function(e){!function(t,r){var a,o=this,i=256,s="random",l=r.pow(i,6),u=r.pow(2,52),c=2*u,p=255;function d(e,n,d){var m=[],g=h(function e(t,n){var r,a=[],o=typeof t;if(n&&"object"==o)for(r in t)try{a.push(e(t[r],n-1))}catch(e){}return a.length?a:"string"==o?t:t+"\0"}((n=1==n?{entropy:!0}:n||{}).entropy?[e,v(t)]:null==e?function(){try{var e;return a&&(e=a.randomBytes)?e=e(i):(e=new Uint8Array(i),(o.crypto||o.msCrypto).getRandomValues(e)),v(e)}catch(e){var n=o.navigator,r=n&&n.plugins;return[+new Date,o,r,o.screen,v(t)]}}():e,3),m),b=new function(e){var t,n=e.length,r=this,a=0,o=r.i=r.j=0,s=r.S=[];for(n||(e=[n++]);a<i;)s[a]=a++;for(a=0;a<i;a++)s[a]=s[o=p&o+e[a%n]+(t=s[a])],s[o]=t;(r.g=function(e){for(var t,n=0,a=r.i,o=r.j,s=r.S;e--;)t=s[a=p&a+1],n=n*i+s[p&(s[a]=s[o=p&o+t])+(s[o]=t)];return r.i=a,r.j=o,n})(i)}(m),y=function(){for(var e=b.g(6),t=l,n=0;e<u;)e=(e+n)*i,t*=i,n=b.g(1);for(;e>=c;)e/=2,t/=2,n>>>=1;return(e+n)/t};return y.int32=function(){return 0|b.g(4)},y.quick=function(){return b.g(4)/4294967296},y.double=y,h(v(b.S),t),(n.pass||d||function(e,t,n,a){return a&&(a.S&&f(a,b),e.state=function(){return f(b,{})}),n?(r[s]=e,t):e})(y,g,"global"in n?n.global:this==r,n.state)}function f(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function h(e,t){for(var n,r=e+"",a=0;a<r.length;)t[p&a]=p&(n^=19*t[p&a])+r.charCodeAt(a++);return v(t)}function v(e){return String.fromCharCode.apply(0,e)}if(r["seed"+s]=d,h(r.random(),t),e.exports){e.exports=d;try{a=n(802)}catch(e){}}}([],Math)}));sw.alea=tw,sw.xor128=nw,sw.xorwow=rw,sw.xorshift7=aw,sw.xor4096=ow,sw.tychei=iw;var lw=sw.alea;function uw(e,t,n,r){if(void 0===n&&(n=new Map),void 0===r&&(r=new Set),null==e)return null;if(r.has(e))throw new Error("Circular references are not supported.");if(n.has(e))return n.get(e);var a=t(e);if(a.recurse&&null!==a.value)throw new Error("A deep map function may not return both a value and recurse=true.");if(a.recurse){if(hw(e)){var o=Array.isArray(e)?[]:{};for(var i in r.add(e),e){var s=uw(e[i],t,n,r);o[i]=s}return r.delete(e),o}throw new Error("Can't recurse into non-iterable type: "+e)}return n.set(e,a.value),a.value}function cw(e,t){return void 0===t&&(t=dw),pw(e,t)}function pw(e,t,n){void 0===n&&(n=new Set);var r=e[0];if(n.has(r))throw new Error("Circular references are not supported.");var a=t(e);if(a.recurse&&null!==a.value)throw new Error("A deep zip function may not return both a value and recurse=true.");if(a.recurse){if(hw(r)){var o=Array.isArray(r)?[]:{};n.add(r);var i=function(r){var a=pw(e.map((function(e){return e[r]})),t,n);o[r]=a};for(var s in r)i(s);return n.delete(r),o}throw new Error("Can't recurse into non-iterable type: "+r)}return a.value}function dw(e){return null===e?null:hw(e[0])?{value:null,recurse:!0}:{value:e,recurse:!1}}function fw(e,t){return Qy(this,void 0,void 0,(function(){var n,r,a,o,i,s;return Zy(this,(function(l){switch(l.label){case 0:n=new Map,uw(e,t,n),r=0,a=Array.from(n.keys()),l.label=1;case 1:return r<a.length?(o=a[r],(i=n.get(o))instanceof Promise?[4,i]:[3,3]):[3,4];case 2:s=l.sent(),n.set(o,s),l.label=3;case 3:return r++,[3,1];case 4:return[2,uw(e,t,n)]}}))}))}function hw(e){return null!=e&&!ArrayBuffer.isView(e)&&(Array.isArray(e)||"object"==typeof e&&!(e instanceof ve))}function vw(e){return function(e,t){return uw(e,t)}(e,mw)}function mw(e){return e instanceof ve?{value:e.clone(),recurse:!1}:hw(e)?{value:null,recurse:!0}:{value:e,recurse:!1}}var gw=function(){function e(e){if(this.capacity=e,this.begin=0,this.end=0,null==e)throw new RangeError("Can't create a ring buffer of unknown capacity.");if(e<1)throw new RangeError("Can't create ring buffer of capacity < 1.");this.data=new Array(e),this.doubledCapacity=2*e}return e.prototype.wrap=function(e){for(;e<0;)e+=this.doubledCapacity;return e%this.doubledCapacity},e.prototype.get=function(e){if(e<0)throw new RangeError("Can't get item at a negative index.");return this.data[e%this.capacity]},e.prototype.set=function(e,t){if(e<0)throw new RangeError("Can't set item at a negative index.");this.data[e%this.capacity]=t},e.prototype.length=function(){var e=this.end-this.begin;return e<0&&(e=this.doubledCapacity+e),e},e.prototype.isFull=function(){return this.length()===this.capacity},e.prototype.isEmpty=function(){return 0===this.length()},e.prototype.push=function(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.set(this.end,e),this.end=this.wrap(this.end+1)},e.prototype.pushAll=function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];this.push(r)}},e.prototype.pop=function(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");this.end=this.wrap(this.end-1);var e=this.get(this.end);return this.set(this.end,void 0),e},e.prototype.unshift=function(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.begin=this.wrap(this.begin-1),this.set(this.begin,e)},e.prototype.shift=function(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");var e=this.get(this.begin);return this.set(this.begin,void 0),this.begin=this.wrap(this.begin+1),e},e.prototype.shuffleExcise=function(e){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");var t=this.wrap(this.begin+e),n=this.get(t);return this.set(t,this.pop()),n},e}(),bw=function(e){function t(){return e.call(this,t.INITIAL_CAPACITY)||this}return Jy(t,e),t.prototype.isFull=function(){return!1},t.prototype.push=function(t){e.prototype.isFull.call(this)&&this.expand(),e.prototype.push.call(this,t)},t.prototype.unshift=function(t){e.prototype.isFull.call(this)&&this.expand(),e.prototype.unshift.call(this,t)},t.prototype.expand=function(){for(var e=2*this.capacity,t=new Array(e),n=this.length(),r=0;r<n;r++)t[r]=this.get(this.wrap(this.begin+r));this.data=t,this.capacity=e,this.doubledCapacity=2*this.capacity,this.begin=0,this.end=n},t.INITIAL_CAPACITY=32,t}(gw);function yw(e){return new Sw(e)}function ww(e){return new Tw(e)}function xw(e,t){return new Lw(e,t)}function Cw(e,t){return void 0===t&&(t=Ew.FAIL),new zw(e,t)}var Ew,kw=function(){function e(){}return e.prototype.toArray=function(){return Qy(this,void 0,void 0,(function(){var e,t;return Zy(this,(function(n){switch(n.label){case 0:return e=[],[4,this.next()];case 1:t=n.sent(),n.label=2;case 2:return t.done?[3,4]:(e.push(t.value),[4,this.next()]);case 3:return t=n.sent(),[3,2];case 4:return[2,e]}}))}))},e.prototype.toArrayForTest=function(){return Qy(this,void 0,void 0,(function(){var e,t,n;return Zy(this,(function(r){switch(r.label){case 0:return e=this.prefetch(100),t=[],[4,e.next()];case 1:n=r.sent(),r.label=2;case 2:return n.done?[3,4]:(t.push(n.value),[4,e.next()]);case 3:return n=r.sent(),[3,2];case 4:return[2,t]}}))}))},e.prototype.resolveFully=function(){return Qy(this,void 0,void 0,(function(){var e;return Zy(this,(function(t){switch(t.label){case 0:return[4,this.next()];case 1:e=t.sent(),t.label=2;case 2:return e.done?[3,4]:[4,this.next()];case 3:return e=t.sent(),[3,2];case 4:return[2]}}))}))},e.prototype.resolveWhile=function(e){return Qy(this,void 0,void 0,(function(){var t,n;return Zy(this,(function(r){switch(r.label){case 0:return[4,this.next()];case 1:t=r.sent(),n=e(t.value),r.label=2;case 2:return t.done||!n?[3,4]:[4,this.next()];case 3:return t=r.sent(),n=e(t.value),[3,2];case 4:return[2]}}))}))},e.prototype.handleErrors=function(e){return new Mw(this,e)},e.prototype.filter=function(e){return new _w(this,e)},e.prototype.map=function(e){return new Rw(this,e)},e.prototype.mapAsync=function(e){return new Pw(this,e)},e.prototype.serialMapAsync=function(e){return new Pw(this,e).serial()},e.prototype.flatmap=function(e){return new Bw(this,e)},e.prototype.forEachAsync=function(e){return Qy(this,void 0,void 0,(function(){return Zy(this,(function(t){return[2,this.map(e).resolveFully()]}))}))},e.prototype.serialForEach=function(e){return Qy(this,void 0,void 0,(function(){return Zy(this,(function(t){return[2,this.serialMapAsync(e).resolveWhile((function(e){return!0===e}))]}))}))},e.prototype.rowMajorBatch=function(e,t){return void 0===t&&(t=!0),new Aw(this,e,t)},e.prototype.columnMajorBatch=function(e,t,n){return void 0===t&&(t=!0),void 0===n&&(n=dw),this.rowMajorBatch(e,t).map((function(e){return cw(e,n)}))},e.prototype.concatenate=function(e,t){return new Lw(yw([this,e]),t)},e.prototype.take=function(e){return e<0||null==e?this:new Nw(this,e)},e.prototype.skip=function(e){return e<0||null==e?this:new Iw(this,e)},e.prototype.prefetch=function(e){return new Fw(this,e)},e.prototype.shuffle=function(e,t){return new $w(this,e,t)},e.prototype.serial=function(){return new Ow(this)},e}(),Sw=function(e){function t(t){var n=e.call(this)||this;return n.items=t,n.trav=0,n}return Jy(t,e),t.prototype.summary=function(){return"Array of "+this.items.length+" items"},t.prototype.next=function(){return Qy(this,void 0,void 0,(function(){var e;return Zy(this,(function(t){return this.trav>=this.items.length?[2,{value:null,done:!0}]:(e=this.items[this.trav],this.trav++,[2,{value:vw(e),done:!1}])}))}))},t}(kw),Tw=function(e){function t(t){var n=e.call(this)||this;return n.nextFn=t,n}return Jy(t,e),t.prototype.summary=function(){return"Function call"},t.prototype.next=function(){return Qy(this,void 0,void 0,(function(){return Zy(this,(function(e){try{return[2,this.nextFn()]}catch(e){throw e.message="Error thrown while iterating through a dataset: "+e.message,e}return[2]}))}))},t}(kw),Ow=function(e){function t(t){var n=e.call(this)||this;return n.upstream=t,n.lastRead=Promise.resolve({value:null,done:!1}),n}return Jy(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> Serial"},t.prototype.next=function(){return Qy(this,void 0,void 0,(function(){var e=this;return Zy(this,(function(t){return this.lastRead=this.lastRead.then((function(){return e.serialNext()})),[2,this.lastRead]}))}))},t.prototype.serialNext=function(){return Qy(this,void 0,void 0,(function(){return Zy(this,(function(e){return[2,this.upstream.next()]}))}))},t}(kw),Iw=function(e){function t(t,n){var r=e.call(this)||this;return r.upstream=t,r.maxCount=n,r.count=0,r.lastRead=Promise.resolve({value:null,done:!1}),r}return Jy(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> Skip"},t.prototype.next=function(){return Qy(this,void 0,void 0,(function(){var e=this;return Zy(this,(function(t){return this.lastRead=this.lastRead.then((function(){return e.serialNext()})),[2,this.lastRead]}))}))},t.prototype.serialNext=function(){return Qy(this,void 0,void 0,(function(){var e;return Zy(this,(function(t){switch(t.label){case 0:return this.count++<this.maxCount?[4,this.upstream.next()]:[3,2];case 1:return(e=t.sent()).done?[2,e]:(Gt(e.value),[3,0]);case 2:return[2,this.upstream.next()]}}))}))},t}(kw),Nw=function(e){function t(t,n){var r=e.call(this)||this;return r.upstream=t,r.maxCount=n,r.count=0,r}return Jy(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> Take"},t.prototype.next=function(){return Qy(this,void 0,void 0,(function(){return Zy(this,(function(e){return this.count++>=this.maxCount?[2,{value:null,done:!0}]:[2,this.upstream.next()]}))}))},t}(kw),Aw=function(e){function t(t,n,r){void 0===r&&(r=!0);var a=e.call(this)||this;return a.upstream=t,a.batchSize=n,a.enableSmallLastBatch=r,a.lastRead=Promise.resolve({value:null,done:!1}),a}return Jy(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> RowMajorBatch"},t.prototype.next=function(){return Qy(this,void 0,void 0,(function(){var e=this;return Zy(this,(function(t){return this.lastRead=this.lastRead.then((function(){return e.serialNext()})),[2,this.lastRead]}))}))},t.prototype.serialNext=function(){return Qy(this,void 0,void 0,(function(){var e,t;return Zy(this,(function(n){switch(n.label){case 0:e=[],n.label=1;case 1:return e.length<this.batchSize?[4,this.upstream.next()]:[3,3];case 2:return(t=n.sent()).done?this.enableSmallLastBatch&&e.length>0?[2,{value:e,done:!1}]:[2,{value:null,done:!0}]:(e.push(t.value),[3,1]);case 3:return[2,{value:e,done:!1}]}}))}))},t}(kw),_w=function(e){function t(t,n){var r=e.call(this)||this;return r.upstream=t,r.predicate=n,r.lastRead=Promise.resolve({value:null,done:!1}),r}return Jy(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> Filter"},t.prototype.next=function(){return Qy(this,void 0,void 0,(function(){var e=this;return Zy(this,(function(t){return this.lastRead=this.lastRead.then((function(){return e.serialNext()})),[2,this.lastRead]}))}))},t.prototype.serialNext=function(){return Qy(this,void 0,void 0,(function(){var e;return Zy(this,(function(t){switch(t.label){case 0:return[4,this.upstream.next()];case 1:return(e=t.sent()).done||this.predicate(e.value)?[2,e]:(Gt(e.value),[3,0]);case 2:return[2]}}))}))},t}(kw),Rw=function(e){function t(t,n){var r=e.call(this)||this;return r.upstream=t,r.transform=n,r}return Jy(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> Map"},t.prototype.next=function(){return Qy(this,void 0,void 0,(function(){var e,t,n,r,a,o,i;return Zy(this,(function(s){switch(s.label){case 0:return[4,this.upstream.next()];case 1:if((e=s.sent()).done)return[2,{value:null,done:!0}];for(t=Ne.getTensorsInContainer(e.value),n=this.transform(e.value),r=Ne.getTensorsInContainer(n),a=0,o=t;a<o.length;a++)i=o[a],Ne.isTensorInList(i,r)||i.dispose();return[2,{value:n,done:!1}]}}))}))},t}(kw),Mw=function(e){function t(t,n){var r=e.call(this)||this;return r.upstream=t,r.handler=n,r.count=0,r.lastRead=Promise.resolve({value:null,done:!1}),r}return Jy(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> handleErrors"},t.prototype.next=function(){return Qy(this,void 0,void 0,(function(){var e=this;return Zy(this,(function(t){return this.lastRead=this.lastRead.then((function(){return e.serialNext()})),[2,this.lastRead]}))}))},t.prototype.serialNext=function(){return Qy(this,void 0,void 0,(function(){var e;return Zy(this,(function(t){switch(t.label){case 0:t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.upstream.next()];case 2:return[2,t.sent()];case 3:return e=t.sent(),this.handler(e)?[3,4]:[2,{value:null,done:!0}];case 4:return[3,0];case 5:return[2]}}))}))},t}(kw),Pw=function(e){function t(t,n){var r=e.call(this)||this;return r.upstream=t,r.transform=n,r}return Jy(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> AsyncMap"},t.prototype.next=function(){return Qy(this,void 0,void 0,(function(){var e,t,n,r,a,o,i;return Zy(this,(function(s){switch(s.label){case 0:return[4,this.upstream.next()];case 1:return(e=s.sent()).done?[2,{value:null,done:!0}]:(t=Ne.getTensorsInContainer(e.value),[4,this.transform(e.value)]);case 2:for(n=s.sent(),r=Ne.getTensorsInContainer(n),a=0,o=t;a<o.length;a++)i=o[a],Ne.isTensorInList(i,r)||i.dispose();return[2,{value:n,done:!1}]}}))}))},t}(kw),Dw=function(e){function t(){var t=e.call(this)||this;return t.outputQueue=new bw,t.lastRead=Promise.resolve({value:null,done:!1}),t}return Jy(t,e),t.prototype.next=function(){return Qy(this,void 0,void 0,(function(){var e=this;return Zy(this,(function(t){return this.lastRead=this.lastRead.then((function(){return e.serialNext()})),[2,this.lastRead]}))}))},t.prototype.serialNext=function(){return Qy(this,void 0,void 0,(function(){return Zy(this,(function(e){switch(e.label){case 0:return 0!==this.outputQueue.length()?[3,2]:[4,this.pump()];case 1:return e.sent()?[3,0]:[2,{value:null,done:!0}];case 2:return[2,{value:this.outputQueue.shift(),done:!1}]}}))}))},t}(kw),Bw=function(e){function t(t,n){var r=e.call(this)||this;return r.upstream=t,r.transform=n,r}return Jy(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> Flatmap"},t.prototype.pump=function(){return Qy(this,void 0,void 0,(function(){var e,t,n,r,a,o,i;return Zy(this,(function(s){switch(s.label){case 0:return[4,this.upstream.next()];case 1:if((e=s.sent()).done)return[2,!1];for(t=Ne.getTensorsInContainer(e.value),n=this.transform(e.value),r=Ne.getTensorsInContainer(n),this.outputQueue.pushAll(n),a=0,o=t;a<o.length;a++)i=o[a],Ne.isTensorInList(i,r)||i.dispose();return[2,!0]}}))}))},t}(Dw),Lw=function(e){function t(t,n){var r=e.call(this)||this;return r.baseErrorHandler=n,r.lastRead=null,r.iterator=null,r.moreIterators=t,r}return Jy(t,e),t.prototype.summary=function(){return"TODO: fill in upstream of chained summaries -> Chained"},t.prototype.next=function(){return Qy(this,void 0,void 0,(function(){return Zy(this,(function(e){return this.lastRead=this.readFromChain(this.lastRead),[2,this.lastRead]}))}))},t.prototype.readFromChain=function(e){return Qy(this,void 0,void 0,(function(){var t,n;return Zy(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return r.sent(),null!=this.iterator?[3,3]:[4,this.moreIterators.next()];case 2:if((t=r.sent()).done)return[2,{value:null,done:!0}];this.iterator=t.value,null!=this.baseErrorHandler&&(this.iterator=this.iterator.handleErrors(this.baseErrorHandler)),r.label=3;case 3:return[4,this.iterator.next()];case 4:return(n=r.sent()).done?(this.iterator=null,[2,this.readFromChain(e)]):[2,n]}}))}))},t}(kw);!function(e){e[e.FAIL=0]="FAIL",e[e.SHORTEST=1]="SHORTEST",e[e.LONGEST=2]="LONGEST"}(Ew||(Ew={}));var zw=function(e){function t(t,n){void 0===n&&(n=Ew.FAIL);var r=e.call(this)||this;return r.iterators=t,r.mismatchMode=n,r.count=0,r.currentPromise=null,r}return Jy(t,e),t.prototype.summary=function(){return"{TODO: fill in upstream of zip summaries} -> Zip"},t.prototype.nextState=function(e){return Qy(this,void 0,void 0,(function(){function t(e){return e instanceof kw?{value:e.next().then((function(e){return n++,e.done&&r++,e.value})),recurse:!1}:{value:null,recurse:!0}}var n,r,a;return Zy(this,(function(o){switch(o.label){case 0:return[4,e];case 1:return o.sent(),n=0,r=0,[4,fw(this.iterators,t)];case 2:if(a=o.sent(),n===r)return[2,{value:null,done:!0}];if(r>0)switch(this.mismatchMode){case Ew.FAIL:throw new Error("Zipped streams should have the same length. Mismatched at element "+this.count+".");case Ew.SHORTEST:return[2,{value:null,done:!0}];case Ew.LONGEST:}return this.count++,[2,{value:a,done:!1}]}}))}))},t.prototype.next=function(){return Qy(this,void 0,void 0,(function(){return Zy(this,(function(e){return this.currentPromise=this.nextState(this.currentPromise),[2,this.currentPromise]}))}))},t}(kw),Fw=function(e){function t(t,n){var r=e.call(this)||this;return r.upstream=t,r.bufferSize=n,r.buffer=new gw(n),r}return Jy(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> Prefetch"},t.prototype.refill=function(){for(;!this.buffer.isFull();){var e=this.upstream.next();this.buffer.push(e)}},t.prototype.next=function(){return this.refill(),this.buffer.shift()},t}(kw),$w=function(e){function t(t,n,r){var a=e.call(this,t,n)||this;return a.upstream=t,a.windowSize=n,a.upstreamExhausted=!1,a.random=lw(r||ae.now().toString()),a.lastRead=Promise.resolve({value:null,done:!1}),a}return Jy(t,e),t.prototype.next=function(){return Qy(this,void 0,void 0,(function(){var e=this;return Zy(this,(function(t){return this.lastRead=this.lastRead.then((function(){return e.serialNext()})),[2,this.lastRead]}))}))},t.prototype.randomInt=function(e){return Math.floor(this.random()*e)},t.prototype.chooseIndex=function(){return this.randomInt(this.buffer.length())},t.prototype.serialNext=function(){return Qy(this,void 0,void 0,(function(){var e,t;return Zy(this,(function(n){switch(n.label){case 0:this.upstreamExhausted||this.refill(),n.label=1;case 1:return this.buffer.isEmpty()?[3,3]:(e=this.chooseIndex(),[4,this.buffer.shuffleExcise(e)]);case 2:return(t=n.sent()).done?(this.upstreamExhausted=!0,[3,1]):(this.refill(),[2,t]);case 3:return[2,{value:null,done:!0}]}}))}))},t}(Fw),Vw=function(){function e(){this.size=null}return e.prototype.batch=function(e,t){var n=this;void 0===t&&(t=!0);var r=this;return ae.assert(e>0,(function(){return"batchSize needs to be positive, but it is\n      "+e})),jw((function(){return Qy(n,void 0,void 0,(function(){return Zy(this,(function(n){switch(n.label){case 0:return[4,r.iterator()];case 1:return[2,n.sent().columnMajorBatch(e,t,Uw)]}}))}))}),this.size===1/0||null==this.size?this.size:t?Math.ceil(this.size/e):Math.floor(this.size/e))},e.prototype.concatenate=function(e){var t=this,n=this;return jw((function(){return Qy(t,void 0,void 0,(function(){var t,r;return Zy(this,(function(a){switch(a.label){case 0:return[4,n.iterator()];case 1:return r=(t=a.sent()).concatenate,[4,e.iterator()];case 2:return[2,r.apply(t,[a.sent()])]}}))}))}),this.size===1/0||e.size===1/0?1/0:null!=this.size&&null!=e.size?this.size+e.size:null)},e.prototype.filter=function(e){var t=this,n=this;return jw((function(){return Qy(t,void 0,void 0,(function(){return Zy(this,(function(t){switch(t.label){case 0:return[4,n.iterator()];case 1:return[2,t.sent().filter((function(t){return qt((function(){return e(t)}))}))]}}))}))}),this.size===1/0?1/0:null)},e.prototype.forEachAsync=function(e){return Qy(this,void 0,void 0,(function(){return Zy(this,(function(t){switch(t.label){case 0:return[4,this.iterator()];case 1:return[2,t.sent().forEachAsync(e)]}}))}))},e.prototype.forEach=function(e){return Qy(this,void 0,void 0,(function(){return Zy(this,(function(t){return Vt("dataset.forEach() is deprecated and will be removed. Please use dataset.forEachAsync() instead"),[2,this.forEachAsync(e)]}))}))},e.prototype.map=function(e){var t=this,n=this;return jw((function(){return Qy(t,void 0,void 0,(function(){return Zy(this,(function(t){switch(t.label){case 0:return[4,n.iterator()];case 1:return[2,t.sent().map((function(t){return qt((function(){return e(t)}))}))]}}))}))}),this.size)},e.prototype.mapAsync=function(e){var t=this,n=this;return jw((function(){return Qy(t,void 0,void 0,(function(){return Zy(this,(function(t){switch(t.label){case 0:return[4,n.iterator()];case 1:return[2,t.sent().mapAsync(e)]}}))}))}),this.size)},e.prototype.prefetch=function(e){var t=this;if(null==e)throw new RangeError("`Dataset.prefetch()` requires bufferSize to be specified.");var n=this;return jw((function(){return Qy(t,void 0,void 0,(function(){return Zy(this,(function(t){switch(t.label){case 0:return[4,n.iterator()];case 1:return[2,t.sent().prefetch(e)]}}))}))}),this.size)},e.prototype.repeat=function(e){var t=this,n=this;return jw((function(){return Qy(t,void 0,void 0,(function(){var t=this;return Zy(this,(function(r){return[2,xw(ww((function(){return Qy(t,void 0,void 0,(function(){var e;return Zy(this,(function(t){switch(t.label){case 0:return e={},[4,n.iterator()];case 1:return[2,(e.value=t.sent(),e.done=!1,e)]}}))}))})).take(e))]}))}))}),null!=this.size&&e>0?this.size*e:0===e?0:null!=this.size&&(void 0===e||e<0)?1/0:null)},e.prototype.skip=function(e){var t=this,n=this;return jw((function(){return Qy(t,void 0,void 0,(function(){return Zy(this,(function(t){switch(t.label){case 0:return[4,n.iterator()];case 1:return[2,t.sent().skip(e)]}}))}))}),null!=this.size&&e>=0&&this.size>=e?this.size-e:null!=this.size&&(this.size<e||void 0===e||e<0)?0:null)},e.prototype.shuffle=function(e,t,n){var r=this;if(void 0===n&&(n=!0),null==e||e<0)throw null==this.size?new RangeError("`Dataset.shuffle()` requires bufferSize to be specified."):new RangeError("`Dataset.shuffle()` requires bufferSize to be specified.  If your data fits in main memory (for regular JS objects), and/or GPU memory (for `tf.Tensor`s), consider setting bufferSize to the dataset size ("+this.size+" elements)");var a=this,o=lw(t||ae.now().toString());return jw((function(){return Qy(r,void 0,void 0,(function(){var t;return Zy(this,(function(r){switch(r.label){case 0:return t=o.int32(),n&&(t+=o.int32()),[4,a.iterator()];case 1:return[2,r.sent().shuffle(e,t.toString())]}}))}))}),this.size)},e.prototype.take=function(e){var t=this,n=this;return jw((function(){return Qy(t,void 0,void 0,(function(){return Zy(this,(function(t){switch(t.label){case 0:return[4,n.iterator()];case 1:return[2,t.sent().take(e)]}}))}))}),null!=this.size&&this.size>e?e:null!=this.size&&this.size<=e?this.size:null)},e.prototype.toArray=function(){return Qy(this,void 0,void 0,(function(){return Zy(this,(function(e){switch(e.label){case 0:if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return[4,this.iterator()];case 1:return[2,e.sent().toArray()]}}))}))},e.prototype.toArrayForTest=function(){return Qy(this,void 0,void 0,(function(){return Zy(this,(function(e){switch(e.label){case 0:if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return[4,this.iterator()];case 1:return[2,e.sent().toArrayForTest()]}}))}))},e.MAX_BUFFER_SIZE=1e4,e}();function jw(e,t){return void 0===t&&(t=null),new(function(n){function r(){var e=null!==n&&n.apply(this,arguments)||this;return e.size=t,e}return Jy(r,n),r.prototype.iterator=function(){return Qy(this,void 0,void 0,(function(){return Zy(this,(function(t){return[2,e()]}))}))},r}(Vw))}function Hw(e){var t=this;return jw((function(){return Qy(t,void 0,void 0,(function(){return Zy(this,(function(t){return[2,yw(e)]}))}))}),e.length)}function Ww(e){var t,n=this;if(!hw(e))throw new Error("The argument to zip() must be an object or array.");if(Array.isArray(e))for(var r=0;r<e.length;r++)t=null==t?e[r].size:Math.min(t,e[r].size);else if(e instanceof Object)for(var a in e)t=null==t?e[a].size:Math.min(t,e[a].size);return jw((function(){return Qy(n,void 0,void 0,(function(){return Zy(this,(function(t){switch(t.label){case 0:return[4,fw(e,(function(e){if(e instanceof Vw)return{value:e.iterator(),recurse:!1};if(hw(e))return{value:null,recurse:!0};throw new Error("Leaves of the structure passed to zip() must be Datasets, not primitives.")}))];case 1:return[2,Cw(t.sent(),Ew.SHORTEST)]}}))}))}),t)}function Uw(e){return null===e?null:function(e){return null==e||function(e){return null===e||"object"!=typeof e&&"function"!=typeof e}(e)||Array.isArray(e)||"object"==typeof e&&e instanceof ve||ae.isTypedArray(e)}(e[0])?{value:qw(e),recurse:!1}:{value:null,recurse:!0}}function qw(e){if(0===e.length)throw new Error("Can't make a batch of zero elements.");return e[0]instanceof ve?Nr(e):Sn(e)}var Gw=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Jy(t,e),t.prototype.iterator=function(){return Qy(this,void 0,void 0,(function(){var e;return Zy(this,(function(t){switch(t.label){case 0:return[4,this.input.iterator()];case 1:return e=t.sent(),[2,e.decodeUTF8().split("\n").map((function(e){return e.endsWith("\r")&&(e=e.slice(0,-1)),e}))]}}))}))},t}(Vw),Xw='"',Yw=Symbol("out"),Kw=Symbol("field"),Jw=Symbol("quote"),Qw=Symbol("quoteafterquote"),Zw=Symbol("quoteinquote"),ex=function(e){function t(t,n){var r=e.call(this)||this;return r.input=t,r.hasHeader=!0,r.fullColumnNames=null,r.columnNamesValidated=!1,r.columnConfigs=null,r.configuredColumnsOnly=!1,r.delimiter=",",r.delimWhitespace=!1,r.base=new Gw(t),n||(n={}),r.hasHeader=!1!==n.hasHeader,r.fullColumnNames=n.columnNames,r.columnConfigs=n.columnConfigs,r.configuredColumnsOnly=n.configuredColumnsOnly,n.delimWhitespace?(ae.assert(null==n.delimiter,(function(){return"Delimiter should not be provided when delimWhitespace is true."})),r.delimWhitespace=!0,r.delimiter=" "):r.delimiter=n.delimiter?n.delimiter:",",r}return Jy(t,e),t.prototype.columnNames=function(){return Qy(this,void 0,void 0,(function(){return Zy(this,(function(e){switch(e.label){case 0:return this.columnNamesValidated?[3,2]:[4,this.setColumnNames()];case 1:e.sent(),e.label=2;case 2:return[2,this.configuredColumnsOnly?Object.keys(this.columnConfigs):this.fullColumnNames]}}))}))},t.prototype.setColumnNames=function(){return Qy(this,void 0,void 0,(function(){var e,t,n,r,a,o,i=this;return Zy(this,(function(s){switch(s.label){case 0:return[4,this.maybeReadHeaderLine()];case 1:if(e=s.sent(),!this.fullColumnNames&&!e)throw new Error("Column names must be provided if there is no header line.");if(this.fullColumnNames&&e&&ae.assert(e.length===this.fullColumnNames.length,(function(){return"The length of provided columnNames ("+i.fullColumnNames.length.toString()+") does not match the length of the header line read from file ("+e.length.toString()+")."})),this.fullColumnNames||(this.fullColumnNames=e),t=this.fullColumnNames.reduce((function(e,t){return e[t]=e[t]+1||1,e}),{}),n=Object.keys(t).filter((function(e){return t[e]>1})),ae.assert(0===n.length,(function(){return"Duplicate column names found: "+n.toString()})),this.columnConfigs)for(r=0,a=Object.keys(this.columnConfigs);r<a.length;r++)if(o=a[r],-1===this.fullColumnNames.indexOf(o))throw new Error('The key "'+o+'" provided in columnConfigs does not match any of the column names ('+this.fullColumnNames.toString()+").");return this.columnNamesValidated=!0,[2]}}))}))},t.prototype.maybeReadHeaderLine=function(){return Qy(this,void 0,void 0,(function(){var e,t;return Zy(this,(function(n){switch(n.label){case 0:return this.hasHeader?[4,this.base.iterator()]:[3,3];case 1:return[4,n.sent().next()];case 2:if((e=n.sent()).done)throw new Error("No data was found for CSV parsing.");return t=e.value,[2,this.parseRow(t,!1)];case 3:return[2,null]}}))}))},t.prototype.iterator=function(){return Qy(this,void 0,void 0,(function(){var e,t=this;return Zy(this,(function(n){switch(n.label){case 0:return this.columnNamesValidated?[3,2]:[4,this.setColumnNames()];case 1:n.sent(),n.label=2;case 2:return[4,this.base.iterator()];case 3:return e=n.sent(),this.hasHeader&&(e=e.skip(1)),[2,e.map((function(e){return t.makeDataElement(e)}))]}}))}))},t.prototype.makeDataElement=function(e){for(var t=this.parseRow(e),n={},r={},a=0;a<this.fullColumnNames.length;a++){var o=this.fullColumnNames[a],i=this.columnConfigs?this.columnConfigs[o]:null;if(!this.configuredColumnsOnly||i){var s=t[a],l=null;if(""===s)if(i&&void 0!==i.default)l=i.default;else{if(i&&(i.required||i.isLabel))throw new Error("Required column "+o+" is empty in this line: "+e);l=void 0}else{var u=Number(s);if(isNaN(u))l=i&&"bool"===i.dtype?this.getBoolean(s):s;else if(i&&i.dtype)switch(i.dtype){case"float32":default:l=u;break;case"int32":l=Math.floor(u);break;case"bool":l=this.getBoolean(s)}else l=u}i&&i.isLabel?r[o]=l:n[o]=l}}return 0===Object.keys(r).length?n:{xs:n,ys:r}},t.prototype.getBoolean=function(e){return"1"===e||"true"===e.toLowerCase()?1:0},t.prototype.parseRow=function(e,t){void 0===t&&(t=!0);for(var n=[],r=0,a=e.length,o=Yw,i=0;i<a;i++)switch(o){case Yw:switch(e.charAt(i)){case Xw:r=i+1,o=Jw;break;case this.delimiter:if(r=i+1," "===this.delimiter&&this.delimWhitespace)break;n.push(""),o=Yw;break;default:o=Kw,r=i}break;case Kw:if(e.charAt(i)===this.delimiter)n.push(e.substring(r,i)),o=Yw,r=i+1;break;case Jw:if(e.charAt(i)===Xw)o=Qw;break;case Qw:switch(e.charAt(i)){case this.delimiter:n.push(e.substring(r,i-1)),o=Yw,r=i+1;break;case Xw:o=Jw;break;default:o=Zw}break;case Zw:if(e.charAt(i)===Xw)o=Jw}if(o===Qw?n.push(e.substring(r,a-1)):n.push(e.substring(r)),t&&n.length!==this.fullColumnNames.length)throw new Error("Invalid row in csv file. Should have "+this.fullColumnNames.length+" elements in a row, but got "+n);return n},t}(Vw),tx=function(e){function t(t){var n=e.call(this)||this;n.microphoneConfig=t,n.isClosed=!1,n.fftSize=t.fftSize||1024;var r=Math.log2(n.fftSize);if(n.fftSize<0||r<4||r>14||!Number.isInteger(r))throw new Error("Invalid fftSize: it must be a power of 2 between 2 to 4 and 2 to 14, but got "+n.fftSize);if(n.numFrames=t.numFramesPerSpectrogram||43,n.sampleRateHz=t.sampleRateHz,n.columnTruncateLength=t.columnTruncateLength||n.fftSize,n.audioTrackConstraints=t.audioTrackConstraints,n.smoothingTimeConstant=t.smoothingTimeConstant||0,n.includeSpectrogram=!1!==t.includeSpectrogram,n.includeWaveform=!0===t.includeWaveform,!n.includeSpectrogram&&!n.includeWaveform)throw new Error("Both includeSpectrogram and includeWaveform are false. At least one type of data should be returned.");return n}return Jy(t,e),t.prototype.summary=function(){return"microphone"},t.create=function(e){return void 0===e&&(e={}),Qy(this,void 0,void 0,(function(){var n;return Zy(this,(function(r){switch(r.label){case 0:if(u().get("IS_NODE"))throw new Error("microphone API is only supported in browser environment.");return[4,(n=new t(e)).start()];case 1:return r.sent(),[2,n]}}))}))},t.prototype.start=function(){return Qy(this,void 0,void 0,(function(){var e,t,n,r;return Zy(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),e=this,[4,navigator.mediaDevices.getUserMedia({audio:null==this.audioTrackConstraints||this.audioTrackConstraints,video:!1})];case 1:return e.stream=a.sent(),[3,3];case 2:throw t=a.sent(),new Error("Error thrown while initializing video stream: "+t.message);case 3:if(!this.stream)throw new Error("Could not obtain audio from microphone.");if(n=window.AudioContext||window.webkitAudioContext,this.audioContext=new n,this.sampleRateHz){if(this.audioContext.sampleRate!==this.sampleRateHz)throw new Error("Mismatch in sampling rate: Expected: "+this.sampleRateHz+"; Actual: "+this.audioContext.sampleRate)}else this.sampleRateHz=this.audioContext.sampleRate;return r=this.audioContext.createMediaStreamSource(this.stream),this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=2*this.fftSize,this.analyser.smoothingTimeConstant=this.smoothingTimeConstant,r.connect(this.analyser),this.freqData=new Float32Array(this.fftSize),this.timeData=new Float32Array(this.fftSize),[2]}}))}))},t.prototype.next=function(){return Qy(this,void 0,void 0,(function(){var e,t,n,r,a;return Zy(this,(function(o){switch(o.label){case 0:return this.isClosed?[2,{value:null,done:!0}]:[4,this.getAudioData()];case 1:return n=o.sent(),this.includeSpectrogram&&(r=this.flattenQueue(n.freqDataQueue),e=this.getTensorFromAudioDataArray(r,[this.numFrames,this.columnTruncateLength,1])),this.includeWaveform&&(a=this.flattenQueue(n.timeDataQueue),t=this.getTensorFromAudioDataArray(a,[this.numFrames*this.fftSize,1])),[2,{value:{spectrogram:e,waveform:t},done:!1}]}}))}))},t.prototype.capture=function(){return Qy(this,void 0,void 0,(function(){return Zy(this,(function(e){switch(e.label){case 0:return[4,this.next()];case 1:return[2,e.sent().value]}}))}))},t.prototype.getAudioData=function(){return Qy(this,void 0,void 0,(function(){var e,t,n,r=this;return Zy(this,(function(a){return e=[],t=[],n=0,[2,new Promise((function(a){var o=setInterval((function(){r.includeSpectrogram&&(r.analyser.getFloatFrequencyData(r.freqData),r.freqData[0]===-1/0&&a({freqDataQueue:e,timeDataQueue:t}),e.push(r.freqData.slice(0,r.columnTruncateLength))),r.includeWaveform&&(r.analyser.getFloatTimeDomainData(r.timeData),t.push(r.timeData.slice())),++n===r.numFrames&&(clearInterval(o),a({freqDataQueue:e,timeDataQueue:t}))}),r.fftSize/r.sampleRateHz*1e3)}))]}))}))},t.prototype.stop=function(){this.isClosed||(this.isClosed=!0,this.analyser.disconnect(),this.audioContext.close(),null!=this.stream&&this.stream.getTracks().length>0&&this.stream.getTracks()[0].stop())},t.prototype.toArray=function(){throw new Error("Can not convert infinite audio stream to array.")},t.prototype.getSampleRate=function(){return this.sampleRateHz},t.prototype.flattenQueue=function(e){var t=e[0].length,n=new Float32Array(e.length*t);return e.forEach((function(e,r){return n.set(e,r*t)})),n},t.prototype.getTensorFromAudioDataArray=function(e,t){var n=new Float32Array(ae.sizeFromShape(t));return n.set(e,n.length-e.length),Sn(n,t)},t}(kw),nx=function(e){function t(t,n){var r=e.call(this)||this;if(r.webcamVideoElement=t,r.webcamConfig=n,r.isClosed=!0,r.resize=!1,r.needToResize())if(r.resize=!0,r.cropSize=[r.webcamConfig.resizeHeight,r.webcamConfig.resizeWidth],r.cropBoxInd=In([0],"int32"),r.webcamConfig.centerCrop){var a=1*r.webcamConfig.resizeWidth/r.webcamVideoElement.width,o=1*r.webcamConfig.resizeHeight/r.webcamVideoElement.height,i=(1-a)/2,s=(1-o)/2,l=i+a,u=o+s;r.cropBox=Nn([s,i,u,l],[1,4])}else r.cropBox=Nn([0,0,1,1],[1,4]);return r}return Jy(t,e),t.prototype.summary=function(){return"webcam"},t.create=function(e,n){return void 0===n&&(n={}),Qy(this,void 0,void 0,(function(){var r;return Zy(this,(function(a){switch(a.label){case 0:if(u().get("IS_NODE"))throw new Error("tf.data.webcam is only supported in browser environment.");if(!e){if(e=document.createElement("video"),!n.resizeWidth||!n.resizeHeight)throw new Error("Please provide webcam video element, or resizeWidth and resizeHeight to create a hidden video element.");e.width=n.resizeWidth,e.height=n.resizeHeight}return[4,(r=new t(e,n)).start()];case 1:return a.sent(),[2,r]}}))}))},t.prototype.start=function(){return Qy(this,void 0,void 0,(function(){var e,t,n=this;return Zy(this,(function(r){switch(r.label){case 0:this.webcamConfig.facingMode&&ae.assert("user"===this.webcamConfig.facingMode||"environment"===this.webcamConfig.facingMode,(function(){return"Invalid webcam facing mode: "+n.webcamConfig.facingMode+". Please provide 'user' or 'environment'"})),r.label=1;case 1:return r.trys.push([1,3,,4]),e=this,[4,navigator.mediaDevices.getUserMedia({video:{deviceId:this.webcamConfig.deviceId,facingMode:this.webcamConfig.facingMode?this.webcamConfig.facingMode:"user",width:this.webcamVideoElement.width,height:this.webcamVideoElement.height}})];case 2:return e.stream=r.sent(),[3,4];case 3:throw(t=r.sent()).message="Error thrown while initializing video stream: "+t.message,t;case 4:if(!this.stream)throw new Error("Could not obtain video from webcam.");try{this.webcamVideoElement.srcObject=this.stream}catch(e){console.log(e),this.webcamVideoElement.src=window.URL.createObjectURL(this.stream)}return this.webcamVideoElement.play(),this.isClosed=!1,[2,new Promise((function(e){n.webcamVideoElement.onloadedmetadata=function(){e()}}))]}}))}))},t.prototype.next=function(){return Qy(this,void 0,void 0,(function(){var e;return Zy(this,(function(t){if(this.isClosed)return[2,{value:null,done:!0}];try{e=vd.fromPixels(this.webcamVideoElement)}catch(e){throw new Error("Error thrown converting video to pixels: "+JSON.stringify(e))}if(!this.resize)return[2,{value:e,done:!1}];try{return[2,{value:this.cropAndResizeFrame(e),done:!1}]}catch(e){throw new Error("Error thrown cropping the video: "+e.message)}finally{e.dispose()}return[2]}))}))},t.prototype.needToResize=function(){return!(!this.webcamConfig.resizeWidth||!this.webcamConfig.resizeHeight||this.webcamVideoElement.width===this.webcamConfig.resizeWidth&&this.webcamVideoElement.height===this.webcamConfig.resizeHeight)},t.prototype.cropAndResizeFrame=function(e){var t=this;return qt((function(){var n,r=e.toFloat().expandDims(0),a=(n=ap.cropAndResize(r,t.cropBox,t.cropBoxInd,t.cropSize,"bilinear")).shape;return n.reshape(a.slice(1))}))},t.prototype.capture=function(){return Qy(this,void 0,void 0,(function(){return Zy(this,(function(e){switch(e.label){case 0:return[4,this.next()];case 1:return[2,e.sent().value]}}))}))},t.prototype.stop=function(){this.stream.getTracks().forEach((function(e){return e.stop()}));try{this.webcamVideoElement.srcObject=null}catch(e){console.log(e),this.webcamVideoElement.src=null}this.isClosed=!0},t.prototype.toArray=function(){throw new Error("Can not convert infinite video stream to array.")},t}(kw),rx=function(){},ax=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Jy(t,e),t.prototype.split=function(e){return new ox(this,e)},t}(kw),ox=function(e){function t(t,n){var r=e.call(this)||this;return r.upstream=t,r.impl=new ix(t,n),r}return Jy(t,e),t.prototype.summary=function(){return this.impl.summary()},t.prototype.next=function(){return Qy(this,void 0,void 0,(function(){return Zy(this,(function(e){return[2,this.impl.next()]}))}))},t}(ax),ix=function(e){function t(t,n){var r=e.call(this)||this;return r.upstream=t,r.separator=n,r.carryover="",r}return Jy(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> Split('"+this.separator+"')"},t.prototype.pump=function(){return Qy(this,void 0,void 0,(function(){var e,t,n,r,a;return Zy(this,(function(o){switch(o.label){case 0:return[4,this.upstream.next()];case 1:if((e=o.sent()).done)return""===this.carryover?[2,!1]:(this.outputQueue.push(this.carryover),this.carryover="",[2,!0]);for((t=e.value.split(this.separator))[0]=this.carryover+t[0],n=0,r=t.slice(0,-1);n<r.length;n++)a=r[n],this.outputQueue.push(a);return this.carryover=t[t.length-1],[2,!0]}}))}))},t}(Dw),sx=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Jy(t,e),t.prototype.decodeUTF8=function(){return new lx(this)},t}(kw),lx=function(e){function t(t){var n=e.call(this)||this;return n.upstream=t,n.impl=new ux(t),n}return Jy(t,e),t.prototype.summary=function(){return this.impl.summary()},t.prototype.next=function(){return Qy(this,void 0,void 0,(function(){return Zy(this,(function(e){return[2,this.impl.next()]}))}))},t}(ax),ux=function(e){function t(t){var r=e.call(this)||this;if(r.upstream=t,u().get("IS_BROWSER"))r.decoder=new TextDecoder("utf-8");else{var a=n(688).StringDecoder;r.decoder=new a("utf8")}return r}return Jy(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> Utf8"},t.prototype.pump=function(){return Qy(this,void 0,void 0,(function(){var e,t,n;return Zy(this,(function(r){switch(r.label){case 0:return[4,this.upstream.next()];case 1:return(e=r.sent()).done?[2,!1]:(t=e.value,n=u().get("IS_BROWSER")?this.decoder.decode(t,{stream:!0}):this.decoder.write(Buffer.from(t.buffer)),this.outputQueue.push(n),[2,!0])}}))}))},t}(Dw),cx=function(e){function t(t,n){void 0===n&&(n={});var r=e.call(this)||this;return r.file=t,r.options=n,ae.assert(t instanceof Uint8Array||!!u().get("IS_BROWSER")&&(t instanceof File||t instanceof Blob),(function(){return"FileChunkIterator only supports File, Blob and Uint8Array right now."})),r.offset=n.offset||0,r.chunkSize=n.chunkSize||1048576,r}return Jy(t,e),t.prototype.summary=function(){return"FileChunks "+this.file},t.prototype.next=function(){return Qy(this,void 0,void 0,(function(){var e,t,n=this;return Zy(this,(function(r){switch(r.label){case 0:return this.offset>=(this.file instanceof Uint8Array?this.file.byteLength:this.file.size)?[2,{value:null,done:!0}]:(e=new Promise((function(e,t){var r=n.offset+n.chunkSize;if(n.file instanceof Uint8Array)e(new Uint8Array(n.file.slice(n.offset,r)));else{var a=new FileReader;a.onload=function(n){var r=a.result;if(r instanceof ArrayBuffer&&(r=new Uint8Array(r)),!(r instanceof Uint8Array))return t(new TypeError("FileReader returned unknown type."));e(r)},a.onabort=function(e){return t(new Error("Aborted"))},a.onerror=function(e){return t(new Error(e.type))};var o=n.file.slice(n.offset,r);a.readAsArrayBuffer(o)}n.offset=r})),t={},[4,e]);case 1:return[2,(t.value=r.sent(),t.done=!1,t)]}}))}))},t}(sx);function px(e,t){return void 0===t&&(t={}),Qy(this,void 0,void 0,(function(){var n,r,a,o,i;return Zy(this,(function(s){switch(s.label){case 0:return"string"==typeof e?n=e:(n=e.url,r=dx(e)),[4,ae.fetch(n,r)];case 1:return(a=s.sent()).ok?(i=Uint8Array.bind,[4,a.arrayBuffer()]):[3,3];case 2:return o=new(i.apply(Uint8Array,[void 0,s.sent()])),[2,new cx(o,t)];case 3:throw new Error(a.statusText)}}))}))}var dx=function(e){return{method:e.method,headers:e.headers,body:e.body,mode:e.mode,credentials:e.credentials,cache:e.cache,redirect:e.redirect,referrer:e.referrer,integrity:e.integrity}};function fx(e){return"string"==typeof e&&"file://"===e.substr(0,7)}var hx=function(e){function t(t,n){void 0===n&&(n={});var r=e.call(this)||this;return r.input=t,r.options=n,r}return Jy(t,e),t.prototype.iterator=function(){return Qy(this,void 0,void 0,(function(){var e;return Zy(this,(function(t){return fx(this.input)&&u().get("IS_NODE")&&(e=n(633),this.input=e.readFileSync(this.input.substr(7))),[2,new cx(this.input,this.options)]}))}))},t}(rx),vx=function(e){function t(t,n){void 0===n&&(n={});var r=e.call(this)||this;return r.url=t,r.fileOptions=n,r}return Jy(t,e),t.prototype.iterator=function(){return Qy(this,void 0,void 0,(function(){return Zy(this,(function(e){return fx(this.url)?[2,new hx(this.url,this.fileOptions).iterator()]:[2,px(this.url,this.fileOptions)]}))}))},t}(rx);function mx(e,t){return void 0===t&&(t={}),new ex(new vx(e),t)}function gx(e){var t=this,n=ww(e);return jw((function(){return Qy(t,void 0,void 0,(function(){return Zy(this,(function(e){return[2,n]}))}))}))}function bx(e){var t=this;return jw((function(){return Qy(t,void 0,void 0,(function(){var t;return Zy(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return t=n.sent(),[2,ww((function(){return t.next()}))]}}))}))}))}function yx(e,t){return Qy(this,void 0,void 0,(function(){return Zy(this,(function(n){return[2,nx.create(e,t)]}))}))}function wx(e){return Qy(this,void 0,void 0,(function(){return Zy(this,(function(t){return[2,tx.create(e)]}))}))}var xx="1.3.1",Cx={"tfjs-core":kd,"tfjs-data":xx,"tfjs-layers":Wv,"tfjs-converter":Yy,tfjs:"1.3.1"}},368:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e,t,n){var a=n.value;if("function"!=typeof a)throw new TypeError("@boundMethod decorator can only be applied to methods not: ".concat(r(a)));var o=!1;return{configurable:!0,get:function(){if(o||this===e.prototype||this.hasOwnProperty(t)||"function"!=typeof a)return a;var n=a.bind(this);return o=!0,Object.defineProperty(this,t,{configurable:!0,get:function(){return n},set:function(e){a=e,delete this[t]}}),o=!1,n},set:function(e){a=e}}}function o(e){var t;return"undefined"!=typeof Reflect&&"function"==typeof Reflect.ownKeys?t=Reflect.ownKeys(e.prototype):(t=Object.getOwnPropertyNames(e.prototype),"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e.prototype)))),t.forEach((function(t){if("constructor"!==t){var n=Object.getOwnPropertyDescriptor(e.prototype,t);"function"==typeof n.value&&Object.defineProperty(e.prototype,t,a(e,t,n))}})),e}function i(){return 1===arguments.length?o.apply(void 0,arguments):a.apply(void 0,arguments)}n.r(t),n.d(t,{boundClass:function(){return o},boundMethod:function(){return a},default:function(){return i}})},377:function(e,t,n){var r=n(832),a=n(652),o=n(801),i=n(30),s=n(618),l=n(49),u=n(971);u.alea=r,u.xor128=a,u.xorwow=o,u.xorshift7=i,u.xor4096=s,u.tychei=l,e.exports=u},832:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this,n=function(){var e=4022871197,t=function(t){t=t.toString();for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)};return t}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function s(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function l(e,t){var n=new i(e),r=t&&t.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a.double=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,a))||(a.exports=r):this.alea=l}(0,e=n.nmd(e),n.amdD)},49:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,a=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^a,a=a-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^a,t.a=a-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function l(e,t){var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,a))||(a.exports=r):this.tychei=l}(0,e=n.nmd(e),n.amdD)},652:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function l(e,t){var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,a))||(a.exports=r):this.xor128=l}(0,e=n.nmd(e),n.amdD)},618:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this;t.next=function(){var e,n,r=t.w,a=t.X,o=t.i;return t.w=r=r+1640531527|0,n=a[o+34&127],e=a[o=o+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=a[o]=n^e,t.i=o,n+(r^r>>>16)|0},function(e,t){var n,r,a,o,i,s=[],l=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,l=Math.max(l,t.length)),a=0,o=-32;o<l;++o)t&&(r^=t.charCodeAt((o+32)%t.length)),0===o&&(i=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,o>=0&&(i=i+1640531527|0,a=0==(n=s[127&o]^=r+i)?a+1:0);for(a>=128&&(s[127&(t&&t.length||0)]=-1),a=127,o=512;o>0;--o)r=s[a+34&127],n=s[a=a+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[a]=r^n;e.w=i,e.X=s,e.i=a}(t,e)}function s(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function l(e,t){null==e&&(e=+new Date);var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.X&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,a))||(a.exports=r):this.xor4096=l}(0,e=n.nmd(e),n.amdD)},30:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this;t.next=function(){var e,n,r=t.x,a=t.i;return e=r[a],n=(e^=e>>>7)^e<<24,n^=(e=r[a+1&7])^e>>>10,n^=(e=r[a+3&7])^e>>>3,n^=(e=r[a+4&7])^e<<7,e=r[a+7&7],n^=(e^=e<<13)^e<<9,r[a]=n,t.i=a+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function s(e,t){return t.x=e.x.slice(),t.i=e.i,t}function l(e,t){null==e&&(e=+new Date);var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.x&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,a))||(a.exports=r):this.xorshift7=l}(0,e=n.nmd(e),n.amdD)},801:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function l(e,t){var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,a))||(a.exports=r):this.xorwow=l}(0,e=n.nmd(e),n.amdD)},971:function(e,t,n){var r;!function(a,o){var i,s=(0,eval)("this"),l=256,u="random",c=o.pow(l,6),p=o.pow(2,52),d=2*p,f=l-1;function h(e,t,n){var r=[],f=b(g((t=1==t?{entropy:!0}:t||{}).entropy?[e,y(a)]:null==e?function(){try{var e;return i&&(e=i.randomBytes)?e=e(l):(e=new Uint8Array(l),(s.crypto||s.msCrypto).getRandomValues(e)),y(e)}catch(e){var t=s.navigator,n=t&&t.plugins;return[+new Date,s,n,s.screen,y(a)]}}():e,3),r),h=new v(r),w=function(){for(var e=h.g(6),t=c,n=0;e<p;)e=(e+n)*l,t*=l,n=h.g(1);for(;e>=d;)e/=2,t/=2,n>>>=1;return(e+n)/t};return w.int32=function(){return 0|h.g(4)},w.quick=function(){return h.g(4)/4294967296},w.double=w,b(y(h.S),a),(t.pass||n||function(e,t,n,r){return r&&(r.S&&m(r,h),e.state=function(){return m(h,{})}),n?(o[u]=e,t):e})(w,f,"global"in t?t.global:this==o,t.state)}function v(e){var t,n=e.length,r=this,a=0,o=r.i=r.j=0,i=r.S=[];for(n||(e=[n++]);a<l;)i[a]=a++;for(a=0;a<l;a++)i[a]=i[o=f&o+e[a%n]+(t=i[a])],i[o]=t;(r.g=function(e){for(var t,n=0,a=r.i,o=r.j,i=r.S;e--;)t=i[a=f&a+1],n=n*l+i[f&(i[a]=i[o=f&o+t])+(i[o]=t)];return r.i=a,r.j=o,n})(l)}function m(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function g(e,t){var n,r=[],a=typeof e;if(t&&"object"==a)for(n in e)try{r.push(g(e[n],t-1))}catch(e){}return r.length?r:"string"==a?e:e+"\0"}function b(e,t){for(var n,r=e+"",a=0;a<r.length;)t[f&a]=f&(n^=19*t[f&a])+r.charCodeAt(a++);return y(t)}function y(e){return String.fromCharCode.apply(0,e)}if(o["seed"+u]=h,b(o.random(),a),e.exports){e.exports=h;try{i=n(42)}catch(e){}}else void 0===(r=function(){return h}.call(t,n,t,e))||(e.exports=r)}([],Math)},744:function(e,t){"use strict";t.Z=(e,t)=>{const n=e.__vccOpts||e;for(const[e,r]of t)n[e]=r;return n}},902:function(){},522:function(){},753:function(){},802:function(){},633:function(){},688:function(){},42:function(){},61:function(e,t,n){var r=n(698).default;function a(){"use strict";e.exports=a=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,o=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function p(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(e){p=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,o=Object.create(a.prototype),s=new I(r||[]);return i(o,"_invoke",{value:k(e,n,s)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var h={};function v(){}function m(){}function g(){}var b={};p(b,l,(function(){return this}));var y=Object.getPrototypeOf,w=y&&y(y(N([])));w&&w!==n&&o.call(w,l)&&(b=w);var x=g.prototype=v.prototype=Object.create(b);function C(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(a,i,s,l){var u=f(e[a],e,i);if("throw"!==u.type){var c=u.arg,p=c.value;return p&&"object"==r(p)&&o.call(p,"__await")?t.resolve(p.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(p).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,l)}))}l(u.arg)}var a;i(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}})}function k(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return A()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var s=S(i,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=f(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=f(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,h;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function N(e){if(e){var t=e[l];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:A}}function A(){return{value:void 0,done:!0}}return m.prototype=g,i(x,"constructor",{value:g,configurable:!0}),i(g,"constructor",{value:m,configurable:!0}),m.displayName=p(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,p(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},C(E.prototype),p(E.prototype,u,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new E(d(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(x),p(x,c,"Generator"),p(x,l,(function(){return this})),p(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=o.call(a,"catchLoc"),l=o.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},687:function(e,t,n){var r=n(61)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.amdD=function(){throw new Error("define cannot be used indirect")},n.amdO={},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="";var r={};!function(){"use strict";n.d(r,{a:function(){return qT}});var e={};n.r(e),n.d(e,{auroraPreloaderContent:function(){return Tu},bindMethods:function(){return Gu},cancelAnimationFrame:function(){return Au},colorHexToRgb:function(){return $u},colorHsbToHsl:function(){return Wu},colorHslToHsb:function(){return Uu},colorHslToRgb:function(){return Hu},colorRgbToHex:function(){return Vu},colorRgbToHsl:function(){return ju},colorThemeCSSProperties:function(){return qu},deleteProps:function(){return Iu},eventNameToColonCase:function(){return Ou},extend:function(){return Fu},flattenArray:function(){return Xu},getTranslate:function(){return Du},id:function(){return xu},iosPreloaderContent:function(){return Su},isObject:function(){return Lu},mdPreloaderContent:function(){return ku},merge:function(){return zu},nextFrame:function(){return Ru},nextTick:function(){return _u},now:function(){return Mu},parseUrlQuery:function(){return Pu},requestAnimationFrame:function(){return Nu},serializeObject:function(){return Bu},uniqueNumber:function(){return wu}});var t={};function a(e,t){const n=Object.create(null),r=e.split(",");for(let e=0;e<r.length;e++)n[r[e]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}n.r(t),n.d(t,{$:function(){return cc},add:function(){return pp},addClass:function(){return pc},animate:function(){return mp},animationEnd:function(){return Ac},append:function(){return Gc},appendTo:function(){return Xc},attr:function(){return vc},blur:function(){return xp},change:function(){return Np},children:function(){return lp},click:function(){return wp},closest:function(){return ip},css:function(){return Fc},data:function(){return bc},dataset:function(){return wc},default:function(){return jp},detach:function(){return cp},each:function(){return $c},empty:function(){return dp},eq:function(){return qc},filter:function(){return Vc},find:function(){return sp},focus:function(){return Cp},focusin:function(){return Ep},focusout:function(){return kp},hasClass:function(){return hc},height:function(){return Mc},hide:function(){return Bc},html:function(){return jc},index:function(){return Uc},insertAfter:function(){return Qc},insertBefore:function(){return Jc},is:function(){return Wc},keydown:function(){return Tp},keypress:function(){return Op},keyup:function(){return Sp},mousedown:function(){return Ap},mouseenter:function(){return Mp},mouseleave:function(){return Pp},mousemove:function(){return _p},mouseout:function(){return Dp},mouseover:function(){return Bp},mouseup:function(){return Rp},next:function(){return Zc},nextAll:function(){return ep},off:function(){return Tc},offset:function(){return Dc},on:function(){return Sc},once:function(){return Oc},outerHeight:function(){return Pc},outerWidth:function(){return Rc},parent:function(){return ap},parents:function(){return op},prepend:function(){return Yc},prependTo:function(){return Kc},prev:function(){return tp},prevAll:function(){return np},prop:function(){return gc},remove:function(){return up},removeAttr:function(){return mc},removeClass:function(){return dc},removeData:function(){return yc},resize:function(){return $p},scroll:function(){return Vp},scrollLeft:function(){return vp},scrollTo:function(){return fp},scrollTop:function(){return hp},show:function(){return Lc},siblings:function(){return rp},stop:function(){return gp},styles:function(){return zc},submit:function(){return Ip},text:function(){return Hc},toggleClass:function(){return fc},touchend:function(){return zp},touchmove:function(){return Fp},touchstart:function(){return Lp},transform:function(){return Ec},transition:function(){return kc},transitionEnd:function(){return Nc},trigger:function(){return Ic},val:function(){return xc},value:function(){return Cc},width:function(){return _c}});const o={},i=[],s=()=>{},l=()=>!1,u=/^on[^a-z]/,c=e=>u.test(e),p=e=>e.startsWith("onUpdate:"),d=Object.assign,f=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},h=Object.prototype.hasOwnProperty,v=(e,t)=>h.call(e,t),m=Array.isArray,g=e=>"[object Map]"===S(e),b=e=>"[object Set]"===S(e),y=e=>"function"==typeof e,w=e=>"string"==typeof e,x=e=>"symbol"==typeof e,C=e=>null!==e&&"object"==typeof e,E=e=>C(e)&&y(e.then)&&y(e.catch),k=Object.prototype.toString,S=e=>k.call(e),T=e=>S(e).slice(8,-1),O=e=>"[object Object]"===S(e),I=e=>w(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,N=a(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),A=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},_=/-(\w)/g,R=A((e=>e.replace(_,((e,t)=>t?t.toUpperCase():"")))),M=/\B([A-Z])/g,P=A((e=>e.replace(M,"-$1").toLowerCase())),D=A((e=>e.charAt(0).toUpperCase()+e.slice(1))),B=A((e=>e?`on${D(e)}`:"")),L=(e,t)=>!Object.is(e,t),z=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},F=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},$=e=>{const t=parseFloat(e);return isNaN(t)?e:t},V=e=>{const t=w(e)?Number(e):NaN;return isNaN(t)?e:t};let j;const H=()=>j||(j="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{});function W(e){if(m(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],a=w(r)?X(r):W(r);if(a)for(const e in a)t[e]=a[e]}return t}return w(e)||C(e)?e:void 0}const U=/;(?![^(]*\))/g,q=/:([^]+)/,G=/\/\*[^]*?\*\//g;function X(e){const t={};return e.replace(G,"").split(U).forEach((e=>{if(e){const n=e.split(q);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function Y(e){let t="";if(w(e))t=e;else if(m(e))for(let n=0;n<e.length;n++){const r=Y(e[n]);r&&(t+=r+" ")}else if(C(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const K="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",J=a(K);function Q(e){return!!e||""===e}const Z=e=>w(e)?e:null==e?"":m(e)||C(e)&&(e.toString===k||!y(e.toString))?JSON.stringify(e,ee,2):String(e),ee=(e,t)=>t&&t.__v_isRef?ee(e,t.value):g(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n])=>(e[`${t} =>`]=n,e)),{})}:b(t)?{[`Set(${t.size})`]:[...t.values()]}:!C(t)||m(t)||O(t)?t:String(t);let te;class ne{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=te,!e&&te&&(this.index=(te.scopes||(te.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const t=te;try{return te=this,e()}finally{te=t}}else 0}on(){te=this}off(){te=this.parent}stop(e){if(this._active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0,this._active=!1}}}function re(e,t=te){t&&t.active&&t.effects.push(e)}const ae=e=>{const t=new Set(e);return t.w=0,t.n=0,t},oe=e=>(e.w&ue)>0,ie=e=>(e.n&ue)>0,se=new WeakMap;let le=0,ue=1;const ce=30;let pe;const de=Symbol(""),fe=Symbol("");class he{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,re(this,n)}run(){if(!this.active)return this.fn();let e=pe,t=me;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=pe,pe=this,me=!0,ue=1<<++le,le<=ce?(({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=ue})(this):ve(this),this.fn()}finally{le<=ce&&(e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const a=t[r];oe(a)&&!ie(a)?a.delete(e):t[n++]=a,a.w&=~ue,a.n&=~ue}t.length=n}})(this),ue=1<<--le,pe=this.parent,me=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){pe===this?this.deferStop=!0:this.active&&(ve(this),this.onStop&&this.onStop(),this.active=!1)}}function ve(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let me=!0;const ge=[];function be(){ge.push(me),me=!1}function ye(){const e=ge.pop();me=void 0===e||e}function we(e,t,n){if(me&&pe){let t=se.get(e);t||se.set(e,t=new Map);let r=t.get(n);r||t.set(n,r=ae());xe(r,void 0)}}function xe(e,t){let n=!1;le<=ce?ie(e)||(e.n|=ue,n=!oe(e)):n=!e.has(pe),n&&(e.add(pe),pe.deps.push(e))}function Ce(e,t,n,r,a,o){const i=se.get(e);if(!i)return;let s=[];if("clear"===t)s=[...i.values()];else if("length"===n&&m(e)){const e=Number(r);i.forEach(((t,n)=>{("length"===n||n>=e)&&s.push(t)}))}else switch(void 0!==n&&s.push(i.get(n)),t){case"add":m(e)?I(n)&&s.push(i.get("length")):(s.push(i.get(de)),g(e)&&s.push(i.get(fe)));break;case"delete":m(e)||(s.push(i.get(de)),g(e)&&s.push(i.get(fe)));break;case"set":g(e)&&s.push(i.get(de))}if(1===s.length)s[0]&&Ee(s[0]);else{const e=[];for(const t of s)t&&e.push(...t);Ee(ae(e))}}function Ee(e,t){const n=m(e)?e:[...e];for(const e of n)e.computed&&ke(e,t);for(const e of n)e.computed||ke(e,t)}function ke(e,t){(e!==pe||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const Se=a("__proto__,__v_isRef,__isVue"),Te=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(x)),Oe=Me(),Ie=Me(!1,!0),Ne=Me(!0),Ae=_e();function _e(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const n=mt(this);for(let e=0,t=this.length;e<t;e++)we(n,0,e+"");const r=n[t](...e);return-1===r||!1===r?n[t](...e.map(mt)):r}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){be();const n=mt(this)[t].apply(this,e);return ye(),n}})),e}function Re(e){const t=mt(this);return we(t,0,e),t.hasOwnProperty(e)}function Me(e=!1,t=!1){return function(n,r,a){if("__v_isReactive"===r)return!e;if("__v_isReadonly"===r)return e;if("__v_isShallow"===r)return t;if("__v_raw"===r&&a===(e?t?lt:st:t?it:ot).get(n))return n;const o=m(n);if(!e){if(o&&v(Ae,r))return Reflect.get(Ae,r,a);if("hasOwnProperty"===r)return Re}const i=Reflect.get(n,r,a);return(x(r)?Te.has(r):Se(r))?i:(e||we(n,0,r),t?i:Ct(i)?o&&I(r)?i:i.value:C(i)?e?ct(i):ut(i):i)}}function Pe(e=!1){return function(t,n,r,a){let o=t[n];if(ft(o)&&Ct(o)&&!Ct(r))return!1;if(!e&&(ht(r)||ft(r)||(o=mt(o),r=mt(r)),!m(t)&&Ct(o)&&!Ct(r)))return o.value=r,!0;const i=m(t)&&I(n)?Number(n)<t.length:v(t,n),s=Reflect.set(t,n,r,a);return t===mt(a)&&(i?L(r,o)&&Ce(t,"set",n,r):Ce(t,"add",n,r)),s}}const De={get:Oe,set:Pe(),deleteProperty:function(e,t){const n=v(e,t),r=(e[t],Reflect.deleteProperty(e,t));return r&&n&&Ce(e,"delete",t,void 0),r},has:function(e,t){const n=Reflect.has(e,t);return x(t)&&Te.has(t)||we(e,0,t),n},ownKeys:function(e){return we(e,0,m(e)?"length":de),Reflect.ownKeys(e)}},Be={get:Ne,set(e,t){return!0},deleteProperty(e,t){return!0}},Le=d({},De,{get:Ie,set:Pe(!0)}),ze=e=>e,Fe=e=>Reflect.getPrototypeOf(e);function $e(e,t,n=!1,r=!1){const a=mt(e=e.__v_raw),o=mt(t);n||(t!==o&&we(a,0,t),we(a,0,o));const{has:i}=Fe(a),s=r?ze:n?yt:bt;return i.call(a,t)?s(e.get(t)):i.call(a,o)?s(e.get(o)):void(e!==a&&e.get(t))}function Ve(e,t=!1){const n=this.__v_raw,r=mt(n),a=mt(e);return t||(e!==a&&we(r,0,e),we(r,0,a)),e===a?n.has(e):n.has(e)||n.has(a)}function je(e,t=!1){return e=e.__v_raw,!t&&we(mt(e),0,de),Reflect.get(e,"size",e)}function He(e){e=mt(e);const t=mt(this);return Fe(t).has.call(t,e)||(t.add(e),Ce(t,"add",e,e)),this}function We(e,t){t=mt(t);const n=mt(this),{has:r,get:a}=Fe(n);let o=r.call(n,e);o||(e=mt(e),o=r.call(n,e));const i=a.call(n,e);return n.set(e,t),o?L(t,i)&&Ce(n,"set",e,t):Ce(n,"add",e,t),this}function Ue(e){const t=mt(this),{has:n,get:r}=Fe(t);let a=n.call(t,e);a||(e=mt(e),a=n.call(t,e));r&&r.call(t,e);const o=t.delete(e);return a&&Ce(t,"delete",e,void 0),o}function qe(){const e=mt(this),t=0!==e.size,n=e.clear();return t&&Ce(e,"clear",void 0,void 0),n}function Ge(e,t){return function(n,r){const a=this,o=a.__v_raw,i=mt(o),s=t?ze:e?yt:bt;return!e&&we(i,0,de),o.forEach(((e,t)=>n.call(r,s(e),s(t),a)))}}function Xe(e,t,n){return function(...r){const a=this.__v_raw,o=mt(a),i=g(o),s="entries"===e||e===Symbol.iterator&&i,l="keys"===e&&i,u=a[e](...r),c=n?ze:t?yt:bt;return!t&&we(o,0,l?fe:de),{next(){const{value:e,done:t}=u.next();return t?{value:e,done:t}:{value:s?[c(e[0]),c(e[1])]:c(e),done:t}},[Symbol.iterator](){return this}}}}function Ye(e){return function(...t){return"delete"!==e&&this}}function Ke(){const e={get(e){return $e(this,e)},get size(){return je(this)},has:Ve,add:He,set:We,delete:Ue,clear:qe,forEach:Ge(!1,!1)},t={get(e){return $e(this,e,!1,!0)},get size(){return je(this)},has:Ve,add:He,set:We,delete:Ue,clear:qe,forEach:Ge(!1,!0)},n={get(e){return $e(this,e,!0)},get size(){return je(this,!0)},has(e){return Ve.call(this,e,!0)},add:Ye("add"),set:Ye("set"),delete:Ye("delete"),clear:Ye("clear"),forEach:Ge(!0,!1)},r={get(e){return $e(this,e,!0,!0)},get size(){return je(this,!0)},has(e){return Ve.call(this,e,!0)},add:Ye("add"),set:Ye("set"),delete:Ye("delete"),clear:Ye("clear"),forEach:Ge(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((a=>{e[a]=Xe(a,!1,!1),n[a]=Xe(a,!0,!1),t[a]=Xe(a,!1,!0),r[a]=Xe(a,!0,!0)})),[e,n,t,r]}const[Je,Qe,Ze,et]=Ke();function tt(e,t){const n=t?e?et:Ze:e?Qe:Je;return(t,r,a)=>"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get(v(n,r)&&r in t?n:t,r,a)}const nt={get:tt(!1,!1)},rt={get:tt(!1,!0)},at={get:tt(!0,!1)};const ot=new WeakMap,it=new WeakMap,st=new WeakMap,lt=new WeakMap;function ut(e){return ft(e)?e:pt(e,!1,De,nt,ot)}function ct(e){return pt(e,!0,Be,at,st)}function pt(e,t,n,r,a){if(!C(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const o=a.get(e);if(o)return o;const i=function(e){return e.__v_skip||!Object.isExtensible(e)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}(T(e))}(e);if(0===i)return e;const s=new Proxy(e,2===i?r:n);return a.set(e,s),s}function dt(e){return ft(e)?dt(e.__v_raw):!(!e||!e.__v_isReactive)}function ft(e){return!(!e||!e.__v_isReadonly)}function ht(e){return!(!e||!e.__v_isShallow)}function vt(e){return dt(e)||ft(e)}function mt(e){const t=e&&e.__v_raw;return t?mt(t):e}function gt(e){return F(e,"__v_skip",!0),e}const bt=e=>C(e)?ut(e):e,yt=e=>C(e)?ct(e):e;function wt(e){me&&pe&&xe((e=mt(e)).dep||(e.dep=ae()))}function xt(e,t){const n=(e=mt(e)).dep;n&&Ee(n)}function Ct(e){return!(!e||!0!==e.__v_isRef)}function Et(e){return kt(e,!1)}function kt(e,t){return Ct(e)?e:new St(e,t)}class St{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:mt(e),this._value=t?e:bt(e)}get value(){return wt(this),this._value}set value(e){const t=this.__v_isShallow||ht(e)||ft(e);e=t?e:mt(e),L(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:bt(e),xt(this))}}function Tt(e){return Ct(e)?e.value:e}const Ot={get:(e,t,n)=>Tt(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const a=e[t];return Ct(a)&&!Ct(n)?(a.value=n,!0):Reflect.set(e,t,n,r)}};function It(e){return dt(e)?e:new Proxy(e,Ot)}class Nt{constructor(e,t,n,r){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new he(e,(()=>{this._dirty||(this._dirty=!0,xt(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=n}get value(){const e=mt(this);return wt(e),!e._dirty&&e._cacheable||(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function At(e,t,n,r){let a;try{a=r?e(...r):e()}catch(e){Rt(e,t,n)}return a}function _t(e,t,n,r){if(y(e)){const a=At(e,t,n,r);return a&&E(a)&&a.catch((e=>{Rt(e,t,n)})),a}const a=[];for(let o=0;o<e.length;o++)a.push(_t(e[o],t,n,r));return a}function Rt(e,t,n,r=!0){t&&t.vnode;if(t){let r=t.parent;const a=t.proxy,o=n;for(;r;){const t=r.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,a,o))return;r=r.parent}const i=t.appContext.config.errorHandler;if(i)return void At(i,null,10,[e,a,o])}!function(e,t,n,r=!0){console.error(e)}(e,0,0,r)}let Mt=!1,Pt=!1;const Dt=[];let Bt=0;const Lt=[];let zt=null,Ft=0;const $t=Promise.resolve();let Vt=null;function jt(e){const t=Vt||$t;return e?t.then(this?e.bind(this):e):t}function Ht(e){Dt.length&&Dt.includes(e,Mt&&e.allowRecurse?Bt+1:Bt)||(null==e.id?Dt.push(e):Dt.splice(function(e){let t=Bt+1,n=Dt.length;for(;t<n;){const r=t+n>>>1;Xt(Dt[r])<e?t=r+1:n=r}return t}(e.id),0,e),Wt())}function Wt(){Mt||Pt||(Pt=!0,Vt=$t.then(Kt))}function Ut(e){m(e)?Lt.push(...e):zt&&zt.includes(e,e.allowRecurse?Ft+1:Ft)||Lt.push(e),Wt()}function qt(e,t=(Mt?Bt+1:0)){for(0;t<Dt.length;t++){const e=Dt[t];e&&e.pre&&(Dt.splice(t,1),t--,e())}}function Gt(e){if(Lt.length){const e=[...new Set(Lt)];if(Lt.length=0,zt)return void zt.push(...e);for(zt=e,zt.sort(((e,t)=>Xt(e)-Xt(t))),Ft=0;Ft<zt.length;Ft++)zt[Ft]();zt=null,Ft=0}}const Xt=e=>null==e.id?1/0:e.id,Yt=(e,t)=>{const n=Xt(e)-Xt(t);if(0===n){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Kt(e){Pt=!1,Mt=!0,Dt.sort(Yt);try{for(Bt=0;Bt<Dt.length;Bt++){const e=Dt[Bt];e&&!1!==e.active&&At(e,null,14)}}finally{Bt=0,Dt.length=0,Gt(),Mt=!1,Vt=null,(Dt.length||Lt.length)&&Kt(e)}}let Jt,Qt=[],Zt=!1;function en(e,...t){Jt?Jt.emit(e,...t):Zt||Qt.push({event:e,args:t})}function tn(e,t){var n,r;if(Jt=e,Jt)Jt.enabled=!0,Qt.forEach((({event:e,args:t})=>Jt.emit(e,...t))),Qt=[];else if("undefined"!=typeof window&&window.HTMLElement&&!(null==(r=null==(n=window.navigator)?void 0:n.userAgent)?void 0:r.includes("jsdom"))){(t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push((e=>{tn(e,t)})),setTimeout((()=>{Jt||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Zt=!0,Qt=[])}),3e3)}else Zt=!0,Qt=[]}const nn=sn("component:added"),rn=sn("component:updated"),an=sn("component:removed"),on=e=>{Jt&&"function"==typeof Jt.cleanupBuffer&&!Jt.cleanupBuffer(e)&&an(e)};function sn(e){return t=>{en(e,t.appContext.app,t.uid,t.parent?t.parent.uid:void 0,t)}}function ln(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||o;let a=n;const i=t.startsWith("update:"),s=i&&t.slice(7);if(s&&s in r){const e=`${"modelValue"===s?"model":s}Modifiers`,{number:t,trim:i}=r[e]||o;i&&(a=n.map((e=>w(e)?e.trim():e))),t&&(a=n.map($))}let l;__VUE_PROD_DEVTOOLS__&&function(e,t,n){en("component:emit",e.appContext.app,e,t,n)}(e,t,a);let u=r[l=B(t)]||r[l=B(R(t))];!u&&i&&(u=r[l=B(P(t))]),u&&_t(u,e,6,a);const c=r[l+"Once"];if(c){if(e.emitted){if(e.emitted[l])return}else e.emitted={};e.emitted[l]=!0,_t(c,e,6,a)}}function un(e,t,n=!1){const r=t.emitsCache,a=r.get(e);if(void 0!==a)return a;const o=e.emits;let i={},s=!1;if(__VUE_OPTIONS_API__&&!y(e)){const r=e=>{const n=un(e,t,!0);n&&(s=!0,d(i,n))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return o||s?(m(o)?o.forEach((e=>i[e]=null)):d(i,o),C(e)&&r.set(e,i),i):(C(e)&&r.set(e,null),null)}function cn(e,t){return!(!e||!c(t))&&(t=t.slice(2).replace(/Once$/,""),v(e,t[0].toLowerCase()+t.slice(1))||v(e,P(t))||v(e,t))}let pn=null,dn=null;function fn(e){const t=pn;return pn=e,dn=e&&e.type.__scopeId||null,t}function hn(e,t=pn,n){if(!t)return e;if(e._n)return e;const r=(...n)=>{r._d&&va(-1);const a=fn(t);let o;try{o=e(...n)}finally{fn(a),r._d&&va(1)}return __VUE_PROD_DEVTOOLS__&&rn(t),o};return r._n=!0,r._c=!0,r._d=!0,r}function vn(e){const{type:t,vnode:n,proxy:r,withProxy:a,props:o,propsOptions:[i],slots:s,attrs:l,emit:u,render:c,renderCache:d,data:f,setupState:h,ctx:v,inheritAttrs:m}=e;let g,b;const y=fn(e);try{if(4&n.shapeFlag){const e=a||r;g=Ra(c.call(e,e,d,o,h,f,v)),b=l}else{const e=t;0,g=Ra(e.length>1?e(o,{attrs:l,slots:s,emit:u}):e(o,null)),b=t.props?l:mn(l)}}catch(t){ca.length=0,Rt(t,e,1),g=Sa(la)}let w=g;if(b&&!1!==m){const e=Object.keys(b),{shapeFlag:t}=w;e.length&&7&t&&(i&&e.some(p)&&(b=gn(b,i)),w=Ia(w,b))}return n.dirs&&(w=Ia(w),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&(w.transition=n.transition),g=w,fn(y),g}const mn=e=>{let t;for(const n in e)("class"===n||"style"===n||c(n))&&((t||(t={}))[n]=e[n]);return t},gn=(e,t)=>{const n={};for(const r in e)p(r)&&r.slice(9)in t||(n[r]=e[r]);return n};function bn(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let a=0;a<r.length;a++){const o=r[a];if(t[o]!==e[o]&&!cn(n,o))return!0}return!1}function yn({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const wn=e=>e.__isSuspense;function xn(e,t){t&&t.pendingBranch?m(e)?t.effects.push(...e):t.effects.push(e):Ut(e)}const Cn={};function En(e,t,n){return kn(e,t,n)}function kn(e,t,{immediate:n,deep:r,flush:a,onTrack:i,onTrigger:l}=o){var u;const c=te===(null==(u=$a)?void 0:u.scope)?$a:null;let p,d,h=!1,v=!1;if(Ct(e)?(p=()=>e.value,h=ht(e)):dt(e)?(p=()=>e,r=!0):m(e)?(v=!0,h=e.some((e=>dt(e)||ht(e))),p=()=>e.map((e=>Ct(e)?e.value:dt(e)?On(e):y(e)?At(e,c,2):void 0))):p=y(e)?t?()=>At(e,c,2):()=>{if(!c||!c.isUnmounted)return d&&d(),_t(e,c,3,[b])}:s,t&&r){const e=p;p=()=>On(e())}let g,b=e=>{d=E.onStop=()=>{At(e,c,4)}};if(Ka){if(b=s,t?n&&_t(t,c,3,[p(),v?[]:void 0,b]):p(),"sync"!==a)return s;{const e=so();g=e.__watcherHandles||(e.__watcherHandles=[])}}let w=v?new Array(e.length).fill(Cn):Cn;const x=()=>{if(E.active)if(t){const e=E.run();(r||h||(v?e.some(((e,t)=>L(e,w[t]))):L(e,w)))&&(d&&d(),_t(t,c,3,[e,w===Cn?void 0:v&&w[0]===Cn?[]:w,b]),w=e)}else E.run()};let C;x.allowRecurse=!!t,"sync"===a?C=x:"post"===a?C=()=>na(x,c&&c.suspense):(x.pre=!0,c&&(x.id=c.uid),C=()=>Ht(x));const E=new he(p,C);t?n?x():w=E.run():"post"===a?na(E.run.bind(E),c&&c.suspense):E.run();const k=()=>{E.stop(),c&&c.scope&&f(c.scope.effects,E)};return g&&g.push(k),k}function Sn(e,t,n){const r=this.proxy,a=w(e)?e.includes(".")?Tn(r,e):()=>r[e]:e.bind(r,r);let o;y(t)?o=t:(o=t.handler,n=t);const i=$a;Ua(this);const s=kn(a,o.bind(r),n);return i?Ua(i):qa(),s}function Tn(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function On(e,t){if(!C(e)||e.__v_skip)return e;if((t=t||new Set).has(e))return e;if(t.add(e),Ct(e))On(e.value,t);else if(m(e))for(let n=0;n<e.length;n++)On(e[n],t);else if(b(e)||g(e))e.forEach((e=>{On(e,t)}));else if(O(e))for(const n in e)On(e[n],t);return e}function In(e,t){const n=pn;if(null===n)return e;const r=to(n)||n.proxy,a=e.dirs||(e.dirs=[]);for(let e=0;e<t.length;e++){let[n,i,s,l=o]=t[e];n&&(y(n)&&(n={mounted:n,updated:n}),n.deep&&On(i),a.push({dir:n,instance:r,value:i,oldValue:void 0,arg:s,modifiers:l}))}return e}function Nn(e,t,n,r){const a=e.dirs,o=t&&t.dirs;for(let i=0;i<a.length;i++){const s=a[i];o&&(s.oldValue=o[i].value);let l=s.dir[r];l&&(be(),_t(l,n,8,[e.el,s,e,t]),ye())}}function An(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Zn((()=>{e.isMounted=!0})),nr((()=>{e.isUnmounting=!0})),e}const _n=[Function,Array],Rn={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:_n,onEnter:_n,onAfterEnter:_n,onEnterCancelled:_n,onBeforeLeave:_n,onLeave:_n,onAfterLeave:_n,onLeaveCancelled:_n,onBeforeAppear:_n,onAppear:_n,onAfterAppear:_n,onAppearCancelled:_n},Mn={name:"BaseTransition",props:Rn,setup(e,{slots:t}){const n=Va(),r=An();let a;return()=>{const o=t.default&&$n(t.default(),!0);if(!o||!o.length)return;let i=o[0];if(o.length>1){let e=!1;for(const t of o)if(t.type!==la){0,i=t,e=!0;break}}const s=mt(e),{mode:l}=s;if(r.isLeaving)return Ln(i);const u=zn(i);if(!u)return Ln(i);const c=Bn(u,s,r,n);Fn(u,c);const p=n.subTree,d=p&&zn(p);let f=!1;const{getTransitionKey:h}=u.type;if(h){const e=h();void 0===a?a=e:e!==a&&(a=e,f=!0)}if(d&&d.type!==la&&(!wa(u,d)||f)){const e=Bn(d,s,r,n);if(Fn(d,e),"out-in"===l)return r.isLeaving=!0,e.afterLeave=()=>{r.isLeaving=!1,!1!==n.update.active&&n.update()},Ln(i);"in-out"===l&&u.type!==la&&(e.delayLeave=(e,t,n)=>{Dn(r,d)[String(d.key)]=d,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete c.delayedLeave},c.delayedLeave=n})}return i}}},Pn=Mn;function Dn(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Bn(e,t,n,r){const{appear:a,mode:o,persisted:i=!1,onBeforeEnter:s,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:p,onLeave:d,onAfterLeave:f,onLeaveCancelled:h,onBeforeAppear:v,onAppear:g,onAfterAppear:b,onAppearCancelled:y}=t,w=String(e.key),x=Dn(n,e),C=(e,t)=>{e&&_t(e,r,9,t)},E=(e,t)=>{const n=t[1];C(e,t),m(e)?e.every((e=>e.length<=1))&&n():e.length<=1&&n()},k={mode:o,persisted:i,beforeEnter(t){let r=s;if(!n.isMounted){if(!a)return;r=v||s}t._leaveCb&&t._leaveCb(!0);const o=x[w];o&&wa(e,o)&&o.el._leaveCb&&o.el._leaveCb(),C(r,[t])},enter(e){let t=l,r=u,o=c;if(!n.isMounted){if(!a)return;t=g||l,r=b||u,o=y||c}let i=!1;const s=e._enterCb=t=>{i||(i=!0,C(t?o:r,[e]),k.delayedLeave&&k.delayedLeave(),e._enterCb=void 0)};t?E(t,[e,s]):s()},leave(t,r){const a=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return r();C(p,[t]);let o=!1;const i=t._leaveCb=n=>{o||(o=!0,r(),C(n?h:f,[t]),t._leaveCb=void 0,x[a]===e&&delete x[a])};x[a]=e,d?E(d,[t,i]):i()},clone(e){return Bn(e,t,n,r)}};return k}function Ln(e){if(jn(e))return(e=Ia(e)).children=null,e}function zn(e){return jn(e)?e.children?e.children[0]:void 0:e}function Fn(e,t){6&e.shapeFlag&&e.component?Fn(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function $n(e,t=!1,n){let r=[],a=0;for(let o=0;o<e.length;o++){let i=e[o];const s=null==n?i.key:String(n)+String(null!=i.key?i.key:o);i.type===ia?(128&i.patchFlag&&a++,r=r.concat($n(i.children,t,s))):(t||i.type!==la)&&r.push(null!=s?Ia(i,{key:s}):i)}if(a>1)for(let e=0;e<r.length;e++)r[e].patchFlag=-2;return r}const Vn=e=>!!e.type.__asyncLoader;const jn=e=>e.type.__isKeepAlive;RegExp,RegExp;function Hn(e,t){return m(e)?e.some((e=>Hn(e,t))):w(e)?e.split(",").includes(t):!!(e=>"[object RegExp]"===S(e))(e)&&e.test(t)}function Wn(e,t){qn(e,"a",t)}function Un(e,t){qn(e,"da",t)}function qn(e,t,n=$a){const r=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(Kn(t,r,n),n){let e=n.parent;for(;e&&e.parent;)jn(e.parent.vnode)&&Gn(r,t,n,e),e=e.parent}}function Gn(e,t,n,r){const a=Kn(t,e,r,!0);rr((()=>{f(r[t],a)}),n)}function Xn(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Yn(e){return 128&e.shapeFlag?e.ssContent:e}function Kn(e,t,n=$a,r=!1){if(n){const a=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...r)=>{if(n.isUnmounted)return;be(),Ua(n);const a=_t(t,n,e,r);return qa(),ye(),a});return r?a.unshift(o):a.push(o),o}}const Jn=e=>(t,n=$a)=>(!Ka||"sp"===e)&&Kn(e,((...e)=>t(...e)),n),Qn=Jn("bm"),Zn=Jn("m"),er=Jn("bu"),tr=Jn("u"),nr=Jn("bum"),rr=Jn("um"),ar=Jn("sp"),or=Jn("rtg"),ir=Jn("rtc");function sr(e,t=$a){Kn("ec",e,t)}const lr="components";function ur(e,t){return dr(lr,e,!0,t)||e}const cr=Symbol.for("v-ndc");function pr(e){return w(e)?dr(lr,e,!1)||e:e||cr}function dr(e,t,n=!0,r=!1){const a=pn||$a;if(a){const n=a.type;if(e===lr){const e=no(n,!1);if(e&&(e===t||e===R(t)||e===D(R(t))))return n}const o=fr(a[e]||n[e],t)||fr(a.appContext[e],t);return!o&&r?n:o}}function fr(e,t){return e&&(e[t]||e[R(t)]||e[D(R(t))])}function hr(e,t,n,r){let a;const o=n&&n[r];if(m(e)||w(e)){a=new Array(e.length);for(let n=0,r=e.length;n<r;n++)a[n]=t(e[n],n,void 0,o&&o[n])}else if("number"==typeof e){0,a=new Array(e);for(let n=0;n<e;n++)a[n]=t(n+1,n,void 0,o&&o[n])}else if(C(e))if(e[Symbol.iterator])a=Array.from(e,((e,n)=>t(e,n,void 0,o&&o[n])));else{const n=Object.keys(e);a=new Array(n.length);for(let r=0,i=n.length;r<i;r++){const i=n[r];a[r]=t(e[i],i,r,o&&o[r])}}else a=[];return n&&(n[r]=a),a}function vr(e,t,n={},r,a){if(pn.isCE||pn.parent&&Vn(pn.parent)&&pn.parent.isCE)return"default"!==t&&(n.name=t),Sa("slot",n,r&&r());let o=e[t];o&&o._c&&(o._d=!1),da();const i=o&&mr(o(n)),s=ba(ia,{key:n.key||i&&i.key||`_${t}`},i||(r?r():[]),i&&1===e._?64:-2);return!a&&s.scopeId&&(s.slotScopeIds=[s.scopeId+"-s"]),o&&o._c&&(o._d=!0),s}function mr(e){return e.some((e=>!ya(e)||e.type!==la&&!(e.type===ia&&!mr(e.children))))?e:null}const gr=e=>e?Ga(e)?to(e)||e.proxy:gr(e.parent):null,br=d(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>gr(e.parent),$root:e=>gr(e.root),$emit:e=>e.emit,$options:e=>__VUE_OPTIONS_API__?Tr(e):e.type,$forceUpdate:e=>e.f||(e.f=()=>Ht(e.update)),$nextTick:e=>e.n||(e.n=jt.bind(e.proxy)),$watch:e=>__VUE_OPTIONS_API__?Sn.bind(e):s}),yr=(e,t)=>e!==o&&!e.__isScriptSetup&&v(e,t),wr={get({_:e},t){const{ctx:n,setupState:r,data:a,props:i,accessCache:s,type:l,appContext:u}=e;let c;if("$"!==t[0]){const l=s[t];if(void 0!==l)switch(l){case 1:return r[t];case 2:return a[t];case 4:return n[t];case 3:return i[t]}else{if(yr(r,t))return s[t]=1,r[t];if(a!==o&&v(a,t))return s[t]=2,a[t];if((c=e.propsOptions[0])&&v(c,t))return s[t]=3,i[t];if(n!==o&&v(n,t))return s[t]=4,n[t];__VUE_OPTIONS_API__&&!Cr||(s[t]=0)}}const p=br[t];let d,f;return p?("$attrs"===t&&we(e,0,t),p(e)):(d=l.__cssModules)&&(d=d[t])?d:n!==o&&v(n,t)?(s[t]=4,n[t]):(f=u.config.globalProperties,v(f,t)?f[t]:void 0)},set({_:e},t,n){const{data:r,setupState:a,ctx:i}=e;return yr(a,t)?(a[t]=n,!0):r!==o&&v(r,t)?(r[t]=n,!0):!v(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(i[t]=n,!0))},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:a,propsOptions:i}},s){let l;return!!n[s]||e!==o&&v(e,s)||yr(t,s)||(l=i[0])&&v(l,s)||v(r,s)||v(br,s)||v(a.config.globalProperties,s)},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:v(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function xr(e){return m(e)?e.reduce(((e,t)=>(e[t]=null,e)),{}):e}let Cr=!0;function Er(e){const t=Tr(e),n=e.proxy,r=e.ctx;Cr=!1,t.beforeCreate&&kr(t.beforeCreate,e,"bc");const{data:a,computed:o,methods:i,watch:l,provide:u,inject:c,created:p,beforeMount:d,mounted:f,beforeUpdate:h,updated:v,activated:g,deactivated:b,beforeDestroy:w,beforeUnmount:x,destroyed:E,unmounted:k,render:S,renderTracked:T,renderTriggered:O,errorCaptured:I,serverPrefetch:N,expose:A,inheritAttrs:_,components:R,directives:M,filters:P}=t;if(c&&function(e,t,n=s){m(e)&&(e=Ar(e));for(const n in e){const r=e[n];let a;a=C(r)?"default"in r?Fr(r.from||n,r.default,!0):Fr(r.from||n):Fr(r),Ct(a)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>a.value,set:e=>a.value=e}):t[n]=a}}(c,r,null),i)for(const e in i){const t=i[e];y(t)&&(r[e]=t.bind(n))}if(a){0;const t=a.call(n,n);0,C(t)&&(e.data=ut(t))}if(Cr=!0,o)for(const e in o){const t=o[e],a=y(t)?t.bind(n,n):y(t.get)?t.get.bind(n,n):s;0;const i=!y(t)&&y(t.set)?t.set.bind(n):s,l=ao({get:a,set:i});Object.defineProperty(r,e,{enumerable:!0,configurable:!0,get:()=>l.value,set:e=>l.value=e})}if(l)for(const e in l)Sr(l[e],r,n,e);if(u){const e=y(u)?u.call(n):u;Reflect.ownKeys(e).forEach((t=>{zr(t,e[t])}))}function D(e,t){m(t)?t.forEach((t=>e(t.bind(n)))):t&&e(t.bind(n))}if(p&&kr(p,e,"c"),D(Qn,d),D(Zn,f),D(er,h),D(tr,v),D(Wn,g),D(Un,b),D(sr,I),D(ir,T),D(or,O),D(nr,x),D(rr,k),D(ar,N),m(A))if(A.length){const t=e.exposed||(e.exposed={});A.forEach((e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})}))}else e.exposed||(e.exposed={});S&&e.render===s&&(e.render=S),null!=_&&(e.inheritAttrs=_),R&&(e.components=R),M&&(e.directives=M)}function kr(e,t,n){_t(m(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,n)}function Sr(e,t,n,r){const a=r.includes(".")?Tn(n,r):()=>n[r];if(w(e)){const n=t[e];y(n)&&En(a,n)}else if(y(e))En(a,e.bind(n));else if(C(e))if(m(e))e.forEach((e=>Sr(e,t,n,r)));else{const r=y(e.handler)?e.handler.bind(n):t[e.handler];y(r)&&En(a,r,e)}else 0}function Tr(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:a,optionsCache:o,config:{optionMergeStrategies:i}}=e.appContext,s=o.get(t);let l;return s?l=s:a.length||n||r?(l={},a.length&&a.forEach((e=>Or(l,e,i,!0))),Or(l,t,i)):l=t,C(t)&&o.set(t,l),l}function Or(e,t,n,r=!1){const{mixins:a,extends:o}=t;o&&Or(e,o,n,!0),a&&a.forEach((t=>Or(e,t,n,!0)));for(const a in t)if(r&&"expose"===a);else{const r=Ir[a]||n&&n[a];e[a]=r?r(e[a],t[a]):t[a]}return e}const Ir={data:Nr,props:Mr,emits:Mr,methods:Rr,computed:Rr,beforeCreate:_r,created:_r,beforeMount:_r,mounted:_r,beforeUpdate:_r,updated:_r,beforeDestroy:_r,beforeUnmount:_r,destroyed:_r,unmounted:_r,activated:_r,deactivated:_r,errorCaptured:_r,serverPrefetch:_r,components:Rr,directives:Rr,watch:function(e,t){if(!e)return t;if(!t)return e;const n=d(Object.create(null),e);for(const r in t)n[r]=_r(e[r],t[r]);return n},provide:Nr,inject:function(e,t){return Rr(Ar(e),Ar(t))}};function Nr(e,t){return t?e?function(){return d(y(e)?e.call(this,this):e,y(t)?t.call(this,this):t)}:t:e}function Ar(e){if(m(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function _r(e,t){return e?[...new Set([].concat(e,t))]:t}function Rr(e,t){return e?d(Object.create(null),e,t):t}function Mr(e,t){return e?m(e)&&m(t)?[...new Set([...e,...t])]:d(Object.create(null),xr(e),xr(null!=t?t:{})):t}function Pr(){return{app:null,config:{isNativeTag:l,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Dr=0;function Br(e,t){return function(n,r=null){y(n)||(n=d({},n)),null==r||C(r)||(r=null);const a=Pr();const o=new Set;let i=!1;const s=a.app={_uid:Dr++,_component:n,_props:r,_container:null,_context:a,_instance:null,version:lo,get config(){return a.config},set config(e){0},use(e,...t){return o.has(e)||(e&&y(e.install)?(o.add(e),e.install(s,...t)):y(e)&&(o.add(e),e(s,...t))),s},mixin(e){return __VUE_OPTIONS_API__&&(a.mixins.includes(e)||a.mixins.push(e)),s},component(e,t){return t?(a.components[e]=t,s):a.components[e]},directive(e,t){return t?(a.directives[e]=t,s):a.directives[e]},mount(o,l,u){if(!i){0;const c=Sa(n,r);return c.appContext=a,l&&t?t(c,o):e(c,o,u),i=!0,s._container=o,o.__vue_app__=s,__VUE_PROD_DEVTOOLS__&&(s._instance=c.component,function(e,t){en("app:init",e,t,{Fragment:ia,Text:sa,Comment:la,Static:ua})}(s,lo)),to(c.component)||c.component.proxy}},unmount(){i&&(e(null,s._container),__VUE_PROD_DEVTOOLS__&&(s._instance=null,function(e){en("app:unmount",e)}(s)),delete s._container.__vue_app__)},provide(e,t){return a.provides[e]=t,s},runWithContext(e){Lr=s;try{return e()}finally{Lr=null}}};return s}}let Lr=null;function zr(e,t){if($a){let n=$a.provides;const r=$a.parent&&$a.parent.provides;r===n&&(n=$a.provides=Object.create(r)),n[e]=t}else 0}function Fr(e,t,n=!1){const r=$a||pn;if(r||Lr){const a=r?null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Lr._context.provides;if(a&&e in a)return a[e];if(arguments.length>1)return n&&y(t)?t.call(r&&r.proxy):t}else 0}function $r(e,t,n,r=!1){const a={},o={};F(o,xa,1),e.propsDefaults=Object.create(null),Vr(e,t,a,o);for(const t in e.propsOptions[0])t in a||(a[t]=void 0);n?e.props=r?a:pt(a,!1,Le,rt,it):e.type.props?e.props=a:e.props=o,e.attrs=o}function Vr(e,t,n,r){const[a,i]=e.propsOptions;let s,l=!1;if(t)for(let o in t){if(N(o))continue;const u=t[o];let c;a&&v(a,c=R(o))?i&&i.includes(c)?(s||(s={}))[c]=u:n[c]=u:cn(e.emitsOptions,o)||o in r&&u===r[o]||(r[o]=u,l=!0)}if(i){const t=mt(n),r=s||o;for(let o=0;o<i.length;o++){const s=i[o];n[s]=jr(a,t,s,r[s],e,!v(r,s))}}return l}function jr(e,t,n,r,a,o){const i=e[n];if(null!=i){const e=v(i,"default");if(e&&void 0===r){const e=i.default;if(i.type!==Function&&!i.skipFactory&&y(e)){const{propsDefaults:o}=a;n in o?r=o[n]:(Ua(a),r=o[n]=e.call(null,t),qa())}else r=e}i[0]&&(o&&!e?r=!1:!i[1]||""!==r&&r!==P(n)||(r=!0))}return r}function Hr(e,t,n=!1){const r=t.propsCache,a=r.get(e);if(a)return a;const s=e.props,l={},u=[];let c=!1;if(__VUE_OPTIONS_API__&&!y(e)){const r=e=>{c=!0;const[n,r]=Hr(e,t,!0);d(l,n),r&&u.push(...r)};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}if(!s&&!c)return C(e)&&r.set(e,i),i;if(m(s))for(let e=0;e<s.length;e++){0;const t=R(s[e]);Wr(t)&&(l[t]=o)}else if(s){0;for(const e in s){const t=R(e);if(Wr(t)){const n=s[e],r=l[t]=m(n)||y(n)?{type:n}:d({},n);if(r){const e=Gr(Boolean,r.type),n=Gr(String,r.type);r[0]=e>-1,r[1]=n<0||e<n,(e>-1||v(r,"default"))&&u.push(t)}}}}const p=[l,u];return C(e)&&r.set(e,p),p}function Wr(e){return"$"!==e[0]}function Ur(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:null===e?"null":""}function qr(e,t){return Ur(e)===Ur(t)}function Gr(e,t){return m(t)?t.findIndex((t=>qr(t,e))):y(t)&&qr(t,e)?0:-1}const Xr=e=>"_"===e[0]||"$stable"===e,Yr=e=>m(e)?e.map(Ra):[Ra(e)],Kr=(e,t,n)=>{if(t._n)return t;const r=hn(((...e)=>Yr(t(...e))),n);return r._c=!1,r},Jr=(e,t,n)=>{const r=e._ctx;for(const n in e){if(Xr(n))continue;const a=e[n];if(y(a))t[n]=Kr(0,a,r);else if(null!=a){0;const e=Yr(a);t[n]=()=>e}}},Qr=(e,t)=>{const n=Yr(t);e.slots.default=()=>n},Zr=(e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=mt(t),F(t,"_",n)):Jr(t,e.slots={})}else e.slots={},t&&Qr(e,t);F(e.slots,xa,1)},ea=(e,t,n)=>{const{vnode:r,slots:a}=e;let i=!0,s=o;if(32&r.shapeFlag){const e=t._;e?n&&1===e?i=!1:(d(a,t),n||1!==e||delete a._):(i=!t.$stable,Jr(t,a)),s=t}else t&&(Qr(e,t),s={default:1});if(i)for(const e in a)Xr(e)||e in s||delete a[e]};function ta(e,t,n,r,a=!1){if(m(e))return void e.forEach(((e,o)=>ta(e,t&&(m(t)?t[o]:t),n,r,a)));if(Vn(r)&&!a)return;const i=4&r.shapeFlag?to(r.component)||r.component.proxy:r.el,s=a?null:i,{i:l,r:u}=e;const c=t&&t.r,p=l.refs===o?l.refs={}:l.refs,d=l.setupState;if(null!=c&&c!==u&&(w(c)?(p[c]=null,v(d,c)&&(d[c]=null)):Ct(c)&&(c.value=null)),y(u))At(u,l,12,[s,p]);else{const t=w(u),r=Ct(u);if(t||r){const o=()=>{if(e.f){const n=t?v(d,u)?d[u]:p[u]:u.value;a?m(n)&&f(n,i):m(n)?n.includes(i)||n.push(i):t?(p[u]=[i],v(d,u)&&(d[u]=p[u])):(u.value=[i],e.k&&(p[e.k]=u.value))}else t?(p[u]=s,v(d,u)&&(d[u]=s)):r&&(u.value=s,e.k&&(p[e.k]=s))};s?(o.id=-1,na(o,n)):o()}else 0}}const na=xn;function ra(e,t){"boolean"!=typeof __VUE_OPTIONS_API__&&(H().__VUE_OPTIONS_API__=!0),"boolean"!=typeof __VUE_PROD_DEVTOOLS__&&(H().__VUE_PROD_DEVTOOLS__=!1);const n=H();n.__VUE__=!0,__VUE_PROD_DEVTOOLS__&&tn(n.__VUE_DEVTOOLS_GLOBAL_HOOK__,n);const{insert:r,remove:a,patchProp:l,createElement:u,createText:c,createComment:p,setText:d,setElementText:f,parentNode:h,nextSibling:m,setScopeId:g=s,insertStaticContent:b}=e,y=(e,t,n,r=null,a=null,o=null,i=!1,s=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!wa(e,t)&&(r=J(e),q(e,a,o,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:u,ref:c,shapeFlag:p}=t;switch(u){case sa:w(e,t,n,r);break;case la:x(e,t,n,r);break;case ua:null==e&&C(t,n,r,i);break;case ia:M(e,t,n,r,a,o,i,s,l);break;default:1&p?k(e,t,n,r,a,o,i,s,l):6&p?D(e,t,n,r,a,o,i,s,l):(64&p||128&p)&&u.process(e,t,n,r,a,o,i,s,l,Z)}null!=c&&a&&ta(c,e&&e.ref,o,t||e,!t)},w=(e,t,n,a)=>{if(null==e)r(t.el=c(t.children),n,a);else{const n=t.el=e.el;t.children!==e.children&&d(n,t.children)}},x=(e,t,n,a)=>{null==e?r(t.el=p(t.children||""),n,a):t.el=e.el},C=(e,t,n,r)=>{[e.el,e.anchor]=b(e.children,t,n,r,e.el,e.anchor)},E=({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=m(e),a(e),e=n;a(t)},k=(e,t,n,r,a,o,i,s,l)=>{i=i||"svg"===t.type,null==e?S(t,n,r,a,o,i,s,l):I(e,t,a,o,i,s,l)},S=(e,t,n,a,o,i,s,c)=>{let p,d;const{type:h,props:v,shapeFlag:m,transition:g,dirs:b}=e;if(p=e.el=u(e.type,i,v&&v.is,v),8&m?f(p,e.children):16&m&&O(e.children,p,null,a,o,i&&"foreignObject"!==h,s,c),b&&Nn(e,null,a,"created"),T(p,e,e.scopeId,s,a),v){for(const t in v)"value"===t||N(t)||l(p,t,null,v[t],i,e.children,a,o,K);"value"in v&&l(p,"value",null,v.value),(d=v.onVnodeBeforeMount)&&Ba(d,a,e)}__VUE_PROD_DEVTOOLS__&&(Object.defineProperty(p,"__vnode",{value:e,enumerable:!1}),Object.defineProperty(p,"__vueParentComponent",{value:a,enumerable:!1})),b&&Nn(e,null,a,"beforeMount");const y=(!o||o&&!o.pendingBranch)&&g&&!g.persisted;y&&g.beforeEnter(p),r(p,t,n),((d=v&&v.onVnodeMounted)||y||b)&&na((()=>{d&&Ba(d,a,e),y&&g.enter(p),b&&Nn(e,null,a,"mounted")}),o)},T=(e,t,n,r,a)=>{if(n&&g(e,n),r)for(let t=0;t<r.length;t++)g(e,r[t]);if(a){if(t===a.subTree){const t=a.vnode;T(e,t,t.scopeId,t.slotScopeIds,a.parent)}}},O=(e,t,n,r,a,o,i,s,l=0)=>{for(let u=l;u<e.length;u++){const l=e[u]=s?Ma(e[u]):Ra(e[u]);y(null,l,t,n,r,a,o,i,s)}},I=(e,t,n,r,a,i,s)=>{const u=t.el=e.el;let{patchFlag:c,dynamicChildren:p,dirs:d}=t;c|=16&e.patchFlag;const h=e.props||o,v=t.props||o;let m;n&&aa(n,!1),(m=v.onVnodeBeforeUpdate)&&Ba(m,n,t,e),d&&Nn(t,e,n,"beforeUpdate"),n&&aa(n,!0);const g=a&&"foreignObject"!==t.type;if(p?A(e.dynamicChildren,p,u,n,r,g,i):s||V(e,t,u,null,n,r,g,i,!1),c>0){if(16&c)_(u,t,h,v,n,r,a);else if(2&c&&h.class!==v.class&&l(u,"class",null,v.class,a),4&c&&l(u,"style",h.style,v.style,a),8&c){const o=t.dynamicProps;for(let t=0;t<o.length;t++){const i=o[t],s=h[i],c=v[i];c===s&&"value"!==i||l(u,i,s,c,a,e.children,n,r,K)}}1&c&&e.children!==t.children&&f(u,t.children)}else s||null!=p||_(u,t,h,v,n,r,a);((m=v.onVnodeUpdated)||d)&&na((()=>{m&&Ba(m,n,t,e),d&&Nn(t,e,n,"updated")}),r)},A=(e,t,n,r,a,o,i)=>{for(let s=0;s<t.length;s++){const l=e[s],u=t[s],c=l.el&&(l.type===ia||!wa(l,u)||70&l.shapeFlag)?h(l.el):n;y(l,u,c,null,r,a,o,i,!0)}},_=(e,t,n,r,a,i,s)=>{if(n!==r){if(n!==o)for(const o in n)N(o)||o in r||l(e,o,n[o],null,s,t.children,a,i,K);for(const o in r){if(N(o))continue;const u=r[o],c=n[o];u!==c&&"value"!==o&&l(e,o,c,u,s,t.children,a,i,K)}"value"in r&&l(e,"value",n.value,r.value)}},M=(e,t,n,a,o,i,s,l,u)=>{const p=t.el=e?e.el:c(""),d=t.anchor=e?e.anchor:c("");let{patchFlag:f,dynamicChildren:h,slotScopeIds:v}=t;v&&(l=l?l.concat(v):v),null==e?(r(p,n,a),r(d,n,a),O(t.children,n,d,o,i,s,l,u)):f>0&&64&f&&h&&e.dynamicChildren?(A(e.dynamicChildren,h,n,o,i,s,l),(null!=t.key||o&&t===o.subTree)&&oa(e,t,!0)):V(e,t,n,d,o,i,s,l,u)},D=(e,t,n,r,a,o,i,s,l)=>{t.slotScopeIds=s,null==e?512&t.shapeFlag?a.ctx.activate(t,n,r,i,l):B(t,n,r,a,o,i,l):L(e,t,l)},B=(e,t,n,r,a,o,i)=>{const s=e.component=Fa(e,r,a);if(jn(e)&&(s.ctx.renderer=Z),Ja(s),s.asyncDep){if(a&&a.registerDep(s,F),!e.el){const e=s.subTree=Sa(la);x(null,e,t,n)}}else F(s,e,t,n,a,o,i)},L=(e,t,n)=>{const r=t.component=e.component;if(function(e,t,n){const{props:r,children:a,component:o}=e,{props:i,children:s,patchFlag:l}=t,u=o.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!a&&!s||s&&s.$stable)||r!==i&&(r?!i||bn(r,i,u):!!i);if(1024&l)return!0;if(16&l)return r?bn(r,i,u):!!i;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(i[n]!==r[n]&&!cn(u,n))return!0}}return!1}(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void $(r,t,n);r.next=t,function(e){const t=Dt.indexOf(e);t>Bt&&Dt.splice(t,1)}(r.update),r.update()}else t.el=e.el,r.vnode=t},F=(e,t,n,r,a,o,i)=>{const s=e.effect=new he((()=>{if(e.isMounted){let t,{next:n,bu:r,u:s,parent:l,vnode:u}=e,c=n;0,aa(e,!1),n?(n.el=u.el,$(e,n,i)):n=u,r&&z(r),(t=n.props&&n.props.onVnodeBeforeUpdate)&&Ba(t,l,n,u),aa(e,!0);const p=vn(e);0;const d=e.subTree;e.subTree=p,y(d,p,h(d.el),J(d),e,a,o),n.el=p.el,null===c&&yn(e,p.el),s&&na(s,a),(t=n.props&&n.props.onVnodeUpdated)&&na((()=>Ba(t,l,n,u)),a),__VUE_PROD_DEVTOOLS__&&rn(e)}else{let i;const{el:s,props:l}=t,{bm:u,m:c,parent:p}=e,d=Vn(t);if(aa(e,!1),u&&z(u),!d&&(i=l&&l.onVnodeBeforeMount)&&Ba(i,p,t),aa(e,!0),s&&te){const n=()=>{e.subTree=vn(e),te(s,e.subTree,e,a,null)};d?t.type.__asyncLoader().then((()=>!e.isUnmounted&&n())):n()}else{0;const i=e.subTree=vn(e);0,y(null,i,n,r,e,a,o),t.el=i.el}if(c&&na(c,a),!d&&(i=l&&l.onVnodeMounted)){const e=t;na((()=>Ba(i,p,e)),a)}(256&t.shapeFlag||p&&Vn(p.vnode)&&256&p.vnode.shapeFlag)&&e.a&&na(e.a,a),e.isMounted=!0,__VUE_PROD_DEVTOOLS__&&nn(e),t=n=r=null}}),(()=>Ht(l)),e.scope),l=e.update=()=>s.run();l.id=e.uid,aa(e,!0),l()},$=(e,t,n)=>{t.component=e;const r=e.vnode.props;e.vnode=t,e.next=null,function(e,t,n,r){const{props:a,attrs:o,vnode:{patchFlag:i}}=e,s=mt(a),[l]=e.propsOptions;let u=!1;if(!(r||i>0)||16&i){let r;Vr(e,t,a,o)&&(u=!0);for(const o in s)t&&(v(t,o)||(r=P(o))!==o&&v(t,r))||(l?!n||void 0===n[o]&&void 0===n[r]||(a[o]=jr(l,s,o,void 0,e,!0)):delete a[o]);if(o!==s)for(const e in o)t&&v(t,e)||(delete o[e],u=!0)}else if(8&i){const n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){let i=n[r];if(cn(e.emitsOptions,i))continue;const c=t[i];if(l)if(v(o,i))c!==o[i]&&(o[i]=c,u=!0);else{const t=R(i);a[t]=jr(l,s,t,c,e,!1)}else c!==o[i]&&(o[i]=c,u=!0)}}u&&Ce(e,"set","$attrs")}(e,t.props,r,n),ea(e,t.children,n),be(),qt(),ye()},V=(e,t,n,r,a,o,i,s,l=!1)=>{const u=e&&e.children,c=e?e.shapeFlag:0,p=t.children,{patchFlag:d,shapeFlag:h}=t;if(d>0){if(128&d)return void W(u,p,n,r,a,o,i,s,l);if(256&d)return void j(u,p,n,r,a,o,i,s,l)}8&h?(16&c&&K(u,a,o),p!==u&&f(n,p)):16&c?16&h?W(u,p,n,r,a,o,i,s,l):K(u,a,o,!0):(8&c&&f(n,""),16&h&&O(p,n,r,a,o,i,s,l))},j=(e,t,n,r,a,o,s,l,u)=>{t=t||i;const c=(e=e||i).length,p=t.length,d=Math.min(c,p);let f;for(f=0;f<d;f++){const r=t[f]=u?Ma(t[f]):Ra(t[f]);y(e[f],r,n,null,a,o,s,l,u)}c>p?K(e,a,o,!0,!1,d):O(t,n,r,a,o,s,l,u,d)},W=(e,t,n,r,a,o,s,l,u)=>{let c=0;const p=t.length;let d=e.length-1,f=p-1;for(;c<=d&&c<=f;){const r=e[c],i=t[c]=u?Ma(t[c]):Ra(t[c]);if(!wa(r,i))break;y(r,i,n,null,a,o,s,l,u),c++}for(;c<=d&&c<=f;){const r=e[d],i=t[f]=u?Ma(t[f]):Ra(t[f]);if(!wa(r,i))break;y(r,i,n,null,a,o,s,l,u),d--,f--}if(c>d){if(c<=f){const e=f+1,i=e<p?t[e].el:r;for(;c<=f;)y(null,t[c]=u?Ma(t[c]):Ra(t[c]),n,i,a,o,s,l,u),c++}}else if(c>f)for(;c<=d;)q(e[c],a,o,!0),c++;else{const h=c,v=c,m=new Map;for(c=v;c<=f;c++){const e=t[c]=u?Ma(t[c]):Ra(t[c]);null!=e.key&&m.set(e.key,c)}let g,b=0;const w=f-v+1;let x=!1,C=0;const E=new Array(w);for(c=0;c<w;c++)E[c]=0;for(c=h;c<=d;c++){const r=e[c];if(b>=w){q(r,a,o,!0);continue}let i;if(null!=r.key)i=m.get(r.key);else for(g=v;g<=f;g++)if(0===E[g-v]&&wa(r,t[g])){i=g;break}void 0===i?q(r,a,o,!0):(E[i-v]=c+1,i>=C?C=i:x=!0,y(r,t[i],n,null,a,o,s,l,u),b++)}const k=x?function(e){const t=e.slice(),n=[0];let r,a,o,i,s;const l=e.length;for(r=0;r<l;r++){const l=e[r];if(0!==l){if(a=n[n.length-1],e[a]<l){t[r]=a,n.push(r);continue}for(o=0,i=n.length-1;o<i;)s=o+i>>1,e[n[s]]<l?o=s+1:i=s;l<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}o=n.length,i=n[o-1];for(;o-- >0;)n[o]=i,i=t[i];return n}(E):i;for(g=k.length-1,c=w-1;c>=0;c--){const e=v+c,i=t[e],d=e+1<p?t[e+1].el:r;0===E[c]?y(null,i,n,d,a,o,s,l,u):x&&(g<0||c!==k[g]?U(i,n,d,2):g--)}}},U=(e,t,n,a,o=null)=>{const{el:i,type:s,transition:l,children:u,shapeFlag:c}=e;if(6&c)return void U(e.component.subTree,t,n,a);if(128&c)return void e.suspense.move(t,n,a);if(64&c)return void s.move(e,t,n,Z);if(s===ia){r(i,t,n);for(let e=0;e<u.length;e++)U(u[e],t,n,a);return void r(e.anchor,t,n)}if(s===ua)return void(({el:e,anchor:t},n,a)=>{let o;for(;e&&e!==t;)o=m(e),r(e,n,a),e=o;r(t,n,a)})(e,t,n);if(2!==a&&1&c&&l)if(0===a)l.beforeEnter(i),r(i,t,n),na((()=>l.enter(i)),o);else{const{leave:e,delayLeave:a,afterLeave:o}=l,s=()=>r(i,t,n),u=()=>{e(i,(()=>{s(),o&&o()}))};a?a(i,s,u):u()}else r(i,t,n)},q=(e,t,n,r=!1,a=!1)=>{const{type:o,props:i,ref:s,children:l,dynamicChildren:u,shapeFlag:c,patchFlag:p,dirs:d}=e;if(null!=s&&ta(s,null,n,e,!0),256&c)return void t.ctx.deactivate(e);const f=1&c&&d,h=!Vn(e);let v;if(h&&(v=i&&i.onVnodeBeforeUnmount)&&Ba(v,t,e),6&c)Y(e.component,n,r);else{if(128&c)return void e.suspense.unmount(n,r);f&&Nn(e,null,t,"beforeUnmount"),64&c?e.type.remove(e,t,n,a,Z,r):u&&(o!==ia||p>0&&64&p)?K(u,t,n,!1,!0):(o===ia&&384&p||!a&&16&c)&&K(l,t,n),r&&G(e)}(h&&(v=i&&i.onVnodeUnmounted)||f)&&na((()=>{v&&Ba(v,t,e),f&&Nn(e,null,t,"unmounted")}),n)},G=e=>{const{type:t,el:n,anchor:r,transition:o}=e;if(t===ia)return void X(n,r);if(t===ua)return void E(e);const i=()=>{a(n),o&&!o.persisted&&o.afterLeave&&o.afterLeave()};if(1&e.shapeFlag&&o&&!o.persisted){const{leave:t,delayLeave:r}=o,a=()=>t(n,i);r?r(e.el,i,a):a()}else i()},X=(e,t)=>{let n;for(;e!==t;)n=m(e),a(e),e=n;a(t)},Y=(e,t,n)=>{const{bum:r,scope:a,update:o,subTree:i,um:s}=e;r&&z(r),a.stop(),o&&(o.active=!1,q(i,e,t,n)),s&&na(s,t),na((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve()),__VUE_PROD_DEVTOOLS__&&on(e)},K=(e,t,n,r=!1,a=!1,o=0)=>{for(let i=o;i<e.length;i++)q(e[i],t,n,r,a)},J=e=>6&e.shapeFlag?J(e.component.subTree):128&e.shapeFlag?e.suspense.next():m(e.anchor||e.el),Q=(e,t,n)=>{null==e?t._vnode&&q(t._vnode,null,null,!0):y(t._vnode||null,e,t,null,null,null,n),qt(),Gt(),t._vnode=e},Z={p:y,um:q,m:U,r:G,mt:B,mc:O,pc:V,pbc:A,n:J,o:e};let ee,te;return t&&([ee,te]=t(Z)),{render:Q,hydrate:ee,createApp:Br(Q,ee)}}function aa({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function oa(e,t,n=!1){const r=e.children,a=t.children;if(m(r)&&m(a))for(let e=0;e<r.length;e++){const t=r[e];let o=a[e];1&o.shapeFlag&&!o.dynamicChildren&&((o.patchFlag<=0||32===o.patchFlag)&&(o=a[e]=Ma(a[e]),o.el=t.el),n||oa(t,o)),o.type===sa&&(o.el=t.el)}}const ia=Symbol.for("v-fgt"),sa=Symbol.for("v-txt"),la=Symbol.for("v-cmt"),ua=Symbol.for("v-stc"),ca=[];let pa=null;function da(e=!1){ca.push(pa=e?null:[])}function fa(){ca.pop(),pa=ca[ca.length-1]||null}let ha=1;function va(e){ha+=e}function ma(e){return e.dynamicChildren=ha>0?pa||i:null,fa(),ha>0&&pa&&pa.push(e),e}function ga(e,t,n,r,a,o){return ma(ka(e,t,n,r,a,o,!0))}function ba(e,t,n,r,a){return ma(Sa(e,t,n,r,a,!0))}function ya(e){return!!e&&!0===e.__v_isVNode}function wa(e,t){return e.type===t.type&&e.key===t.key}const xa="__vInternal",Ca=({key:e})=>null!=e?e:null,Ea=({ref:e,ref_key:t,ref_for:n})=>("number"==typeof e&&(e=""+e),null!=e?w(e)||Ct(e)||y(e)?{i:pn,r:e,k:t,f:!!n}:e:null);function ka(e,t=null,n=null,r=0,a=null,o=(e===ia?0:1),i=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ca(t),ref:t&&Ea(t),scopeId:dn,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:pn};return s?(Pa(l,n),128&o&&e.normalize(l)):n&&(l.shapeFlag|=w(n)?8:16),ha>0&&!i&&pa&&(l.patchFlag>0||6&o)&&32!==l.patchFlag&&pa.push(l),l}const Sa=Ta;function Ta(e,t=null,n=null,r=0,a=null,o=!1){if(e&&e!==cr||(e=la),ya(e)){const r=Ia(e,t,!0);return n&&Pa(r,n),ha>0&&!o&&pa&&(6&r.shapeFlag?pa[pa.indexOf(e)]=r:pa.push(r)),r.patchFlag|=-2,r}if(ro(e)&&(e=e.__vccOpts),t){t=Oa(t);let{class:e,style:n}=t;e&&!w(e)&&(t.class=Y(e)),C(n)&&(vt(n)&&!m(n)&&(n=d({},n)),t.style=W(n))}return ka(e,t,n,r,a,w(e)?1:wn(e)?128:(e=>e.__isTeleport)(e)?64:C(e)?4:y(e)?2:0,o,!0)}function Oa(e){return e?vt(e)||xa in e?d({},e):e:null}function Ia(e,t,n=!1){const{props:r,ref:a,patchFlag:o,children:i}=e,s=t?Da(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:s,key:s&&Ca(s),ref:t&&t.ref?n&&a?m(a)?a.concat(Ea(t)):[a,Ea(t)]:Ea(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ia?-1===o?16:16|o:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ia(e.ssContent),ssFallback:e.ssFallback&&Ia(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Na(e=" ",t=0){return Sa(sa,null,e,t)}function Aa(e,t){const n=Sa(ua,null,e);return n.staticCount=t,n}function _a(e="",t=!1){return t?(da(),ba(la,null,e)):Sa(la,null,e)}function Ra(e){return null==e||"boolean"==typeof e?Sa(la):m(e)?Sa(ia,null,e.slice()):"object"==typeof e?Ma(e):Sa(sa,null,String(e))}function Ma(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:Ia(e)}function Pa(e,t){let n=0;const{shapeFlag:r}=e;if(null==t)t=null;else if(m(t))n=16;else if("object"==typeof t){if(65&r){const n=t.default;return void(n&&(n._c&&(n._d=!1),Pa(e,n()),n._c&&(n._d=!0)))}{n=32;const r=t._;r||xa in t?3===r&&pn&&(1===pn.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=pn}}else y(t)?(t={default:t,_ctx:pn},n=32):(t=String(t),64&r?(n=16,t=[Na(t)]):n=8);e.children=t,e.shapeFlag|=n}function Da(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const e in r)if("class"===e)t.class!==r.class&&(t.class=Y([t.class,r.class]));else if("style"===e)t.style=W([t.style,r.style]);else if(c(e)){const n=t[e],a=r[e];!a||n===a||m(n)&&n.includes(a)||(t[e]=n?[].concat(n,a):a)}else""!==e&&(t[e]=r[e])}return t}function Ba(e,t,n,r=null){_t(e,t,7,[n,r])}const La=Pr();let za=0;function Fa(e,t,n){const r=e.type,a=(t?t.appContext:e.appContext)||La,i={uid:za++,vnode:e,type:r,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new ne(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Hr(r,a),emitsOptions:un(r,a),emit:null,emitted:null,propsDefaults:o,inheritAttrs:r.inheritAttrs,ctx:o,data:o,props:o,attrs:o,slots:o,refs:o,setupState:o,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=ln.bind(null,i),e.ce&&e.ce(i),i}let $a=null;const Va=()=>$a||pn;let ja,Ha,Wa="__VUE_INSTANCE_SETTERS__";(Ha=H()[Wa])||(Ha=H()[Wa]=[]),Ha.push((e=>$a=e)),ja=e=>{Ha.length>1?Ha.forEach((t=>t(e))):Ha[0](e)};const Ua=e=>{ja(e),e.scope.on()},qa=()=>{$a&&$a.scope.off(),ja(null)};function Ga(e){return 4&e.vnode.shapeFlag}let Xa,Ya,Ka=!1;function Ja(e,t=!1){Ka=t;const{props:n,children:r}=e.vnode,a=Ga(e);$r(e,n,a,t),Zr(e,r);const o=a?function(e,t){const n=e.type;0;e.accessCache=Object.create(null),e.proxy=gt(new Proxy(e.ctx,wr)),!1;const{setup:r}=n;if(r){const n=e.setupContext=r.length>1?eo(e):null;Ua(e),be();const a=At(r,e,0,[e.props,n]);if(ye(),qa(),E(a)){if(a.then(qa,qa),t)return a.then((n=>{Qa(e,n,t)})).catch((t=>{Rt(t,e,0)}));e.asyncDep=a}else Qa(e,a,t)}else Za(e,t)}(e,t):void 0;return Ka=!1,o}function Qa(e,t,n){y(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:C(t)&&(__VUE_PROD_DEVTOOLS__&&(e.devtoolsRawSetupState=t),e.setupState=It(t)),Za(e,n)}function Za(e,t,n){const r=e.type;if(!e.render){if(!t&&Xa&&!r.render){const t=r.template||Tr(e).template;if(t){0;const{isCustomElement:n,compilerOptions:a}=e.appContext.config,{delimiters:o,compilerOptions:i}=r,s=d(d({isCustomElement:n,delimiters:o},a),i);r.render=Xa(t,s)}}e.render=r.render||s,Ya&&Ya(e)}__VUE_OPTIONS_API__&&(Ua(e),be(),Er(e),ye(),qa())}function eo(e){const t=t=>{e.exposed=t||{}};return{get attrs(){return function(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return we(e,0,"$attrs"),t[n]}}))}(e)},slots:e.slots,emit:e.emit,expose:t}}function to(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(It(gt(e.exposed)),{get(t,n){return n in t?t[n]:n in br?br[n](e):void 0},has(e,t){return t in e||t in br}}))}function no(e,t=!0){return y(e)?e.displayName||e.name:e.name||t&&e.__name}function ro(e){return y(e)&&"__vccOpts"in e}const ao=(e,t)=>function(e,t,n=!1){let r,a;const o=y(e);return o?(r=e,a=s):(r=e.get,a=e.set),new Nt(r,a,o||!a,n)}(e,0,Ka);function oo(e,t,n){const r=arguments.length;return 2===r?C(t)&&!m(t)?ya(t)?Sa(e,null,[t]):Sa(e,t):Sa(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&ya(n)&&(n=[n]),Sa(e,t,n))}const io=Symbol.for("v-scx"),so=()=>{{const e=Fr(io);return e}};const lo="3.3.4",uo="undefined"!=typeof document?document:null,co=uo&&uo.createElement("template"),po={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const a=t?uo.createElementNS("http://www.w3.org/2000/svg",e):uo.createElement(e,n?{is:n}:void 0);return"select"===e&&r&&null!=r.multiple&&a.setAttribute("multiple",r.multiple),a},createText:e=>uo.createTextNode(e),createComment:e=>uo.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>uo.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,a,o){const i=n?n.previousSibling:t.lastChild;if(a&&(a===o||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),n),a!==o&&(a=a.nextSibling););else{co.innerHTML=r?`<svg>${e}</svg>`:e;const a=co.content;if(r){const e=a.firstChild;for(;e.firstChild;)a.appendChild(e.firstChild);a.removeChild(e)}t.insertBefore(a,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};const fo=/\s*!important$/;function ho(e,t,n){if(m(n))n.forEach((n=>ho(e,t,n)));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=function(e,t){const n=mo[t];if(n)return n;let r=R(t);if("filter"!==r&&r in e)return mo[t]=r;r=D(r);for(let n=0;n<vo.length;n++){const a=vo[n]+r;if(a in e)return mo[t]=a}return t}(e,t);fo.test(n)?e.setProperty(P(r),n.replace(fo,""),"important"):e[r]=n}}const vo=["Webkit","Moz","ms"],mo={};const go="http://www.w3.org/1999/xlink";function bo(e,t,n,r){e.addEventListener(t,n,r)}function yo(e,t,n,r,a=null){const o=e._vei||(e._vei={}),i=o[t];if(r&&i)i.value=r;else{const[n,s]=function(e){let t;if(wo.test(e)){let n;for(t={};n=e.match(wo);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}const n=":"===e[2]?e.slice(3):P(e.slice(2));return[n,t]}(t);if(r){const i=o[t]=function(e,t){const n=e=>{if(e._vts){if(e._vts<=n.attached)return}else e._vts=Date.now();_t(function(e,t){if(m(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}(e,n.value),t,5,[e])};return n.value=e,n.attached=Eo(),n}(r,a);bo(e,n,i,s)}else i&&(!function(e,t,n,r){e.removeEventListener(t,n,r)}(e,n,i,s),o[t]=void 0)}}const wo=/(?:Once|Passive|Capture)$/;let xo=0;const Co=Promise.resolve(),Eo=()=>xo||(Co.then((()=>xo=0)),xo=Date.now());const ko=/^on[a-z]/;"undefined"!=typeof HTMLElement&&HTMLElement;const So="transition",To="animation",Oo=(e,{slots:t})=>oo(Pn,_o(e),t);Oo.displayName="Transition";const Io={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},No=(Oo.props=d({},Rn,Io),(e,t=[])=>{m(e)?e.forEach((e=>e(...t))):e&&e(...t)}),Ao=e=>!!e&&(m(e)?e.some((e=>e.length>1)):e.length>1);function _o(e){const t={};for(const n in e)n in Io||(t[n]=e[n]);if(!1===e.css)return t;const{name:n="v",type:r,duration:a,enterFromClass:o=`${n}-enter-from`,enterActiveClass:i=`${n}-enter-active`,enterToClass:s=`${n}-enter-to`,appearFromClass:l=o,appearActiveClass:u=i,appearToClass:c=s,leaveFromClass:p=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=e,v=function(e){if(null==e)return null;if(C(e))return[Ro(e.enter),Ro(e.leave)];{const t=Ro(e);return[t,t]}}(a),m=v&&v[0],g=v&&v[1],{onBeforeEnter:b,onEnter:y,onEnterCancelled:w,onLeave:x,onLeaveCancelled:E,onBeforeAppear:k=b,onAppear:S=y,onAppearCancelled:T=w}=t,O=(e,t,n)=>{Po(e,t?c:s),Po(e,t?u:i),n&&n()},I=(e,t)=>{e._isLeaving=!1,Po(e,p),Po(e,h),Po(e,f),t&&t()},N=e=>(t,n)=>{const a=e?S:y,i=()=>O(t,e,n);No(a,[t,i]),Do((()=>{Po(t,e?l:o),Mo(t,e?c:s),Ao(a)||Lo(t,r,m,i)}))};return d(t,{onBeforeEnter(e){No(b,[e]),Mo(e,o),Mo(e,i)},onBeforeAppear(e){No(k,[e]),Mo(e,l),Mo(e,u)},onEnter:N(!1),onAppear:N(!0),onLeave(e,t){e._isLeaving=!0;const n=()=>I(e,t);Mo(e,p),Vo(),Mo(e,f),Do((()=>{e._isLeaving&&(Po(e,p),Mo(e,h),Ao(x)||Lo(e,r,g,n))})),No(x,[e,n])},onEnterCancelled(e){O(e,!1),No(w,[e])},onAppearCancelled(e){O(e,!0),No(T,[e])},onLeaveCancelled(e){I(e),No(E,[e])}})}function Ro(e){return V(e)}function Mo(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e._vtc||(e._vtc=new Set)).add(t)}function Po(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function Do(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let Bo=0;function Lo(e,t,n,r){const a=e._endId=++Bo,o=()=>{a===e._endId&&r()};if(n)return setTimeout(o,n);const{type:i,timeout:s,propCount:l}=zo(e,t);if(!i)return r();const u=i+"end";let c=0;const p=()=>{e.removeEventListener(u,d),o()},d=t=>{t.target===e&&++c>=l&&p()};setTimeout((()=>{c<l&&p()}),s+1),e.addEventListener(u,d)}function zo(e,t){const n=window.getComputedStyle(e),r=e=>(n[e]||"").split(", "),a=r(`${So}Delay`),o=r(`${So}Duration`),i=Fo(a,o),s=r(`${To}Delay`),l=r(`${To}Duration`),u=Fo(s,l);let c=null,p=0,d=0;t===So?i>0&&(c=So,p=i,d=o.length):t===To?u>0&&(c=To,p=u,d=l.length):(p=Math.max(i,u),c=p>0?i>u?So:To:null,d=c?c===So?o.length:l.length:0);return{type:c,timeout:p,propCount:d,hasTransform:c===So&&/\b(transform|all)(,|$)/.test(r(`${So}Property`).toString())}}function Fo(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map(((t,n)=>$o(t)+$o(e[n]))))}function $o(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function Vo(){return document.body.offsetHeight}const jo=e=>{const t=e.props["onUpdate:modelValue"]||!1;return m(t)?e=>z(t,e):t};function Ho(e){e.target.composing=!0}function Wo(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Uo={created(e,{modifiers:{lazy:t,trim:n,number:r}},a){e._assign=jo(a);const o=r||a.props&&"number"===a.props.type;bo(e,t?"change":"input",(t=>{if(t.target.composing)return;let r=e.value;n&&(r=r.trim()),o&&(r=$(r)),e._assign(r)})),n&&bo(e,"change",(()=>{e.value=e.value.trim()})),t||(bo(e,"compositionstart",Ho),bo(e,"compositionend",Wo),bo(e,"change",Wo))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:a}},o){if(e._assign=jo(o),e.composing)return;if(document.activeElement===e&&"range"!==e.type){if(n)return;if(r&&e.value.trim()===t)return;if((a||"number"===e.type)&&$(e.value)===t)return}const i=null==t?"":t;e.value!==i&&(e.value=i)}};const qo={beforeMount(e,{value:t},{transition:n}){e._vod="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):Go(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Go(e,!0),r.enter(e)):r.leave(e,(()=>{Go(e,!1)})):Go(e,t))},beforeUnmount(e,{value:t}){Go(e,t)}};function Go(e,t){e.style.display=t?e._vod:"none"}const Xo=d({patchProp:(e,t,n,r,a=!1,o,i,s,l)=>{"class"===t?function(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}(e,r,a):"style"===t?function(e,t,n){const r=e.style,a=w(n);if(n&&!a){if(t&&!w(t))for(const e in t)null==n[e]&&ho(r,e,"");for(const e in n)ho(r,e,n[e])}else{const o=r.display;a?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=o)}}(e,n,r):c(t)?p(t)||yo(e,t,0,r,i):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):function(e,t,n,r){if(r)return"innerHTML"===t||"textContent"===t||!!(t in e&&ko.test(t)&&y(n));if("spellcheck"===t||"draggable"===t||"translate"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if(ko.test(t)&&w(n))return!1;return t in e}(e,t,r,a))?function(e,t,n,r,a,o,i){if("innerHTML"===t||"textContent"===t)return r&&i(r,a,o),void(e[t]=null==n?"":n);const s=e.tagName;if("value"===t&&"PROGRESS"!==s&&!s.includes("-")){e._value=n;const r=null==n?"":n;return("OPTION"===s?e.getAttribute("value"):e.value)!==r&&(e.value=r),void(null==n&&e.removeAttribute(t))}let l=!1;if(""===n||null==n){const r=typeof e[t];"boolean"===r?n=Q(n):null==n&&"string"===r?(n="",l=!0):"number"===r&&(n=0,l=!0)}try{e[t]=n}catch(e){}l&&e.removeAttribute(t)}(e,t,r,o,i,s,l):("true-value"===t?e._trueValue=r:"false-value"===t&&(e._falseValue=r),function(e,t,n,r,a){if(r&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(go,t.slice(6,t.length)):e.setAttributeNS(go,t,n);else{const r=J(t);null==n||r&&!Q(n)?e.removeAttribute(t):e.setAttribute(t,r?"":n)}}(e,t,r,a))}},po);let Yo;function Ko(){return Yo||(Yo=ra(Xo))}function Jo(e){if(w(e)){return document.querySelector(e)}return e}const Qo="undefined"!=typeof window;const Zo="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,ei=e=>Zo?Symbol(e):e,ti=(e,t,n)=>ni({l:e,k:t,s:n}),ni=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),ri=e=>"number"==typeof e&&isFinite(e),ai=e=>"[object Date]"===wi(e),oi=e=>"[object RegExp]"===wi(e),ii=e=>xi(e)&&0===Object.keys(e).length;function si(e,t){"undefined"!=typeof console&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const li=Object.assign;let ui;const ci=()=>ui||(ui="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{});function pi(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const di=Object.prototype.hasOwnProperty;function fi(e,t){return di.call(e,t)}const hi=Array.isArray,vi=e=>"function"==typeof e,mi=e=>"string"==typeof e,gi=e=>"boolean"==typeof e,bi=e=>null!==e&&"object"==typeof e,yi=Object.prototype.toString,wi=e=>yi.call(e),xi=e=>"[object Object]"===wi(e);function Ci(){const e=new Map;return{events:e,on(t,n){const r=e.get(t);r&&r.push(n)||e.set(t,[n])},off(t,n){const r=e.get(t);r&&r.splice(r.indexOf(n)>>>0,1)},emit(t,n){(e.get(t)||[]).slice().map((e=>e(n))),(e.get("*")||[]).slice().map((e=>e(t,n)))}}}const Ei={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,__EXTEND_POINT__:15};Ei.EXPECTED_TOKEN,Ei.INVALID_TOKEN_IN_PLACEHOLDER,Ei.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,Ei.UNKNOWN_ESCAPE_SEQUENCE,Ei.INVALID_UNICODE_ESCAPE_SEQUENCE,Ei.UNBALANCED_CLOSING_BRACE,Ei.UNTERMINATED_CLOSING_BRACE,Ei.EMPTY_PLACEHOLDER,Ei.NOT_ALLOW_NEST_PLACEHOLDER,Ei.INVALID_LINKED_FORMAT,Ei.MUST_HAVE_MESSAGES_IN_PLURAL,Ei.UNEXPECTED_EMPTY_LINKED_MODIFIER,Ei.UNEXPECTED_EMPTY_LINKED_KEY,Ei.UNEXPECTED_LEXICAL_ANALYSIS;function ki(e,t,n={}){const{domain:r,messages:a,args:o}=n,i=new SyntaxError(String(e));return i.code=e,t&&(i.location=t),i.domain=r,i}function Si(e){throw e}function Ti(e,t,n){const r={start:e,end:t};return null!=n&&(r.source=n),r}const Oi=" ",Ii="\r",Ni="\n",Ai=String.fromCharCode(8232),_i=String.fromCharCode(8233);function Ri(e){const t=e;let n=0,r=1,a=1,o=0;const i=e=>t[e]===Ii&&t[e+1]===Ni,s=e=>t[e]===_i,l=e=>t[e]===Ai,u=e=>i(e)||(e=>t[e]===Ni)(e)||s(e)||l(e),c=e=>i(e)||s(e)||l(e)?Ni:t[e];function p(){return o=0,u(n)&&(r++,a=0),i(n)&&n++,n++,a++,t[n]}return{index:()=>n,line:()=>r,column:()=>a,peekOffset:()=>o,charAt:c,currentChar:()=>c(n),currentPeek:()=>c(n+o),next:p,peek:function(){return i(n+o)&&o++,o++,t[n+o]},reset:function(){n=0,r=1,a=1,o=0},resetPeek:function(e=0){o=e},skipToPeek:function(){const e=n+o;for(;e!==n;)p();o=0}}}const Mi=void 0,Pi="'",Di="tokenizer";function Bi(e,t={}){const n=!1!==t.location,r=Ri(e),a=()=>r.index(),o=()=>function(e,t,n){return{line:e,column:t,offset:n}}(r.line(),r.column(),r.index()),i=o(),s=a(),l={currentType:14,offset:s,startLoc:i,endLoc:i,lastType:14,lastOffset:s,lastStartLoc:i,lastEndLoc:i,braceNest:0,inLinked:!1,text:""},u=()=>l,{onError:c}=t;function p(e,t,n,...r){const a=u();if(t.column+=n,t.offset+=n,c){const n=ki(e,Ti(a.startLoc,t),{domain:Di,args:r});c(n)}}function d(e,t,r){e.endLoc=o(),e.currentType=t;const a={type:t};return n&&(a.loc=Ti(e.startLoc,e.endLoc)),null!=r&&(a.value=r),a}const f=e=>d(e,14);function h(e,t){return e.currentChar()===t?(e.next(),t):(p(Ei.EXPECTED_TOKEN,o(),0,t),"")}function v(e){let t="";for(;e.currentPeek()===Oi||e.currentPeek()===Ni;)t+=e.currentPeek(),e.peek();return t}function m(e){const t=v(e);return e.skipToPeek(),t}function g(e){if(e===Mi)return!1;const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||95===t}function b(e,t){const{currentType:n}=t;if(2!==n)return!1;v(e);const r=function(e){if(e===Mi)return!1;const t=e.charCodeAt(0);return t>=48&&t<=57}("-"===e.currentPeek()?e.peek():e.currentPeek());return e.resetPeek(),r}function y(e){v(e);const t="|"===e.currentPeek();return e.resetPeek(),t}function w(e,t=!0){const n=(t=!1,r="",a=!1)=>{const o=e.currentPeek();return"{"===o?"%"!==r&&t:"@"!==o&&o?"%"===o?(e.peek(),n(t,"%",!0)):"|"===o?!("%"!==r&&!a)||!(r===Oi||r===Ni):o===Oi?(e.peek(),n(!0,Oi,a)):o!==Ni||(e.peek(),n(!0,Ni,a)):"%"===r||t},r=n();return t&&e.resetPeek(),r}function x(e,t){const n=e.currentChar();return n===Mi?Mi:t(n)?(e.next(),n):null}function C(e){return x(e,(e=>{const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||t>=48&&t<=57||95===t||36===t}))}function E(e){return x(e,(e=>{const t=e.charCodeAt(0);return t>=48&&t<=57}))}function k(e){return x(e,(e=>{const t=e.charCodeAt(0);return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}))}function S(e){let t="",n="";for(;t=E(e);)n+=t;return n}function T(e){let t="";for(;;){const n=e.currentChar();if("{"===n||"}"===n||"@"===n||"|"===n||!n)break;if("%"===n){if(!w(e))break;t+=n,e.next()}else if(n===Oi||n===Ni)if(w(e))t+=n,e.next();else{if(y(e))break;t+=n,e.next()}else t+=n,e.next()}return t}function O(e){const t=e.currentChar();switch(t){case"\\":case"'":return e.next(),`\\${t}`;case"u":return I(e,t,4);case"U":return I(e,t,6);default:return p(Ei.UNKNOWN_ESCAPE_SEQUENCE,o(),0,t),""}}function I(e,t,n){h(e,t);let r="";for(let a=0;a<n;a++){const n=k(e);if(!n){p(Ei.INVALID_UNICODE_ESCAPE_SEQUENCE,o(),0,`\\${t}${r}${e.currentChar()}`);break}r+=n}return`\\${t}${r}`}function N(e){m(e);const t=h(e,"|");return m(e),t}function A(e,t){let n=null;switch(e.currentChar()){case"{":return t.braceNest>=1&&p(Ei.NOT_ALLOW_NEST_PLACEHOLDER,o(),0),e.next(),n=d(t,2,"{"),m(e),t.braceNest++,n;case"}":return t.braceNest>0&&2===t.currentType&&p(Ei.EMPTY_PLACEHOLDER,o(),0),e.next(),n=d(t,3,"}"),t.braceNest--,t.braceNest>0&&m(e),t.inLinked&&0===t.braceNest&&(t.inLinked=!1),n;case"@":return t.braceNest>0&&p(Ei.UNTERMINATED_CLOSING_BRACE,o(),0),n=_(e,t)||f(t),t.braceNest=0,n;default:let r=!0,a=!0,i=!0;if(y(e))return t.braceNest>0&&p(Ei.UNTERMINATED_CLOSING_BRACE,o(),0),n=d(t,1,N(e)),t.braceNest=0,t.inLinked=!1,n;if(t.braceNest>0&&(5===t.currentType||6===t.currentType||7===t.currentType))return p(Ei.UNTERMINATED_CLOSING_BRACE,o(),0),t.braceNest=0,R(e,t);if(r=function(e,t){const{currentType:n}=t;if(2!==n)return!1;v(e);const r=g(e.currentPeek());return e.resetPeek(),r}(e,t))return n=d(t,5,function(e){m(e);let t="",n="";for(;t=C(e);)n+=t;return e.currentChar()===Mi&&p(Ei.UNTERMINATED_CLOSING_BRACE,o(),0),n}(e)),m(e),n;if(a=b(e,t))return n=d(t,6,function(e){m(e);let t="";return"-"===e.currentChar()?(e.next(),t+=`-${S(e)}`):t+=S(e),e.currentChar()===Mi&&p(Ei.UNTERMINATED_CLOSING_BRACE,o(),0),t}(e)),m(e),n;if(i=function(e,t){const{currentType:n}=t;if(2!==n)return!1;v(e);const r=e.currentPeek()===Pi;return e.resetPeek(),r}(e,t))return n=d(t,7,function(e){m(e),h(e,"'");let t="",n="";const r=e=>e!==Pi&&e!==Ni;for(;t=x(e,r);)n+="\\"===t?O(e):t;const a=e.currentChar();return a===Ni||a===Mi?(p(Ei.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,o(),0),a===Ni&&(e.next(),h(e,"'")),n):(h(e,"'"),n)}(e)),m(e),n;if(!r&&!a&&!i)return n=d(t,13,function(e){m(e);let t="",n="";const r=e=>"{"!==e&&"}"!==e&&e!==Oi&&e!==Ni;for(;t=x(e,r);)n+=t;return n}(e)),p(Ei.INVALID_TOKEN_IN_PLACEHOLDER,o(),0,n.value),m(e),n}return n}function _(e,t){const{currentType:n}=t;let r=null;const a=e.currentChar();switch(8!==n&&9!==n&&12!==n&&10!==n||a!==Ni&&a!==Oi||p(Ei.INVALID_LINKED_FORMAT,o(),0),a){case"@":return e.next(),r=d(t,8,"@"),t.inLinked=!0,r;case".":return m(e),e.next(),d(t,9,".");case":":return m(e),e.next(),d(t,10,":");default:return y(e)?(r=d(t,1,N(e)),t.braceNest=0,t.inLinked=!1,r):function(e,t){const{currentType:n}=t;if(8!==n)return!1;v(e);const r="."===e.currentPeek();return e.resetPeek(),r}(e,t)||function(e,t){const{currentType:n}=t;if(8!==n&&12!==n)return!1;v(e);const r=":"===e.currentPeek();return e.resetPeek(),r}(e,t)?(m(e),_(e,t)):function(e,t){const{currentType:n}=t;if(9!==n)return!1;v(e);const r=g(e.currentPeek());return e.resetPeek(),r}(e,t)?(m(e),d(t,12,function(e){let t="",n="";for(;t=C(e);)n+=t;return n}(e))):function(e,t){const{currentType:n}=t;if(10!==n)return!1;const r=()=>{const t=e.currentPeek();return"{"===t?g(e.peek()):!("@"===t||"%"===t||"|"===t||":"===t||"."===t||t===Oi||!t)&&(t===Ni?(e.peek(),r()):g(t))},a=r();return e.resetPeek(),a}(e,t)?(m(e),"{"===a?A(e,t)||r:d(t,11,function(e){const t=(n=!1,r)=>{const a=e.currentChar();return"{"!==a&&"%"!==a&&"@"!==a&&"|"!==a&&a?a===Oi?r:a===Ni?(r+=a,e.next(),t(n,r)):(r+=a,e.next(),t(!0,r)):r};return t(!1,"")}(e))):(8===n&&p(Ei.INVALID_LINKED_FORMAT,o(),0),t.braceNest=0,t.inLinked=!1,R(e,t))}}function R(e,t){let n={type:14};if(t.braceNest>0)return A(e,t)||f(t);if(t.inLinked)return _(e,t)||f(t);switch(e.currentChar()){case"{":return A(e,t)||f(t);case"}":return p(Ei.UNBALANCED_CLOSING_BRACE,o(),0),e.next(),d(t,3,"}");case"@":return _(e,t)||f(t);default:if(y(e))return n=d(t,1,N(e)),t.braceNest=0,t.inLinked=!1,n;const{isModulo:r,hasSpace:a}=function(e){const t=v(e),n="%"===e.currentPeek()&&"{"===e.peek();return e.resetPeek(),{isModulo:n,hasSpace:t.length>0}}(e);if(r)return a?d(t,0,T(e)):d(t,4,function(e){m(e);const t=e.currentChar();return"%"!==t&&p(Ei.EXPECTED_TOKEN,o(),0,t),e.next(),"%"}(e));if(w(e))return d(t,0,T(e))}return n}return{nextToken:function(){const{currentType:e,offset:t,startLoc:n,endLoc:i}=l;return l.lastType=e,l.lastOffset=t,l.lastStartLoc=n,l.lastEndLoc=i,l.offset=a(),l.startLoc=o(),r.currentChar()===Mi?d(l,14):R(r,l)},currentOffset:a,currentPosition:o,context:u}}const Li="parser",zi=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function Fi(e,t,n){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const e=parseInt(t||n,16);return e<=55295||e>=57344?String.fromCodePoint(e):""}}}function $i(e={}){const t=!1!==e.location,{onError:n}=e;function r(e,t,r,a,...o){const i=e.currentPosition();if(i.offset+=a,i.column+=a,n){const e=ki(t,Ti(r,i),{domain:Li,args:o});n(e)}}function a(e,n,r){const a={type:e,start:n,end:n};return t&&(a.loc={start:r,end:r}),a}function o(e,n,r,a){e.end=n,a&&(e.type=a),t&&e.loc&&(e.loc.end=r)}function i(e,t){const n=e.context(),r=a(3,n.offset,n.startLoc);return r.value=t,o(r,e.currentOffset(),e.currentPosition()),r}function s(e,t){const n=e.context(),{lastOffset:r,lastStartLoc:i}=n,s=a(5,r,i);return s.index=parseInt(t,10),e.nextToken(),o(s,e.currentOffset(),e.currentPosition()),s}function l(e,t){const n=e.context(),{lastOffset:r,lastStartLoc:i}=n,s=a(4,r,i);return s.key=t,e.nextToken(),o(s,e.currentOffset(),e.currentPosition()),s}function u(e,t){const n=e.context(),{lastOffset:r,lastStartLoc:i}=n,s=a(9,r,i);return s.value=t.replace(zi,Fi),e.nextToken(),o(s,e.currentOffset(),e.currentPosition()),s}function c(e){const t=e.context(),n=a(6,t.offset,t.startLoc);let i=e.nextToken();if(9===i.type){const t=function(e){const t=e.nextToken(),n=e.context(),{lastOffset:i,lastStartLoc:s}=n,l=a(8,i,s);return 12!==t.type?(r(e,Ei.UNEXPECTED_EMPTY_LINKED_MODIFIER,n.lastStartLoc,0),l.value="",o(l,i,s),{nextConsumeToken:t,node:l}):(null==t.value&&r(e,Ei.UNEXPECTED_LEXICAL_ANALYSIS,n.lastStartLoc,0,Vi(t)),l.value=t.value||"",o(l,e.currentOffset(),e.currentPosition()),{node:l})}(e);n.modifier=t.node,i=t.nextConsumeToken||e.nextToken()}switch(10!==i.type&&r(e,Ei.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,Vi(i)),i=e.nextToken(),2===i.type&&(i=e.nextToken()),i.type){case 11:null==i.value&&r(e,Ei.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,Vi(i)),n.key=function(e,t){const n=e.context(),r=a(7,n.offset,n.startLoc);return r.value=t,o(r,e.currentOffset(),e.currentPosition()),r}(e,i.value||"");break;case 5:null==i.value&&r(e,Ei.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,Vi(i)),n.key=l(e,i.value||"");break;case 6:null==i.value&&r(e,Ei.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,Vi(i)),n.key=s(e,i.value||"");break;case 7:null==i.value&&r(e,Ei.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,Vi(i)),n.key=u(e,i.value||"");break;default:r(e,Ei.UNEXPECTED_EMPTY_LINKED_KEY,t.lastStartLoc,0);const c=e.context(),p=a(7,c.offset,c.startLoc);return p.value="",o(p,c.offset,c.startLoc),n.key=p,o(n,c.offset,c.startLoc),{nextConsumeToken:i,node:n}}return o(n,e.currentOffset(),e.currentPosition()),{node:n}}function p(e){const t=e.context(),n=a(2,1===t.currentType?e.currentOffset():t.offset,1===t.currentType?t.endLoc:t.startLoc);n.items=[];let p=null;do{const a=p||e.nextToken();switch(p=null,a.type){case 0:null==a.value&&r(e,Ei.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,Vi(a)),n.items.push(i(e,a.value||""));break;case 6:null==a.value&&r(e,Ei.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,Vi(a)),n.items.push(s(e,a.value||""));break;case 5:null==a.value&&r(e,Ei.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,Vi(a)),n.items.push(l(e,a.value||""));break;case 7:null==a.value&&r(e,Ei.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,Vi(a)),n.items.push(u(e,a.value||""));break;case 8:const o=c(e);n.items.push(o.node),p=o.nextConsumeToken||null}}while(14!==t.currentType&&1!==t.currentType);return o(n,1===t.currentType?t.lastOffset:e.currentOffset(),1===t.currentType?t.lastEndLoc:e.currentPosition()),n}function d(e){const t=e.context(),{offset:n,startLoc:i}=t,s=p(e);return 14===t.currentType?s:function(e,t,n,i){const s=e.context();let l=0===i.items.length;const u=a(1,t,n);u.cases=[],u.cases.push(i);do{const t=p(e);l||(l=0===t.items.length),u.cases.push(t)}while(14!==s.currentType);return l&&r(e,Ei.MUST_HAVE_MESSAGES_IN_PLURAL,n,0),o(u,e.currentOffset(),e.currentPosition()),u}(e,n,i,s)}return{parse:function(n){const i=Bi(n,li({},e)),s=i.context(),l=a(0,s.offset,s.startLoc);return t&&l.loc&&(l.loc.source=n),l.body=d(i),14!==s.currentType&&r(i,Ei.UNEXPECTED_LEXICAL_ANALYSIS,s.lastStartLoc,0,n[s.offset]||""),o(l,i.currentOffset(),i.currentPosition()),l}}}function Vi(e){if(14===e.type)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"":t}function ji(e,t){for(let n=0;n<e.length;n++)Hi(e[n],t)}function Hi(e,t){switch(e.type){case 1:ji(e.cases,t),t.helper("plural");break;case 2:ji(e.items,t);break;case 6:Hi(e.key,t),t.helper("linked"),t.helper("type");break;case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named")}}function Wi(e,t={}){const n=function(e,t={}){const n={ast:e,helpers:new Set};return{context:()=>n,helper:e=>(n.helpers.add(e),e)}}(e);n.helper("normalize"),e.body&&Hi(e.body,n);const r=n.context();e.helpers=Array.from(r.helpers)}function Ui(e,t){const{helper:n}=e;switch(t.type){case 0:!function(e,t){t.body?Ui(e,t.body):e.push("null")}(e,t);break;case 1:!function(e,t){const{helper:n,needIndent:r}=e;if(t.cases.length>1){e.push(`${n("plural")}([`),e.indent(r());const a=t.cases.length;for(let n=0;n<a&&(Ui(e,t.cases[n]),n!==a-1);n++)e.push(", ");e.deindent(r()),e.push("])")}}(e,t);break;case 2:!function(e,t){const{helper:n,needIndent:r}=e;e.push(`${n("normalize")}([`),e.indent(r());const a=t.items.length;for(let n=0;n<a&&(Ui(e,t.items[n]),n!==a-1);n++)e.push(", ");e.deindent(r()),e.push("])")}(e,t);break;case 6:!function(e,t){const{helper:n}=e;e.push(`${n("linked")}(`),Ui(e,t.key),t.modifier?(e.push(", "),Ui(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}(e,t);break;case 8:case 7:case 9:case 3:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${n("interpolate")}(${n("list")}(${t.index}))`,t);break;case 4:e.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(t.key)}))`,t)}}const qi=(e,t={})=>{const n=mi(t.mode)?t.mode:"normal",r=mi(t.filename)?t.filename:"message.intl",a=!!t.sourceMap,o=null!=t.breakLineCode?t.breakLineCode:"arrow"===n?";":"\n",i=t.needIndent?t.needIndent:"arrow"!==n,s=e.helpers||[],l=function(e,t){const{sourceMap:n,filename:r,breakLineCode:a,needIndent:o}=t,i={source:e.loc.source,filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:a,needIndent:o,indentLevel:0};function s(e,t){i.code+=e}function l(e,t=!0){const n=t?a:"";s(o?n+"  ".repeat(e):n)}return{context:()=>i,push:s,indent:function(e=!0){const t=++i.indentLevel;e&&l(t)},deindent:function(e=!0){const t=--i.indentLevel;e&&l(t)},newline:function(){l(i.indentLevel)},helper:e=>`_${e}`,needIndent:()=>i.needIndent}}(e,{mode:n,filename:r,sourceMap:a,breakLineCode:o,needIndent:i});l.push("normal"===n?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(i),s.length>0&&(l.push(`const { ${s.map((e=>`${e}: _${e}`)).join(", ")} } = ctx`),l.newline()),l.push("return "),Ui(l,e),l.deindent(i),l.push("}");const{code:u,map:c}=l.context();return{ast:e,code:u,map:c?c.toJSON():void 0}};const Gi={I18nInit:"i18n:init",FunctionTranslate:"function:translate"},Xi=[];Xi[0]={w:[0],i:[3,0],"[":[4],o:[7]},Xi[1]={w:[1],".":[2],"[":[4],o:[7]},Xi[2]={w:[2],i:[3,0],0:[3,0]},Xi[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]},Xi[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]},Xi[5]={"'":[4,0],o:8,l:[5,0]},Xi[6]={'"':[4,0],o:8,l:[6,0]};const Yi=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function Ki(e){if(null==e)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function Ji(e){const t=e.trim();return("0"!==e.charAt(0)||!isNaN(parseInt(e)))&&(n=t,Yi.test(n)?function(e){const t=e.charCodeAt(0);return t!==e.charCodeAt(e.length-1)||34!==t&&39!==t?e:e.slice(1,-1)}(t):"*"+t);var n}const Qi=new Map;function Zi(e,t){return bi(e)?e[t]:null}const es=e=>e,ts=e=>"",ns="text",rs=e=>0===e.length?"":e.join(""),as=e=>null==e?"":hi(e)||xi(e)&&e.toString===yi?JSON.stringify(e,null,2):String(e);function os(e,t){return e=Math.abs(e),2===t?e?e>1?1:0:1:e?Math.min(e,2):0}function is(e={}){const t=e.locale,n=function(e){const t=ri(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(ri(e.named.count)||ri(e.named.n))?ri(e.named.count)?e.named.count:ri(e.named.n)?e.named.n:t:t}(e),r=bi(e.pluralRules)&&mi(t)&&vi(e.pluralRules[t])?e.pluralRules[t]:os,a=bi(e.pluralRules)&&mi(t)&&vi(e.pluralRules[t])?os:void 0,o=e.list||[],i=e.named||{};ri(e.pluralIndex)&&function(e,t){t.count||(t.count=e),t.n||(t.n=e)}(n,i);function s(t){const n=vi(e.messages)?e.messages(t):!!bi(e.messages)&&e.messages[t];return n||(e.parent?e.parent.message(t):ts)}const l=xi(e.processor)&&vi(e.processor.normalize)?e.processor.normalize:rs,u=xi(e.processor)&&vi(e.processor.interpolate)?e.processor.interpolate:as,c={list:e=>o[e],named:e=>i[e],plural:e=>e[r(n,e.length,a)],linked:(t,...n)=>{const[r,a]=n;let o="text",i="";1===n.length?bi(r)?(i=r.modifier||i,o=r.type||o):mi(r)&&(i=r||i):2===n.length&&(mi(r)&&(i=r||i),mi(a)&&(o=a||o));let l=s(t)(c);return"vnode"===o&&hi(l)&&i&&(l=l[0]),i?(u=i,e.modifiers?e.modifiers[u]:es)(l,o):l;var u},message:s,type:xi(e.processor)&&mi(e.processor.type)?e.processor.type:ns,interpolate:u,normalize:l};return c}let ss=null;const ls=us(Gi.FunctionTranslate);function us(e){return t=>ss&&ss.emit(e,t)}const cs=7;function ps(e,t,n){return[...new Set([n,...hi(t)?t:bi(t)?Object.keys(t):mi(t)?[t]:[n]])]}function ds(e,t,n){const r=mi(n)?n:bs,a=e;a.__localeChainCache||(a.__localeChainCache=new Map);let o=a.__localeChainCache.get(r);if(!o){o=[];let e=[n];for(;hi(e);)e=fs(o,e,t);const i=hi(t)||!xi(t)?t:t.default?t.default:null;e=mi(i)?[i]:i,hi(e)&&fs(o,e,!1),a.__localeChainCache.set(r,o)}return o}function fs(e,t,n){let r=!0;for(let a=0;a<t.length&&gi(r);a++){const o=t[a];mi(o)&&(r=hs(e,t[a],n))}return r}function hs(e,t,n){let r;const a=t.split("-");do{r=vs(e,a.join("-"),n),a.splice(-1,1)}while(a.length&&!0===r);return r}function vs(e,t,n){let r=!1;if(!e.includes(t)&&(r=!0,t)){r="!"!==t[t.length-1];const a=t.replace(/!/g,"");e.push(a),(hi(n)||xi(n))&&n[a]&&(r=n[a])}return r}const ms="9.2.2",gs=-1,bs="en-US",ys="",ws=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;let xs,Cs,Es;let ks=null;const Ss=e=>{ks=e},Ts=()=>ks;let Os=null;const Is=e=>{Os=e},Ns=()=>Os;let As=0;function _s(e={}){const t=mi(e.version)?e.version:ms,n=mi(e.locale)?e.locale:bs,r=hi(e.fallbackLocale)||xi(e.fallbackLocale)||mi(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:n,a=xi(e.messages)?e.messages:{[n]:{}},o=xi(e.datetimeFormats)?e.datetimeFormats:{[n]:{}},i=xi(e.numberFormats)?e.numberFormats:{[n]:{}},s=li({},e.modifiers||{},{upper:(e,t)=>"text"===t&&mi(e)?e.toUpperCase():"vnode"===t&&bi(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>"text"===t&&mi(e)?e.toLowerCase():"vnode"===t&&bi(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>"text"===t&&mi(e)?ws(e):"vnode"===t&&bi(e)&&"__v_isVNode"in e?ws(e.children):e}),l=e.pluralRules||{},u=vi(e.missing)?e.missing:null,c=!gi(e.missingWarn)&&!oi(e.missingWarn)||e.missingWarn,p=!gi(e.fallbackWarn)&&!oi(e.fallbackWarn)||e.fallbackWarn,d=!!e.fallbackFormat,f=!!e.unresolving,h=vi(e.postTranslation)?e.postTranslation:null,v=xi(e.processor)?e.processor:null,m=!gi(e.warnHtmlMessage)||e.warnHtmlMessage,g=!!e.escapeParameter,b=vi(e.messageCompiler)?e.messageCompiler:xs,y=vi(e.messageResolver)?e.messageResolver:Cs||Zi,w=vi(e.localeFallbacker)?e.localeFallbacker:Es||ps,x=bi(e.fallbackContext)?e.fallbackContext:void 0,C=vi(e.onWarn)?e.onWarn:si,E=e,k=bi(E.__datetimeFormatters)?E.__datetimeFormatters:new Map,S=bi(E.__numberFormatters)?E.__numberFormatters:new Map,T=bi(E.__meta)?E.__meta:{};As++;const O={version:t,cid:As,locale:n,fallbackLocale:r,messages:a,modifiers:s,pluralRules:l,missing:u,missingWarn:c,fallbackWarn:p,fallbackFormat:d,unresolving:f,postTranslation:h,processor:v,warnHtmlMessage:m,escapeParameter:g,messageCompiler:b,messageResolver:y,localeFallbacker:w,fallbackContext:x,onWarn:C,__meta:T};return O.datetimeFormats=o,O.numberFormats=i,O.__datetimeFormatters=k,O.__numberFormatters=S,__INTLIFY_PROD_DEVTOOLS__&&function(e,t,n){ss&&ss.emit(Gi.I18nInit,{timestamp:Date.now(),i18n:e,version:t,meta:n})}(O,t,T),O}function Rs(e,t,n,r,a){const{missing:o,onWarn:i}=e;if(null!==o){const r=o(e,n,t,a);return mi(r)?r:t}return t}function Ms(e,t,n){e.__localeChainCache=new Map,e.localeFallbacker(e,n,t)}const Ps=e=>e;let Ds=Object.create(null);let Bs=Ei.__EXTEND_POINT__;const Ls=()=>++Bs,zs={INVALID_ARGUMENT:Bs,INVALID_DATE_ARGUMENT:Ls(),INVALID_ISO_DATE_ARGUMENT:Ls(),__EXTEND_POINT__:Ls()};function Fs(e){return ki(e,null,void 0)}zs.INVALID_ARGUMENT,zs.INVALID_DATE_ARGUMENT,zs.INVALID_ISO_DATE_ARGUMENT;const $s=()=>"",Vs=e=>vi(e);function js(e,...t){const{fallbackFormat:n,postTranslation:r,unresolving:a,messageCompiler:o,fallbackLocale:i,messages:s}=e,[l,u]=Us(...t),c=gi(u.missingWarn)?u.missingWarn:e.missingWarn,p=gi(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn,d=gi(u.escapeParameter)?u.escapeParameter:e.escapeParameter,f=!!u.resolvedMessage,h=mi(u.default)||gi(u.default)?gi(u.default)?o?l:()=>l:u.default:n?o?l:()=>l:"",v=n||""!==h,m=mi(u.locale)?u.locale:e.locale;d&&function(e){hi(e.list)?e.list=e.list.map((e=>mi(e)?pi(e):e)):bi(e.named)&&Object.keys(e.named).forEach((t=>{mi(e.named[t])&&(e.named[t]=pi(e.named[t]))}))}(u);let[g,b,y]=f?[l,m,s[m]||{}]:Hs(e,l,m,i,p,c),w=g,x=l;if(f||mi(w)||Vs(w)||v&&(w=h,x=w),!(f||(mi(w)||Vs(w))&&mi(b)))return a?gs:l;let C=!1;const E=Vs(w)?w:Ws(e,l,b,w,x,(()=>{C=!0}));if(C)return w;const k=function(e,t,n,r){const{modifiers:a,pluralRules:o,messageResolver:i,fallbackLocale:s,fallbackWarn:l,missingWarn:u,fallbackContext:c}=e,p=r=>{let a=i(n,r);if(null==a&&c){const[,,e]=Hs(c,r,t,s,l,u);a=i(e,r)}if(mi(a)){let n=!1;const o=Ws(e,r,t,a,r,(()=>{n=!0}));return n?$s:o}return Vs(a)?a:$s},d={locale:t,modifiers:a,pluralRules:o,messages:p};e.processor&&(d.processor=e.processor);r.list&&(d.list=r.list);r.named&&(d.named=r.named);ri(r.plural)&&(d.pluralIndex=r.plural);return d}(e,b,y,u),S=function(e,t,n){0;const r=t(n);0;return r}(0,E,is(k)),T=r?r(S,l):S;if(__INTLIFY_PROD_DEVTOOLS__){const t={timestamp:Date.now(),key:mi(l)?l:Vs(w)?w.key:"",locale:b||(Vs(w)?w.locale:""),format:mi(w)?w:Vs(w)?w.source:"",message:T};t.meta=li({},e.__meta,Ts()||{}),ls(t)}return T}function Hs(e,t,n,r,a,o){const{messages:i,onWarn:s,messageResolver:l,localeFallbacker:u}=e,c=u(e,r,n);let p,d={},f=null,h=n,v=null;for(let n=0;n<c.length;n++){p=v=c[n],d=i[p]||{};if(null===(f=l(d,t))&&(f=d[t]),mi(f)||vi(f))break;const r=Rs(e,t,p,0,"translate");r!==t&&(f=r),h=v}return[f,p,d]}function Ws(e,t,n,r,a,o){const{messageCompiler:i,warnHtmlMessage:s}=e;if(Vs(r)){const e=r;return e.locale=e.locale||n,e.key=e.key||t,e}if(null==i){const e=()=>r;return e.locale=n,e.key=t,e}const l=i(r,function(e,t,n,r,a,o){return{warnHtmlMessage:a,onError:e=>{throw o&&o(e),e},onCacheKey:e=>ti(t,n,e)}}(0,n,a,0,s,o));return l.locale=n,l.key=t,l.source=r,l}function Us(...e){const[t,n,r]=e,a={};if(!mi(t)&&!ri(t)&&!Vs(t))throw Fs(zs.INVALID_ARGUMENT);const o=ri(t)?String(t):(Vs(t),t);return ri(n)?a.plural=n:mi(n)?a.default=n:xi(n)&&!ii(n)?a.named=n:hi(n)&&(a.list=n),ri(r)?a.plural=r:mi(r)?a.default=r:xi(r)&&li(a,r),[o,a]}const qs="undefined"!=typeof Intl;qs&&Intl.DateTimeFormat,qs&&Intl.NumberFormat;function Gs(e,...t){const{datetimeFormats:n,unresolving:r,fallbackLocale:a,onWarn:o,localeFallbacker:i}=e,{__datetimeFormatters:s}=e;const[l,u,c,p]=Ys(...t),d=(gi(c.missingWarn)?c.missingWarn:e.missingWarn,gi(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn,!!c.part),f=mi(c.locale)?c.locale:e.locale,h=i(e,a,f);if(!mi(l)||""===l)return new Intl.DateTimeFormat(f,p).format(u);let v,m={},g=null,b=f,y=null;for(let t=0;t<h.length&&(v=y=h[t],m=n[v]||{},g=m[l],!xi(g));t++)Rs(e,l,v,0,"datetime format"),b=y;if(!xi(g)||!mi(v))return r?gs:l;let w=`${v}__${l}`;ii(p)||(w=`${w}__${JSON.stringify(p)}`);let x=s.get(w);return x||(x=new Intl.DateTimeFormat(v,li({},g,p)),s.set(w,x)),d?x.formatToParts(u):x.format(u)}const Xs=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function Ys(...e){const[t,n,r,a]=e,o={};let i,s={};if(mi(t)){const e=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!e)throw Fs(zs.INVALID_ISO_DATE_ARGUMENT);const n=e[3]?e[3].trim().startsWith("T")?`${e[1].trim()}${e[3].trim()}`:`${e[1].trim()}T${e[3].trim()}`:e[1].trim();i=new Date(n);try{i.toISOString()}catch(e){throw Fs(zs.INVALID_ISO_DATE_ARGUMENT)}}else if(ai(t)){if(isNaN(t.getTime()))throw Fs(zs.INVALID_DATE_ARGUMENT);i=t}else{if(!ri(t))throw Fs(zs.INVALID_ARGUMENT);i=t}return mi(n)?o.key=n:xi(n)&&Object.keys(n).forEach((e=>{Xs.includes(e)?s[e]=n[e]:o[e]=n[e]})),mi(r)?o.locale=r:xi(r)&&(s=r),xi(a)&&(s=a),[o.key||"",i,o,s]}function Ks(e,t,n){const r=e;for(const e in n){const n=`${t}__${e}`;r.__datetimeFormatters.has(n)&&r.__datetimeFormatters.delete(n)}}function Js(e,...t){const{numberFormats:n,unresolving:r,fallbackLocale:a,onWarn:o,localeFallbacker:i}=e,{__numberFormatters:s}=e;const[l,u,c,p]=Zs(...t),d=(gi(c.missingWarn)?c.missingWarn:e.missingWarn,gi(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn,!!c.part),f=mi(c.locale)?c.locale:e.locale,h=i(e,a,f);if(!mi(l)||""===l)return new Intl.NumberFormat(f,p).format(u);let v,m={},g=null,b=f,y=null;for(let t=0;t<h.length&&(v=y=h[t],m=n[v]||{},g=m[l],!xi(g));t++)Rs(e,l,v,0,"number format"),b=y;if(!xi(g)||!mi(v))return r?gs:l;let w=`${v}__${l}`;ii(p)||(w=`${w}__${JSON.stringify(p)}`);let x=s.get(w);return x||(x=new Intl.NumberFormat(v,li({},g,p)),s.set(w,x)),d?x.formatToParts(u):x.format(u)}const Qs=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function Zs(...e){const[t,n,r,a]=e,o={};let i={};if(!ri(t))throw Fs(zs.INVALID_ARGUMENT);const s=t;return mi(n)?o.key=n:xi(n)&&Object.keys(n).forEach((e=>{Qs.includes(e)?i[e]=n[e]:o[e]=n[e]})),mi(r)?o.locale=r:xi(r)&&(i=r),xi(a)&&(i=a),[o.key||"",s,o,i]}function el(e,t,n){const r=e;for(const e in n){const n=`${t}__${e}`;r.__numberFormatters.has(n)&&r.__numberFormatters.delete(n)}}function tl(){return"undefined"!=typeof navigator&&"undefined"!=typeof window?window:void 0!==n.g?n.g:{}}"boolean"!=typeof __INTLIFY_PROD_DEVTOOLS__&&(ci().__INTLIFY_PROD_DEVTOOLS__=!1);const nl="function"==typeof Proxy,rl="devtools-plugin:setup";let al,ol;function il(){return void 0!==al||("undefined"!=typeof window&&window.performance?(al=!0,ol=window.performance):void 0!==n.g&&(null===(e=n.g.perf_hooks)||void 0===e?void 0:e.performance)?(al=!0,ol=n.g.perf_hooks.performance):al=!1),al?ol.now():Date.now();var e}class sl{constructor(e,t){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=t;const n={};if(e.settings)for(const t in e.settings){const r=e.settings[t];n[t]=r.defaultValue}const r=`__vue-devtools-plugin-settings__${e.id}`;let a=Object.assign({},n);try{const e=localStorage.getItem(r),t=JSON.parse(e);Object.assign(a,t)}catch(e){}this.fallbacks={getSettings(){return a},setSettings(e){try{localStorage.setItem(r,JSON.stringify(e))}catch(e){}a=e},now(){return il()}},t&&t.on("plugin:settings:set",((e,t)=>{e===this.plugin.id&&this.fallbacks.setSettings(t)})),this.proxiedOn=new Proxy({},{get:(e,t)=>this.target?this.target.on[t]:(...e)=>{this.onQueue.push({method:t,args:e})}}),this.proxiedTarget=new Proxy({},{get:(e,t)=>this.target?this.target[t]:"on"===t?this.proxiedOn:Object.keys(this.fallbacks).includes(t)?(...e)=>(this.targetQueue.push({method:t,args:e,resolve:()=>{}}),this.fallbacks[t](...e)):(...e)=>new Promise((n=>{this.targetQueue.push({method:t,args:e,resolve:n})}))})}async setRealTarget(e){this.target=e;for(const e of this.onQueue)this.target.on[e.method](...e.args);for(const e of this.targetQueue)e.resolve(await this.target[e.method](...e.args))}}function ll(e,t){const n=e,r=tl(),a=tl().__VUE_DEVTOOLS_GLOBAL_HOOK__,o=nl&&n.enableEarlyProxy;if(!a||!r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&o){const e=o?new sl(n,a):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:e}),e&&t(e.proxiedTarget)}else a.emit(rl,e,t)}const ul={"vue-devtools-plugin-vue-i18n":"Vue I18n devtools","vue-i18n-resource-inspector":"I18n Resources","vue-i18n-timeline":"Vue I18n"},cl={"vue-i18n-resource-inspector":"Search for scopes ..."},pl={"vue-i18n-timeline":16764185},dl="9.2.2";let fl=cs;const hl=()=>++fl;hl(),hl(),hl(),hl(),hl(),hl();let vl=Ei.__EXTEND_POINT__;const ml=()=>++vl,gl={UNEXPECTED_RETURN_TYPE:vl,INVALID_ARGUMENT:ml(),MUST_BE_CALL_SETUP_TOP:ml(),NOT_INSLALLED:ml(),NOT_AVAILABLE_IN_LEGACY_MODE:ml(),REQUIRED_VALUE:ml(),INVALID_VALUE:ml(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:ml(),NOT_INSLALLED_WITH_PROVIDE:ml(),UNEXPECTED_ERROR:ml(),NOT_COMPATIBLE_LEGACY_VUE_I18N:ml(),BRIDGE_SUPPORT_VUE_2_ONLY:ml(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:ml(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:ml(),__EXTEND_POINT__:ml()};function bl(e,...t){return ki(e,null,void 0)}gl.UNEXPECTED_RETURN_TYPE,gl.INVALID_ARGUMENT,gl.MUST_BE_CALL_SETUP_TOP,gl.NOT_INSLALLED,gl.UNEXPECTED_ERROR,gl.NOT_AVAILABLE_IN_LEGACY_MODE,gl.REQUIRED_VALUE,gl.INVALID_VALUE,gl.CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN,gl.NOT_INSLALLED_WITH_PROVIDE,gl.NOT_COMPATIBLE_LEGACY_VUE_I18N,gl.BRIDGE_SUPPORT_VUE_2_ONLY,gl.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION,gl.NOT_AVAILABLE_COMPOSITION_IN_LEGACY;const yl=ei("__transrateVNode"),wl=ei("__datetimeParts"),xl=ei("__numberParts"),Cl=ei("__enableEmitter"),El=ei("__disableEmitter"),kl=ei("__setPluralRules");ei("__intlifyMeta");const Sl=ei("__injectWithOption");function Tl(e){if(!bi(e))return e;for(const t in e)if(fi(e,t))if(t.includes(".")){const n=t.split("."),r=n.length-1;let a=e;for(let e=0;e<r;e++)n[e]in a||(a[n[e]]={}),a=a[n[e]];a[n[r]]=e[t],delete e[t],bi(a[n[r]])&&Tl(a[n[r]])}else bi(e[t])&&Tl(e[t]);return e}function Ol(e,t){const{messages:n,__i18n:r,messageResolver:a,flatJson:o}=t,i=xi(n)?n:hi(r)?{}:{[e]:{}};if(hi(r)&&r.forEach((e=>{if("locale"in e&&"resource"in e){const{locale:t,resource:n}=e;t?(i[t]=i[t]||{},Nl(n,i[t])):Nl(n,i)}else mi(e)&&Nl(JSON.parse(e),i)})),null==a&&o)for(const e in i)fi(i,e)&&Tl(i[e]);return i}const Il=e=>!bi(e)||hi(e);function Nl(e,t){if(Il(e)||Il(t))throw bl(gl.INVALID_VALUE);for(const n in e)fi(e,n)&&(Il(e[n])||Il(t[n])?t[n]=e[n]:Nl(e[n],t[n]))}function Al(e){return e.type}function _l(e,t,n){let r=bi(t.messages)?t.messages:{};"__i18nGlobal"in n&&(r=Ol(e.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const a=Object.keys(r);if(a.length&&a.forEach((t=>{e.mergeLocaleMessage(t,r[t])})),bi(t.datetimeFormats)){const n=Object.keys(t.datetimeFormats);n.length&&n.forEach((n=>{e.mergeDateTimeFormat(n,t.datetimeFormats[n])}))}if(bi(t.numberFormats)){const n=Object.keys(t.numberFormats);n.length&&n.forEach((n=>{e.mergeNumberFormat(n,t.numberFormats[n])}))}}function Rl(e){return Sa(sa,null,e,0)}const Ml="__INTLIFY_META__";let Pl=0;function Dl(e){return(t,n,r,a)=>e(n,r,Va()||void 0,a)}const Bl=()=>{const e=Va();let t=null;return e&&(t=Al(e)[Ml])?{[Ml]:t}:null};function Ll(e={},t){const{__root:n}=e,r=void 0===n;let a=!gi(e.inheritLocale)||e.inheritLocale;const o=Et(n&&a?n.locale.value:mi(e.locale)?e.locale:bs),i=Et(n&&a?n.fallbackLocale.value:mi(e.fallbackLocale)||hi(e.fallbackLocale)||xi(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:o.value),s=Et(Ol(o.value,e)),l=Et(xi(e.datetimeFormats)?e.datetimeFormats:{[o.value]:{}}),u=Et(xi(e.numberFormats)?e.numberFormats:{[o.value]:{}});let c=n?n.missingWarn:!gi(e.missingWarn)&&!oi(e.missingWarn)||e.missingWarn,p=n?n.fallbackWarn:!gi(e.fallbackWarn)&&!oi(e.fallbackWarn)||e.fallbackWarn,d=n?n.fallbackRoot:!gi(e.fallbackRoot)||e.fallbackRoot,f=!!e.fallbackFormat,h=vi(e.missing)?e.missing:null,v=vi(e.missing)?Dl(e.missing):null,m=vi(e.postTranslation)?e.postTranslation:null,g=n?n.warnHtmlMessage:!gi(e.warnHtmlMessage)||e.warnHtmlMessage,b=!!e.escapeParameter;const y=n?n.modifiers:xi(e.modifiers)?e.modifiers:{};let w,x=e.pluralRules||n&&n.pluralRules;w=(()=>{r&&Is(null);const t={version:dl,locale:o.value,fallbackLocale:i.value,messages:s.value,modifiers:y,pluralRules:x,missing:null===v?void 0:v,missingWarn:c,fallbackWarn:p,fallbackFormat:f,unresolving:!0,postTranslation:null===m?void 0:m,warnHtmlMessage:g,escapeParameter:b,messageResolver:e.messageResolver,__meta:{framework:"vue"}};t.datetimeFormats=l.value,t.numberFormats=u.value,t.__datetimeFormatters=xi(w)?w.__datetimeFormatters:void 0,t.__numberFormatters=xi(w)?w.__numberFormatters:void 0;const n=_s(t);return r&&Is(n),n})(),Ms(w,o.value,i.value);const C=ao({get:()=>o.value,set:e=>{o.value=e,w.locale=o.value}}),E=ao({get:()=>i.value,set:e=>{i.value=e,w.fallbackLocale=i.value,Ms(w,o.value,e)}}),k=ao((()=>s.value)),S=ao((()=>l.value)),T=ao((()=>u.value));const O=(e,t,a,c,p,f)=>{let h;if(o.value,i.value,s.value,l.value,u.value,__INTLIFY_PROD_DEVTOOLS__)try{Ss(Bl()),r||(w.fallbackContext=n?Ns():void 0),h=e(w)}finally{Ss(null),r||(w.fallbackContext=void 0)}else h=e(w);if(ri(h)&&h===gs){const[e,r]=t();return n&&d?c(n):p(e)}if(f(h))return h;throw bl(gl.UNEXPECTED_RETURN_TYPE)};function I(...e){return O((t=>Reflect.apply(js,null,[t,...e])),(()=>Us(...e)),"translate",(t=>Reflect.apply(t.t,t,[...e])),(e=>e),(e=>mi(e)))}const N={normalize:function(e){return e.map((e=>mi(e)||ri(e)||gi(e)?Rl(String(e)):e))},interpolate:e=>e,type:"vnode"};function A(e){return s.value[e]||{}}Pl++,n&&Qo&&(En(n.locale,(e=>{a&&(o.value=e,w.locale=e,Ms(w,o.value,i.value))})),En(n.fallbackLocale,(e=>{a&&(i.value=e,w.fallbackLocale=e,Ms(w,o.value,i.value))})));const _={id:Pl,locale:C,fallbackLocale:E,get inheritLocale(){return a},set inheritLocale(e){a=e,e&&n&&(o.value=n.locale.value,i.value=n.fallbackLocale.value,Ms(w,o.value,i.value))},get availableLocales(){return Object.keys(s.value).sort()},messages:k,get modifiers(){return y},get pluralRules(){return x||{}},get isGlobal(){return r},get missingWarn(){return c},set missingWarn(e){c=e,w.missingWarn=c},get fallbackWarn(){return p},set fallbackWarn(e){p=e,w.fallbackWarn=p},get fallbackRoot(){return d},set fallbackRoot(e){d=e},get fallbackFormat(){return f},set fallbackFormat(e){f=e,w.fallbackFormat=f},get warnHtmlMessage(){return g},set warnHtmlMessage(e){g=e,w.warnHtmlMessage=e},get escapeParameter(){return b},set escapeParameter(e){b=e,w.escapeParameter=e},t:I,getLocaleMessage:A,setLocaleMessage:function(e,t){s.value[e]=t,w.messages=s.value},mergeLocaleMessage:function(e,t){s.value[e]=s.value[e]||{},Nl(t,s.value[e]),w.messages=s.value},getPostTranslationHandler:function(){return vi(m)?m:null},setPostTranslationHandler:function(e){m=e,w.postTranslation=e},getMissingHandler:function(){return h},setMissingHandler:function(e){null!==e&&(v=Dl(e)),h=e,w.missing=v},[kl]:function(e){x=e,w.pluralRules=x}};return _.datetimeFormats=S,_.numberFormats=T,_.rt=function(...e){const[t,n,r]=e;if(r&&!bi(r))throw bl(gl.INVALID_ARGUMENT);return I(t,n,li({resolvedMessage:!0},r||{}))},_.te=function(e,t){const n=A(mi(t)?t:o.value);return null!==w.messageResolver(n,e)},_.tm=function(e){const t=function(e){let t=null;const n=ds(w,i.value,o.value);for(let r=0;r<n.length;r++){const a=s.value[n[r]]||{},o=w.messageResolver(a,e);if(null!=o){t=o;break}}return t}(e);return null!=t?t:n&&n.tm(e)||{}},_.d=function(...e){return O((t=>Reflect.apply(Gs,null,[t,...e])),(()=>Ys(...e)),"datetime format",(t=>Reflect.apply(t.d,t,[...e])),(()=>ys),(e=>mi(e)))},_.n=function(...e){return O((t=>Reflect.apply(Js,null,[t,...e])),(()=>Zs(...e)),"number format",(t=>Reflect.apply(t.n,t,[...e])),(()=>ys),(e=>mi(e)))},_.getDateTimeFormat=function(e){return l.value[e]||{}},_.setDateTimeFormat=function(e,t){l.value[e]=t,w.datetimeFormats=l.value,Ks(w,e,t)},_.mergeDateTimeFormat=function(e,t){l.value[e]=li(l.value[e]||{},t),w.datetimeFormats=l.value,Ks(w,e,t)},_.getNumberFormat=function(e){return u.value[e]||{}},_.setNumberFormat=function(e,t){u.value[e]=t,w.numberFormats=u.value,el(w,e,t)},_.mergeNumberFormat=function(e,t){u.value[e]=li(u.value[e]||{},t),w.numberFormats=u.value,el(w,e,t)},_[Sl]=e.__injectWithOption,_[yl]=function(...e){return O((t=>{let n;const r=t;try{r.processor=N,n=Reflect.apply(js,null,[r,...e])}finally{r.processor=null}return n}),(()=>Us(...e)),"translate",(t=>t[yl](...e)),(e=>[Rl(e)]),(e=>hi(e)))},_[wl]=function(...e){return O((t=>Reflect.apply(Gs,null,[t,...e])),(()=>Ys(...e)),"datetime format",(t=>t[wl](...e)),(()=>[]),(e=>mi(e)||hi(e)))},_[xl]=function(...e){return O((t=>Reflect.apply(Js,null,[t,...e])),(()=>Zs(...e)),"number format",(t=>t[xl](...e)),(()=>[]),(e=>mi(e)||hi(e)))},_}function zl(e={},t){{const t=Ll(function(e){const t=mi(e.locale)?e.locale:bs,n=mi(e.fallbackLocale)||hi(e.fallbackLocale)||xi(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:t,r=vi(e.missing)?e.missing:void 0,a=!gi(e.silentTranslationWarn)&&!oi(e.silentTranslationWarn)||!e.silentTranslationWarn,o=!gi(e.silentFallbackWarn)&&!oi(e.silentFallbackWarn)||!e.silentFallbackWarn,i=!gi(e.fallbackRoot)||e.fallbackRoot,s=!!e.formatFallbackMessages,l=xi(e.modifiers)?e.modifiers:{},u=e.pluralizationRules,c=vi(e.postTranslation)?e.postTranslation:void 0,p=!mi(e.warnHtmlInMessage)||"off"!==e.warnHtmlInMessage,d=!!e.escapeParameterHtml,f=!gi(e.sync)||e.sync;let h=e.messages;if(xi(e.sharedMessages)){const t=e.sharedMessages;h=Object.keys(t).reduce(((e,n)=>{const r=e[n]||(e[n]={});return li(r,t[n]),e}),h||{})}const{__i18n:v,__root:m,__injectWithOption:g}=e,b=e.datetimeFormats,y=e.numberFormats;return{locale:t,fallbackLocale:n,messages:h,flatJson:e.flatJson,datetimeFormats:b,numberFormats:y,missing:r,missingWarn:a,fallbackWarn:o,fallbackRoot:i,fallbackFormat:s,modifiers:l,pluralRules:u,postTranslation:c,warnHtmlMessage:p,escapeParameter:d,messageResolver:e.messageResolver,inheritLocale:f,__i18n:v,__root:m,__injectWithOption:g}}(e)),n={id:t.id,get locale(){return t.locale.value},set locale(e){t.locale.value=e},get fallbackLocale(){return t.fallbackLocale.value},set fallbackLocale(e){t.fallbackLocale.value=e},get messages(){return t.messages.value},get datetimeFormats(){return t.datetimeFormats.value},get numberFormats(){return t.numberFormats.value},get availableLocales(){return t.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(e){},get missing(){return t.getMissingHandler()},set missing(e){t.setMissingHandler(e)},get silentTranslationWarn(){return gi(t.missingWarn)?!t.missingWarn:t.missingWarn},set silentTranslationWarn(e){t.missingWarn=gi(e)?!e:e},get silentFallbackWarn(){return gi(t.fallbackWarn)?!t.fallbackWarn:t.fallbackWarn},set silentFallbackWarn(e){t.fallbackWarn=gi(e)?!e:e},get modifiers(){return t.modifiers},get formatFallbackMessages(){return t.fallbackFormat},set formatFallbackMessages(e){t.fallbackFormat=e},get postTranslation(){return t.getPostTranslationHandler()},set postTranslation(e){t.setPostTranslationHandler(e)},get sync(){return t.inheritLocale},set sync(e){t.inheritLocale=e},get warnHtmlInMessage(){return t.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(e){t.warnHtmlMessage="off"!==e},get escapeParameterHtml(){return t.escapeParameter},set escapeParameterHtml(e){t.escapeParameter=e},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(e){},get pluralizationRules(){return t.pluralRules||{}},__composer:t,t(...e){const[n,r,a]=e,o={};let i=null,s=null;if(!mi(n))throw bl(gl.INVALID_ARGUMENT);const l=n;return mi(r)?o.locale=r:hi(r)?i=r:xi(r)&&(s=r),hi(a)?i=a:xi(a)&&(s=a),Reflect.apply(t.t,t,[l,i||s||{},o])},rt(...e){return Reflect.apply(t.rt,t,[...e])},tc(...e){const[n,r,a]=e,o={plural:1};let i=null,s=null;if(!mi(n))throw bl(gl.INVALID_ARGUMENT);const l=n;return mi(r)?o.locale=r:ri(r)?o.plural=r:hi(r)?i=r:xi(r)&&(s=r),mi(a)?o.locale=a:hi(a)?i=a:xi(a)&&(s=a),Reflect.apply(t.t,t,[l,i||s||{},o])},te(e,n){return t.te(e,n)},tm(e){return t.tm(e)},getLocaleMessage(e){return t.getLocaleMessage(e)},setLocaleMessage(e,n){t.setLocaleMessage(e,n)},mergeLocaleMessage(e,n){t.mergeLocaleMessage(e,n)},d(...e){return Reflect.apply(t.d,t,[...e])},getDateTimeFormat(e){return t.getDateTimeFormat(e)},setDateTimeFormat(e,n){t.setDateTimeFormat(e,n)},mergeDateTimeFormat(e,n){t.mergeDateTimeFormat(e,n)},n(...e){return Reflect.apply(t.n,t,[...e])},getNumberFormat(e){return t.getNumberFormat(e)},setNumberFormat(e,n){t.setNumberFormat(e,n)},mergeNumberFormat(e,n){t.mergeNumberFormat(e,n)},getChoiceIndex(e,t){return-1},__onComponentInstanceCreated(t){const{componentInstanceCreatedListener:r}=e;r&&r(t,n)}};return n}}const Fl={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>"parent"===e||"global"===e,default:"parent"},i18n:{type:Object}};function $l(e){return ia}const Vl={name:"i18n-t",props:li({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>ri(e)||!isNaN(e)}},Fl),setup(e,t){const{slots:n,attrs:r}=t,a=e.i18n||su({useScope:e.scope,__useComponent:!0});return()=>{const o=Object.keys(n).filter((e=>"_"!==e)),i={};e.locale&&(i.locale=e.locale),void 0!==e.plural&&(i.plural=mi(e.plural)?+e.plural:e.plural);const s=function({slots:e},t){if(1===t.length&&"default"===t[0])return(e.default?e.default():[]).reduce(((e,t)=>[...e,...hi(t.children)?t.children:[t]]),[]);return t.reduce(((t,n)=>{const r=e[n];return r&&(t[n]=r()),t}),{})}(t,o),l=a[yl](e.keypath,s,i),u=li({},r);return oo(mi(e.tag)||bi(e.tag)?e.tag:$l(),u,l)}}};function jl(e,t,n,r){const{slots:a,attrs:o}=t;return()=>{const t={part:!0};let i={};e.locale&&(t.locale=e.locale),mi(e.format)?t.key=e.format:bi(e.format)&&(mi(e.format.key)&&(t.key=e.format.key),i=Object.keys(e.format).reduce(((t,r)=>n.includes(r)?li({},t,{[r]:e.format[r]}):t),{}));const s=r(e.value,t,i);let l=[t.key];hi(s)?l=s.map(((e,t)=>{const n=a[e.type],r=n?n({[e.type]:e.value,index:t,parts:s}):[e.value];var o;return hi(o=r)&&!mi(o[0])&&(r[0].key=`${e.type}-${t}`),r})):mi(s)&&(l=[s]);const u=li({},o);return oo(mi(e.tag)||bi(e.tag)?e.tag:$l(),u,l)}}const Hl={name:"i18n-n",props:li({value:{type:Number,required:!0},format:{type:[String,Object]}},Fl),setup(e,t){const n=e.i18n||su({useScope:"parent",__useComponent:!0});return jl(e,t,Qs,((...e)=>n[xl](...e)))}},Wl={name:"i18n-d",props:li({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},Fl),setup(e,t){const n=e.i18n||su({useScope:"parent",__useComponent:!0});return jl(e,t,Xs,((...e)=>n[wl](...e)))}};function Ul(e){if(mi(e))return{path:e};if(xi(e)){if(!("path"in e))throw bl(gl.REQUIRED_VALUE);return e}throw bl(gl.INVALID_VALUE)}function ql(e){const{path:t,locale:n,args:r,choice:a,plural:o}=e,i={},s=r||{};return mi(n)&&(i.locale=n),ri(a)&&(i.plural=a),ri(o)&&(i.plural=o),[t,s,i]}function Gl(e,t,...n){const r=xi(n[0])?n[0]:{},a=!!r.useI18nComponentName;(!gi(r.globalInstall)||r.globalInstall)&&(e.component(a?"i18n":Vl.name,Vl),e.component(Hl.name,Hl),e.component(Wl.name,Wl)),e.directive("t",function(e){const t=t=>{const{instance:n,modifiers:r,value:a}=t;if(!n||!n.$)throw bl(gl.UNEXPECTED_ERROR);const o=function(e,t){const n=e;if("composition"===e.mode)return n.__getInstance(t)||e.global;{const r=n.__getInstance(t);return null!=r?r.__composer:e.global.__composer}}(e,n.$),i=Ul(a);return[Reflect.apply(o.t,o,[...ql(i)]),o]};return{created:(n,r)=>{const[a,o]=t(r);Qo&&e.global===o&&(n.__i18nWatcher=En(o.locale,(()=>{r.instance&&r.instance.$forceUpdate()}))),n.__composer=o,n.textContent=a},unmounted:e=>{Qo&&e.__i18nWatcher&&(e.__i18nWatcher(),e.__i18nWatcher=void 0,delete e.__i18nWatcher),e.__composer&&(e.__composer=void 0,delete e.__composer)},beforeUpdate:(e,{value:t})=>{if(e.__composer){const n=e.__composer,r=Ul(t);e.textContent=Reflect.apply(n.t,n,[...ql(r)])}},getSSRProps:e=>{const[n]=t(e);return{textContent:n}}}}(t))}const Xl="vue-i18n: composer properties";let Yl;async function Kl(e,t){return new Promise(((n,r)=>{try{ll({id:"vue-devtools-plugin-vue-i18n",label:ul["vue-devtools-plugin-vue-i18n"],packageName:"vue-i18n",homepage:"https://vue-i18n.intlify.dev",logo:"https://vue-i18n.intlify.dev/vue-i18n-devtools-logo.png",componentStateTypes:[Xl],app:e},(r=>{Yl=r,r.on.visitComponentTree((({componentInstance:e,treeNode:n})=>{!function(e,t,n){const r="composition"===n.mode?n.global:n.global.__composer;if(e&&e.vnode.el&&e.vnode.el.__VUE_I18N__&&e.vnode.el.__VUE_I18N__!==r){const n={label:`i18n (${Jl(e)} Scope)`,textColor:0,backgroundColor:16764185};t.tags.push(n)}}(e,n,t)})),r.on.inspectComponent((({componentInstance:e,instanceData:n})=>{e.vnode.el&&e.vnode.el.__VUE_I18N__&&n&&("legacy"===t.mode?e.vnode.el.__VUE_I18N__!==t.global.__composer&&Ql(n,e.vnode.el.__VUE_I18N__):Ql(n,e.vnode.el.__VUE_I18N__))})),r.addInspector({id:"vue-i18n-resource-inspector",label:ul["vue-i18n-resource-inspector"],icon:"language",treeFilterPlaceholder:cl["vue-i18n-resource-inspector"]}),r.on.getInspectorTree((n=>{n.app===e&&"vue-i18n-resource-inspector"===n.inspectorId&&function(e,t){e.rootNodes.push({id:"global",label:"Global Scope"});const n="composition"===t.mode?t.global:t.global.__composer;for(const[r,a]of t.__instances){const o="composition"===t.mode?a:a.__composer;n!==o&&e.rootNodes.push({id:o.id.toString(),label:`${Jl(r)} Scope`})}}(n,t)}));const a=new Map;r.on.getInspectorState((async n=>{if(n.app===e&&"vue-i18n-resource-inspector"===n.inspectorId)if(r.unhighlightElement(),function(e,t){const n=ru(e.nodeId,t);n&&(e.state=function(e){const t={},n="Locale related info",r=[{type:n,key:"locale",editable:!0,value:e.locale.value},{type:n,key:"fallbackLocale",editable:!0,value:e.fallbackLocale.value},{type:n,key:"availableLocales",editable:!1,value:e.availableLocales},{type:n,key:"inheritLocale",editable:!0,value:e.inheritLocale}];t[n]=r;const a="Locale messages info",o=[{type:a,key:"messages",editable:!1,value:Zl(e.messages.value)}];t[a]=o;{const n="Datetime formats info",r=[{type:n,key:"datetimeFormats",editable:!1,value:e.datetimeFormats.value}];t[n]=r;const a="Datetime formats info",o=[{type:a,key:"numberFormats",editable:!1,value:e.numberFormats.value}];t[a]=o}return t}(n))}(n,t),"global"===n.nodeId){if(!a.has(n.app)){const[e]=await r.getComponentInstances(n.app);a.set(n.app,e)}r.highlightElement(a.get(n.app))}else{const e=function(e,t){let n=null;if("global"!==e)for(const[r,a]of t.__instances.entries())if(a.id.toString()===e){n=r;break}return n}(n.nodeId,t);e&&r.highlightElement(e)}})),r.on.editInspectorState((n=>{n.app===e&&"vue-i18n-resource-inspector"===n.inspectorId&&function(e,t){const n=ru(e.nodeId,t);if(n){const[t]=e.path;"locale"===t&&mi(e.state.value)?n.locale.value=e.state.value:"fallbackLocale"===t&&(mi(e.state.value)||hi(e.state.value)||bi(e.state.value))?n.fallbackLocale.value=e.state.value:"inheritLocale"===t&&gi(e.state.value)&&(n.inheritLocale=e.state.value)}}(n,t)})),r.addTimelineLayer({id:"vue-i18n-timeline",label:ul["vue-i18n-timeline"],color:pl["vue-i18n-timeline"]}),n(!0)}))}catch(e){console.error(e),r(!1)}}))}function Jl(e){return e.type.name||e.type.displayName||e.type.__file||"Anonymous"}function Ql(e,t){const n=Xl;e.state.push({type:n,key:"locale",editable:!0,value:t.locale.value}),e.state.push({type:n,key:"availableLocales",editable:!1,value:t.availableLocales}),e.state.push({type:n,key:"fallbackLocale",editable:!0,value:t.fallbackLocale.value}),e.state.push({type:n,key:"inheritLocale",editable:!0,value:t.inheritLocale}),e.state.push({type:n,key:"messages",editable:!1,value:Zl(t.messages.value)}),e.state.push({type:n,key:"datetimeFormats",editable:!1,value:t.datetimeFormats.value}),e.state.push({type:n,key:"numberFormats",editable:!1,value:t.numberFormats.value})}function Zl(e){const t={};return Object.keys(e).forEach((n=>{const r=e[n];var a;vi(r)&&"source"in r?t[n]={_custom:{type:"function",display:"<span></span> "+((a=r).source?`("${tu(a.source)}")`:"(?)")}}:bi(r)?t[n]=Zl(r):t[n]=r})),t}const eu={"<":"&lt;",">":"&gt;",'"':"&quot;","&":"&amp;"};function tu(e){return e.replace(/[<>"&]/g,nu)}function nu(e){return eu[e]||e}function ru(e,t){if("global"===e)return"composition"===t.mode?t.global:t.global.__composer;{const n=Array.from(t.__instances.values()).find((t=>t.id.toString()===e));return n?"composition"===t.mode?n:n.__composer:null}}function au(e,t){if(Yl){let n;t&&"groupId"in t&&(n=t.groupId,delete t.groupId),Yl.addTimelineEvent({layerId:"vue-i18n-timeline",event:{title:e,groupId:n,time:Date.now(),meta:{},data:t||{},logType:"compile-error"===e?"error":"fallback"===e||"missing"===e?"warning":"default"}})}}function ou(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[kl](t.pluralizationRules||e.pluralizationRules);const n=Ol(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(n).forEach((t=>e.mergeLocaleMessage(t,n[t]))),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach((n=>e.mergeDateTimeFormat(n,t.datetimeFormats[n]))),t.numberFormats&&Object.keys(t.numberFormats).forEach((n=>e.mergeNumberFormat(n,t.numberFormats[n]))),e}const iu=ei("global-vue-i18n");function su(e={}){const t=Va();if(null==t)throw bl(gl.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&null!=t.appContext.app&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw bl(gl.NOT_INSLALLED);const n=function(e){{const t=Fr(e.isCE?iu:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw bl(e.isCE?gl.NOT_INSLALLED_WITH_PROVIDE:gl.UNEXPECTED_ERROR);return t}}(t),r=function(e){return"composition"===e.mode?e.global:e.global.__composer}(n),a=Al(t),o=function(e,t){return ii(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}(e,a);if(__VUE_I18N_LEGACY_API__&&"legacy"===n.mode&&!e.__useComponent){if(!n.allowComposition)throw bl(gl.NOT_AVAILABLE_IN_LEGACY_MODE);return function(e,t,n,r={}){const a="local"===t,o=function(e){return kt(e,!0)}(null);if(a&&e.proxy&&!e.proxy.$options.i18n&&!e.proxy.$options.__i18n)throw bl(gl.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const i=!gi(r.inheritLocale)||r.inheritLocale,s=Et(a&&i?n.locale.value:mi(r.locale)?r.locale:bs),l=Et(a&&i?n.fallbackLocale.value:mi(r.fallbackLocale)||hi(r.fallbackLocale)||xi(r.fallbackLocale)||!1===r.fallbackLocale?r.fallbackLocale:s.value),u=Et(Ol(s.value,r)),c=Et(xi(r.datetimeFormats)?r.datetimeFormats:{[s.value]:{}}),p=Et(xi(r.numberFormats)?r.numberFormats:{[s.value]:{}}),d=a?n.missingWarn:!gi(r.missingWarn)&&!oi(r.missingWarn)||r.missingWarn,f=a?n.fallbackWarn:!gi(r.fallbackWarn)&&!oi(r.fallbackWarn)||r.fallbackWarn,h=a?n.fallbackRoot:!gi(r.fallbackRoot)||r.fallbackRoot,v=!!r.fallbackFormat,m=vi(r.missing)?r.missing:null,g=vi(r.postTranslation)?r.postTranslation:null,b=a?n.warnHtmlMessage:!gi(r.warnHtmlMessage)||r.warnHtmlMessage,y=!!r.escapeParameter,w=a?n.modifiers:xi(r.modifiers)?r.modifiers:{},x=r.pluralRules||a&&n.pluralRules;function C(){return[s.value,l.value,u.value,c.value,p.value]}const E=ao({get:()=>o.value?o.value.locale.value:s.value,set:e=>{o.value&&(o.value.locale.value=e),s.value=e}}),k=ao({get:()=>o.value?o.value.fallbackLocale.value:l.value,set:e=>{o.value&&(o.value.fallbackLocale.value=e),l.value=e}}),S=ao((()=>o.value?o.value.messages.value:u.value)),T=ao((()=>c.value)),O=ao((()=>p.value));function I(){return o.value?o.value.getPostTranslationHandler():g}function N(e){o.value&&o.value.setPostTranslationHandler(e)}function A(){return o.value?o.value.getMissingHandler():m}function _(e){o.value&&o.value.setMissingHandler(e)}function R(e){return C(),e()}function M(...e){return o.value?R((()=>Reflect.apply(o.value.t,null,[...e]))):R((()=>""))}function P(...e){return o.value?Reflect.apply(o.value.rt,null,[...e]):""}function D(...e){return o.value?R((()=>Reflect.apply(o.value.d,null,[...e]))):R((()=>""))}function B(...e){return o.value?R((()=>Reflect.apply(o.value.n,null,[...e]))):R((()=>""))}function L(e){return o.value?o.value.tm(e):{}}function z(e,t){return!!o.value&&o.value.te(e,t)}function F(e){return o.value?o.value.getLocaleMessage(e):{}}function $(e,t){o.value&&(o.value.setLocaleMessage(e,t),u.value[e]=t)}function V(e,t){o.value&&o.value.mergeLocaleMessage(e,t)}function j(e){return o.value?o.value.getDateTimeFormat(e):{}}function H(e,t){o.value&&(o.value.setDateTimeFormat(e,t),c.value[e]=t)}function W(e,t){o.value&&o.value.mergeDateTimeFormat(e,t)}function U(e){return o.value?o.value.getNumberFormat(e):{}}function q(e,t){o.value&&(o.value.setNumberFormat(e,t),p.value[e]=t)}function G(e,t){o.value&&o.value.mergeNumberFormat(e,t)}const X={get id(){return o.value?o.value.id:-1},locale:E,fallbackLocale:k,messages:S,datetimeFormats:T,numberFormats:O,get inheritLocale(){return o.value?o.value.inheritLocale:i},set inheritLocale(e){o.value&&(o.value.inheritLocale=e)},get availableLocales(){return o.value?o.value.availableLocales:Object.keys(u.value)},get modifiers(){return o.value?o.value.modifiers:w},get pluralRules(){return o.value?o.value.pluralRules:x},get isGlobal(){return!!o.value&&o.value.isGlobal},get missingWarn(){return o.value?o.value.missingWarn:d},set missingWarn(e){o.value&&(o.value.missingWarn=e)},get fallbackWarn(){return o.value?o.value.fallbackWarn:f},set fallbackWarn(e){o.value&&(o.value.missingWarn=e)},get fallbackRoot(){return o.value?o.value.fallbackRoot:h},set fallbackRoot(e){o.value&&(o.value.fallbackRoot=e)},get fallbackFormat(){return o.value?o.value.fallbackFormat:v},set fallbackFormat(e){o.value&&(o.value.fallbackFormat=e)},get warnHtmlMessage(){return o.value?o.value.warnHtmlMessage:b},set warnHtmlMessage(e){o.value&&(o.value.warnHtmlMessage=e)},get escapeParameter(){return o.value?o.value.escapeParameter:y},set escapeParameter(e){o.value&&(o.value.escapeParameter=e)},t:M,getPostTranslationHandler:I,setPostTranslationHandler:N,getMissingHandler:A,setMissingHandler:_,rt:P,d:D,n:B,tm:L,te:z,getLocaleMessage:F,setLocaleMessage:$,mergeLocaleMessage:V,getDateTimeFormat:j,setDateTimeFormat:H,mergeDateTimeFormat:W,getNumberFormat:U,setNumberFormat:q,mergeNumberFormat:G};function Y(e){e.locale.value=s.value,e.fallbackLocale.value=l.value,Object.keys(u.value).forEach((t=>{e.mergeLocaleMessage(t,u.value[t])})),Object.keys(c.value).forEach((t=>{e.mergeDateTimeFormat(t,c.value[t])})),Object.keys(p.value).forEach((t=>{e.mergeNumberFormat(t,p.value[t])})),e.escapeParameter=y,e.fallbackFormat=v,e.fallbackRoot=h,e.fallbackWarn=f,e.missingWarn=d,e.warnHtmlMessage=b}return Qn((()=>{if(null==e.proxy||null==e.proxy.$i18n)throw bl(gl.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const n=o.value=e.proxy.$i18n.__composer;"global"===t?(s.value=n.locale.value,l.value=n.fallbackLocale.value,u.value=n.messages.value,c.value=n.datetimeFormats.value,p.value=n.numberFormats.value):a&&Y(n)})),X}(t,o,r,e)}if("global"===o)return _l(r,e,a),r;if("parent"===o){let a=function(e,t,n=!1){let r=null;const a=t.root;let o=t.parent;for(;null!=o;){const t=e;if("composition"===e.mode)r=t.__getInstance(o);else if(__VUE_I18N_LEGACY_API__){const e=t.__getInstance(o);null!=e&&(r=e.__composer,n&&r&&!r[Sl]&&(r=null))}if(null!=r)break;if(a===o)break;o=o.parent}return r}(n,t,e.__useComponent);return null==a&&(a=r),a}const i=n;let s=i.__getInstance(t);if(null==s){const n=li({},e);"__i18n"in a&&(n.__i18n=a.__i18n),r&&(n.__root=r),s=Ll(n),function(e,t,n){let r=null;Zn((()=>{if(__VUE_PROD_DEVTOOLS__&&t.vnode.el){t.vnode.el.__VUE_I18N__=n,r=Ci();const e=n;e[Cl]&&e[Cl](r),r.on("*",au)}}),t),rr((()=>{if(__VUE_PROD_DEVTOOLS__&&t.vnode.el&&t.vnode.el.__VUE_I18N__){r&&r.off("*",au);const e=n;e[El]&&e[El](),delete t.vnode.el.__VUE_I18N__}e.__deleteInstance(t)}),t)}(i,t,s),i.__setInstance(t,s)}return s}const lu=["locale","fallbackLocale","availableLocales"],uu=["t","rt","d","n","tm"];var cu,pu,du;if(cu=function(e,t={}){{const n=(t.onCacheKey||Ps)(e),r=Ds[n];if(r)return r;let a=!1;const o=t.onError||Si;t.onError=e=>{a=!0,o(e)};const{code:i}=function(e,t={}){const n=li({},t),r=$i(n).parse(e);return Wi(r,n),qi(r,n)}(e,t),s=new Function(`return ${i}`)();return a?s:Ds[n]=s}},xs=cu,pu=function(e,t){if(!bi(e))return null;let n=Qi.get(t);if(n||(n=function(e){const t=[];let n,r,a,o,i,s,l,u=-1,c=0,p=0;const d=[];function f(){const t=e[u+1];if(5===c&&"'"===t||6===c&&'"'===t)return u++,a="\\"+t,d[0](),!0}for(d[0]=()=>{void 0===r?r=a:r+=a},d[1]=()=>{void 0!==r&&(t.push(r),r=void 0)},d[2]=()=>{d[0](),p++},d[3]=()=>{if(p>0)p--,c=4,d[0]();else{if(p=0,void 0===r)return!1;if(r=Ji(r),!1===r)return!1;d[1]()}};null!==c;)if(u++,n=e[u],"\\"!==n||!f()){if(o=Ki(n),l=Xi[c],i=l[o]||l.l||8,8===i)return;if(c=i[0],void 0!==i[1]&&(s=d[i[1]],s&&(a=n,!1===s())))return;if(7===c)return t}}(t),n&&Qi.set(t,n)),!n)return null;const r=n.length;let a=e,o=0;for(;o<r;){const e=a[n[o]];if(void 0===e)return null;a=e,o++}return a},Cs=pu,Es=ds,function(){let e=!1;"boolean"!=typeof __VUE_I18N_FULL_INSTALL__&&(e=!0,ci().__VUE_I18N_FULL_INSTALL__=!0),"boolean"!=typeof __VUE_I18N_LEGACY_API__&&(e=!0,ci().__VUE_I18N_LEGACY_API__=!0),"boolean"!=typeof __INTLIFY_PROD_DEVTOOLS__&&(ci().__INTLIFY_PROD_DEVTOOLS__=!1)}(),__INTLIFY_PROD_DEVTOOLS__){const e=ci();e.__INTLIFY__=!0,du=e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__,ss=du}function fu(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function hu(e,t){void 0===e&&(e={}),void 0===t&&(t={}),Object.keys(t).forEach((function(n){void 0===e[n]?e[n]=t[n]:fu(t[n])&&fu(e[n])&&Object.keys(t[n]).length>0&&hu(e[n],t[n])}))}var vu={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function mu(){var e="undefined"!=typeof document?document:{};return hu(e,vu),e}var gu={document:vu,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(e){return"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0)},cancelAnimationFrame:function(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function bu(){var e="undefined"!=typeof window?window:{};return hu(e,gu),e}var yu=0;function wu(){return yu+=1}function xu(e,t){void 0===e&&(e="xxxxxxxxxx"),void 0===t&&(t="0123456789abcdef");var n=t.length;return e.replace(/x/g,(function(){return t[Math.floor(Math.random()*n)]}))}var Cu,Eu,ku='\n  <span class="preloader-inner">\n    <svg viewBox="0 0 36 36">\n      <circle cx="18" cy="18" r="16"></circle>\n    </svg>\n  </span>\n'.trim(),Su=('\n  <span class="preloader-inner">\n    '+[0,1,2,3,4,5,6,7].map((function(){return'<span class="preloader-inner-line"></span>'})).join("")+"\n  </span>\n").trim(),Tu='\n  <span class="preloader-inner">\n    <span class="preloader-inner-circle"></span>\n  </span>\n';function Ou(e){var t;return e.split("").map((function(e,n){return e.match(/[A-Z]/)&&0!==n&&!t?(t=!0,":"+e.toLowerCase()):e.toLowerCase()})).join("")}function Iu(e){var t=e;Object.keys(t).forEach((function(e){try{t[e]=null}catch(e){}try{delete t[e]}catch(e){}}))}function Nu(e){return bu().requestAnimationFrame(e)}function Au(e){return bu().cancelAnimationFrame(e)}function _u(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function Ru(e){return Nu((function(){Nu(e)}))}function Mu(){return Date.now()}function Pu(e){var t,n,r,a,o=bu(),i={},s=e||o.location.href;if("string"==typeof s&&s.length)for(a=(n=(s=s.indexOf("?")>-1?s.replace(/\S*\?/,""):"").split("&").filter((function(e){return""!==e}))).length,t=0;t<a;t+=1)r=n[t].replace(/#\S+/g,"").split("="),i[decodeURIComponent(r[0])]=void 0===r[1]?void 0:decodeURIComponent(r.slice(1).join("="))||"";return i}function Du(e,t){void 0===t&&(t="x");var n,r,a,o=bu(),i=o.getComputedStyle(e,null);return o.WebKitCSSMatrix?((r=i.transform||i.webkitTransform).split(",").length>6&&(r=r.split(", ").map((function(e){return e.replace(",",".")})).join(", ")),a=new o.WebKitCSSMatrix("none"===r?"":r)):n=(a=i.MozTransform||i.OTransform||i.MsTransform||i.msTransform||i.transform||i.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===t&&(r=o.WebKitCSSMatrix?a.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===t&&(r=o.WebKitCSSMatrix?a.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),r||0}function Bu(e,t){if(void 0===t&&(t=[]),"string"==typeof e)return e;var n,r=[];function a(e){if(t.length>0){for(var n="",r=0;r<t.length;r+=1)n+=0===r?t[r]:"["+encodeURIComponent(t[r])+"]";return n+"["+encodeURIComponent(e)+"]"}return encodeURIComponent(e)}function o(e){return encodeURIComponent(e)}return Object.keys(e).forEach((function(i){var s;if(Array.isArray(e[i])){s=[];for(var l=0;l<e[i].length;l+=1)Array.isArray(e[i][l])||"object"!=typeof e[i][l]?s.push(a(i)+"[]="+o(e[i][l])):((n=t.slice()).push(i),n.push(String(l)),s.push(Bu(e[i][l],n)));s.length>0&&r.push(s.join("&"))}else null===e[i]||""===e[i]?r.push(a(i)+"="):"object"==typeof e[i]?((n=t.slice()).push(i),""!==(s=Bu(e[i],n))&&r.push(s)):void 0!==e[i]&&""!==e[i]?r.push(a(i)+"="+o(e[i])):""===e[i]&&r.push(a(i))})),r.join("&")}function Lu(e){return"object"==typeof e&&null!==e&&e.constructor&&e.constructor===Object}function zu(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];t.splice(0,1);for(var a=t,o=0;o<a.length;o+=1){var i=t[o];if(null!=i)for(var s=Object.keys(Object(i)),l=0,u=s.length;l<u;l+=1){var c=s[l],p=Object.getOwnPropertyDescriptor(i,c);void 0!==p&&p.enumerable&&(r[c]=i[c])}}return r}function Fu(){for(var e,t,n=!0,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];"boolean"==typeof a[0]?(n=a[0],e=a[1],a.splice(0,2),t=a):(e=a[0],a.splice(0,1),t=a);for(var i=0;i<t.length;i+=1){var s=a[i];if(null!=s)for(var l=Object.keys(Object(s)),u=0,c=l.length;u<c;u+=1){var p=l[u],d=Object.getOwnPropertyDescriptor(s,p);void 0!==d&&d.enumerable&&(n?Lu(e[p])&&Lu(s[p])?Fu(e[p],s[p]):!Lu(e[p])&&Lu(s[p])?(e[p]={},Fu(e[p],s[p])):e[p]=s[p]:e[p]=s[p])}}return e}function $u(e){var t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return t+t+n+n+r+r})),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return n?n.slice(1).map((function(e){return parseInt(e,16)})):null}function Vu(e,t,n){var r=[e,t,n].map((function(e){var t=e.toString(16);return 1===t.length?"0"+t:t})).join("");return"#"+r}function ju(e,t,n){e/=255,t/=255,n/=255;var r,a=Math.max(e,t,n),o=Math.min(e,t,n),i=a-o;0===i?r=0:a===e?r=(t-n)/i%6:a===t?r=(n-e)/i+2:a===n&&(r=(e-t)/i+4);var s=(o+a)/2;return r<0&&(r=6+r),[60*r,0===i?0:i/(1-Math.abs(2*s-1)),s]}function Hu(e,t,n){var r,a=(1-Math.abs(2*n-1))*t,o=e/60,i=a*(1-Math.abs(o%2-1));Number.isNaN(e)||void 0===e?r=[0,0,0]:o<=1?r=[a,i,0]:o<=2?r=[i,a,0]:o<=3?r=[0,a,i]:o<=4?r=[0,i,a]:o<=5?r=[i,0,a]:o<=6&&(r=[a,0,i]);var s=n-a/2;return r.map((function(e){return Math.max(0,Math.min(255,Math.round(255*(e+s))))}))}function Wu(e,t,n){var r={h:e,s:0,l:0},a=t,o=n;return r.l=(2-a)*o/2,r.s=r.l&&r.l<1?a*o/(r.l<.5?2*r.l:2-2*r.l):r.s,[r.h,r.s,r.l]}function Uu(e,t,n){var r={h:e,s:0,b:0},a=n,o=t*(a<.5?a:1-a);return r.b=a+o,r.s=a>0?2*o/r.b:r.s,[r.h,r.s,r.b]}function qu(){for(var e,t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];if(1===r.length?t=$u(e=r[0]):3===r.length&&(t=r,e=Vu.apply(void 0,t)),!t)return{};var o=ju.apply(void 0,t),i=[o[0],o[1],Math.max(0,o[2]-.08)],s=[o[0],o[1],Math.max(0,o[2]+.08)],l=Vu.apply(void 0,Hu.apply(void 0,i)),u=Vu.apply(void 0,Hu.apply(void 0,s));return{"--f7-theme-color":e,"--f7-theme-color-rgb":t.join(", "),"--f7-theme-color-shade":l,"--f7-theme-color-tint":u}}function Gu(e,t){Object.keys(t).forEach((function(n){Lu(t[n])&&Object.keys(t[n]).forEach((function(r){"function"==typeof t[n][r]&&(t[n][r]=t[n][r].bind(e))})),e[n]=t[n]}))}function Xu(){for(var e=[],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){Array.isArray(t)?e.push.apply(e,Xu.apply(void 0,t)):e.push(t)})),e}function Yu(){return Cu||(Cu=function(){var e=bu(),t=mu();return{touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch),pointerEvents:!!e.PointerEvent&&"maxTouchPoints"in e.navigator&&e.navigator.maxTouchPoints>=0,passiveListener:function(){var t=!1;try{var n=Object.defineProperty({},"passive",{get:function(){t=!0}});e.addEventListener("testPassiveListener",null,n)}catch(e){}return t}(),intersectionObserver:"IntersectionObserver"in e}}()),Cu}function Ku(e,t){return void 0===e&&(e={}),Eu&&!t||(Eu=function(e){var t=(void 0===e?{}:e).userAgent,n=Yu(),r=bu(),a=r.navigator.platform,o=t||r.navigator.userAgent,i={ios:!1,android:!1,androidChrome:!1,desktop:!1,iphone:!1,ipod:!1,ipad:!1,edge:!1,ie:!1,firefox:!1,macos:!1,windows:!1,cordova:!(!r.cordova&&!r.phonegap),phonegap:!(!r.cordova&&!r.phonegap),electron:!1,capacitor:!!r.Capacitor,nwjs:!1},s=r.screen.width,l=r.screen.height,u=o.match(/(Android);?[\s\/]+([\d.]+)?/),c=o.match(/(iPad).*OS\s([\d_]+)/),p=o.match(/(iPod)(.*OS\s([\d_]+))?/),d=!c&&o.match(/(iPhone\sOS|iOS|iPhone;\sCPU\sOS)\s([\d_]+)/),f=o.indexOf("MSIE ")>=0||o.indexOf("Trident/")>=0,h=o.indexOf("Edge/")>=0,v=o.indexOf("Gecko/")>=0&&o.indexOf("Firefox/")>=0,m="Win32"===a,g=o.toLowerCase().indexOf("electron")>=0,b="undefined"!=typeof nw&&"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.nw,y="MacIntel"===a;return!c&&y&&n.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(s+"x"+l)>=0&&((c=o.match(/(Version)\/([\d.]+)/))||(c=[0,1,"13_0_0"]),y=!1),i.ie=f,i.edge=h,i.firefox=v,u&&(i.os="android",i.osVersion=u[2],i.android=!0,i.androidChrome=o.toLowerCase().indexOf("chrome")>=0),(c||d||p)&&(i.os="ios",i.ios=!0),d&&!p&&(i.osVersion=d[2].replace(/_/g,"."),i.iphone=!0),c&&(i.osVersion=c[2].replace(/_/g,"."),i.ipad=!0),p&&(i.osVersion=p[3]?p[3].replace(/_/g,"."):null,i.ipod=!0),i.ios&&i.osVersion&&o.indexOf("Version/")>=0&&"10"===i.osVersion.split(".")[0]&&(i.osVersion=o.toLowerCase().split("version/")[1].split(" ")[0]),i.webView=!(!(d||c||p)||!o.match(/.*AppleWebKit(?!.*Safari)/i)&&!r.navigator.standalone)||r.matchMedia&&r.matchMedia("(display-mode: standalone)").matches,i.webview=i.webView,i.standalone=i.webView,i.desktop=!(i.ios||i.android)||g||b,i.desktop&&(i.electron=g,i.nwjs=b,i.macos=y,i.windows=m,i.macos&&(i.os="macos"),i.windows&&(i.os="windows")),i.pixelRatio=r.devicePixelRatio||1,i.prefersColorScheme=function(){var e;return r.matchMedia&&r.matchMedia("(prefers-color-scheme: light)").matches&&(e="light"),r.matchMedia&&r.matchMedia("(prefers-color-scheme: dark)").matches&&(e="dark"),e},i}(e)),Eu}var Ju=function(){function e(e){void 0===e&&(e=[]);this.eventsParents=e,this.eventsListeners={}}var t=e.prototype;return t.on=function(e,t,n){var r=this;if("function"!=typeof t)return r;var a=n?"unshift":"push";return e.split(" ").forEach((function(e){r.eventsListeners[e]||(r.eventsListeners[e]=[]),r.eventsListeners[e][a](t)})),r},t.once=function(e,t,n){var r=this;if("function"!=typeof t)return r;function a(){r.off(e,a),a.f7proxy&&delete a.f7proxy;for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];t.apply(r,o)}return a.f7proxy=t,r.on(e,a,n)},t.off=function(e,t){var n=this;return n.eventsListeners?(e.split(" ").forEach((function(e){void 0===t?n.eventsListeners[e]=[]:n.eventsListeners[e]&&n.eventsListeners[e].forEach((function(r,a){(r===t||r.f7proxy&&r.f7proxy===t)&&n.eventsListeners[e].splice(a,1)}))})),n):n},t.emit=function(){var e,t,n,r,a=this;if(!a.eventsListeners)return a;for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];"string"==typeof i[0]||Array.isArray(i[0])?(e=i[0],t=i.slice(1,i.length),n=a,r=a.eventsParents):(e=i[0].events,t=i[0].data,n=i[0].context||a,r=i[0].local?[]:i[0].parents||a.eventsParents);var l=Array.isArray(e)?e:e.split(" "),u=l.map((function(e){return e.replace("local::","")})),c=l.filter((function(e){return e.indexOf("local::")<0}));return u.forEach((function(e){if(a.eventsListeners&&a.eventsListeners[e]){var r=[];a.eventsListeners[e].forEach((function(e){r.push(e)})),r.forEach((function(e){e.apply(n,t)}))}})),r&&r.length>0&&r.forEach((function(e){e.emit.apply(e,[c].concat(t))})),a},e}(),Qu=Ju;function Zu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ec(e,t){return ec=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ec(e,t)}var tc=function(e){var t,n;function r(t,n){var r;void 0===t&&(t={}),void 0===n&&(n=[]);var a=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r=e.call(this,n)||this);return a.params=t,a.params&&a.params.on&&Object.keys(a.params.on).forEach((function(e){a.on(e,a.params.on[e])})),r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,ec(t,n);var a,o,i,s=r.prototype;return s.useModuleParams=function(e,t){if(e.params){var n={};Object.keys(e.params).forEach((function(e){void 0!==t[e]&&(n[e]=Fu({},t[e]))})),Fu(t,e.params),Object.keys(n).forEach((function(e){Fu(t[e],n[e])}))}},s.useModulesParams=function(e){var t=this;t.modules&&Object.keys(t.modules).forEach((function(n){var r=t.modules[n];r.params&&Fu(e,r.params)}))},s.useModule=function(e,t){void 0===e&&(e=""),void 0===t&&(t={});var n=this;if(n.modules){var r="string"==typeof e?n.modules[e]:e;r&&(r.instance&&Object.keys(r.instance).forEach((function(e){var t=r.instance[e];n[e]="function"==typeof t?t.bind(n):t})),r.on&&n.on&&Object.keys(r.on).forEach((function(e){n.on(e,r.on[e])})),r.vnode&&(n.vnodeHooks||(n.vnodeHooks={}),Object.keys(r.vnode).forEach((function(e){Object.keys(r.vnode[e]).forEach((function(t){var a=r.vnode[e][t];n.vnodeHooks[t]||(n.vnodeHooks[t]={}),n.vnodeHooks[t][e]||(n.vnodeHooks[t][e]=[]),n.vnodeHooks[t][e].push(a.bind(n))}))}))),r.create&&r.create.bind(n)(t))}},s.useModules=function(e){void 0===e&&(e={});var t=this;t.modules&&Object.keys(t.modules).forEach((function(n){var r=e[n]||{};t.useModule(n,r)}))},r.installModule=function(e){var t=this;t.prototype.modules||(t.prototype.modules={});var n=e.name||Object.keys(t.prototype.modules).length+"_"+Mu();if(t.prototype.modules[n]=e,e.proto&&Object.keys(e.proto).forEach((function(n){t.prototype[n]=e.proto[n]})),e.static&&Object.keys(e.static).forEach((function(n){t[n]=e.static[n]})),e.install){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];e.install.apply(t,a)}return t},r.use=function(e){var t=this;if(Array.isArray(e))return e.forEach((function(e){return t.installModule(e)})),t;for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return t.installModule.apply(t,[e].concat(r))},a=r,i=[{key:"components",set:function(e){this.use&&this.use(e)}}],(o=null)&&Zu(a.prototype,o),i&&Zu(a,i),r}(Qu),nc=tc;function rc(e){return rc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},rc(e)}function ac(e,t){return ac=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ac(e,t)}function oc(e,t,n){return oc=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&ac(a,n.prototype),a},oc.apply(null,arguments)}function ic(e){var t="function"==typeof Map?new Map:void 0;return ic=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return oc(e,arguments,rc(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ac(r,e)},ic(e)}var sc=function(e){var t,n;function r(t){var n,r,a;return n=e.call.apply(e,[this].concat(t))||this,r=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),a=r.__proto__,Object.defineProperty(r,"__proto__",{get:function(){return a},set:function(e){a.__proto__=e}}),n}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(ic(Array));function lc(e){void 0===e&&(e=[]);var t=[];return e.forEach((function(e){Array.isArray(e)?t.push.apply(t,lc(e)):t.push(e)})),t}function uc(e,t){return Array.prototype.filter.call(e,t)}function cc(e,t){var n=bu(),r=mu(),a=[];if(!t&&e instanceof sc)return e;if(!e)return new sc(a);if("string"==typeof e){var o=e.trim();if(o.indexOf("<")>=0&&o.indexOf(">")>=0){var i="div";0===o.indexOf("<li")&&(i="ul"),0===o.indexOf("<tr")&&(i="tbody"),0!==o.indexOf("<td")&&0!==o.indexOf("<th")||(i="tr"),0===o.indexOf("<tbody")&&(i="table"),0===o.indexOf("<option")&&(i="select");var s=r.createElement(i);s.innerHTML=o;for(var l=0;l<s.childNodes.length;l+=1)a.push(s.childNodes[l])}else a=function(e,t){if("string"!=typeof e)return[e];for(var n=[],r=t.querySelectorAll(e),a=0;a<r.length;a+=1)n.push(r[a]);return n}(e.trim(),t||r)}else if(e.nodeType||e===n||e===r)a.push(e);else if(Array.isArray(e)){if(e instanceof sc)return e;a=e}return new sc(function(e){for(var t=[],n=0;n<e.length;n+=1)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(a))}function pc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=lc(t.map((function(e){return e.split(" ")})));return this.forEach((function(e){var t;(t=e.classList).add.apply(t,r)})),this}function dc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=lc(t.map((function(e){return e.split(" ")})));return this.forEach((function(e){var t;(t=e.classList).remove.apply(t,r)})),this}function fc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=lc(t.map((function(e){return e.split(" ")})));this.forEach((function(e){r.forEach((function(t){e.classList.toggle(t)}))}))}function hc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=lc(t.map((function(e){return e.split(" ")})));return uc(this,(function(e){return r.filter((function(t){return e.classList.contains(t)})).length>0})).length>0}function vc(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var n=0;n<this.length;n+=1)if(2===arguments.length)this[n].setAttribute(e,t);else for(var r in e)this[n][r]=e[r],this[n].setAttribute(r,e[r]);return this}function mc(e){for(var t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this}function gc(e,t){if(1!==arguments.length||"string"!=typeof e){for(var n=0;n<this.length;n+=1)if(2===arguments.length)this[n][e]=t;else for(var r in e)this[n][r]=e[r];return this}return this[0]?this[0][e]:this}function bc(e,t){var n;if(void 0===t){if(!(n=this[0]))return;if(n.dom7ElementDataStorage&&e in n.dom7ElementDataStorage)return n.dom7ElementDataStorage[e];var r=n.getAttribute("data-"+e);return r||void 0}for(var a=0;a<this.length;a+=1)(n=this[a]).dom7ElementDataStorage||(n.dom7ElementDataStorage={}),n.dom7ElementDataStorage[e]=t;return this}function yc(e){for(var t=0;t<this.length;t+=1){var n=this[t];n.dom7ElementDataStorage&&n.dom7ElementDataStorage[e]&&(n.dom7ElementDataStorage[e]=null,delete n.dom7ElementDataStorage[e])}}function wc(){var e=this[0];if(e){var t,n={};if(e.dataset)for(var r in e.dataset)n[r]=e.dataset[r];else for(var a=0;a<e.attributes.length;a+=1){var o=e.attributes[a];o.name.indexOf("data-")>=0&&(n[(t=o.name.split("data-")[1],t.toLowerCase().replace(/-(.)/g,(function(e,t){return t.toUpperCase()})))]=o.value)}for(var i in n)"false"===n[i]?n[i]=!1:"true"===n[i]?n[i]=!0:parseFloat(n[i])===1*n[i]&&(n[i]*=1);return n}}function xc(e){if(void 0===e){var t=this[0];if(!t)return;if(t.multiple&&"select"===t.nodeName.toLowerCase()){for(var n=[],r=0;r<t.selectedOptions.length;r+=1)n.push(t.selectedOptions[r].value);return n}return t.value}for(var a=0;a<this.length;a+=1){var o=this[a];if(Array.isArray(e)&&o.multiple&&"select"===o.nodeName.toLowerCase())for(var i=0;i<o.options.length;i+=1)o.options[i].selected=e.indexOf(o.options[i].value)>=0;else o.value=e}return this}function Cc(e){return this.val(e)}function Ec(e){for(var t=0;t<this.length;t+=1)this[t].style.transform=e;return this}function kc(e){for(var t=0;t<this.length;t+=1)this[t].style.transitionDuration="string"!=typeof e?e+"ms":e;return this}function Sc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],o=t[2],i=t[3];function s(e){var t=e.target;if(t){var n=e.target.dom7EventData||[];if(n.indexOf(e)<0&&n.unshift(e),cc(t).is(a))o.apply(t,n);else for(var r=cc(t).parents(),i=0;i<r.length;i+=1)cc(r[i]).is(a)&&o.apply(r[i],n)}}function l(e){var t=e&&e.target&&e.target.dom7EventData||[];t.indexOf(e)<0&&t.unshift(e),o.apply(this,t)}"function"==typeof t[1]&&(r=t[0],o=t[1],i=t[2],a=void 0),i||(i=!1);for(var u,c=r.split(" "),p=0;p<this.length;p+=1){var d=this[p];if(a)for(u=0;u<c.length;u+=1){var f=c[u];d.dom7LiveListeners||(d.dom7LiveListeners={}),d.dom7LiveListeners[f]||(d.dom7LiveListeners[f]=[]),d.dom7LiveListeners[f].push({listener:o,proxyListener:s}),d.addEventListener(f,s,i)}else for(u=0;u<c.length;u+=1){var h=c[u];d.dom7Listeners||(d.dom7Listeners={}),d.dom7Listeners[h]||(d.dom7Listeners[h]=[]),d.dom7Listeners[h].push({listener:o,proxyListener:l}),d.addEventListener(h,l,i)}}return this}function Tc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],o=t[2],i=t[3];"function"==typeof t[1]&&(r=t[0],o=t[1],i=t[2],a=void 0),i||(i=!1);for(var s=r.split(" "),l=0;l<s.length;l+=1)for(var u=s[l],c=0;c<this.length;c+=1){var p=this[c],d=void 0;if(!a&&p.dom7Listeners?d=p.dom7Listeners[u]:a&&p.dom7LiveListeners&&(d=p.dom7LiveListeners[u]),d&&d.length)for(var f=d.length-1;f>=0;f-=1){var h=d[f];o&&h.listener===o||o&&h.listener&&h.listener.dom7proxy&&h.listener.dom7proxy===o?(p.removeEventListener(u,h.proxyListener,i),d.splice(f,1)):o||(p.removeEventListener(u,h.proxyListener,i),d.splice(f,1))}}return this}function Oc(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0],o=n[1],i=n[2],s=n[3];function l(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];i.apply(this,n),e.off(a,o,l,s),l.dom7proxy&&delete l.dom7proxy}return"function"==typeof n[1]&&(a=n[0],i=n[1],s=n[2],o=void 0),l.dom7proxy=i,e.on(a,o,l,s)}function Ic(){for(var e=bu(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var a=n[0].split(" "),o=n[1],i=0;i<a.length;i+=1)for(var s=a[i],l=0;l<this.length;l+=1){var u=this[l];if(e.CustomEvent){var c=new e.CustomEvent(s,{detail:o,bubbles:!0,cancelable:!0});u.dom7EventData=n.filter((function(e,t){return t>0})),u.dispatchEvent(c),u.dom7EventData=[],delete u.dom7EventData}}return this}function Nc(e){var t=this;return e&&t.on("transitionend",(function n(r){r.target===this&&(e.call(this,r),t.off("transitionend",n))})),this}function Ac(e){var t=this;return e&&t.on("animationend",(function n(r){r.target===this&&(e.call(this,r),t.off("animationend",n))})),this}function _c(){var e=bu();return this[0]===e?e.innerWidth:this.length>0?parseFloat(this.css("width")):null}function Rc(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetWidth+parseFloat(t.getPropertyValue("margin-right"))+parseFloat(t.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null}function Mc(){var e=bu();return this[0]===e?e.innerHeight:this.length>0?parseFloat(this.css("height")):null}function Pc(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetHeight+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null}function Dc(){if(this.length>0){var e=bu(),t=mu(),n=this[0],r=n.getBoundingClientRect(),a=t.body,o=n.clientTop||a.clientTop||0,i=n.clientLeft||a.clientLeft||0,s=n===e?e.scrollY:n.scrollTop,l=n===e?e.scrollX:n.scrollLeft;return{top:r.top+s-o,left:r.left+l-i}}return null}function Bc(){for(var e=0;e<this.length;e+=1)this[e].style.display="none";return this}function Lc(){for(var e=bu(),t=0;t<this.length;t+=1){var n=this[t];"none"===n.style.display&&(n.style.display=""),"none"===e.getComputedStyle(n,null).getPropertyValue("display")&&(n.style.display="block")}return this}function zc(){var e=bu();return this[0]?e.getComputedStyle(this[0],null):{}}function Fc(e,t){var n,r=bu();if(1===arguments.length){if("string"!=typeof e){for(n=0;n<this.length;n+=1)for(var a in e)this[n].style[a]=e[a];return this}if(this[0])return r.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(n=0;n<this.length;n+=1)this[n].style[e]=t;return this}return this}function $c(e){return e?(this.forEach((function(t,n){e.apply(t,[t,n])})),this):this}function Vc(e){return cc(uc(this,e))}function jc(e){if(void 0===e)return this[0]?this[0].innerHTML:null;for(var t=0;t<this.length;t+=1)this[t].innerHTML=e;return this}function Hc(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t+=1)this[t].textContent=e;return this}function Wc(e){var t,n,r=bu(),a=mu(),o=this[0];if(!o||void 0===e)return!1;if("string"==typeof e){if(o.matches)return o.matches(e);if(o.webkitMatchesSelector)return o.webkitMatchesSelector(e);if(o.msMatchesSelector)return o.msMatchesSelector(e);for(t=cc(e),n=0;n<t.length;n+=1)if(t[n]===o)return!0;return!1}if(e===a)return o===a;if(e===r)return o===r;if(e.nodeType||e instanceof sc){for(t=e.nodeType?[e]:e,n=0;n<t.length;n+=1)if(t[n]===o)return!0;return!1}return!1}function Uc(){var e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}}function qc(e){if(void 0===e)return this;var t=this.length;if(e>t-1)return cc([]);if(e<0){var n=t+e;return cc(n<0?[]:[this[n]])}return cc([this[e]])}function Gc(){for(var e,t=mu(),n=0;n<arguments.length;n+=1){e=n<0||arguments.length<=n?void 0:arguments[n];for(var r=0;r<this.length;r+=1)if("string"==typeof e){var a=t.createElement("div");for(a.innerHTML=e;a.firstChild;)this[r].appendChild(a.firstChild)}else if(e instanceof sc)for(var o=0;o<e.length;o+=1)this[r].appendChild(e[o]);else this[r].appendChild(e)}return this}function Xc(e){return cc(e).append(this),this}function Yc(e){var t,n,r=mu();for(t=0;t<this.length;t+=1)if("string"==typeof e){var a=r.createElement("div");for(a.innerHTML=e,n=a.childNodes.length-1;n>=0;n-=1)this[t].insertBefore(a.childNodes[n],this[t].childNodes[0])}else if(e instanceof sc)for(n=0;n<e.length;n+=1)this[t].insertBefore(e[n],this[t].childNodes[0]);else this[t].insertBefore(e,this[t].childNodes[0]);return this}function Kc(e){return cc(e).prepend(this),this}function Jc(e){for(var t=cc(e),n=0;n<this.length;n+=1)if(1===t.length)t[0].parentNode.insertBefore(this[n],t[0]);else if(t.length>1)for(var r=0;r<t.length;r+=1)t[r].parentNode.insertBefore(this[n].cloneNode(!0),t[r])}function Qc(e){for(var t=cc(e),n=0;n<this.length;n+=1)if(1===t.length)t[0].parentNode.insertBefore(this[n],t[0].nextSibling);else if(t.length>1)for(var r=0;r<t.length;r+=1)t[r].parentNode.insertBefore(this[n].cloneNode(!0),t[r].nextSibling)}function Zc(e){return this.length>0?e?this[0].nextElementSibling&&cc(this[0].nextElementSibling).is(e)?cc([this[0].nextElementSibling]):cc([]):this[0].nextElementSibling?cc([this[0].nextElementSibling]):cc([]):cc([])}function ep(e){var t=[],n=this[0];if(!n)return cc([]);for(;n.nextElementSibling;){var r=n.nextElementSibling;e?cc(r).is(e)&&t.push(r):t.push(r),n=r}return cc(t)}function tp(e){if(this.length>0){var t=this[0];return e?t.previousElementSibling&&cc(t.previousElementSibling).is(e)?cc([t.previousElementSibling]):cc([]):t.previousElementSibling?cc([t.previousElementSibling]):cc([])}return cc([])}function np(e){var t=[],n=this[0];if(!n)return cc([]);for(;n.previousElementSibling;){var r=n.previousElementSibling;e?cc(r).is(e)&&t.push(r):t.push(r),n=r}return cc(t)}function rp(e){return this.nextAll(e).add(this.prevAll(e))}function ap(e){for(var t=[],n=0;n<this.length;n+=1)null!==this[n].parentNode&&(e?cc(this[n].parentNode).is(e)&&t.push(this[n].parentNode):t.push(this[n].parentNode));return cc(t)}function op(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].parentNode;r;)e?cc(r).is(e)&&t.push(r):t.push(r),r=r.parentNode;return cc(t)}function ip(e){var t=this;return void 0===e?cc([]):(t.is(e)||(t=t.parents(e).eq(0)),t)}function sp(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].querySelectorAll(e),a=0;a<r.length;a+=1)t.push(r[a]);return cc(t)}function lp(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].children,a=0;a<r.length;a+=1)e&&!cc(r[a]).is(e)||t.push(r[a]);return cc(t)}function up(){for(var e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this}function cp(){return this.remove()}function pp(){for(var e,t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];for(e=0;e<r.length;e+=1){var o=cc(r[e]);for(t=0;t<o.length;t+=1)this.push(o[t])}return this}function dp(){for(var e=0;e<this.length;e+=1){var t=this[e];if(1===t.nodeType){for(var n=0;n<t.childNodes.length;n+=1)t.childNodes[n].parentNode&&t.childNodes[n].parentNode.removeChild(t.childNodes[n]);t.textContent=""}}return this}function fp(){for(var e=bu(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0],o=n[1],i=n[2],s=n[3],l=n[4];return 4===n.length&&"function"==typeof s&&(l=s,a=n[0],o=n[1],i=n[2],l=n[3],s=n[4]),void 0===s&&(s="swing"),this.each((function(){var t,n,r,u,c,p,d,f,h=this,v=o>0||0===o,m=a>0||0===a;if(void 0===s&&(s="swing"),v&&(t=h.scrollTop,i||(h.scrollTop=o)),m&&(n=h.scrollLeft,i||(h.scrollLeft=a)),i){v&&(r=h.scrollHeight-h.offsetHeight,c=Math.max(Math.min(o,r),0)),m&&(u=h.scrollWidth-h.offsetWidth,p=Math.max(Math.min(a,u),0));var g=null;v&&c===t&&(v=!1),m&&p===n&&(m=!1),e.requestAnimationFrame((function r(a){void 0===a&&(a=(new Date).getTime()),null===g&&(g=a);var o,u=Math.max(Math.min((a-g)/i,1),0),b="linear"===s?u:.5-Math.cos(u*Math.PI)/2;v&&(d=t+b*(c-t)),m&&(f=n+b*(p-n)),v&&c>t&&d>=c&&(h.scrollTop=c,o=!0),v&&c<t&&d<=c&&(h.scrollTop=c,o=!0),m&&p>n&&f>=p&&(h.scrollLeft=p,o=!0),m&&p<n&&f<=p&&(h.scrollLeft=p,o=!0),o?l&&l():(v&&(h.scrollTop=d),m&&(h.scrollLeft=f),e.requestAnimationFrame(r))}))}}))}function hp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],o=t[2],i=t[3];3===t.length&&"function"==typeof o&&(r=t[0],a=t[1],i=t[2],o=t[3]);var s=this;return void 0===r?s.length>0?s[0].scrollTop:null:s.scrollTo(void 0,r,a,o,i)}function vp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],o=t[2],i=t[3];3===t.length&&"function"==typeof o&&(r=t[0],a=t[1],i=t[2],o=t[3]);var s=this;return void 0===r?s.length>0?s[0].scrollLeft:null:s.scrollTo(r,void 0,a,o,i)}function mp(e,t){var n,r=bu(),a=this,o={props:Object.assign({},e),params:Object.assign({duration:300,easing:"swing"},t),elements:a,animating:!1,que:[],easingProgress:function(e,t){return"swing"===e?.5-Math.cos(t*Math.PI)/2:"function"==typeof e?e(t):t},stop:function(){o.frameId&&r.cancelAnimationFrame(o.frameId),o.animating=!1,o.elements.each((function(e){delete e.dom7AnimateInstance})),o.que=[]},done:function(e){if(o.animating=!1,o.elements.each((function(e){delete e.dom7AnimateInstance})),e&&e(a),o.que.length>0){var t=o.que.shift();o.animate(t[0],t[1])}},animate:function(e,t){if(o.animating)return o.que.push([e,t]),o;var n=[];o.elements.each((function(t,a){var i,s,l,u,c;t.dom7AnimateInstance||(o.elements[a].dom7AnimateInstance=o),n[a]={container:t},Object.keys(e).forEach((function(o){i=r.getComputedStyle(t,null).getPropertyValue(o).replace(",","."),s=parseFloat(i),l=i.replace(s,""),u=parseFloat(e[o]),c=e[o]+l,n[a][o]={initialFullValue:i,initialValue:s,unit:l,finalValue:u,finalFullValue:c,currentValue:s}}))}));var i,s,l=null,u=0,c=0,p=!1;return o.animating=!0,o.frameId=r.requestAnimationFrame((function d(){var f,h;i=(new Date).getTime(),p||(p=!0,t.begin&&t.begin(a)),null===l&&(l=i),t.progress&&t.progress(a,Math.max(Math.min((i-l)/t.duration,1),0),l+t.duration-i<0?0:l+t.duration-i,l),n.forEach((function(r){var a=r;s||a.done||Object.keys(e).forEach((function(r){if(!s&&!a.done){f=Math.max(Math.min((i-l)/t.duration,1),0),h=o.easingProgress(t.easing,f);var p=a[r],d=p.initialValue,v=p.finalValue,m=p.unit;a[r].currentValue=d+h*(v-d);var g=a[r].currentValue;(v>d&&g>=v||v<d&&g<=v)&&(a.container.style[r]=v+m,(c+=1)===Object.keys(e).length&&(a.done=!0,u+=1),u===n.length&&(s=!0)),s?o.done(t.complete):a.container.style[r]=g+m}}))})),s||(o.frameId=r.requestAnimationFrame(d))})),o}};if(0===o.elements.length)return a;for(var i=0;i<o.elements.length;i+=1)o.elements[i].dom7AnimateInstance?n=o.elements[i].dom7AnimateInstance:o.elements[i].dom7AnimateInstance=o;return n||(n=o),"stop"===e?n.stop():n.animate(o.props,o.params),a}function gp(){for(var e=this,t=0;t<e.length;t+=1)e[t].dom7AnimateInstance&&e[t].dom7AnimateInstance.stop()}cc.fn=sc.prototype;var bp="resize scroll".split(" ");function yp(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0===n[0]){for(var a=0;a<this.length;a+=1)bp.indexOf(e)<0&&(e in this[a]?this[a][e]():cc(this[a]).trigger(e));return this}return this.on.apply(this,[e].concat(n))}}var wp=yp("click"),xp=yp("blur"),Cp=yp("focus"),Ep=yp("focusin"),kp=yp("focusout"),Sp=yp("keyup"),Tp=yp("keydown"),Op=yp("keypress"),Ip=yp("submit"),Np=yp("change"),Ap=yp("mousedown"),_p=yp("mousemove"),Rp=yp("mouseup"),Mp=yp("mouseenter"),Pp=yp("mouseleave"),Dp=yp("mouseout"),Bp=yp("mouseover"),Lp=yp("touchstart"),zp=yp("touchend"),Fp=yp("touchmove"),$p=yp("resize"),Vp=yp("scroll"),jp=cc;Object.keys(t).forEach((function(e){"$"!==e&&(cc.fn[e]=t[e])}));var Hp=cc;function Wp(e,t,n){return Wp=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&Up(a,n.prototype),a},Wp.apply(null,arguments)}function Up(e,t){return Up=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Up(e,t)}function qp(e){void 0===e&&(e={});var t=e,n=t.defaultSelector,r=t.constructor,a=t.domProp,o=t.app,i=t.addMethods,s={create:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Wp(r,o?[o].concat(t):t)},get:function(e){if(void 0===e&&(e=n),e instanceof r)return e;var t=Hp(e);return 0!==t.length?t[0][a]:void 0},destroy:function(e){var t=s.get(e);if(t&&t.destroy)return t.destroy()}};return i&&Array.isArray(i)&&i.forEach((function(e){s[e]=function(t){void 0===t&&(t=n);for(var r=s.get(t),a=arguments.length,o=new Array(a>1?a-1:0),i=1;i<a;i++)o[i-1]=arguments[i];if(r&&r[e])return r[e].apply(r,o)}})),s}function Gp(){return Gp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gp.apply(this,arguments)}function Xp(e){void 0===e&&(e={});var t=e,n=t.defaultSelector,r=t.constructor,a=t.app,o=Fu(qp({defaultSelector:n,constructor:r,app:a,domProp:"f7Modal"}),{open:function(e,t,n){var o=Hp(e);if(o.length>1&&n){var i=Hp(n).parents(".page");i.length&&o.each((function(e){var t=Hp(e);t.parents(i)[0]===i[0]&&(o=t)}))}if(o.length>1&&(o=o.eq(o.length-1)),o.length){var s=o[0].f7Modal;if(!s){var l=o.dataset();s=new r(a,Gp({el:o},l))}return s.open(t)}},close:function(e,t,o){void 0===e&&(e=n);var i=Hp(e);if(i.length){if(i.length>1){var s;if(o){var l=Hp(o);l.length&&(s=l.parents(i))}i=s&&s.length>0?s:i.eq(i.length-1)}var u=i[0].f7Modal;if(!u){var c=i.dataset();u=new r(a,Gp({el:i},c))}return u.close(t)}}});return o}var Yp=[];var Kp=function(e){var t=this,n=bu(),r=mu();return new Promise((function(a,o){var i,s,l,u=t.instance;if(e){if("string"==typeof e){var c=e.match(/([a-z0-9-]*)/i);if(e.indexOf(".")<0&&c&&c[0].length===e.length){if(!u||u&&!u.params.lazyModulesPath)return void o(new Error('Framework7: "lazyModulesPath" app parameter must be specified to fetch module by name'));i=u.params.lazyModulesPath+"/"+e+"/"+e+".js"}else i=e}else"function"==typeof e?l=e:s=e;if(l){var p=l(t,!1);if(!p)return void o(new Error("Framework7: Can't find Framework7 component in specified component function"));if(t.prototype.modules&&t.prototype.modules[p.name])return void a();v(p),a()}if(s){var d=s;if(!d)return void o(new Error("Framework7: Can't find Framework7 component in specified component"));if(t.prototype.modules&&t.prototype.modules[d.name])return void a();v(d),a()}if(i){if(Yp.indexOf(i)>=0)return void a();Yp.push(i);var f=new Promise((function(e,a){t.request.get(i,(function(o){var s="f7_component_loader_callback_"+xu(),l=r.createElement("script");l.innerHTML="window."+s+" = function (Framework7, Framework7AutoInstallComponent) {return "+o.trim()+"}",Hp("head").append(l);var u=n[s];delete n[s],Hp(l).remove();var c=u(t,!1);c?(t.prototype.modules&&t.prototype.modules[c.name]||v(c),e()):a(new Error("Framework7: Can't find Framework7 component in "+i+" file"))}),(function(e,t){a(e,t)}))})),h=new Promise((function(e){t.request.get(i.replace(".js",u.rtl?".rtl.css":".css"),(function(t){var n=r.createElement("style");n.innerHTML=t,Hp("head").append(n),e()}),(function(){e()}))}));Promise.all([f,h]).then((function(){a()})).catch((function(e){o(e)}))}}else o(new Error("Framework7: Lazy module must be specified"));function v(e){t.use(e),u&&(u.useModuleParams(e,u.params),u.useModule(e))}}))};function Jp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zp(e,t){return Zp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Zp(e,t)}var ed=function(e){var t,n;function r(t){var n;if(void 0===t&&(t={}),n=e.call(this,t)||this,r.instance&&"undefined"!=typeof window)throw new Error("Framework7 is already initialized and can't be initialized more than once");var a=Ku({userAgent:t.userAgent||void 0}),o=Yu(),i=Fu({},t),s=Qp(n);s.device=a,s.support=o;var l=bu(),u=mu();r.instance=s;var c={version:"1.0.0",id:"io.framework7.myapp",el:"body",theme:"auto",language:l.navigator.language,routes:[],name:"Framework7",lazyModulesPath:null,initOnDeviceReady:!0,init:!0,autoDarkTheme:!1,iosTranslucentBars:!0,iosTranslucentModals:!0,component:void 0,componentUrl:void 0,userAgent:null,url:null};return s.useModulesParams(c),s.params=Fu(c,t),Fu(s,{id:s.params.id,name:s.params.name,version:s.params.version,routes:s.params.routes,language:s.params.language,theme:"auto"===s.params.theme?a.ios?"ios":a.desktop&&a.electron?"aurora":"md":s.params.theme,passedParams:i,online:l.navigator.onLine}),t.store&&(s.params.store=t.store),s.$el&&s.$el[0]&&(s.$el[0].f7=s),s.useModules(),s.initStore(),s.params.init&&(a.cordova&&s.params.initOnDeviceReady?Hp(u).on("deviceready",(function(){s.init()})):s.init()),s||Qp(n)}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Zp(t,n);var a,o,i,s=r.prototype;return s.mount=function(e){var t=this,n=bu(),r=mu(),a=Hp(e||t.params.el).eq(0);t.$el=a,t.$el&&t.$el[0]&&(t.el=t.$el[0],t.el.f7=t,t.rtl="rtl"===a.css("direction"));var o="(prefers-color-scheme: dark)",i="(prefers-color-scheme: light)";t.mq={},n.matchMedia&&(t.mq.dark=n.matchMedia(o),t.mq.light=n.matchMedia(i)),t.colorSchemeListener=function(e){var n=e.matches,a=e.media;if(n){var s=r.querySelector("html");a===o?(s.classList.add("theme-dark"),t.darkTheme=!0,t.emit("darkThemeChange",!0)):a===i&&(s.classList.remove("theme-dark"),t.darkTheme=!1,t.emit("darkThemeChange",!1))}},t.emit("mount")},s.initStore=function(){var e=this;void 0!==e.params.store&&e.params.store.__store?e.store=e.params.store:e.store=e.createStore(e.params.store)},s.enableAutoDarkTheme=function(){var e=bu(),t=mu();if(e.matchMedia){var n=this,r=t.querySelector("html");n.mq.dark&&n.mq.light&&(n.mq.dark.addListener(n.colorSchemeListener),n.mq.light.addListener(n.colorSchemeListener)),n.mq.dark&&n.mq.dark.matches?(r.classList.add("theme-dark"),n.darkTheme=!0,n.emit("darkThemeChange",!0)):n.mq.light&&n.mq.light.matches&&(r.classList.remove("theme-dark"),n.darkTheme=!1,n.emit("darkThemeChange",!1))}},s.disableAutoDarkTheme=function(){if(bu().matchMedia){var e=this;e.mq.dark&&e.mq.dark.removeListener(e.colorSchemeListener),e.mq.light&&e.mq.light.removeListener(e.colorSchemeListener)}},s.initAppComponent=function(e){var t=this;t.router.componentLoader(t.params.component,t.params.componentUrl,{componentOptions:{el:t.$el[0]}},(function(n){t.$el=Hp(n),t.$el[0].f7=t,t.$elComponent=n.f7Component,t.el=t.$el[0],e&&e()}),(function(){}))},s.init=function(e){var t=this;t.mount(e);var n=function(){if(!t.initialized){t.$el.addClass("framework7-initializing"),t.rtl&&Hp("html").attr("dir","rtl"),t.params.autoDarkTheme&&t.enableAutoDarkTheme();var e=bu();e.addEventListener("offline",(function(){t.online=!1,t.emit("offline"),t.emit("connection",!1)})),e.addEventListener("online",(function(){t.online=!0,t.emit("online"),t.emit("connection",!0)})),t.$el.addClass("framework7-root"),Hp("html").removeClass("ios md aurora").addClass(t.theme);var n=t.device;t.params.iosTranslucentBars&&"ios"===t.theme&&n.ios&&Hp("html").addClass("ios-translucent-bars"),t.params.iosTranslucentModals&&"ios"===t.theme&&n.ios&&Hp("html").addClass("ios-translucent-modals"),Ru((function(){t.$el.removeClass("framework7-initializing")})),t.initialized=!0,t.emit("init")}};return t.params.component||t.params.componentUrl?t.initAppComponent((function(){n()})):n(),t},s.loadModule=function(){return r.loadModule.apply(r,arguments)},s.loadModules=function(){return r.loadModules.apply(r,arguments)},s.getVnodeHooks=function(e,t){var n=this;return n.vnodeHooks&&n.vnodeHooks[e]&&n.vnodeHooks[e][t]||[]},a=r,i=[{key:"Dom7",get:function(){return Hp}},{key:"$",get:function(){return Hp}},{key:"device",get:function(){return Ku()}},{key:"support",get:function(){return Yu()}},{key:"Class",get:function(){return nc}},{key:"Events",get:function(){return Qu}}],(o=[{key:"$",get:function(){return Hp}}])&&Jp(a.prototype,o),i&&Jp(a,i),r}(nc);ed.ModalMethods=Xp,ed.ConstructorMethods=qp,ed.loadModule=Kp,ed.loadModules=function(e){return Promise.all(e.map((function(e){return ed.loadModule(e)})))};var td=ed,nd={name:"device",static:{getDevice:Ku},on:{init:function(){var e=mu(),t=Ku(),n=[],r=e.querySelector("html"),a=e.querySelector('meta[name="apple-mobile-web-app-status-bar-style"]');r&&(t.standalone&&t.ios&&a&&"black-translucent"===a.content&&n.push("device-full-viewport"),n.push("device-pixel-ratio-"+Math.floor(t.pixelRatio)),t.os&&!t.desktop?n.push("device-"+t.os):t.desktop&&(n.push("device-desktop"),t.os&&n.push("device-"+t.os)),(t.cordova||t.phonegap)&&n.push("device-cordova"),t.capacitor&&n.push("device-capacitor"),n.forEach((function(e){r.classList.add(e)})))}}},rd={name:"support",static:{getSupport:Yu}},ad={name:"utils",proto:{utils:e},static:{utils:e}},od={name:"resize",create:function(){var e=this;e.getSize=function(){if(!e.el)return{width:0,height:0,left:0,top:0};var t=e.$el.offset(),n=[e.el.offsetWidth,e.el.offsetHeight,t.left,t.top],r=n[0],a=n[1],o=n[2],i=n[3];return e.width=r,e.height=a,e.left=o,e.top=i,{width:r,height:a,left:o,top:i}}},on:{init:function(){var e=this,t=bu();e.getSize(),t.addEventListener("resize",(function(){e.emit("resize")}),!1),t.addEventListener("orientationchange",(function(){e.emit("orientationchange")}))},orientationchange:function(){var e=mu();Ku().ipad&&(e.body.scrollLeft=0,setTimeout((function(){e.body.scrollLeft=0}),0))},resize:function(){this.getSize()}}};function id(e){var t="function"==typeof Map?new Map:void 0;return id=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return sd(e,arguments,ud(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ld(r,e)},id(e)}function sd(e,t,n){return sd=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&ld(a,n.prototype),a},sd.apply(null,arguments)}function ld(e,t){return ld=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ld(e,t)}function ud(e){return ud=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ud(e)}var cd={},pd=0,dd=function(e){Object.assign(this,e)},fd=function(e){var t,n;function r(t){var n;return n=e.call(this)||this,Object.assign(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),t),n}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,ld(t,n),r}(id(Error)),hd=function(e){return new Promise((function(t,n){var r=bu(),a=mu(),o=Fu({},cd);"beforeCreate beforeOpen beforeSend error complete success statusCode".split(" ").forEach((function(e){delete o[e]}));var i=Fu({url:r.location.toString(),method:"GET",data:!1,async:!0,cache:!0,user:"",password:"",headers:{},xhrFields:{},statusCode:{},processData:!0,dataType:"text",contentType:"application/x-www-form-urlencoded",timeout:0},o),s=Fu({},i,e);if(e.abortController&&(s.abortController=e.abortController),s.abortController&&s.abortController.canceled)n(new fd({options:s,status:"canceled",message:"canceled"}));else if(!1!==k("beforeCreate",s)){s.type&&(s.method=s.type);var l,u=s.url.indexOf("?")>=0?"&":"?",c=s.method.toUpperCase();if(("GET"===c||"HEAD"===c||"OPTIONS"===c||"DELETE"===c)&&s.data)(l="string"==typeof s.data?s.data.indexOf("?")>=0?s.data.split("?")[1]:s.data:Bu(s.data)).length&&(s.url+=u+l,"?"===u&&(u="&"));if("json"===s.dataType&&s.url.indexOf("callback=")>=0){var p,d="f7jsonp_"+(Date.now()+(pd+=1)),f=s.url.split("callback="),h=f[0]+"callback="+d;if(f[1].indexOf("&")>=0){var v=f[1].split("&").filter((function(e){return e.indexOf("=")>0})).join("&");v.length>0&&(h+="&"+v)}var m=a.createElement("script");return m.type="text/javascript",m.onerror=function(){clearTimeout(p),k("error",null,"scripterror","scripterror"),n(new fd({options:s,status:"scripterror",message:"scripterror"})),k("complete",null,"scripterror")},m.src=h,r[d]=function(e){clearTimeout(p),k("success",e),m.parentNode.removeChild(m),m=null,delete r[d],t(new dd({options:s,data:e}))},a.querySelector("head").appendChild(m),void(s.timeout>0&&(p=setTimeout((function(){m.parentNode.removeChild(m),m=null,k("error",null,"timeout","timeout"),n(new fd({options:s,status:"timeout",message:"timeout"}))}),s.timeout)))}"GET"!==c&&"HEAD"!==c&&"OPTIONS"!==c&&"DELETE"!==c||!1===s.cache&&(s.url+=u+"_nocache"+Date.now());var g=new XMLHttpRequest;if(s.abortController){var b=!1;s.abortController.onAbort=function(){b||(b=!0,g.abort(),n(new fd({options:s,xhr:g,status:"canceled",message:"canceled"})))}}if(g.requestUrl=s.url,g.requestParameters=s,!1!==k("beforeOpen",g,s)){g.open(c,s.url,s.async,s.user,s.password);var y=null;if(("POST"===c||"PUT"===c||"PATCH"===c)&&s.data)if(s.processData)if([ArrayBuffer,Blob,Document,FormData].indexOf(s.data.constructor)>=0)y=s.data;else{var w="---------------------------"+Date.now().toString(16);"multipart/form-data"===s.contentType?g.setRequestHeader("Content-Type","multipart/form-data; boundary="+w):g.setRequestHeader("Content-Type",s.contentType),y="";var x=Bu(s.data);if("multipart/form-data"===s.contentType){x=x.split("&");for(var C=[],E=0;E<x.length;E+=1)C.push('Content-Disposition: form-data; name="'+x[E].split("=")[0]+'"\r\n\r\n'+x[E].split("=")[1]+"\r\n");y="--"+w+"\r\n"+C.join("--"+w+"\r\n")+"--"+w+"--\r\n"}else y="application/json"===s.contentType?JSON.stringify(s.data):x}else y=s.data,g.setRequestHeader("Content-Type",s.contentType);"json"!==s.dataType||s.headers&&s.headers.Accept||g.setRequestHeader("Accept","application/json"),s.headers&&Object.keys(s.headers).forEach((function(e){void 0!==s.headers[e]&&g.setRequestHeader(e,s.headers[e])})),void 0===s.crossDomain&&(s.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(s.url)&&RegExp.$2!==r.location.host),s.crossDomain||g.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.xhrFields&&Fu(g,s.xhrFields),g.onload=function(){var e;if(g.status>=200&&g.status<300||0===g.status)if("json"===s.dataType){var r;try{e=JSON.parse(g.responseText)}catch(e){r=!0}r?(k("error",g,"parseerror","parseerror"),n(new fd({options:s,xhr:g,status:"parseerror",message:"parseerror"}))):(k("success",e,g.status,g),t(new dd({options:s,data:e,status:g.status,xhr:g})))}else k("success",e="text"===g.responseType||""===g.responseType?g.responseText:g.response,g.status,g),t(new dd({options:s,data:e,status:g.status,xhr:g}));else k("error",g,g.status,g.statusText),n(new fd({options:s,xhr:g,status:g.status,message:g.statusText}));s.statusCode&&(cd.statusCode&&cd.statusCode[g.status]&&cd.statusCode[g.status](g),s.statusCode[g.status]&&s.statusCode[g.status](g)),k("complete",g,g.status)},g.onerror=function(){k("error",g,g.status,g.status),n(new fd({options:s,xhr:g,status:g.status,message:g.statusText})),k("complete",g,"error")},s.timeout>0&&(g.timeout=s.timeout,g.ontimeout=function(){k("error",g,"timeout","timeout"),n(new fd({options:s,xhr:g,status:"timeout",message:"timeout"})),k("complete",g,"timeout")}),!1!==k("beforeSend",g,s)?g.send(y):n(new fd({options:s,xhr:g,status:"canceled",message:"canceled"}))}else n(new fd({options:s,xhr:g,status:"canceled",message:"canceled"}))}else n(new fd({options:s,status:"canceled",message:"canceled"}));function k(e){for(var t,n,r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];return cd[e]&&(t=cd[e].apply(cd,a)),s[e]&&(n=s[e].apply(s,a)),"boolean"!=typeof t&&(t=!0),"boolean"!=typeof n&&(n=!0),(!s.abortController||!s.abortController.canceled||"beforeCreate"!==e&&"beforeOpen"!==e&&"beforeSend"!==e)&&(t&&n)}}))};function vd(e){for(var t=[],n=t[0],r=t[1],a=t[2],o=t[3],i=t[4],s=arguments.length,l=new Array(s>1?s-1:0),u=1;u<s;u++)l[u-1]=arguments[u];"function"==typeof l[1]?(n=l[0],a=l[1],o=l[2],i=l[3]):(n=l[0],r=l[1],a=l[2],o=l[3],i=l[4]),[a,o].forEach((function(e){"string"==typeof e&&(i=e,e===a?a=void 0:o=void 0)}));var c={url:n,method:"post"===e||"postJSON"===e?"POST":"GET",data:r,success:a,error:o,dataType:i=i||("json"===e||"postJSON"===e?"json":void 0)};return"postJSON"===e&&Fu(c,{contentType:"application/json",processData:!1,crossDomain:!0,data:"string"==typeof r?r:JSON.stringify(r)}),hd(c)}Object.assign(hd,{get:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return vd.apply(void 0,["get"].concat(t))},post:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return vd.apply(void 0,["post"].concat(t))},json:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return vd.apply(void 0,["json"].concat(t))},getJSON:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return vd.apply(void 0,["json"].concat(t))},postJSON:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return vd.apply(void 0,["postJSON"].concat(t))}}),hd.abortController=function(){var e={canceled:!1,onAbort:null,abort:function(){e.canceled=!0,e.onAbort&&e.onAbort()}};return e},hd.setup=function(e){e.type&&!e.method&&Fu(e,{method:e.type}),Fu(cd,e)};var md={name:"request",proto:{request:hd},static:{request:hd}};var gd={name:"touch",params:{touch:{touchClicksDistanceThreshold:5,disableContextMenu:!1,tapHold:!1,tapHoldDelay:750,tapHoldPreventClicks:!0,activeState:!0,activeStateElements:"a, button, label, span, .actions-button, .stepper-button, .stepper-button-plus, .stepper-button-minus, .card-expandable, .menu-item, .link, .item-link, .accordion-item-toggle",activeStateOnMouseMove:!1,mdTouchRipple:!0,iosTouchRipple:!1,auroraTouchRipple:!1,touchRippleElements:".ripple, .link, .item-link, .list-button, .links-list a, .button, button, .input-clear-button, .dialog-button, .tab-link, .item-radio, .item-checkbox, .actions-button, .searchbar-disable-button, .fab a, .checkbox, .radio, .data-table .sortable-cell:not(.input-cell), .notification-close-button, .stepper-button, .stepper-button-minus, .stepper-button-plus, .menu-item-content, .list.accordion-list .accordion-item-toggle",touchRippleInsetElements:".ripple-inset, .icon-only, .searchbar-disable-button, .input-clear-button, .notification-close-button, .md .navbar .link.back"}},create:function(){var e=Yu();Fu(this,{touchEvents:{start:e.touch?"touchstart":e.pointerEvents?"pointerdown":"mousedown",move:e.touch?"touchmove":e.pointerEvents?"pointermove":"mousemove",end:e.touch?"touchend":e.pointerEvents?"pointerup":"mouseup"}})},on:{init:function(){var e,t,n,r,a,o,i,s,l,u,c,p,d,f=this,h=Ku(),v=Yu(),m=bu(),g=mu(),b=f.params.touch,y=b[f.theme+"TouchRipple"];function w(e){var t,n=Hp(e),r=n.parents(b.activeStateElements);if(n.closest(".no-active-state").length)return null;if(n.is(b.activeStateElements)&&(t=n),r.length>0&&(t=t?t.add(r):r),t&&t.length>1){for(var a,o=[],i=0;i<t.length;i+=1)a||(o.push(t[i]),(t.eq(i).hasClass("prevent-active-state-propagation")||t.eq(i).hasClass("no-active-state-propagation"))&&(a=!0));t=Hp(o)}return t||n}function x(e){return e.parents(".page-content").length>0}function C(){s&&s.addClass("active-state")}function E(){s&&(s.removeClass("active-state"),s=null)}function k(e,t,n){e&&(u=f.touchRipple.create(f,e,t,n))}function S(){u&&(u.remove(),u=void 0,c=void 0)}function T(n){(c=function(e){var t=b.touchRippleElements,n=Hp(e);if(n.is(t))return!n.hasClass("no-ripple")&&n;if(n.parents(t).length>0){var r=n.parents(t).eq(0);return!r.hasClass("no-ripple")&&r}return!1}(n),c&&0!==c.length)?x(c)?(clearTimeout(p),p=setTimeout((function(){S(),k(c,e,t)}),80)):(S(),k(c,e,t)):c=void 0}function O(){clearTimeout(p),S()}function I(){u||!c||r?S():(clearTimeout(p),k(c,e,t),setTimeout(S,0))}function N(){Hp(".active-state").removeClass("active-state"),y&&I()}h.ios&&h.webView&&m.addEventListener("touchstart",(function(){}));var A=!1,_=null,R=".dialog-button, .actions-button",M=!1,P=null;function D(e,t){f.emit({events:e,data:[t]})}function B(e){D("touchstart touchstart:active",e)}function L(e){D("touchmove touchmove:active",e)}function z(e){D("touchend touchend:active",e)}function F(e){D("touchstart:passive",e)}function $(e){D("touchmove:passive",e)}function V(e){D("touchend:passive",e)}var j=!!v.passiveListener&&{passive:!0},H=!v.passiveListener||{passive:!0,capture:!0},W=!!v.passiveListener&&{passive:!1},U=!v.passiveListener||{passive:!1,capture:!0};g.addEventListener("click",(function(e){D("click",e)}),!0),v.passiveListener?(g.addEventListener(f.touchEvents.start,B,U),g.addEventListener(f.touchEvents.move,L,W),g.addEventListener(f.touchEvents.end,z,W),g.addEventListener(f.touchEvents.start,F,H),g.addEventListener(f.touchEvents.move,$,j),g.addEventListener(f.touchEvents.end,V,j)):(g.addEventListener(f.touchEvents.start,(function(e){B(e),F(e)}),!0),g.addEventListener(f.touchEvents.move,(function(e){L(e),$(e)}),!1),g.addEventListener(f.touchEvents.end,(function(e){z(e),V(e)}),!1)),v.touch?(f.on("click",(function(e){var t=e&&e.detail&&"f7Overswipe"===e.detail,r=e&&e.detail&&"f7Segmented"===e.detail,s=e&&e.detail&&"f7TouchMoveActivable"===e.detail,l=i;return n&&e.target!==n?l=!(t||r||s):s&&(l=!1),b.tapHold&&b.tapHoldPreventClicks&&a&&(l=!0),l&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault()),b.tapHold&&(o=setTimeout((function(){a=!1}),h.ios||h.androidChrome?100:400)),i=!1,n=null,!l})),f.on("touchstart",(function(u){return r=!1,a=!1,i=!1,d=void 0,u.targetTouches.length>1?(s&&E(),!0):(u.touches.length>1&&s&&E(),b.tapHold&&(o&&clearTimeout(o),o=setTimeout((function(){u&&u.touches&&u.touches.length>1||(a=!0,u.preventDefault(),i=!0,Hp(u.target).trigger("taphold",u),f.emit("taphold",u))}),b.tapHoldDelay)),n=u.target,e=u.targetTouches[0].pageX,t=u.targetTouches[0].pageY,A=u.target.closest(".segmented-strong .button-active, .segmented-strong .tab-link-active"),M="ios"===f.theme&&u.target.closest(R),A&&(_=A.closest(".segmented-strong")),b.activeState&&((s=w(n))&&!x(s)?C():s&&(l=setTimeout(C,80))),y&&T(n),!0)})),f.on("touchmove",(function(a){var u,c,p=!0;"touchmove"===a.type&&(u=a.targetTouches[0],c=b.touchClicksDistanceThreshold);var f=a.targetTouches[0].pageX,h=a.targetTouches[0].pageY;if(void 0===d&&(d=!!(d||Math.abs(h-t)>Math.abs(f-e))),(M||!d&&A&&_)&&a.cancelable&&a.preventDefault(),!d&&A&&_){var v=g.elementFromPoint(a.targetTouches[0].clientX,a.targetTouches[0].clientY).closest(".segmented-strong .button:not(.button-active):not(.tab-link-active)");v&&_.contains(v)&&(Hp(v).trigger("click","f7Segmented"),n=v)}if(c&&u){var m=u.pageX,x=u.pageY;(Math.abs(m-e)>c||Math.abs(x-t)>c)&&(r=!0)}else r=!0;if(r){if(i=!0,M){var k=g.elementFromPoint(a.targetTouches[0].clientX,a.targetTouches[0].clientY);(P=k.closest(R))&&s&&s[0]===P?p=!1:P&&setTimeout((function(){s=w(P),C()}))}b.tapHold&&clearTimeout(o),b.activeState&&p&&(clearTimeout(l),E()),y&&O()}})),f.on("touchend",(function(e){return d=void 0,A=!1,_=null,M=!1,clearTimeout(l),clearTimeout(o),P&&(Hp(P).trigger("click","f7TouchMoveActivable"),P=null),g.activeElement===e.target?(b.activeState&&E(),y&&I(),!0):(b.activeState&&(C(),setTimeout(E,0)),y&&I(),!(b.tapHoldPreventClicks&&a||i)||(e.cancelable&&e.preventDefault(),i=!0,!1))})),g.addEventListener("touchcancel",(function(){n=null,clearTimeout(l),clearTimeout(o),b.activeState&&E(),y&&I()}),{passive:!0})):b.activeState&&(f.on("touchstart",(function(n){var r=w(n.target);r&&(r.addClass("active-state"),"which"in n&&3===n.which&&setTimeout((function(){Hp(".active-state").removeClass("active-state")}),0)),y&&(e=n.pageX,t=n.pageY,T(n.target,n.pageX,n.pageY))})),f.on("touchmove",(function(){b.activeStateOnMouseMove||Hp(".active-state").removeClass("active-state"),y&&O()})),f.on("touchend",N),g.addEventListener("pointercancel",N,{passive:!0})),g.addEventListener("contextmenu",(function(e){b.disableContextMenu&&(h.ios||h.android||h.cordova||m.Capacitor&&m.Capacitor.isNative)&&e.preventDefault(),y&&(s&&E(),I())}))}}};function bd(e,t){void 0===t&&(t={});for(var n=function(e){for(var t=[],n=0;n<e.length;){var r=e[n];if("*"!==r&&"+"!==r&&"?"!==r)if("\\"!==r)if("{"!==r)if("}"!==r)if(":"!==r)if("("!==r)t.push({type:"CHAR",index:n,value:e[n++]});else{var a=1,o="";if("?"===e[s=n+1])throw new TypeError('Pattern cannot start with "?" at '.concat(s));for(;s<e.length;)if("\\"!==e[s]){if(")"===e[s]){if(0==--a){s++;break}}else if("("===e[s]&&(a++,"?"!==e[s+1]))throw new TypeError("Capturing groups are not allowed at ".concat(s));o+=e[s++]}else o+=e[s++]+e[s++];if(a)throw new TypeError("Unbalanced pattern at ".concat(n));if(!o)throw new TypeError("Missing pattern at ".concat(n));t.push({type:"PATTERN",index:n,value:o}),n=s}else{for(var i="",s=n+1;s<e.length;){var l=e.charCodeAt(s);if(!(l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||95===l))break;i+=e[s++]}if(!i)throw new TypeError("Missing parameter name at ".concat(n));t.push({type:"NAME",index:n,value:i}),n=s}else t.push({type:"CLOSE",index:n,value:e[n++]});else t.push({type:"OPEN",index:n,value:e[n++]});else t.push({type:"ESCAPED_CHAR",index:n++,value:e[n++]});else t.push({type:"MODIFIER",index:n,value:e[n++]})}return t.push({type:"END",index:n,value:""}),t}(e),r=t.prefixes,a=void 0===r?"./":r,o="[^".concat(wd(t.delimiter||"/#?"),"]+?"),i=[],s=0,l=0,u="",c=function(e){if(l<n.length&&n[l].type===e)return n[l++].value},p=function(e){var t=c(e);if(void 0!==t)return t;var r=n[l],a=r.type,o=r.index;throw new TypeError("Unexpected ".concat(a," at ").concat(o,", expected ").concat(e))},d=function(){for(var e,t="";e=c("CHAR")||c("ESCAPED_CHAR");)t+=e;return t};l<n.length;){var f=c("CHAR"),h=c("NAME"),v=c("PATTERN");if(h||v){var m=f||"";-1===a.indexOf(m)&&(u+=m,m=""),u&&(i.push(u),u=""),i.push({name:h||s++,prefix:m,suffix:"",pattern:v||o,modifier:c("MODIFIER")||""})}else{var g=f||c("ESCAPED_CHAR");if(g)u+=g;else if(u&&(i.push(u),u=""),c("OPEN")){m=d();var b=c("NAME")||"",y=c("PATTERN")||"",w=d();p("CLOSE"),i.push({name:b||(y?s++:""),pattern:b&&!y?o:y,prefix:m,suffix:w,modifier:c("MODIFIER")||""})}else p("END")}}return i}function yd(e,t){return function(e,t){void 0===t&&(t={});var n=xd(t),r=t.encode,a=void 0===r?function(e){return e}:r,o=t.validate,i=void 0===o||o,s=e.map((function(e){if("object"==typeof e)return new RegExp("^(?:".concat(e.pattern,")$"),n)}));return function(t){for(var n="",r=0;r<e.length;r++){var o=e[r];if("string"!=typeof o){var l=t?t[o.name]:void 0,u="?"===o.modifier||"*"===o.modifier,c="*"===o.modifier||"+"===o.modifier;if(Array.isArray(l)){if(!c)throw new TypeError('Expected "'.concat(o.name,'" to not repeat, but got an array'));if(0===l.length){if(u)continue;throw new TypeError('Expected "'.concat(o.name,'" to not be empty'))}for(var p=0;p<l.length;p++){var d=a(l[p],o);if(i&&!s[r].test(d))throw new TypeError('Expected all "'.concat(o.name,'" to match "').concat(o.pattern,'", but got "').concat(d,'"'));n+=o.prefix+d+o.suffix}}else if("string"!=typeof l&&"number"!=typeof l){if(!u){var f=c?"an array":"a string";throw new TypeError('Expected "'.concat(o.name,'" to be ').concat(f))}}else{d=a(String(l),o);if(i&&!s[r].test(d))throw new TypeError('Expected "'.concat(o.name,'" to match "').concat(o.pattern,'", but got "').concat(d,'"'));n+=o.prefix+d+o.suffix}}else n+=o}return n}}(bd(e,t),t)}function wd(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function xd(e){return e&&e.sensitive?"":"i"}function Cd(e,t,n){return function(e,t,n){void 0===n&&(n={});for(var r=n.strict,a=void 0!==r&&r,o=n.start,i=void 0===o||o,s=n.end,l=void 0===s||s,u=n.encode,c=void 0===u?function(e){return e}:u,p=n.delimiter,d=void 0===p?"/#?":p,f=n.endsWith,h="[".concat(wd(void 0===f?"":f),"]|$"),v="[".concat(wd(d),"]"),m=i?"^":"",g=0,b=e;g<b.length;g++){var y=b[g];if("string"==typeof y)m+=wd(c(y));else{var w=wd(c(y.prefix)),x=wd(c(y.suffix));if(y.pattern)if(t&&t.push(y),w||x)if("+"===y.modifier||"*"===y.modifier){var C="*"===y.modifier?"?":"";m+="(?:".concat(w,"((?:").concat(y.pattern,")(?:").concat(x).concat(w,"(?:").concat(y.pattern,"))*)").concat(x,")").concat(C)}else m+="(?:".concat(w,"(").concat(y.pattern,")").concat(x,")").concat(y.modifier);else"+"===y.modifier||"*"===y.modifier?m+="((?:".concat(y.pattern,")").concat(y.modifier,")"):m+="(".concat(y.pattern,")").concat(y.modifier);else m+="(?:".concat(w).concat(x,")").concat(y.modifier)}}if(l)a||(m+="".concat(v,"?")),m+=n.endsWith?"(?=".concat(h,")"):"$";else{var E=e[e.length-1],k="string"==typeof E?v.indexOf(E[E.length-1])>-1:void 0===E;a||(m+="(?:".concat(v,"(?=").concat(h,"))?")),k||(m+="(?=".concat(v,"|").concat(h,")"))}return new RegExp(m,xd(n))}(bd(e,n),t,n)}function Ed(e,t,n){return e instanceof RegExp?function(e,t){if(!t)return e;for(var n=/\((?:\?<(.*?)>)?(?!\?)/g,r=0,a=n.exec(e.source);a;)t.push({name:a[1]||r++,prefix:"",suffix:"",modifier:"",pattern:""}),a=n.exec(e.source);return e}(e,t):Array.isArray(e)?function(e,t,n){var r=e.map((function(e){return Ed(e,t,n).source}));return new RegExp("(?:".concat(r.join("|"),")"),xd(n))}(e,t,n):Cd(e,t,n)}var kd={queue:[],clearQueue:function(){0!==kd.queue.length&&kd.queue.shift()()},routerQueue:[],clearRouterQueue:function(){if(0!==kd.routerQueue.length){var e=kd.routerQueue.pop(),t=e.router,n=e.stateUrl,r=e.action,a=t.params.animate;!1===t.params.browserHistoryAnimate&&(a=!1),"back"===r&&t.back({animate:a,browserHistory:!1}),"load"===r&&t.navigate(n,{animate:a,browserHistory:!1})}},handle:function(e){if(!kd.blockPopstate){var t=e.state;kd.previousState=kd.state,kd.state=t,kd.allowChange=!0,kd.clearQueue(),(t=kd.state)||(t={}),this.views.forEach((function(e){var n=e.router,r=t[e.id];if(!r&&e.params.browserHistory&&(r={url:e.router.history[0]}),r){var a=r.url||void 0,o=n.params.animate;!1===n.params.browserHistoryAnimate&&(o=!1),a!==n.url&&(n.history.indexOf(a)>=0?n.allowPageChange?n.back({animate:o,browserHistory:!1}):kd.routerQueue.push({action:"back",router:n}):n.allowPageChange?n.navigate(a,{animate:o,browserHistory:!1}):kd.routerQueue.unshift({action:"load",stateUrl:a,router:n}))}}))}},initViewState:function(e,t){var n,r=bu(),a=Fu({},kd.state||{},((n={})[e]=t,n));kd.state=a,r.history.replaceState(a,"")},push:function(e,t,n){var r,a=bu();if("#!/"===n.substr(-3)&&(n=n.replace("#!/","")),kd.allowChange){kd.previousState=kd.state;var o=Fu({},kd.previousState||{},((r={})[e]=t,r));kd.state=o,a.history.pushState(o,"",n)}else kd.queue.push((function(){kd.push(e,t,n)}))},replace:function(e,t,n){var r,a=bu();if("#!/"===n.substr(-3)&&(n=n.replace("#!/","")),kd.allowChange){kd.previousState=kd.state;var o=Fu({},kd.previousState||{},((r={})[e]=t,r));kd.state=o,a.history.replaceState(o,"",n)}else kd.queue.push((function(){kd.replace(e,t,n)}))},go:function(e){var t=bu();kd.allowChange=!1,t.history.go(e)},back:function(){var e=bu();kd.allowChange=!1,e.history.back()},allowChange:!0,previousState:{},state:{},blockPopstate:!0,init:function(e){var t=bu(),n=mu();kd.state=t.history.state,Hp(t).on("load",(function(){setTimeout((function(){kd.blockPopstate=!1}),0)})),n.readyState&&"complete"===n.readyState&&(kd.blockPopstate=!1),Hp(t).on("popstate",kd.handle.bind(e))}},Sd=kd;var Td=function(e){var t,n,r,a,o,i,s,l,u,c=e,p=c.$el,d=c.$navbarsEl,f=c.app,h=c.params,v=Yu(),m=Ku(),g=!1,b=!1,y={},w=[],x=[],C=!0,E=[],k=[],S=h[f.theme+"SwipeBackAnimateShadow"],T=h[f.theme+"SwipeBackAnimateOpacity"],O=h[f.theme+"SwipeBackActiveArea"],I=h[f.theme+"SwipeBackThreshold"],N=f.rtl?"right center":"left center",A=f.rtl?"calc(100% - var(--f7-navbar-large-title-padding-left) - var(--f7-safe-area-left)) center":"calc(var(--f7-navbar-large-title-padding-left) + var(--f7-safe-area-left)) center";function _(e){var t=void 0===e?{}:e,n=t.progress,r=t.reset,a=t.transition,o=t.reflow,i=["overflow","transform","transform-origin","opacity"];if(!0===a||!1===a)for(var s=0;s<l.length;s+=1){var u=l[s];u&&u.el&&(!0===a&&u.el.classList.add("navbar-page-transitioning"),!1===a&&u.el.classList.remove("navbar-page-transitioning"))}o&&l.length&&l[0]&&l[0].el&&(l[0].el._clientLeft=l[0].el.clientLeft);for(var c=0;c<l.length;c+=1){var p=l[c];if(p&&p.el){!p.className||p.classNameSet||r||(p.el.classList.add(p.className),p.classNameSet=!0),p.className&&r&&p.el.classList.remove(p.className);for(var d=0;d<i.length;d+=1){var f=i[d];p[f]&&(r?p.el.style[f]="":"function"==typeof p[f]?p.el.style[f]=p[f](n):p.el.style[f]=p[f])}}}}function R(e){var n=h[f.theme+"SwipeBack"];!C||!n||g||f.swipeout&&f.swipeout.el||!c.allowPageChange||Hp(e.target).closest(".range-slider, .calendar-months").length>0||Hp(e.target).closest(".page-master, .page-master-detail").length>0&&h.masterDetailBreakpoint>0&&f.width>=h.masterDetailBreakpoint||(b=!1,g=!0,t=void 0,y.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,y.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,a=Mu(),o=c.dynamicNavbar)}function M(e){if(g){var a="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,u="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;if(void 0===t&&(t=!!(t||Math.abs(u-y.y)>Math.abs(a-y.x))||a<y.x&&!f.rtl||a>y.x&&f.rtl),t||e.f7PreventSwipeBack||f.preventSwipeBack)g=!1;else{if(!b){var v=!1,C=Hp(e.target),R=C.closest(".swipeout");R.length>0&&(!f.rtl&&R.find(".swipeout-actions-left").length>0&&(v=!0),f.rtl&&R.find(".swipeout-actions-right").length>0&&(v=!0)),((w=C.closest(".page")).hasClass("no-swipeback")||C.closest(".no-swipeback, .card-opened").length>0)&&(v=!0),(x=p.find(".page-previous:not(.stacked)")).length>1&&(x=x.eq(x.length-1));y.x,p.offset().left;if(n=p.width(),(f.rtl?y.x<p.offset().left-p[0].scrollLeft+(n-O):y.x-p.offset().left>O)&&(v=!0),0!==x.length&&0!==w.length||(v=!0),v)return void(g=!1);S&&0===(i=w.find(".page-shadow-effect")).length&&(i=Hp('<div class="page-shadow-effect"></div>'),w.append(i)),T&&0===(s=x.find(".page-opacity-effect")).length&&(s=Hp('<div class="page-opacity-effect"></div>'),x.append(s)),o&&(E=d.find(".navbar-current:not(.stacked)"),(k=d.find(".navbar-previous:not(.stacked)")).length>1&&(k=k.eq(k.length-1)),l=function(){var e,t,n=[],r=f.rtl?-1:1,a=E.hasClass("navbar-transparent")&&!E.hasClass("navbar-large")&&!E.hasClass("navbar-transparent-visible"),o=E.hasClass("navbar-large"),i=E.hasClass("navbar-large-collapsed"),s=E.hasClass("navbar-large-transparent")||E.hasClass("navbar-large")&&E.hasClass("navbar-transparent"),l=k.hasClass("navbar-transparent")&&!k.hasClass("navbar-large")&&!k.hasClass("navbar-transparent-visible"),u=k.hasClass("navbar-large"),c=k.hasClass("navbar-large-collapsed"),p=k.hasClass("navbar-large-transparent")||k.hasClass("navbar-large")&&k.hasClass("navbar-transparent"),d=o&&!i,v=u&&!c,g=E.find(".left, .title, .right, .subnavbar, .fading, .title-large, .navbar-bg"),b=k.find(".left, .title, .right, .subnavbar, .fading, .title-large, .navbar-bg");return h.iosAnimateNavbarBackIcon&&(e=E.hasClass("sliding")||E.find(".navbar-inner.sliding").length?E.find(".left").find(".back .icon + span").eq(0):E.find(".left.sliding").find(".back .icon + span").eq(0),t=k.hasClass("sliding")||k.find(".navbar-inner.sliding").length?k.find(".left").find(".back .icon + span").eq(0):k.find(".left.sliding").find(".back .icon + span").eq(0),e.length&&b.each((function(t){Hp(t).hasClass("title")&&(t.f7NavbarLeftOffset+=e.prev(".icon")[0].offsetWidth)}))),g.each((function(t){var l=Hp(t),u=l.hasClass("subnavbar"),c=l.hasClass("left"),p=l.hasClass("title"),f=l.hasClass("navbar-bg");if((!p&&!f||!a)&&(d||!l.hasClass(".title-large"))){var g={el:t};if(d){if(p)return;if(l.hasClass("title-large"))return n.indexOf(g)<0&&n.push(g),g.overflow="visible",void l.find(".title-large-text").each((function(e){n.push({el:e,transform:function(e){return"translateX("+100*e*r+"%)"}})}))}if(v&&(d||l.hasClass("title-large")&&(n.indexOf(g)<0&&n.push(g),g.opacity=0),c))return n.indexOf(g)<0&&n.push(g),g.opacity=function(e){return 1-Math.pow(e,.33)},void l.find(".back span").each((function(e){n.push({el:e,"transform-origin":N,transform:function(e){return"translateX(calc("+e+" * (var(--f7-navbarTitleLargeOffset) - var(--f7-navbarLeftTextOffset)))) translateY(calc("+e+" * (var(--f7-navbar-large-title-height) - var(--f7-navbar-large-title-padding-vertical) / 2))) scale("+(1+1*e)+")"}})}));if(f)return n.indexOf(g)<0&&n.push(g),d||v||(i?(s&&(g.className="ios-swipeback-navbar-bg-large"),g.transform=function(e){return"translateX("+100*e*r+"%) translateY(calc(-1 * var(--f7-navbar-large-title-height)))"}):g.transform=function(e){return"translateX("+100*e*r+"%)"}),!d&&v&&(g.className="ios-swipeback-navbar-bg-large",g.transform=function(e){return"translateX("+100*e*r+"%) translateY(calc(-1 * "+(1-e)+" * var(--f7-navbar-large-title-height)))"}),d&&v&&(g.transform=function(e){return"translateX("+100*e*r+"%)"}),void(d&&!v&&(g.transform=function(e){return"translateX("+100*e*r+"%) translateY(calc(-"+e+" * var(--f7-navbar-large-title-height)))"}));if(!l.hasClass("title-large")){var b=l.hasClass("sliding")||l.parents(".navbar-inner.sliding").length;if(n.indexOf(g)<0&&n.push(g),(!u||u&&!b)&&(g.opacity=function(e){return 1-Math.pow(e,.33)}),b){var y=g;if(c&&e.length&&h.iosAnimateNavbarBackIcon){var w={el:e[0]};y=w,n.push(w)}y.transform=function(e){var t=e*y.el.f7NavbarRightOffset;return 1===m.pixelRatio&&(t=Math.round(t)),u&&o?"translate3d("+t+"px, calc(-1 * var(--f7-navbar-large-collapse-progress) * var(--f7-navbar-large-title-height)), 0)":"translate3d("+t+"px,0,0)"}}}}})),b.each((function(e){var a=Hp(e),o=a.hasClass("subnavbar"),i=a.hasClass("left"),s=a.hasClass("title"),f=a.hasClass("navbar-bg");if(!s&&!f||!l){var g={el:e};if(v){if(s)return;if(n.indexOf(g)<0&&n.push(g),a.hasClass("title-large"))return g.opacity=1,g.overflow="visible",void a.find(".title-large-text").each((function(e){n.push({el:e,"transform-origin":A,opacity:function(e){return Math.pow(e,3)},transform:function(e){return"translateX(calc("+(1-e)+" * (var(--f7-navbarLeftTextOffset) - var(--f7-navbarTitleLargeOffset)))) translateY(calc("+(e-1)+" * var(--f7-navbar-large-title-height) + "+(1-e)+" * var(--f7-navbar-large-title-padding-vertical))) scale("+(.5+.5*e)+")"}})}))}if(f)return n.indexOf(g)<0&&n.push(g),d||v||(c?(p&&(g.className="ios-swipeback-navbar-bg-large"),g.transform=function(e){return"translateX("+(100*e-100)*r+"%) translateY(calc(-1 * var(--f7-navbar-large-title-height)))"}):g.transform=function(e){return"translateX("+(100*e-100)*r+"%)"}),!d&&v&&(g.transform=function(e){return"translateX("+(100*e-100)*r+"%) translateY(calc(-1 * "+(1-e)+" * var(--f7-navbar-large-title-height)))"}),d&&!v&&(g.className="ios-swipeback-navbar-bg-large",g.transform=function(e){return"translateX("+(100*e-100)*r+"%) translateY(calc(-"+e+" * var(--f7-navbar-large-title-height)))"}),void(d&&v&&(g.transform=function(e){return"translateX("+(100*e-100)*r+"%)"}));if(!a.hasClass("title-large")){var b=a.hasClass("sliding")||k.children(".navbar-inner.sliding").length;if(n.indexOf(g)<0&&n.push(g),(!o||o&&!b)&&(g.opacity=function(e){return Math.pow(e,3)}),b){var y=g;if(i&&t.length&&h.iosAnimateNavbarBackIcon){var w={el:t[0]};y=w,n.push(w)}y.transform=function(e){var t=y.el.f7NavbarLeftOffset*(1-e);return 1===m.pixelRatio&&(t=Math.round(t)),o&&u?"translate3d("+t+"px, calc(-1 * var(--f7-navbar-large-collapse-progress) * var(--f7-navbar-large-title-height)), 0)":"translate3d("+t+"px,0,0)"}}}}})),n}()),Hp(".sheet.modal-in").length>0&&f.sheet&&f.sheet.close(Hp(".sheet.modal-in"))}e.f7PreventSwipePanel=!0,b=!0,f.preventSwipePanelBySwipeBack=!0,e.preventDefault();var M=f.rtl?-1:1;(r=(a-y.x-I)*M)<0&&(r=0);var P=Math.min(Math.max(r/n,0),1),D={percentage:P,progress:P,currentPageEl:w[0],previousPageEl:x[0],currentNavbarEl:E[0],previousNavbarEl:k[0]};p.trigger("swipeback:move",D),c.emit("swipebackMove",D);var B=r*M,L=(r/5-n/5)*M;f.rtl?(B=Math.max(B,-n),L=Math.max(L,0)):(B=Math.min(B,n),L=Math.min(L,0)),1===m.pixelRatio&&(B=Math.round(B),L=Math.round(L)),c.swipeBackActive=!0,Hp([w[0],x[0]]).addClass("page-swipeback-active"),w.transform("translate3d("+B+"px,0,0)"),S&&(i[0].style.opacity=1-1*P),"ios"===f.theme&&x.transform("translate3d("+L+"px,0,0)"),T&&(s[0].style.opacity=1-1*P),o&&_({progress:P})}}}function P(){if(f.preventSwipePanelBySwipeBack=!1,!g||!b)return g=!1,void(b=!1);g=!1,b=!1,c.swipeBackActive=!1;var e=Hp([w[0],x[0]]);if(e.removeClass("page-swipeback-active"),0===r)return e.transform(""),i&&i.length>0&&i.remove(),s&&s.length>0&&s.remove(),void(o&&_({reset:!0}));var t=Mu()-a,l=!1;(t<300&&r>10||t>=300&&r>n/2)&&(w.removeClass("page-current").addClass("page-next"+("ios"!==f.theme?" page-next-on-right":"")),x.removeClass("page-previous").addClass("page-current").removeAttr("aria-hidden"),i&&(i[0].style.opacity=""),s&&(s[0].style.opacity=""),o&&(c.setNavbarPosition(E,"next"),c.setNavbarPosition(k,"current",!1)),l=!0),e.addClass("page-transitioning page-transitioning-swipeback"),m.ios&&(w[0]._clientLeft=w[0].clientLeft),e.transform(""),o&&_({progress:l?1:0,transition:!0,reflow:!!m.ios}),C=!1,c.allowPageChange=!1;var u={currentPageEl:w[0],previousPageEl:x[0],currentNavbarEl:E[0],previousNavbarEl:k[0]};l?(c.currentRoute=x[0].f7Page.route,c.currentPage=x[0],c.pageCallback("beforeOut",w,E,"current","next",{route:w[0].f7Page.route,swipeBack:!0}),c.pageCallback("beforeIn",x,k,"previous","current",{route:x[0].f7Page.route,swipeBack:!0},w[0]),p.trigger("swipeback:beforechange",u),c.emit("swipebackBeforeChange",u)):(p.trigger("swipeback:beforereset",u),c.emit("swipebackBeforeReset",u)),w.transitionEnd((function(){e.removeClass("page-transitioning page-transitioning-swipeback"),o&&_({reset:!0,transition:!1}),C=!0,c.allowPageChange=!0,l?(1===c.history.length&&c.history.unshift(c.url),c.history.pop(),c.saveHistory(),h.browserHistory&&Sd.back(),c.pageCallback("afterOut",w,E,"current","next",{route:w[0].f7Page.route,swipeBack:!0}),c.pageCallback("afterIn",x,k,"previous","current",{route:x[0].f7Page.route,swipeBack:!0}),h.stackPages&&c.initialPages.indexOf(w[0])>=0?(w.addClass("stacked"),o&&E.addClass("stacked")):(c.pageCallback("beforeRemove",w,E,"next",{swipeBack:!0}),c.removePage(w),o&&c.removeNavbar(E)),p.trigger("swipeback:afterchange",u),c.emit("swipebackAfterChange",u),c.emit("routeChanged",c.currentRoute,c.previousRoute,c),h.preloadPreviousPage&&c.back(c.history[c.history.length-2],{preload:!0})):(p.trigger("swipeback:afterreset",u),c.emit("swipebackAfterReset",u)),i&&i.length>0&&i.remove(),s&&s.length>0&&s.remove()}))}u=!("touchstart"!==f.touchEvents.start||!v.passiveListener)&&{passive:!0,capture:!1},p.on(f.touchEvents.start,R,u),f.on("touchmove:active",M),f.on("touchend:passive",P),c.on("routerDestroy",(function(){var e=!("touchstart"!==f.touchEvents.start||!v.passiveListener)&&{passive:!0,capture:!1};p.off(f.touchEvents.start,R,e),f.off("touchmove:active",M),f.off("touchend:passive",P)}))};function Od(e,t,n){var r=this,a=t.route.redirect,o="forward"===e?"navigate":"back";if(n.initial&&r.params.browserHistory&&(n.replaceState=!0,n.history=!0),"function"==typeof a){r.allowPageChange=!1;var i=a.call(r,{router:r,to:t,resolve:function(e,t){void 0===t&&(t={}),r.allowPageChange=!0,r[o](e,Fu({},n,t))},reject:function(){r.allowPageChange=!0},direction:e,app:r.app});return i&&"string"==typeof i?(r.allowPageChange=!0,r[o](i,n)):r}return r[o](a,n)}function Id(e,t,n,r,a,o,i,s){var l=[];Array.isArray(n)?l.push.apply(l,n):n&&"function"==typeof n&&l.push(n),t&&(Array.isArray(t)?l.push.apply(l,t):l.push(t)),function t(){0!==l.length?l.shift().call(e,{router:e,to:r,from:a,resolve:function(){t()},reject:function(){i()},direction:s,app:e.app}):o()}()}function Nd(e,t,n,r,a){var o=this;function i(){e&&e.route&&(o.params.routesBeforeEnter||e.route.beforeEnter)?(o.allowPageChange=!1,Id(o,o.params.routesBeforeEnter,e.route.beforeEnter,e,t,(function(){o.allowPageChange=!0,n()}),(function(){r()}),a)):n()}t&&t.route&&(o.params.routesBeforeLeave||t.route.beforeLeave)?(o.allowPageChange=!1,Id(o,o.params.routesBeforeLeave,t.route.beforeLeave,e,t,(function(){o.allowPageChange=!0,i()}),(function(){r()}),a)):i()}function Ad(e,t){if(!e.view)throw new Error("Framework7: it is not allowed to use router methods on global app router. Use router methods only on related View, e.g. app.views.main.router."+t+"(...)")}function _d(e,t,n,r){function a(e){e.then((function(e){n({component:e.default||e._default||e})})).catch((function(e){throw r(),new Error(e)}))}if(t instanceof Promise)a(t);else{var o=t.call(e);o instanceof Promise?a(o):n({component:o})}}function Rd(){return Rd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rd.apply(this,arguments)}function Md(e,t,n){void 0===n&&(n={});var r,a,o,i=mu(),s=Hp(t),l=e.app,u=e.view,c=Fu(!1,{animate:e.params.animate,browserHistory:!0,replaceState:!1,history:!0,reloadCurrent:e.params.reloadPages,reloadPrevious:!1,reloadAll:!1,clearPreviousHistory:!1,reloadDetail:e.params.reloadDetail,on:{}},n),p=e.params.masterDetailBreakpoint>0,d=p&&c.route&&c.route.route&&(!0===c.route.route.master||"function"==typeof c.route.route.master&&c.route.route.master(l,e)),f=0,h=e.currentRoute.modal;if(h||"popup popover sheet loginScreen actions customModal panel".split(" ").forEach((function(t){e.currentRoute&&e.currentRoute.route&&e.currentRoute.route[t]&&(h=!0,o=t)})),h){var v=e.currentRoute.modal||e.currentRoute.route.modalInstance||l[o].get(),m=e.history[e.history.length-2],g=e.findMatchingRoute(m);!g&&m&&(g={url:m,path:m.split("?")[0],query:Pu(m),route:{path:m.split("?")[0],url:m}}),e.modalRemove(v)}var b,y,w,x,C=e.dynamicNavbar,E=e.$el,k=s,S=c.reloadPrevious||c.reloadCurrent||c.reloadAll;if(e.allowPageChange=!1,0===k.length)return e.allowPageChange=!0,e;k.length&&e.removeThemeElements(k),C&&(w=k.children(".navbar"),y=e.$navbarsEl,0===w.length&&k[0]&&k[0].f7Page&&(w=k[0].f7Page.$navbarEl)),c.route&&c.route.route&&c.route.route.keepAlive&&!c.route.route.keepAliveData&&(c.route.route.keepAliveData={pageEl:s[0]});var T,O,I,N,A=E.children(".page:not(.stacked)").filter((function(e){return e!==k[0]}));if(C&&(T=y.children(".navbar:not(.stacked)").filter((function(e){return e!==w[0]}))),c.reloadPrevious&&A.length<2)return e.allowPageChange=!0,e;if(p&&!c.reloadAll){for(var _=0;_<A.length;_+=1)r||!A[_].classList.contains("page-master")||(r=A[_]);if((O=!d&&r)&&r)for(var R=0;R<A.length;R+=1)A[R].classList.contains("page-master-detail")&&(a=A[R]);I=O&&c.reloadDetail&&l.width>=e.params.masterDetailBreakpoint&&r}O&&(N=!a||I||c.reloadAll||c.reloadCurrent);var M="next";if(c.reloadCurrent||c.reloadAll||I?M="current":c.reloadPrevious&&(M="previous"),k.removeClass("page-previous page-current page-next").addClass("page-"+M+(d?" page-master":"")+(O?" page-master-detail":"")+(N?" page-master-detail-root":"")).removeClass("stacked").trigger("page:unstack").trigger("page:position",{position:M}),e.emit("pageUnstack",k[0]),e.emit("pagePosition",k[0],M),(d||O)&&(k.trigger("page:role",{role:d?"master":"detail",root:!!N}),e.emit("pageRole",k[0],{role:d?"master":"detail",detailRoot:!!N})),C&&w.length&&(w.removeClass("navbar-previous navbar-current navbar-next").addClass("navbar-"+M+(d?" navbar-master":"")+(O?" navbar-master-detail":"")+(N?" navbar-master-detail-root":"")).removeClass("stacked"),w.trigger("navbar:position",{position:M}),e.emit("navbarPosition",w[0],M),(d||O)&&e.emit("navbarRole",w[0],{role:d?"master":"detail",detailRoot:!!N})),c.reloadCurrent||I)I?(b=A.filter((function(e){return!e.classList.contains("page-master")})),C&&(x=Hp(b.map((function(e){return l.navbar.getElByPage(e)})))),b.length>1&&r&&(f=b.length-1,Hp(r).removeClass("page-master-stacked").trigger("page:masterunstack"),e.emit("pageMasterUnstack",r),C&&(Hp(l.navbar.getElByPage(r)).removeClass("navbar-master-stacked"),e.emit("navbarMasterUnstack",l.navbar.getElByPage(r))))):(b=A.eq(A.length-1),C&&(x=Hp(l.navbar.getElByPage(b))));else if(c.reloadPrevious)b=A.eq(A.length-2),C&&(x=Hp(l.navbar.getElByPage(b)));else if(c.reloadAll)b=A.filter((function(e){return e!==k[0]})),C&&(x=T.filter((function(e){return e!==w[0]})));else{var P=[],D=[];if(A.length>1){var B=0;for(B=0;B<A.length-1;B+=1)if(r&&A[B]===r)A.eq(B).addClass("page-master-stacked"),A.eq(B).trigger("page:masterstack"),e.emit("pageMasterStack",A[B]),C&&(Hp(l.navbar.getElByPage(r)).addClass("navbar-master-stacked"),e.emit("navbarMasterStack",l.navbar.getElByPage(r)));else{var L=l.navbar.getElByPage(A.eq(B));e.params.stackPages?(A.eq(B).addClass("stacked"),A.eq(B).trigger("page:stack"),e.emit("pageStack",A[B]),C&&Hp(L).addClass("stacked")):(P.push(A[B]),e.pageCallback("beforeRemove",A[B],T&&T[B],"previous",void 0,c),e.removePage(A[B]),C&&L&&(D.push(L),e.removeNavbar(L)))}}b=E.children(".page:not(.stacked)").filter((function(e){return e!==k[0]&&P.indexOf(e)<0})),C&&(x=y.children(".navbar:not(.stacked)").filter((function(e){return e!==w[0]&&D.indexOf(D)<0}))),P=[],D=[]}if(O&&!c.reloadAll&&((b.length>1||I)&&(b=b.filter((function(e){return!e.classList.contains("page-master")}))),x&&(x.length>1||I)&&(x=x.filter((function(e){return!e.classList.contains("navbar-master")})))),e.params.browserHistory&&(c.browserHistory||c.replaceState)&&!c.reloadPrevious){var z=e.params.browserHistoryRoot||"";Sd[c.reloadCurrent||I&&a||c.reloadAll||c.replaceState?"replace":"push"](u.id,{url:c.route.url},z+e.params.browserHistorySeparator+c.route.url)}c.reloadPrevious||(e.currentPageEl=k[0],C&&w.length?e.currentNavbarEl=w[0]:delete e.currentNavbarEl,e.currentRoute=c.route);var F=c.route.url;c.history&&(((c.reloadCurrent||I&&a)&&e.history.length)>0||c.replaceState?(I&&f>0&&(e.history=e.history.slice(0,e.history.length-f)),e.history[e.history.length-(c.reloadPrevious?2:1)]=F):c.reloadPrevious?e.history[e.history.length-2]=F:c.reloadAll?e.history=[F]:e.history.push(F)),e.saveHistory();var $=k.parents(i).length>0,V=k[0].f7Component;if(c.reloadPrevious?(V&&!$?V.mount((function(e){Hp(e).insertBefore(b)})):k.insertBefore(b),C&&w.length&&(w.find(".title-large").length&&w.addClass("navbar-large"),x.length?w.insertBefore(x):(e.$navbarsEl.parents(i).length||e.$el.prepend(e.$navbarsEl),y.append(w)))):(b.next(".page")[0]!==k[0]&&(V&&!$?V.mount((function(e){E.append(e)})):E.append(k[0])),C&&w.length&&(w.find(".title-large").length&&w.addClass("navbar-large"),e.$navbarsEl.parents(i).length||e.$el.prepend(e.$navbarsEl),y.append(w[0]))),$?c.route&&c.route.route&&c.route.route.keepAlive&&!k[0].f7PageMounted&&(k[0].f7PageMounted=!0,e.pageCallback("mounted",k,w,M,S?M:"current",c,b)):e.pageCallback("mounted",k,w,M,S?M:"current",c,b),(c.reloadCurrent||I)&&b.length>0?e.params.stackPages&&e.initialPages.indexOf(b[0])>=0?(b.addClass("stacked"),b.trigger("page:stack"),e.emit("pageStack",b[0]),C&&x.addClass("stacked")):(e.pageCallback("beforeOut",b,x,"current",void 0,c),e.pageCallback("afterOut",b,x,"current",void 0,c),e.pageCallback("beforeRemove",b,x,"current",void 0,c),e.removePage(b),C&&x&&x.length&&e.removeNavbar(x)):c.reloadAll?b.each((function(t,n){var r=Hp(t),a=Hp(l.navbar.getElByPage(r));e.params.stackPages&&e.initialPages.indexOf(r[0])>=0?(r.addClass("stacked"),r.trigger("page:stack"),e.emit("pageStack",r[0]),C&&a.addClass("stacked")):(r.hasClass("page-current")&&(e.pageCallback("beforeOut",b,x,"current",void 0,c),e.pageCallback("afterOut",b,x,"current",void 0,c)),e.pageCallback("beforeRemove",r,x&&x.eq(n),"previous",void 0,c),e.removePage(r),C&&a.length&&e.removeNavbar(a))})):c.reloadPrevious&&(e.params.stackPages&&e.initialPages.indexOf(b[0])>=0?(b.addClass("stacked"),b.trigger("page:stack"),e.emit("pageStack",b[0]),C&&x.addClass("stacked")):(e.pageCallback("beforeRemove",b,x,"previous",void 0,c),e.removePage(b),C&&x&&x.length&&e.removeNavbar(x))),c.route.route.tab&&e.tabLoad(c.route.route.tab,Fu({},c,{history:!1,browserHistory:!1})),p&&u.checkMasterDetailBreakpoint(),e.pageCallback("init",k,w,M,S?M:"current",c,b),c.reloadCurrent||c.reloadAll||I)return e.allowPageChange=!0,e.pageCallback("beforeIn",k,w,M,"current",c),k.removeAttr("aria-hidden"),C&&w&&w.removeAttr("aria-hidden"),e.pageCallback("afterIn",k,w,M,"current",c),c.reloadCurrent&&c.clearPreviousHistory&&e.clearPreviousHistory(),I&&(e.setPagePosition(Hp(r),"previous"),r.f7Page&&r.f7Page.navbarEl&&e.setNavbarPosition(Hp(r.f7Page.navbarEl),"previous")),e;if(c.reloadPrevious)return e.allowPageChange=!0,e;function j(){e.setPagePosition(k,"current",!1),e.setPagePosition(b,"previous",!b.hasClass("page-master")),C&&(e.setNavbarPosition(w,"current",!1),e.setNavbarPosition(x,"previous",!x.hasClass("navbar-master"))),e.allowPageChange=!0,e.pageCallback("afterOut",b,x,"current","previous",c),e.pageCallback("afterIn",k,w,"next","current",c);var t=(e.params.preloadPreviousPage||e.params[l.theme+"SwipeBack"])&&!d;t||(k.hasClass("smart-select-page")||k.hasClass("photo-browser-page")||k.hasClass("autocomplete-page")||k.hasClass("color-picker-page"))&&(t=!0),t||(e.params.stackPages?(b.addClass("stacked"),b.trigger("page:stack"),e.emit("pageStack",b[0]),C&&x.addClass("stacked")):k.attr("data-name")&&"smart-select-page"===k.attr("data-name")||(e.pageCallback("beforeRemove",b,x,"previous",void 0,c),e.removePage(b),C&&x.length&&e.removeNavbar(x))),c.clearPreviousHistory&&e.clearPreviousHistory(),e.emit("routeChanged",e.currentRoute,e.previousRoute,e),e.params.browserHistory&&Sd.clearRouterQueue()}function H(){e.setPagePosition(b,"current",!1),e.setPagePosition(k,"next",!1),C&&(e.setNavbarPosition(x,"current",!1),e.setNavbarPosition(w,"next",!1))}if(e.pageCallback("beforeOut",b,x,"current","previous",c),e.pageCallback("beforeIn",k,w,"next","current",c),!c.animate||d&&l.width>=e.params.masterDetailBreakpoint)j();else{var W=e.params[e.app.theme+"PageLoadDelay"],U=e.params.transition;c.transition&&(U=c.transition),!U&&e.currentRoute&&e.currentRoute.route&&(U=e.currentRoute.route.transition),!U&&e.currentRoute&&e.currentRoute.route.options&&(U=e.currentRoute.route.options.transition),U&&(k[0].f7PageTransition=U),W?setTimeout((function(){H(),e.animate(b,k,x,w,"forward",U,(function(){j()}))}),W):(H(),e.animate(b,k,x,w,"forward",U,(function(){j()})))}return e}function Pd(e,t,n,r){if(void 0===t&&(t={}),void 0===n&&(n={}),!e.allowPageChange&&!r)return e;var a=t,o=n,i=a.url,s=a.content,l=a.el,u=a.pageName,c=a.component,p=a.componentUrl;if(!o.reloadCurrent&&o.route&&o.route.route&&o.route.route.parentPath&&e.currentRoute.route&&e.currentRoute.route.parentPath===o.route.route.parentPath){if(o.route.url===e.url)return e.allowPageChange=!0,!1;var d=Object.keys(o.route.params).length===Object.keys(e.currentRoute.params).length;if(d&&Object.keys(o.route.params).forEach((function(t){t in e.currentRoute.params&&e.currentRoute.params[t]===o.route.params[t]||(d=!1)})),d)return!!o.route.route.tab&&e.tabLoad(o.route.route.tab,o);if(!d&&o.route.route.tab&&e.currentRoute.route.tab&&e.currentRoute.parentPath===o.route.parentPath)return e.tabLoad(o.route.route.tab,o)}if(o.route&&o.route.url&&e.url===o.route.url&&!o.reloadCurrent&&!o.reloadPrevious&&!e.params.allowDuplicateUrls)return e.allowPageChange=!0,!1;if(!o.route&&i&&(o.route=e.parseRouteUrl(i),Fu(o.route,{route:{url:i,path:i}})),(i||p||c)&&(e.allowPageChange=!1),s)Md(e,e.getPageEl(s),o);else if(l)Md(e,e.getPageEl(l),o);else if(u)Md(e,e.$el.children('.page[data-name="'+u+'"]').eq(0),o);else if(c||p)try{e.pageComponentLoader({routerEl:e.el,component:c,componentUrl:p,options:o,resolve:function(t,n){return Md(e,t,Fu(o,n))},reject:function(){return e.allowPageChange=!0,e}})}catch(t){throw e.allowPageChange=!0,t}else i&&(e.xhrAbortController&&(e.xhrAbortController.abort(),e.xhrAbortController=!1),e.xhrRequest(i,o).then((function(t){Md(e,e.getPageEl(t),o)})).catch((function(){e.allowPageChange=!0})));return e}function Dd(e,t,n){var r,a,o,i,s,l,u,c,p=Ku(),d=mu(),f=Hp(t),h=e.app,v=e.view,m=Fu(!1,{animate:e.params.animate,browserHistory:!0,replaceState:!1},n),g=e.params.masterDetailBreakpoint>0,b=g&&m.route&&m.route.route&&(!0===m.route.route.master||"function"==typeof m.route.route.master&&m.route.route.master(h,e)),y=e.dynamicNavbar,w=f,x=e.$el.children(".page-current"),C=0===x.length&&m.preload,E=g&&x.hasClass("page-master");if(w.length&&e.removeThemeElements(w),y&&(i=w.children(".navbar"),o=e.$navbarsEl,0===i.length&&w[0]&&w[0].f7Page&&(i=w[0].f7Page.$navbarEl),s=o.find(".navbar-current")),e.allowPageChange=!1,0===w.length||0===x.length&&!m.preload)return e.allowPageChange=!0,e;if(e.removeThemeElements(w),m.route&&m.route.route&&m.route.route.keepAlive&&!m.route.route.keepAliveData&&(m.route.route.keepAliveData={pageEl:f[0]}),g){for(var k=e.$el.children(".page:not(.stacked)").filter((function(e){return e!==w[0]})),S=0;S<k.length;S+=1)r||!k[S].classList.contains("page-master")||(r=k[S]);!(l=!b&&r&&e.history.indexOf(m.route.url)>e.history.indexOf(r.f7Page.route.url))&&!b&&r&&r.f7Page&&m.route.route.masterRoute&&(l=m.route.route.masterRoute.path===r.f7Page.route.route.path)}if(l&&r&&r.f7Page&&(u=e.history.indexOf(m.route.url)-e.history.indexOf(r.f7Page.route.url)==1),w.addClass("page-"+(C?"current":"previous")+(b?" page-master":"")+(l?" page-master-detail":"")+(u?" page-master-detail-root":"")).removeClass("stacked").removeAttr("aria-hidden").trigger("page:unstack").trigger("page:position",{position:C?"current":"previous"}),e.emit("pageUnstack",w[0]),e.emit("pagePosition",w[0],C?"current":"previous"),(b||l)&&(w.trigger("page:role",{role:b?"master":"detail",root:!!u}),e.emit("pageRole",w[0],{role:b?"master":"detail",detailRoot:!!u})),y&&i.length>0&&(i.addClass("navbar-"+(C?"current":"previous")+(b?" navbar-master":"")+(l?" navbar-master-detail":"")+(u?" navbar-master-detail-root":"")).removeClass("stacked").removeAttr("aria-hidden"),i.trigger("navbar:position",{position:C?"current":"previous"}),e.emit("navbarPosition",i[0],C?"current":"previous"),(b||u)&&e.emit("navbarRole",i[0],{role:b?"master":"detail",detailRoot:!!u})),m.force&&(x.prev(".page-previous:not(.stacked)").length>0||0===x.prev(".page-previous").length))if(e.history.indexOf(m.route.url)>=0?(c=e.history.length-e.history.indexOf(m.route.url)-1,e.history=e.history.slice(0,e.history.indexOf(m.route.url)+2),v.history=e.history):e.history[[e.history.length-2]]?e.history[e.history.length-2]=m.route.url:e.history.unshift(e.url),c&&e.params.stackPages)x.prevAll(".page-previous").each((function(t){var n,o=Hp(t);y&&(n=Hp(h.navbar.getElByPage(o))),o[0]!==w[0]&&o.index()>w.index()&&(e.initialPages.indexOf(o[0])>=0?(o.addClass("stacked"),o.trigger("page:stack"),e.emit("pageStack",o[0]),y&&n.addClass("stacked")):(e.pageCallback("beforeRemove",o,n,"previous",void 0,m),o[0]===r&&(a=!0),e.removePage(o),y&&n.length>0&&e.removeNavbar(n)))}));else{var T,O=x.prev(".page-previous:not(.stacked)");y&&(T=Hp(h.navbar.getElByPage(O))),e.params.stackPages&&e.initialPages.indexOf(O[0])>=0?(O.addClass("stacked"),O.trigger("page:stack"),e.emit("pageStack",O[0]),T.addClass("stacked")):O.length>0&&(e.pageCallback("beforeRemove",O,T,"previous",void 0,m),O[0]===r&&(a=!0),e.removePage(O),y&&T.length&&e.removeNavbar(T))}var I=w.parents(d).length>0,N=w[0].f7Component;function A(){C&&(!I&&N?N.mount((function(t){e.$el.append(t)})):e.$el.append(w)),0===w.next(x).length&&(!I&&N?N.mount((function(e){Hp(e).insertBefore(x)})):w.insertBefore(x)),y&&i.length&&(i.find(".title-large").length&&i.addClass("navbar-large"),i.insertBefore(s),s.length>0?i.insertBefore(s):(e.$navbarsEl.parents(d).length||e.$el.prepend(e.$navbarsEl),o.append(i))),I?m.route&&m.route.route&&m.route.route.keepAlive&&!w[0].f7PageMounted&&(w[0].f7PageMounted=!0,e.pageCallback("mounted",w,i,"previous","current",m,x)):e.pageCallback("mounted",w,i,"previous","current",m,x)}if(m.preload){A(),m.route.route.tab&&e.tabLoad(m.route.route.tab,Fu({},m,{history:!1,browserHistory:!1,preload:!0})),b&&(w.removeClass("page-master-stacked").trigger("page:masterunstack"),e.emit("pageMasterUnstack",w[0]),y&&(Hp(h.navbar.getElByPage(w)).removeClass("navbar-master-stacked"),e.emit("navbarMasterUnstack",h.navbar.getElByPage(w)))),e.pageCallback("init",w,i,"previous","current",m,x),C&&(e.pageCallback("beforeIn",w,i,"current",void 0,m),e.pageCallback("afterIn",w,i,"current",void 0,m));var _=w.prevAll(".page-previous:not(.stacked):not(.page-master)");return _.length>0&&_.each((function(t){var n,r=Hp(t);y&&(n=Hp(h.navbar.getElByPage(r))),e.params.stackPages&&e.initialPages.indexOf(t)>=0?(r.addClass("stacked"),r.trigger("page:stack"),e.emit("pageStack",r[0]),y&&n.addClass("stacked")):(e.pageCallback("beforeRemove",r,n,"previous",void 0),e.removePage(r),y&&n.length&&e.removeNavbar(n))})),e.allowPageChange=!0,e}if(!(p.ie||p.edge||p.firefox&&!p.ios)&&e.params.browserHistory&&m.browserHistory)if(m.replaceState){var R=e.params.browserHistoryRoot||"";Sd.replace(v.id,{url:m.route.url},R+e.params.browserHistorySeparator+m.route.url)}else c?Sd.go(-c):Sd.back();if(m.replaceState?e.history[e.history.length-1]=m.route.url:(1===e.history.length&&e.history.unshift(e.url),e.history.pop()),e.saveHistory(),e.currentPageEl=w[0],y&&i.length?e.currentNavbarEl=i[0]:delete e.currentNavbarEl,e.currentRoute=m.route,(p.ie||p.edge||p.firefox&&!p.ios)&&e.params.browserHistory&&m.browserHistory)if(m.replaceState){var M=e.params.browserHistoryRoot||"";Sd.replace(v.id,{url:m.route.url},M+e.params.browserHistorySeparator+m.route.url)}else c?Sd.go(-c):Sd.back();function P(){e.setPagePosition(w,"current",!1),e.setPagePosition(x,"next",!0),y&&(e.setNavbarPosition(i,"current",!1),e.setNavbarPosition(s,"next",!0)),e.pageCallback("afterOut",x,s,"current","next",m),e.pageCallback("afterIn",w,i,"previous","current",m),e.params.stackPages&&e.initialPages.indexOf(x[0])>=0?(x.addClass("stacked"),x.trigger("page:stack"),e.emit("pageStack",x[0]),y&&s.addClass("stacked")):(e.pageCallback("beforeRemove",x,s,"next",void 0,m),e.removePage(x),y&&s.length&&e.removeNavbar(s)),e.allowPageChange=!0,e.emit("routeChanged",e.currentRoute,e.previousRoute,e),(e.params.preloadPreviousPage||e.params[h.theme+"SwipeBack"])&&e.history[e.history.length-2]&&!b&&e.back(e.history[e.history.length-2],{preload:!0}),e.params.browserHistory&&Sd.clearRouterQueue()}if(A(),m.route.route.tab&&e.tabLoad(m.route.route.tab,Fu({},m,{history:!1,browserHistory:!1})),g&&(E||a)&&v.checkMasterDetailBreakpoint(!1),e.pageCallback("init",w,i,"previous","current",m,x),e.pageCallback("beforeOut",x,s,"current","next",m),e.pageCallback("beforeIn",w,i,"previous","current",m),!m.animate||E&&h.width>=e.params.masterDetailBreakpoint)P();else{var D=e.params.transition;x[0]&&x[0].f7PageTransition&&(D=x[0].f7PageTransition,delete x[0].f7PageTransition),m.transition&&(D=m.transition),!D&&e.previousRoute&&e.previousRoute.route&&(D=e.previousRoute.route.transition),!D&&e.previousRoute&&e.previousRoute.route&&e.previousRoute.route.options&&(D=e.previousRoute.route.options.transition),e.setPagePosition(x,"current"),e.setPagePosition(w,"previous",!1),y&&(e.setNavbarPosition(s,"current"),e.setNavbarPosition(i,"previous",!1)),e.animate(x,w,s,i,"backward",D,(function(){P()}))}return e}function Bd(e,t,n,r){if(!e.allowPageChange&&!r)return e;var a=t,o=n,i=a.url,s=a.content,l=a.el,u=a.pageName,c=a.component,p=a.componentUrl;if(o.route.url&&e.url===o.route.url&&!o.reloadCurrent&&!o.reloadPrevious&&!e.params.allowDuplicateUrls)return!1;if(!o.route&&i&&(o.route=e.parseRouteUrl(i)),(i||p||c)&&(e.allowPageChange=!1),s)Dd(e,e.getPageEl(s),o);else if(l)Dd(e,e.getPageEl(l),o);else if(u)Dd(e,e.$el.children('.page[data-name="'+u+'"]').eq(0),o);else if(c||p)try{e.pageComponentLoader({routerEl:e.el,component:c,componentUrl:p,options:o,resolve:function(t,n){return Dd(e,t,Fu(o,n))},reject:function(){return e.allowPageChange=!0,e}})}catch(t){throw e.allowPageChange=!0,t}else i&&(e.xhrAbortController&&(e.xhrAbortController.abort(),e.xhrAbortController=!1),e.xhrRequest(i,o).then((function(t){Dd(e,e.getPageEl(t),o)})).catch((function(){e.allowPageChange=!0})));return e}function Ld(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zd(e,t){return zd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},zd(e,t)}var Fd=function(e){var t,n;function r(t,n){var r,a=Ld(r=e.call(this,{},[void 0===n?t:n])||this);a.isAppRouter=void 0===n,a.isAppRouter?Fu(!1,a,{app:t,params:t.params.view,routes:t.routes||[],cache:t.cache}):Fu(!1,a,{app:t,view:n,viewId:n.id,id:n.params.routerId,params:n.params,routes:n.routes,history:n.history,scrollHistory:n.scrollHistory,cache:t.cache,dynamicNavbar:"ios"===t.theme&&n.params.iosDynamicNavbar,initialPages:[],initialNavbars:[]}),a.useModules(),a.allowPageChange=!0;var o={},i={};return Object.defineProperty(a,"currentRoute",{enumerable:!0,configurable:!0,set:function(e){void 0===e&&(e={}),i=Fu({},o),(o=e)&&(a.url=o.url,a.emit("routeChange",e,i,a))},get:function(){return o}}),Object.defineProperty(a,"previousRoute",{enumerable:!0,configurable:!0,get:function(){return i},set:function(e){i=e}}),a||Ld(r)}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,zd(t,n);var a=r.prototype;return a.mount=function(){var e=this,t=e.view;Fu(!1,e,{tempDom:mu().createElement("div"),$el:t.$el,el:t.el,$navbarsEl:t.$navbarsEl,navbarsEl:t.navbarsEl}),e.emit("local::mount routerMount",e)},a.animatableNavElements=function(e,t,n,r,a){var o,i,s=this,l=s.dynamicNavbar,u=s.params.iosAnimateNavbarBackIcon;function c(e,t){var n,r=e.hasClass("sliding")||t.hasClass("sliding"),a=e.hasClass("subnavbar"),o=!r||!a,i=e.find(".back .icon");return r&&u&&e.hasClass("left")&&i.length>0&&i.next("span").length&&(e=i.next("span"),n=!0),{$el:e,isIconLabel:n,leftOffset:e[0].f7NavbarLeftOffset,rightOffset:e[0].f7NavbarRightOffset,isSliding:r,isSubnavbar:a,needsOpacityTransition:o}}return l&&(o=[],i=[],e.children(".navbar-inner").children(".left, .right, .title, .subnavbar").each((function(t){var i=Hp(t);i.hasClass("left")&&r&&"forward"===a||i.hasClass("title")&&n||o.push(c(i,e.children(".navbar-inner")))})),t.hasClass("navbar-master")&&s.params.masterDetailBreakpoint>0&&s.app.width>=s.params.masterDetailBreakpoint||t.children(".navbar-inner").children(".left, .right, .title, .subnavbar").each((function(e){var o=Hp(e);o.hasClass("left")&&n&&!r&&"forward"===a||o.hasClass("left")&&n&&"backward"===a||o.hasClass("title")&&r||i.push(c(o,t.children(".navbar-inner")))})),[i,o].forEach((function(e){e.forEach((function(t){var n=t,r=t.isSliding,a=t.$el,s=e===i?o:i;r&&a.hasClass("title")&&s&&s.forEach((function(e){if(e.isIconLabel){var t=e.$el[0];n.leftOffset+=t&&t.offsetLeft||0}}))}))}))),{newNavEls:o,oldNavEls:i}},a.animate=function(e,t,n,r,a,o,i){var s=this;if(s.params.animateCustom)s.params.animateCustom.apply(s,[e,t,n,r,a,i]);else{var l=s.dynamicNavbar,u="ios"===s.app.theme;if(o){var c="router-transition-custom router-transition-"+o+"-"+a;return("forward"===a?t:e).animationEnd((function(){s.$el.removeClass(c),l&&s.$navbarsEl.length&&(r&&s.$navbarsEl.prepend(r),n&&s.$navbarsEl.prepend(n)),i&&i()})),l&&(r&&t&&(s.setNavbarPosition(r,""),r.removeClass("navbar-next navbar-previous navbar-current"),t.prepend(r)),n&&e&&(s.setNavbarPosition(n,""),n.removeClass("navbar-next navbar-previous navbar-current"),e.prepend(n))),void s.$el.addClass(c)}var p,d,f,h,v,m,g,b="router-transition-"+a+" router-transition";if(u&&l){s.params.masterDetailBreakpoint>0&&s.app.width>=s.params.masterDetailBreakpoint&&(n.hasClass("navbar-master")&&r.hasClass("navbar-master-detail")||n.hasClass("navbar-master-detail")&&r.hasClass("navbar-master"))||(m=n&&n.hasClass("navbar-large"),g=r&&r.hasClass("navbar-large"),f=m&&!n.hasClass("navbar-large-collapsed"),h=g&&!r.hasClass("navbar-large-collapsed"),v=f&&!h||h&&!f);var y=s.animatableNavElements(r,n,h,f,a);p=y.newNavEls,d=y.oldNavEls}("forward"===a?t:e).animationEnd((function(){s.dynamicNavbar&&(r&&(r.removeClass("router-navbar-transition-to-large router-navbar-transition-from-large"),r.addClass("navbar-no-title-large-transition"),Ru((function(){r.removeClass("navbar-no-title-large-transition")}))),n&&n.removeClass("router-navbar-transition-to-large router-navbar-transition-from-large"),r.hasClass("sliding")||r.children(".navbar-inner.sliding").length?r.find(".title, .left, .right, .left .icon, .subnavbar").transform(""):r.find(".sliding").transform(""),n.hasClass("sliding")||n.children(".navbar-inner.sliding").length?n.find(".title, .left, .right, .left .icon, .subnavbar").transform(""):n.find(".sliding").transform("")),s.$el.removeClass(b),i&&i()})),l?(w(0),Ru((function(){s.$el.addClass(b),v&&(s.el._clientLeft=s.el.clientLeft),w(1)}))):s.$el.addClass(b)}function w(e){u&&l&&(1===e&&(h&&(r.addClass("router-navbar-transition-to-large"),n.addClass("router-navbar-transition-to-large")),f&&(r.addClass("router-navbar-transition-from-large"),n.addClass("router-navbar-transition-from-large"))),p.forEach((function(t){var n=t.$el,r="forward"===a?t.rightOffset:t.leftOffset;t.isSliding&&(t.isSubnavbar&&g?n[0].style.setProperty("transform","translate3d("+r*(1-e)+"px, calc(-1 * var(--f7-navbar-large-collapse-progress) * var(--f7-navbar-large-title-height)), 0)","important"):n.transform("translate3d("+r*(1-e)+"px,0,0)"))})),d.forEach((function(t){var n=t.$el,r="forward"===a?t.leftOffset:t.rightOffset;t.isSliding&&(t.isSubnavbar&&m?n.transform("translate3d("+r*e+"px, calc(-1 * var(--f7-navbar-large-collapse-progress) * var(--f7-navbar-large-title-height)), 0)"):n.transform("translate3d("+r*e+"px,0,0)"))})))}},a.removeModal=function(e){this.removeEl(e)},a.removeTabContent=function(e){Hp(e).html("")},a.removeNavbar=function(e){this.removeEl(e)},a.removePage=function(e){var t=Hp(e),n=t&&t[0]&&t[0].f7Page;n&&n.route&&n.route.route&&n.route.route.keepAlive?t.remove():this.removeEl(e)},a.removeEl=function(e){if(e){var t=this,n=Hp(e);0!==n.length&&(n.find(".tab").each((function(e){Hp(e).children().each((function(e){e.f7Component&&(Hp(e).trigger("tab:beforeremove"),e.f7Component.destroy())}))})),n[0].f7Component&&n[0].f7Component.destroy&&n[0].f7Component.destroy(),t.params.removeElements&&(t.params.removeElementsWithTimeout?setTimeout((function(){n.remove()}),t.params.removeElementsTimeout):n.remove()))}},a.getPageEl=function(e){var t=this;if("string"==typeof e)t.tempDom.innerHTML=e;else{if(Hp(e).hasClass("page"))return e;t.tempDom.innerHTML="",Hp(t.tempDom).append(e)}return t.findElement(".page",t.tempDom)},a.findElement=function(e,t,n){var r=this,a=r.view,o=r.app,i=Hp(t),s=e;n&&(s+=":not(.stacked)");var l=i.find(s).filter((function(e){return 0===Hp(e).parents(".popup, .dialog, .popover, .actions-modal, .sheet-modal, .login-screen, .page").length}));return l.length>1&&("string"==typeof a.selector&&(l=i.find(a.selector+" "+s)),l.length>1&&(l=i.find("."+o.params.viewMainClass+" "+s))),1===l.length?l:(n||(l=r.findElement(s,i,!0)),l&&1===l.length?l:l&&l.length>1?Hp(l[0]):void 0)},a.flattenRoutes=function(e){void 0===e&&(e=this.routes);var t=this,n=[];return e.forEach((function(e){var r=!1;if("tabs"in e&&e.tabs){var a=e.tabs.map((function(t){var n=Fu({},e,{path:(e.path+"/"+t.path).replace("///","/").replace("//","/"),parentPath:e.path,tab:t});return delete n.tabs,delete n.routes,n}));r=!0,n=n.concat(t.flattenRoutes(a))}if("detailRoutes"in e){var o=e.detailRoutes.map((function(t){var n=Fu({},t);return n.masterRoute=e,n.masterRoutePath=e.path,n}));n=n.concat(e,t.flattenRoutes(o))}if("routes"in e){var i=e.routes.map((function(t){var n=Fu({},t);return n.path=(e.path+"/"+n.path).replace("///","/").replace("//","/"),n}));n=r?n.concat(t.flattenRoutes(i)):n.concat(e,t.flattenRoutes(i))}"routes"in e||"tabs"in e&&e.tabs||"detailRoutes"in e||n.push(e)})),n},a.parseRouteUrl=function(e){if(!e)return{};var t=Pu(e),n=e.split("#")[1],r=e.split("#")[0].split("?")[0];return{query:t,hash:n,params:{},url:e,path:r}},a.generateUrl=function(e){if(void 0===e&&(e={}),"string"==typeof e)return e;var t=e,n=t.name,r=t.path,a=t.params,o=t.query;if(!n&&!r)throw new Error('Framework7: "name" or "path" parameter is required');var i=this,s=n?i.findRouteByKey("name",n):i.findRouteByKey("path",r);if(!s)throw n?new Error('Framework7: route with name "'+n+'" not found'):new Error('Framework7: route with path "'+r+'" not found');var l=i.constructRouteUrl(s,{params:a,query:o});if(!l)throw new Error("Framework7: can't construct URL for route with name \""+n+'"');return l},a.constructRouteUrl=function(e,t){var n,r=void 0===t?{}:t,a=r.params,o=r.query,i=e.path,s=yd(i);try{n=s(a||{})}catch(e){throw new Error("Framework7: error constructing route URL from passed params:\nRoute: "+i+"\n"+e.toString())}return o&&("string"==typeof o?n+="?"+o:Object.keys(o).length&&(n+="?"+Bu(o))),n},a.findTabRouteUrl=function(e){var t,n=this,r=Hp(e),a=n.currentRoute.route.parentPath,o=r.attr("id");return n.flattenRoutes(n.routes).forEach((function(e){e.parentPath===a&&e.tab&&e.tab.id===o&&(t=n.currentRoute.params&&Object.keys(n.currentRoute.params).length>0?n.constructRouteUrl(e,{params:n.currentRoute.params,query:n.currentRoute.query}):e.path)})),t},a.findRouteByKey=function(e,t){var n,r=this.routes;return this.flattenRoutes(r).forEach((function(r){n||r[e]===t&&(n=r)})),n},a.findMatchingRoute=function(e){if(e){var t,n=this,r=n.routes,a=n.flattenRoutes(r),o=n.parseRouteUrl(e),i=o.path,s=o.query,l=o.hash,u=o.params;return a.forEach((function(n){if(!t){var r,a,o=[],c=[n.path];if(n.alias&&("string"==typeof n.alias?c.push(n.alias):Array.isArray(n.alias)&&n.alias.forEach((function(e){c.push(e)}))),c.forEach((function(e){r||(r=Ed(e,o).exec(i))})),r)o.forEach((function(e,t){if("number"!=typeof e.name){var n=r[t+1];u[e.name]=null==n?n:decodeURIComponent(n)}})),n.parentPath&&(a=i.split("/").slice(0,n.parentPath.split("/").length-1).join("/")),t={query:s,hash:l,params:u,url:e,path:i,parentPath:a,route:n,name:n.name}}})),t}},a.replaceRequestUrlParams=function(e,t){void 0===e&&(e=""),void 0===t&&(t={});var n=e;return"string"==typeof n&&n.indexOf("{{")>=0&&t&&t.route&&t.route.params&&Object.keys(t.route.params).length&&Object.keys(t.route.params).forEach((function(e){var r=new RegExp("{{"+e+"}}","g");n=n.replace(r,t.route.params[e]||"")})),n},a.removeFromXhrCache=function(e){for(var t=this.cache.xhr,n=!1,r=0;r<t.length;r+=1)t[r].url===e&&(n=r);!1!==n&&t.splice(n,1)},a.xhrRequest=function(e,t){var n=this,r=n.params,a=t.ignoreCache,o=e,i=o.indexOf("?")>=0;return r.passRouteQueryToRequest&&t&&t.route&&t.route.query&&Object.keys(t.route.query).length&&(o+=(i?"&":"?")+Bu(t.route.query),i=!0),r.passRouteParamsToRequest&&t&&t.route&&t.route.params&&Object.keys(t.route.params).length&&(o+=(i?"&":"?")+Bu(t.route.params),i=!0),o.indexOf("{{")>=0&&(o=n.replaceRequestUrlParams(o,t)),r.xhrCacheIgnoreGetParameters&&o.indexOf("?")>=0&&(o=o.split("?")[0]),new Promise((function(e,i){if(r.xhrCache&&!a&&o.indexOf("nocache")<0&&r.xhrCacheIgnore.indexOf(o)<0)for(var s=0;s<n.cache.xhr.length;s+=1){var l=n.cache.xhr[s];if(l.url===o&&Mu()-l.time<r.xhrCacheDuration)return void e(l.content)}n.xhrAbortController=n.app.request.abortController(),n.app.request({abortController:n.xhrAbortController,url:o,method:"GET",beforeSend:function(e){n.emit("routerAjaxStart",e,t)},complete:function(a,s){n.emit("routerAjaxComplete",a),"error"!==s&&"timeout"!==s&&a.status>=200&&a.status<300||0===a.status?(r.xhrCache&&""!==a.responseText&&(n.removeFromXhrCache(o),n.cache.xhr.push({url:o,time:Mu(),content:a.responseText})),n.emit("routerAjaxSuccess",a,t),e(a.responseText)):(n.emit("routerAjaxError",a,t),i(a))},error:function(e){n.emit("routerAjaxError",e,t),i(e)}})}))},a.setNavbarPosition=function(e,t,n){e.removeClass("navbar-previous navbar-current navbar-next"),t&&e.addClass("navbar-"+t),!1===n?e.removeAttr("aria-hidden"):!0===n&&e.attr("aria-hidden","true"),e.trigger("navbar:position",{position:t}),this.emit("navbarPosition",e[0],t)},a.setPagePosition=function(e,t,n){e.removeClass("page-previous page-current page-next"),e.addClass("page-"+t),!1===n?e.removeAttr("aria-hidden"):!0===n&&e.attr("aria-hidden","true"),e.trigger("page:position",{position:t}),this.emit("pagePosition",e[0],t)},a.removeThemeElements=function(e){var t,n=this.app.theme;"ios"===n?t=".md-only, .aurora-only, .if-md, .if-aurora, .if-not-ios, .not-ios":"md"===n?t=".ios-only, .aurora-only, .if-ios, .if-aurora, .if-not-md, .not-md":"aurora"===n&&(t=".ios-only, .md-only, .if-ios, .if-md, .if-not-aurora, .not-aurora"),Hp(e).find(t).remove()},a.getPageData=function(e,t,n,r,a,o){void 0===a&&(a={});var i,s,l=this,u=Hp(e).eq(0),c=Hp(t).eq(0),p=u[0].f7Page||{};if(("next"===n&&"current"===r||"current"===n&&"previous"===r)&&(i="forward"),("current"===n&&"next"===r||"previous"===n&&"current"===r)&&(i="backward"),p&&!p.fromPage){var d=Hp(o);d.length&&(s=d[0].f7Page)}(s=p.pageFrom||s)&&s.pageFrom&&(s.pageFrom=null);var f={app:l.app,view:l.view,router:l,$el:u,el:u[0],$pageEl:u,pageEl:u[0],$navbarEl:c,navbarEl:c[0],name:u.attr("data-name"),position:n,from:n,to:r,direction:i,route:p.route?p.route:a,pageFrom:s};return u[0].f7Page=f,f},a.pageCallback=function(e,t,n,r,a,o,i){if(void 0===o&&(o={}),t){var s=this,l=Hp(t);if(l.length){var u=Hp(n),c=o.route,p=s.params.restoreScrollTopOnBack&&!(s.params.masterDetailBreakpoint>0&&l.hasClass("page-master")&&s.app.width>=s.params.masterDetailBreakpoint),d=l[0].f7Page&&l[0].f7Page.route&&l[0].f7Page.route.route&&l[0].f7Page.route.route.keepAlive;"beforeRemove"===e&&d&&(e="beforeUnmount");var f="page"+(e[0].toUpperCase()+e.slice(1,e.length)),h="page:"+e.toLowerCase(),v={};(v="beforeRemove"===e&&l[0].f7Page?Fu(l[0].f7Page,{from:r,to:a,position:r}):s.getPageData(l[0],u[0],r,a,c,i)).swipeBack=!!o.swipeBack;var m=o.route?o.route.route:{},g=m.on,b=void 0===g?{}:g,y=m.once,w=void 0===y?{}:y;if(o.on&&Fu(b,o.on),o.once&&Fu(w,o.once),"mounted"===e&&E(),"init"===e){if(p&&("previous"===r||!r)&&"current"===a&&s.scrollHistory[v.route.url]&&!l.hasClass("no-restore-scroll")){var x=l.find(".page-content");x.length>0&&(x=x.filter((function(e){return 0===Hp(e).parents(".tab:not(.tab-active)").length&&!Hp(e).is(".tab:not(.tab-active)")}))),x.scrollTop(s.scrollHistory[v.route.url])}if(E(),l[0].f7PageInitialized)return l.trigger("page:reinit",v),void s.emit("pageReinit",v);l[0].f7PageInitialized=!0}if(p&&"beforeOut"===e&&"current"===r&&"previous"===a){var C=l.find(".page-content");C.length>0&&(C=C.filter((function(e){return 0===Hp(e).parents(".tab:not(.tab-active)").length&&!Hp(e).is(".tab:not(.tab-active)")}))),s.scrollHistory[v.route.url]=C.scrollTop()}p&&"beforeOut"===e&&"current"===r&&"next"===a&&delete s.scrollHistory[v.route.url],l.trigger(h,v),s.emit(f,v),"beforeRemove"!==e&&"beforeUnmount"!==e||(l[0].f7RouteEventsAttached&&(l[0].f7RouteEventsOn&&Object.keys(l[0].f7RouteEventsOn).forEach((function(e){l.off(Ou(e),l[0].f7RouteEventsOn[e])})),l[0].f7RouteEventsOnce&&Object.keys(l[0].f7RouteEventsOnce).forEach((function(e){l.off(Ou(e),l[0].f7RouteEventsOnce[e])})),l[0].f7RouteEventsAttached=null,l[0].f7RouteEventsOn=null,l[0].f7RouteEventsOnce=null,delete l[0].f7RouteEventsAttached,delete l[0].f7RouteEventsOn,delete l[0].f7RouteEventsOnce),d||(l[0].f7Page&&l[0].f7Page.navbarEl&&delete l[0].f7Page.navbarEl.f7Page,l[0].f7Page=null))}}function E(){l[0].f7RouteEventsAttached||(l[0].f7RouteEventsAttached=!0,b&&Object.keys(b).length>0&&(l[0].f7RouteEventsOn=b,Object.keys(b).forEach((function(e){b[e]=b[e].bind(s),l.on(Ou(e),b[e])}))),w&&Object.keys(w).length>0&&(l[0].f7RouteEventsOnce=w,Object.keys(w).forEach((function(e){w[e]=w[e].bind(s),l.once(Ou(e),w[e])}))))}},a.saveHistory=function(){var e=this,t=bu();e.view.history=e.history,e.params.browserHistory&&e.params.browserHistoryStoreHistory&&t.localStorage&&(t.localStorage["f7router-"+e.view.id+"-history"]=JSON.stringify(e.history))},a.restoreHistory=function(){var e=this,t=bu();e.params.browserHistory&&e.params.browserHistoryStoreHistory&&t.localStorage&&t.localStorage["f7router-"+e.view.id+"-history"]&&(e.history=JSON.parse(t.localStorage["f7router-"+e.view.id+"-history"]),e.view.history=e.history)},a.clearHistory=function(){var e=this;e.history=[],e.view&&(e.view.history=[]),e.saveHistory()},a.updateCurrentUrl=function(e){var t=this;Ad(t,"updateCurrentUrl"),t.history.length?t.history[t.history.length-1]=e:t.history.push(e);var n=t.parseRouteUrl(e),r=n.query,a=n.hash,o=n.params,i=n.url,s=n.path;if(t.currentRoute&&Fu(t.currentRoute,{query:r,hash:a,params:o,url:i,path:s}),t.params.browserHistory){var l=t.params.browserHistoryRoot||"";Sd.replace(t.view.id,{url:e},l+t.params.browserHistorySeparator+e)}t.saveHistory(),t.emit("routeUrlUpdate",t.currentRoute,t)},a.getInitialUrl=function(){var e=this;if(e.initialUrl)return{initialUrl:e.initialUrl,historyRestored:e.historyRestored};var t,n=e.app,r=e.view,a=mu(),o=bu(),i=n.params.url&&"string"==typeof n.params.url&&"undefined"!=typeof URL?new URL(n.params.url):a.location,s=e.params.url,l=i.href.split(i.origin)[1],u=e.params,c=u.browserHistory,p=u.browserHistoryOnLoad,d=u.browserHistorySeparator,f=e.params.browserHistoryRoot;return(o.cordova||o.Capacitor&&o.Capacitor.isNative)&&c&&!d&&!f&&i.pathname.indexOf("index.html")&&(console.warn("Framework7: wrong or not complete browserHistory configuration, trying to guess browserHistoryRoot"),f=i.pathname.split("index.html")[0]),c&&p?(f&&l.indexOf(f)>=0&&""===(l=l.split(f)[1])&&(l="/"),s=d.length>0&&l.indexOf(d)>=0?l.split(d)[1]:l,e.restoreHistory(),e.history.indexOf(s)>=0?e.history=e.history.slice(0,e.history.indexOf(s)+1):e.params.url===s?e.history=[s]:Sd.state&&Sd.state[r.id]&&Sd.state[r.id].url===e.history[e.history.length-1]?s=e.history[e.history.length-1]:e.history=[l.split(d)[0]||"/",s],e.history.length>1?t=!0:e.history=[],e.saveHistory()):(s||(s=l),i.search&&s.indexOf("?")<0&&(s+=i.search),i.hash&&s.indexOf("#")<0&&(s+=i.hash)),e.initialUrl=s,e.historyRestored=t,{initialUrl:s,historyRestored:t}},a.init=function(){var e=this,t=e.app,n=e.view,r=mu();e.mount();var a=e.getInitialUrl(),o=a.initialUrl,i=a.historyRestored;(n&&e.params.iosSwipeBack&&"ios"===t.theme||n&&e.params.mdSwipeBack&&"md"===t.theme||n&&e.params.auroraSwipeBack&&"aurora"===t.theme)&&Td(e);var s,l=e.params,u=l.browserHistory,c=l.browserHistoryOnLoad,p=l.browserHistoryAnimateOnLoad,d=l.browserHistoryInitialMatch;if(e.history.length>1){var f=d?o:e.history[0];(s=e.findMatchingRoute(f))||(s=Fu(e.parseRouteUrl(f),{route:{url:f,path:f.split("?")[0]}}))}else(s=e.findMatchingRoute(o))||(s=Fu(e.parseRouteUrl(o),{route:{url:o,path:o.split("?")[0]}}));if(e.params.stackPages&&e.$el.children(".page").each((function(t){var n=Hp(t);e.initialPages.push(n[0]),e.dynamicNavbar&&n.children(".navbar").length>0&&e.initialNavbars.push(n.children(".navbar")[0])})),0===e.$el.children(".page:not(.stacked)").length&&o&&e.params.loadInitialPage)e.navigate(o,{initial:!0,reloadCurrent:!0,browserHistory:!1,animate:!1,once:{modalOpen:function(){i&&((e.params.preloadPreviousPage||e.params[t.theme+"SwipeBack"])&&e.history.length>1&&e.back({preload:!0}))},pageAfterIn:function(){i&&((e.params.preloadPreviousPage||e.params[t.theme+"SwipeBack"])&&e.history.length>1&&e.back({preload:!0}))}}});else if(e.$el.children(".page:not(.stacked)").length){var h;if(e.currentRoute=s,e.$el.children(".page:not(.stacked)").each((function(a){var o,i=Hp(a);e.setPagePosition(i,"current"),e.dynamicNavbar&&((o=i.children(".navbar")).length>0?(e.$navbarsEl.parents(r).length||e.$el.prepend(e.$navbarsEl),e.setNavbarPosition(o,"current"),e.$navbarsEl.append(o),o.children(".title-large").length&&o.addClass("navbar-large"),i.children(".navbar").remove()):(e.$navbarsEl.addClass("navbar-hidden"),o.children(".title-large").length&&e.$navbarsEl.addClass("navbar-hidden navbar-large-hidden"))),e.currentRoute&&e.currentRoute.route&&(!0===e.currentRoute.route.master||"function"==typeof e.currentRoute.route.master&&e.currentRoute.route.master(t,e))&&e.params.masterDetailBreakpoint>0&&(i.addClass("page-master"),i.trigger("page:role",{role:"master"}),o&&o.length&&o.addClass("navbar-master"),n.checkMasterDetailBreakpoint());var s={route:e.currentRoute};e.currentRoute&&e.currentRoute.route&&e.currentRoute.route.options&&Fu(s,e.currentRoute.route.options),e.currentPageEl=i[0],e.dynamicNavbar&&o.length&&(e.currentNavbarEl=o[0]),e.removeThemeElements(i),e.dynamicNavbar&&o.length&&e.removeThemeElements(o),s.route.route.tab&&(h=!0,e.tabLoad(s.route.route.tab,Fu({},s))),e.pageCallback("init",i,o,"current",void 0,s),e.pageCallback("beforeIn",i,o,"current",void 0,s),e.pageCallback("afterIn",i,o,"current",void 0,s)})),i)if(d)(e.params.preloadPreviousPage||e.params[t.theme+"SwipeBack"])&&e.history.length>1&&e.back({preload:!0});else e.navigate(o,{initial:!0,browserHistory:!1,history:!1,animate:p,once:{pageAfterIn:function(){(e.params.preloadPreviousPage||e.params[t.theme+"SwipeBack"])&&e.history.length>2&&e.back({preload:!0})}}});i||h||(e.history.push(o),e.saveHistory())}!(o&&u&&c)||Sd.state&&Sd.state[n.id]||Sd.initViewState(n.id,{url:o}),e.emit("local::init routerInit",e)},a.destroy=function(){var e=this;e.emit("local::destroy routerDestroy",e),Object.keys(e).forEach((function(t){e[t]=null,delete e[t]})),e=null},r}(nc);Fd.prototype.navigate=function(e,t){void 0===t&&(t={});var n,r,a,o,i,s,l,u=this;if(u.swipeBackActive)return u;if("string"==typeof e?n=e:(n=e.url,r=e.route,a=e.name,o=e.path,i=e.query,s=e.params),a||o)return(n=u.generateUrl({path:o,name:a,params:s,query:i}))?u.navigate(n,t):u;var c=u.app;if(Ad(u,"navigate"),"#"===n||""===n)return u;var p=n.replace("./","");if("/"!==p[0]&&0!==p.indexOf("#")){var d=u.currentRoute.parentPath||u.currentRoute.path;p=((d?d+"/":"/")+p).replace("///","/").replace("//","/")}if(!(l=r?Fu(u.parseRouteUrl(p),{route:Fu({},r)}):u.findMatchingRoute(p)))return u;if(l.route&&l.route.viewName){var f=l.route.viewName,h=c.views[f];if(!h)throw new Error('Framework7: There is no View with "'+f+'" name that was specified in this route');if(h!==u.view)return h.router.navigate(e,t)}if(l.route.redirect)return Od.call(u,"forward",l,t);var v={};if(l.route.options?Fu(v,l.route.options,t):Fu(v,t),v.openIn&&(!u.params.ignoreOpenIn||u.params.ignoreOpenIn&&u.history.length>0))return function(e,t,n){var r={url:t,route:{path:t,options:Rd({},n,{openIn:void 0})}},a=Rd({},n);if("popup"===n.openIn&&(a.content='<div class="popup popup-router-open-in" data-url="'+t+'"><div class="view view-init" data-links-view="'+e.view.selector+'" data-url="'+t+'" data-ignore-open-in="true"></div></div>',r.route.popup=a),"loginScreen"===n.openIn&&(a.content='<div class="login-screen login-screen-router-open-in" data-url="'+t+'"><div class="view view-init" data-links-view="'+e.view.selector+'" data-url="'+t+'" data-ignore-open-in="true"></div></div>',r.route.loginScreen=a),"sheet"===n.openIn&&(a.content='<div class="sheet-modal sheet-modal-router-open-in" data-url="'+t+'"><div class="sheet-modal-inner"><div class="view view-init" data-links-view="'+e.view.selector+'" data-url="'+t+'" data-ignore-open-in="true"></div></div></div>',r.route.sheet=a),"popover"===n.openIn&&(a.targetEl=n.clickedEl||n.targetEl,a.content='<div class="popover popover-router-open-in" data-url="'+t+'"><div class="popover-inner"><div class="view view-init" data-links-view="'+e.view.selector+'" data-url="'+t+'" data-ignore-open-in="true"></div></div></div>',r.route.popover=a),n.openIn.indexOf("panel")>=0){var o=n.openIn.split(":"),i=o[1]||"left",s=o[2]||"cover";a.targetEl=n.clickedEl||n.targetEl,a.content='<div class="panel panel-router-open-in panel-'+i+" panel-"+s+'" data-url="'+t+'"><div class="view view-init" data-links-view="'+e.view.selector+'" data-url="'+t+'" data-ignore-open-in="true"></div></div>',r.route.panel=a}return e.navigate(r)}(u,p,v);function m(){var e=!1;function t(e,t){u.allowPageChange=!1;var n=!1;"popup popover sheet loginScreen actions customModal panel".split(" ").forEach((function(r){if(e[r]){n=!0;var a=Fu({},l,{route:e});u.allowPageChange=!0,u.modalLoad(r,a,Fu(v,t),"forward")}})),n||Pd(u,e,Fu(v,t),!0)}function n(){u.allowPageChange=!0}"popup popover sheet loginScreen actions customModal panel".split(" ").forEach((function(t){l.route[t]&&!e&&(e=!0,u.modalLoad(t,l,v,"forward"))})),l.route.keepAlive&&l.route.keepAliveData&&(Pd(u,{el:l.route.keepAliveData.pageEl},v,!1),e=!0),"url content component pageName el componentUrl".split(" ").forEach((function(t){var n;l.route[t]&&!e&&(e=!0,Pd(u,((n={})[t]=l.route[t],n),v,!1))})),e||(l.route.async&&(u.allowPageChange=!1,l.route.async.call(u,{router:u,to:v.route,from:u.currentRoute,resolve:t,reject:n,direction:"forward",app:c})),l.route.asyncComponent&&_d(u,l.route.asyncComponent,t,n))}function g(){u.allowPageChange=!0}if(v.route=l,u.params.masterDetailBreakpoint>0&&l.route.masterRoute){var b=!0,y=!1;if(u.currentRoute&&u.currentRoute.route&&(!(!0===u.currentRoute.route.master||"function"==typeof u.currentRoute.route.master&&u.currentRoute.route.master(c,u))||u.currentRoute.route!==l.route.masterRoute&&u.currentRoute.route.path!==l.route.masterRoute.path||(b=!1),!u.currentRoute.route.masterRoute||u.currentRoute.route.masterRoute!==l.route.masterRoute&&u.currentRoute.route.masterRoute.path!==l.route.masterRoute.path||(b=!1,y=!0)),b||y&&t.reloadAll)return u.navigate({path:l.route.masterRoute.path,params:l.params||{}},{animate:!1,reloadAll:t.reloadAll,reloadCurrent:t.reloadCurrent,reloadPrevious:t.reloadPrevious,browserHistory:!t.initial,history:!t.initial,once:{pageAfterIn:function(){u.navigate(e,Fu({},t,{animate:!1,reloadAll:!1,reloadCurrent:!1,reloadPrevious:!1,history:!t.initial,browserHistory:!t.initial}))}}}),u}return Nd.call(u,l,u.currentRoute,(function(){l.route.modules?c.loadModules(Array.isArray(l.route.modules)?l.route.modules:[l.route.modules]).then((function(){m()})).catch((function(){g()})):m()}),(function(){g()}),"forward"),u},Fd.prototype.refreshPage=function(){var e=this;return Ad(e,"refreshPage"),e.navigate(e.currentRoute.url,{ignoreCache:!0,reloadCurrent:!0})},Fd.prototype.tabLoad=function(e,t){void 0===t&&(t={});var n,r,a=this,o=Fu({animate:a.params.animate,browserHistory:!0,history:!0,parentPageEl:null,preload:!1,on:{}},t);o.route&&(o.preload||o.route===a.currentRoute||(r=a.previousRoute,a.currentRoute=o.route),o.preload?(n=o.route,r=a.currentRoute):(n=a.currentRoute,r||(r=a.previousRoute)),a.params.browserHistory&&o.browserHistory&&!o.reloadPrevious&&Sd.replace(a.view.id,{url:o.route.url},(a.params.browserHistoryRoot||"")+a.params.browserHistorySeparator+o.route.url),o.history&&(a.history[Math.max(a.history.length-1,0)]=o.route.url,a.saveHistory()));var i,s=Hp(o.parentPageEl||a.currentPageEl);i=s.length&&s.find("#"+e.id).length?s.find("#"+e.id).eq(0):a.view.selector?a.view.selector+" #"+e.id:"#"+e.id;var l,u=a.app.tab.show({tabEl:i,animate:o.animate,tabRoute:o.route}),c=u.$newTabEl,p=u.$oldTabEl,d=u.animated,f=u.onTabsChanged;if(c&&c.parents(".page").length>0&&o.route){var h=c.parents(".page")[0].f7Page;h&&o.route&&(h.route=o.route)}if(c[0].f7RouterTabLoaded)return p&&p.length?(d?f((function(){a.emit("routeChanged",a.currentRoute,a.previousRoute,a)})):a.emit("routeChanged",a.currentRoute,a.previousRoute,a),a):a;function v(t,n){var r=t.url,o=t.content,i=t.el,s=t.component,l=t.componentUrl;function u(t){a.allowPageChange=!0,t&&("string"==typeof t?c.html(t):(c.html(""),t.f7Component?t.f7Component.mount((function(e){c.append(e)})):c.append(t)),c[0].f7RouterTabLoaded=!0,function(t){a.removeThemeElements(c);var n=c;"string"!=typeof t&&(n=Hp(t)),n.trigger("tab:init tab:mounted",e),a.emit("tabInit tabMounted",c[0],e),p&&p.length&&(d?f((function(){a.emit("routeChanged",a.currentRoute,a.previousRoute,a),a.params.unloadTabContent&&a.tabRemove(p,c,e)})):(a.emit("routeChanged",a.currentRoute,a.previousRoute,a),a.params.unloadTabContent&&a.tabRemove(p,c,e)))}(t))}if(o)u(o);else if(i)u(i);else if(s||l)try{a.tabComponentLoader({tabEl:c[0],component:s,componentUrl:l,options:n,resolve:u,reject:function(){return a.allowPageChange=!0,a}})}catch(e){throw a.allowPageChange=!0,e}else r&&(a.xhrAbortController&&(a.xhrAbortController.abort(),a.xhrAbortController=!1),a.xhrRequest(r,n).then((function(e){u(e)})).catch((function(){a.allowPageChange=!0})))}function m(e,t){v(e,Fu(o,t))}function g(){a.allowPageChange=!0}return"url content component el componentUrl".split(" ").forEach((function(t){var n;e[t]&&(l=!0,v(((n={})[t]=e[t],n),o))})),e.async?e.async.call(a,{router:a,to:n,from:r,resolve:m,reject:g,app:a.app}):e.asyncComponent?_d(a,e.asyncComponent,m,g):l||(a.allowPageChange=!0),a},Fd.prototype.tabRemove=function(e,t,n){var r;e[0]&&(e[0].f7RouterTabLoaded=!1,delete e[0].f7RouterTabLoaded),e.children().each((function(e){e.f7Component&&(r=!0,Hp(e).trigger("tab:beforeremove",n),e.f7Component.destroy())})),r||e.trigger("tab:beforeremove",n),this.emit("tabBeforeRemove",e[0],t[0],n),this.removeTabContent(e[0],n)},Fd.prototype.modalLoad=function(e,t,n,r){void 0===n&&(n={});var a,o=this,i=o.app,s="panel"===e,l=s?"panel":"modal",u=Fu({animate:o.params.animate,browserHistory:!0,history:!0,on:{},once:{}},n),c=Fu({},t.route[e]),p=t.route,d=function(e,t){var n,r=u.on,a=u.once;"open"===t&&(n=r.modalOpen||a.modalOpen||r.panelOpen||a.panelOpen),"close"===t&&(n=r.modalClose||a.modalClose||r.panelClose||a.panelClose),"closed"===t&&(n=r.modalClosed||a.modalClosed||r.panelClosed||a.panelClosed),n&&n(e)};function f(){var n=i[e].create(c);p.modalInstance=n;var r=n.el;function a(){n.close()}n.on(l+"Open",(function(){r||(o.removeThemeElements(n.el),n.$el.trigger(e.toLowerCase()+":init "+e.toLowerCase()+":mounted",t,n),o.emit((s?"":"modalInit")+" "+e+"Init "+e+"Mounted",n.el,t,n)),o.once("swipeBackMove",a),d(n,"open")})),n.on(l+"Close",(function(){o.off("swipeBackMove",a),n.closeByRouter||o.back(),d(n,"close")})),n.on(l+"Closed",(function(){n.$el.trigger(e.toLowerCase()+":beforeremove",t,n),n.emit((s?"":"modalBeforeRemove ")+e+"BeforeRemove",n.el,t,n);var r=n.el.f7Component;d(n,"closed"),r&&r.destroy(),_u((function(){(r||c.component||c.asyncComponent)&&o.removeModal(n.el),n.destroy(),delete n.route,delete p.modalInstance}))})),u.route&&(o.params.browserHistory&&u.browserHistory&&Sd.push(o.view.id,{url:u.route.url,modal:e},(o.params.browserHistoryRoot||"")+o.params.browserHistorySeparator+u.route.url),u.route!==o.currentRoute&&(n.route=Fu(u.route,{modal:n}),o.currentRoute=n.route),u.history&&!u.reloadCurrent&&(o.history.push(u.route.url),o.saveHistory())),r&&(o.removeThemeElements(n.el),n.$el.trigger(e.toLowerCase()+":init "+e.toLowerCase()+":mounted",t,n),o.emit(l+"Init "+e+"Init "+e+"Mounted",n.el,t,n)),n.open(!1===u.animate||!0===u.animate?u.animate:void 0)}function h(e,t){var n=e.url,r=e.content,a=e.component,s=e.componentUrl;function l(e){e&&("string"==typeof e?c.content=e:e.f7Component?e.f7Component.mount((function(e){c.el=e,i.$el.append(e)})):c.el=e,f())}if(r)l(r);else if(a||s)try{o.modalComponentLoader({rootEl:i.el,component:a,componentUrl:s,options:t,resolve:l,reject:function(){return o.allowPageChange=!0,o}})}catch(e){throw o.allowPageChange=!0,e}else n?(o.xhrAbortController&&(o.xhrAbortController.abort(),o.xhrAbortController=!1),o.xhrRequest(n,t).then((function(e){c.content=e,f()})).catch((function(){o.allowPageChange=!0}))):f()}function v(e,t){h(e,Fu(u,t))}function m(){o.allowPageChange=!0}return"url content component el componentUrl template".split(" ").forEach((function(e){var t;c[e]&&!a&&(a=!0,h(((t={})[e]=c[e],t),u))})),a||"actions"!==e||f(),c.async&&c.async.call(o,{router:o,to:u.route,from:o.currentRoute,resolve:v,reject:m,direction:r,app:i}),c.asyncComponent&&_d(o,c.asyncComponent,v,m),o},Fd.prototype.modalRemove=function(e){Fu(e,{closeByRouter:!0}),e.close()},Fd.prototype.back=function(){var e,t,n,r=this,a=Ku();if(r.swipeBackActive)return r;"object"==typeof(arguments.length<=0?void 0:arguments[0])?t=(arguments.length<=0?void 0:arguments[0])||{}:(e=arguments.length<=0?void 0:arguments[0],t=(arguments.length<=1?void 0:arguments[1])||{});var o=t,i=o.name,s=o.params,l=o.query;if(i)return(e=r.generateUrl({name:i,params:s,query:l}))?r.back(e,Fu({},t,{name:null,params:null,query:null})):r;var u=r.app;Ad(r,"back");var c,p=r.currentRoute.modal;if(p||"popup popover sheet loginScreen actions customModal panel".split(" ").forEach((function(e){r.currentRoute.route[e]&&(p=!0,c=e)})),p&&!t.preload){var d,f=r.currentRoute.modal||r.currentRoute.route.modalInstance||u[c].get(),h=r.history[r.history.length-2];if(f&&f.$el){var v=f.$el.prevAll(".modal-in");if(v.length&&v[0].f7Modal){var m=v[0];r.$el.parents(m).length||(d=m.f7Modal.route)}}if(d||(d=r.findMatchingRoute(h)),!d&&h&&(d={url:h,path:h.split("?")[0],query:Pu(h),route:{path:h.split("?")[0],url:h}}),!(e&&0!==e.replace(/[# ]/g,"").trim().length||d&&f))return r;var g=t.force&&d&&e;if(d&&f){var b=a.ie||a.edge||a.firefox&&!a.ios,y=r.params.browserHistory&&!1!==t.browserHistory,w=r.currentRoute&&r.currentRoute.route&&r.currentRoute.route.options&&!1===r.currentRoute.route.options.browserHistory;!y||b||w||Sd.back(),r.currentRoute=d,r.history.pop(),r.saveHistory(),y&&b&&!w&&Sd.back(),r.modalRemove(f),g&&r.navigate(e,{reloadCurrent:!0})}else f&&(r.modalRemove(f),e&&r.navigate(e,{reloadCurrent:!0}));return r}var x,C=r.$el.children(".page-current").prevAll(".page-previous:not(.page-master)").eq(0);if(r.params.masterDetailBreakpoint>0){var E=[];r.$el.children(".page").each((function(e){E.push(e.className)}));var k=r.$el.children(".page-current").prevAll(".page-master").eq(0);if(k.length){var S=r.history[r.history.length-2],T=r.findMatchingRoute(S);T&&k[0].f7Page&&T.route===k[0].f7Page.route.route&&(C=k,t.preload||(x=u.width>=r.params.masterDetailBreakpoint))}}if(!t.force&&C.length&&!x){if(r.params.browserHistory&&C[0].f7Page&&r.history[r.history.length-2]!==C[0].f7Page.route.url)return r.back(r.history[r.history.length-2],Fu(t,{force:!0})),r;var O=C[0].f7Page.route;return t.preload&&C.hasClass("stacked")?(Bd(r,{el:C},Fu(t,{route:O})),r):(Nd.call(r,O,r.currentRoute,(function(){Bd(r,{el:C},Fu(t,{route:O}))}),(function(){}),"backward"),r)}if("#"===e&&(e=void 0),e&&"/"!==e[0]&&0!==e.indexOf("#")&&(e=((r.path||"/")+e).replace("//","/")),!e&&r.history.length>1&&(e=r.history[r.history.length-2]),x&&!t.force&&r.history[r.history.length-3])return r.back(r.history[r.history.length-3],Fu({},t||{},{force:!0,animate:!1}));if(x&&!t.force)return r;if((n=r.findMatchingRoute(e))||e&&(n={url:e,path:e.split("?")[0],query:Pu(e),route:{path:e.split("?")[0],url:e}}),!n)return r;if(n.route.redirect)return Od.call(r,"backward",n,t);var I,N={};if(n.route.options?Fu(N,n.route.options,t):Fu(N,t),N.route=n,N.force&&r.params.stackPages&&(r.$el.children(".page-previous.stacked").each((function(e){e.f7Page&&e.f7Page.route&&e.f7Page.route.url===n.url&&(I=!0,Bd(r,{el:e},N))})),I))return r;function A(){var e=!1;function t(e,t){r.allowPageChange=!1,Bd(r,e,Fu(N,t),!0)}function a(){r.allowPageChange=!0}n.route.keepAlive&&n.route.keepAliveData&&(Bd(r,{el:n.route.keepAliveData.pageEl},N),e=!0),"url content component pageName el componentUrl".split(" ").forEach((function(t){var a;n.route[t]&&!e&&(e=!0,Bd(r,((a={})[t]=n.route[t],a),N))})),e||(n.route.async&&(r.allowPageChange=!1,n.route.async.call(r,{router:r,to:n,from:r.currentRoute,resolve:t,reject:a,direction:"backward",app:u})),n.route.asyncComponent&&_d(r,n.route.asyncComponent,t,a))}function _(){r.allowPageChange=!0}return N.preload?A():Nd.call(r,n,r.currentRoute,(function(){n.route.modules?u.loadModules(Array.isArray(n.route.modules)?n.route.modules:[n.route.modules]).then((function(){A()})).catch((function(){_()})):A()}),(function(){_()}),"backward"),r},Fd.prototype.clearPreviousHistory=function(){var e=this;Ad(e,"clearPreviousHistory");var t=e.history[e.history.length-1];!function(e){Ad(e,"clearPreviousPages");var t=e.app,n=e.dynamicNavbar;e.$el.children(".page").filter((function(t){return!(!e.currentRoute||!e.currentRoute.modal&&!e.currentRoute.panel)||t!==e.currentPageEl})).each((function(r){var a=Hp(r),o=Hp(t.navbar.getElByPage(a));e.params.stackPages&&e.initialPages.indexOf(a[0])>=0?(a.addClass("stacked"),n&&o.addClass("stacked")):(e.pageCallback("beforeRemove",a,o,"previous",void 0,{}),e.removePage(a),n&&o.length&&e.removeNavbar(o))}))}(e),e.history=[t],e.view.history=[t],e.saveHistory()};var $d=Fd,Vd={name:"router",static:{Router:$d},instance:{cache:{xhr:[],templates:[],components:[]}},create:function(){var e=this;e.app?e.params.router&&(e.router=new $d(e.app,e)):e.router=new $d(e)}};var jd=function(e){var t=e.app,n=Yu();if(!e.resizableInitialized){Fu(e,{resizable:!0,resizableWidth:null,resizableInitialized:!0});var r=Hp("html"),a=e.$el;if(a){var o,i,s,l,u,c,p,d={};(o=e.$el.children(".view-resize-handler")).length||(e.$el.append('<div class="view-resize-handler"></div>'),o=e.$el.children(".view-resize-handler")),e.$resizeHandlerEl=o,a.addClass("view-resizable");var f=!!n.passiveListener&&{passive:!0};e.$el.on(t.touchEvents.start,".view-resize-handler",v,f),t.on("touchmove:active",m),t.on("touchend:passive",g),t.on("resize",b),e.on("beforeOpen",b),e.once("viewDestroy",(function(){a.removeClass("view-resizable"),e.$resizeHandlerEl.remove(),e.$el.off(t.touchEvents.start,".view-resize-handler",v,f),t.off("touchmove:active",m),t.off("touchend:passive",g),t.off("resize",b),e.off("beforeOpen",b)}))}}function h(e){if(!e)return null;if(e.indexOf("%")>=0||e.indexOf("vw")>=0)return parseInt(e,10)/100*t.width;var n=parseInt(e,10);return Number.isNaN(n)?null:n}function v(t){if(e.resizable&&a.hasClass("view-resizable")&&a.hasClass("view-master-detail")){d.x="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,d.y="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY,s=!1,i=!0;var n=a.children(".page-master");c=h(n.css("min-width")),p=h(n.css("max-width"))}}function m(n){if(i){n.f7PreventSwipePanel=!0;var f="touchmove"===n.type?n.targetTouches[0].pageX:n.pageX;s||(u=o[0].offsetLeft+o[0].offsetWidth,a.addClass("view-resizing"),r.css("cursor","col-resize")),s=!0,n.preventDefault(),l=f-d.x;var h=u+l;c&&!Number.isNaN(c)&&(h=Math.max(h,c)),p&&!Number.isNaN(p)&&(h=Math.min(h,p)),h=Math.min(Math.max(h,0),t.width),e.resizableWidth=h,r[0].style.setProperty("--f7-page-master-width",h+"px"),a.trigger("view:resize",h),e.emit("local::resize viewResize",e,h)}}function g(){if(Hp("html").css("cursor",""),!i||!s)return i=!1,void(s=!1);i=!1,s=!1,r[0].style.setProperty("--f7-page-master-width",e.resizableWidth+"px"),a.removeClass("view-resizing")}function b(){e.resizableWidth&&(c=h(o.css("min-width")),p=h(o.css("max-width")),c&&!Number.isNaN(c)&&e.resizableWidth<c&&(e.resizableWidth=Math.max(e.resizableWidth,c)),p&&!Number.isNaN(p)&&e.resizableWidth>p&&(e.resizableWidth=Math.min(e.resizableWidth,p)),e.resizableWidth=Math.min(Math.max(e.resizableWidth,0),t.width),r[0].style.setProperty("--f7-page-master-width",e.resizableWidth+"px"))}};function Hd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wd(e,t){return Wd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Wd(e,t)}var Ud=function(e){var t,n;function r(t,n,r){var a;void 0===r&&(r={});var o,i=Hd(a=e.call(this,r,[t])||this);if(!i.params.routerId&&!Hp(n).length){var s="Framework7: can't create a View instance because ";throw new Error(s+="string"==typeof n?'the selector "'+n+"\" didn't match any element":"el must be an HTMLElement or Dom7 object")}return i.params=Fu({el:n},{routes:[],routesAdd:[]},t.params.view,r),i.params.routes.length>0?i.routes=i.params.routes:i.routes=[].concat(t.routes,i.params.routesAdd),Fu(!1,i,{app:t,name:i.params.name,main:i.params.main,history:[],scrollHistory:{}}),i.useModules(),t.views.push(i),i.main&&(t.views.main=i),i.name&&(t.views[i.name]=i),i.index=t.views.indexOf(i),o=i.name?"view_"+i.name:i.main?"view_main":"view_"+i.index,i.id=o,i.params.init?(t.initialized?i.init():t.on("init",(function(){i.init()})),i||Hd(a)):i||Hd(a)}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Wd(t,n);var a=r.prototype;return a.destroy=function(){var e=this,t=e.app;e.$el.trigger("view:beforedestroy"),e.emit("local::beforeDestroy viewBeforeDestroy",e),t.off("resize",e.checkMasterDetailBreakpoint),e.main?(t.views.main=null,delete t.views.main):e.name&&(t.views[e.name]=null,delete t.views[e.name]),e.$el[0].f7View=null,delete e.$el[0].f7View,t.views.splice(t.views.indexOf(e),1),e.params.router&&e.router&&e.router.destroy(),e.emit("local::destroy viewDestroy",e),Object.keys(e).forEach((function(t){e[t]=null,delete e[t]})),e=null},a.checkMasterDetailBreakpoint=function(e){var t=this,n=t.app,r=t.$el.hasClass("view-master-detail"),a=n.width>=t.params.masterDetailBreakpoint&&t.$el.children(".page-master").length;void 0===e&&a||!0===e?(t.$el.addClass("view-master-detail"),r||(t.emit("local::masterDetailBreakpoint viewMasterDetailBreakpoint",t),t.$el.trigger("view:masterDetailBreakpoint"))):(t.$el.removeClass("view-master-detail"),r&&(t.emit("local::masterDetailBreakpoint viewMasterDetailBreakpoint",t),t.$el.trigger("view:masterDetailBreakpoint")))},a.initMasterDetail=function(){var e=this,t=e.app;e.checkMasterDetailBreakpoint=e.checkMasterDetailBreakpoint.bind(e),e.checkMasterDetailBreakpoint(),e.params.masterDetailResizable&&jd(e),t.on("resize",e.checkMasterDetailBreakpoint)},a.mount=function(e){var t,n,r=this,a=r.app,o=r.params.el||e,i=Hp(o);t="string"==typeof o?o:(i.attr("id")?"#"+i.attr("id"):"")+(i.attr("class")?"."+i.attr("class").replace(/ /g,".").replace(".active",""):""),"ios"===a.theme&&r.params.iosDynamicNavbar&&0===(n=i.children(".navbars").eq(0)).length&&(n=Hp('<div class="navbars"></div>')),Fu(r,{$el:i,el:i[0],main:r.main||i.hasClass("view-main"),$navbarsEl:n,navbarsEl:n?n[0]:void 0,selector:t}),r.main&&(a.views.main=r),i&&i[0]&&(i[0].f7View=r),r.emit("local::mount viewMount",r)},a.init=function(e){var t=this;t.mount(e),t.params.router&&(t.params.masterDetailBreakpoint>0&&t.initMasterDetail(),t.router.init(),t.$el.trigger("view:init"),t.emit("local::init viewInit",t))},r}(nc);Ud.use(Vd);var qd=Ud;var Gd={name:"clicks",params:{clicks:{externalLinks:".external"}},on:{init:function(){!function(e){e.on("click",(function(t){var n=bu(),r=Hp(t.target),a=r.closest("a"),o=a.length>0,i=o&&a.attr("href");if(o&&(a.is(e.params.clicks.externalLinks)||i&&i.indexOf("javascript:")>=0)){var s=a.attr("target");i&&n.cordova&&n.cordova.InAppBrowser&&("_system"===s||"_blank"===s)?(t.preventDefault(),n.cordova.InAppBrowser.open(i,s)):i&&n.Capacitor&&n.Capacitor.Plugins&&n.Capacitor.Plugins.Browser&&("_system"===s||"_blank"===s)&&(t.preventDefault(),n.Capacitor.Plugins.Browser.open({url:i}))}else{Object.keys(e.modules).forEach((function(n){var a=e.modules[n].clicks;a&&(t.preventF7Router||Object.keys(a).forEach((function(n){var o=r.closest(n).eq(0);o.length>0&&a[n].call(e,o,o.dataset(),t)})))}));var l={};if(o&&(t.preventDefault(),l=a.dataset()),l.clickedEl=a[0],!t.preventF7Router&&!a.hasClass("prevent-router")&&!a.hasClass("router-prevent")&&(i&&i.length>0&&"#"!==i[0]||a.hasClass("back"))){var u;if(l.view&&"current"===l.view?u=e.views.current:l.view?u=Hp(l.view)[0].f7View:(u=r.parents(".view")[0]&&r.parents(".view")[0].f7View,!a.hasClass("back")&&u&&u.params.linksView&&("string"==typeof u.params.linksView?u=Hp(u.params.linksView)[0].f7View:u.params.linksView instanceof qd&&(u=u.params.linksView))),u||e.views.main&&(u=e.views.main),!u||!u.router)return;a[0].f7RouteProps&&(l.props=a[0].f7RouteProps),a.hasClass("back")?u.router.back(i,l):u.router.navigate(i,l)}}}))}(this)}}},Xd={name:"history",static:{history:Sd},on:{init:function(){Sd.init(this)}}},Yd={registrations:[],register:function(e,t){var n=this;return"serviceWorker"in bu().navigator&&n.serviceWorker.container?new Promise((function(r,a){n.serviceWorker.container.register(e,t?{scope:t}:{}).then((function(e){Yd.registrations.push(e),n.emit("serviceWorkerRegisterSuccess",e),r(e)})).catch((function(e){n.emit("serviceWorkerRegisterError",e),a(e)}))})):new Promise((function(e,t){t(new Error("Service worker is not supported"))}))},unregister:function(e){var t,n=this;return"serviceWorker"in bu().navigator&&n.serviceWorker.container?(t=e?Array.isArray(e)?e:[e]:Yd.registrations,Promise.all(t.map((function(e){return new Promise((function(t,r){e.unregister().then((function(){Yd.registrations.indexOf(e)>=0&&Yd.registrations.splice(Yd.registrations.indexOf(e),1),n.emit("serviceWorkerUnregisterSuccess",e),t()})).catch((function(t){n.emit("serviceWorkerUnregisterError",e,t),r(t)}))}))})))):new Promise((function(e,t){t(new Error("Service worker is not supported"))}))}},Kd={name:"sw",params:{serviceWorker:{path:void 0,scope:void 0}},create:function(){var e=this,t=bu();Fu(e,{serviceWorker:{container:"serviceWorker"in t.navigator?t.navigator.serviceWorker:void 0,registrations:Yd.registrations,register:Yd.register.bind(e),unregister:Yd.unregister.bind(e)}})},on:{init:function(){var e=bu();if("serviceWorker"in e.navigator){var t=this;if(!(t.device.cordova||e.Capacitor&&e.Capacitor.isNative)&&t.serviceWorker.container){var n=t.params.serviceWorker.path,r=t.params.serviceWorker.scope;if(n&&(!Array.isArray(n)||n.length))(Array.isArray(n)?n:[n]).forEach((function(e){t.serviceWorker.register(e,r)}))}}}}};function Jd(){return Jd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jd.apply(this,arguments)}var Qd=function(e){void 0===e&&(e={});var t={__store:!0},n=Jd({},e.state||{}),r=Jd({},e.actions||{}),a=Jd({},e.getters||{}),o=Fu({},n),i=[],s={},l={};Object.keys(a).forEach((function(e){s[e]=[],l[e]=[]}));var u=function(e){return a[e]({state:t.state})},c=function(e,t){l[e]||(l[e]=[]),l[e].push(t)};t.__removeCallback=function(e){!function(e){Object.keys(l).forEach((function(t){var n=l[t];n.indexOf(e)>=0&&n.splice(n.indexOf(e),1)}))}(e)};var p=function(e,t){if(void 0===t&&(t=!0),"constructor"!==e){i=[];var n=u(e);!function(e,t){s[e]||(s[e]=[]),t.forEach((function(t){s[e].indexOf(t)<0&&s[e].push(t)}))}(e,i);var r={value:n,onUpdated:function(t){c(e,t)}};if(!t)return r;var a=function(e){r.value=e};return r.__callback=a,c(e,a),r}};return t.state=new Proxy(o,{set:function(e,t,n){var r;return e[t]=n,r=t,Object.keys(s).filter((function(e){return s[e].indexOf(r)>=0})).forEach((function(e){l[e]&&l[e].length&&l[e].forEach((function(t){t(u(e))}))})),!0},get:function(e,t){return i.push(t),e[t]}}),t.getters=new Proxy(a,{set:function(){return!1},get:function(e,t){if(e[t])return p(t,!0)}}),t._gettersPlain=new Proxy(a,{set:function(){return!1},get:function(e,t){if(e[t])return p(t,!1)}}),t.dispatch=function(e,n){return new Promise((function(a,o){if(!r[e])throw o(),new Error('Framework7: Store action "'+e+'" is not found');a(r[e]({state:t.state,dispatch:t.dispatch},n))}))},t},Zd={name:"store",static:{createStore:Qd},proto:{createStore:Qd}},ef=function(){var e=bu();return e.Capacitor&&e.Capacitor.isNative&&e.Capacitor.Plugins&&e.Capacitor.Plugins.StatusBar},tf={hide:function(){var e=bu();Ku().cordova&&e.StatusBar&&e.StatusBar.hide(),ef()&&e.Capacitor.Plugins.StatusBar.hide()},show:function(){var e=bu();Ku().cordova&&e.StatusBar&&e.StatusBar.show(),ef()&&e.Capacitor.Plugins.StatusBar.show()},onClick:function(){var e;(e=Hp(".popup.modal-in").length>0?Hp(".popup.modal-in").find(".page:not(.page-previous):not(.page-next):not(.cached)").find(".page-content"):Hp(".panel.panel-in").length>0?Hp(".panel.panel-in").find(".page:not(.page-previous):not(.page-next):not(.cached)").find(".page-content"):Hp(".views > .view.tab-active").length>0?Hp(".views > .view.tab-active").find(".page:not(.page-previous):not(.page-next):not(.cached)").find(".page-content"):Hp(".views").length>0?Hp(".views").find(".page:not(.page-previous):not(.page-next):not(.cached)").find(".page-content"):this.$el.children(".view").find(".page:not(.page-previous):not(.page-next):not(.cached)").find(".page-content"))&&e.length>0&&(e.hasClass("tab")&&(e=e.parent(".tabs").children(".page-content.tab-active")),e.length>0&&e.scrollTop(0,300))},setTextColor:function(e){var t=bu();Ku().cordova&&t.StatusBar&&("white"===e?t.StatusBar.styleLightContent():t.StatusBar.styleDefault()),ef()&&("white"===e?t.Capacitor.Plugins.StatusBar.setStyle({style:"DARK"}):t.Capacitor.Plugins.StatusBar.setStyle({style:"LIGHT"}))},setBackgroundColor:function(e){var t=bu();Ku().cordova&&t.StatusBar&&t.StatusBar.backgroundColorByHexString(e),ef()&&t.Capacitor.Plugins.StatusBar.setBackgroundColor({color:e})},isVisible:function(){var e=bu(),t=Ku();return new Promise((function(n){t.cordova&&e.StatusBar&&n(e.StatusBar.isVisible),ef()&&e.Capacitor.Plugins.StatusBar.getInfo().then((function(e){n(e.visible)})),n(!1)}))},overlaysWebView:function(e){void 0===e&&(e=!0);var t=bu();Ku().cordova&&t.StatusBar&&t.StatusBar.overlaysWebView(e),ef()&&t.Capacitor.Plugins.StatusBar.setOverlaysWebView({overlay:e})},init:function(){var e=bu(),t=Ku(),n=this.params.statusbar;if(n.enabled){var r=t.cordova&&e.StatusBar,a=ef();(r||a)&&(n.scrollTopOnClick&&Hp(e).on("statusTap",tf.onClick.bind(this)),t.ios&&(n.iosOverlaysWebView?tf.overlaysWebView(!0):tf.overlaysWebView(!1),"white"===n.iosTextColor?tf.setTextColor("white"):tf.setTextColor("black")),t.android&&(n.androidOverlaysWebView?tf.overlaysWebView(!0):tf.overlaysWebView(!1),"white"===n.androidTextColor?tf.setTextColor("white"):tf.setTextColor("black"))),n.iosBackgroundColor&&t.ios&&tf.setBackgroundColor(n.iosBackgroundColor),n.androidBackgroundColor&&t.android&&tf.setBackgroundColor(n.androidBackgroundColor)}}},nf={name:"statusbar",params:{statusbar:{enabled:!0,scrollTopOnClick:!0,iosOverlaysWebView:!0,iosTextColor:"black",iosBackgroundColor:null,androidOverlaysWebView:!1,androidTextColor:"black",androidBackgroundColor:null}},create:function(){Gu(this,{statusbar:tf})},on:{init:function(){tf.init.call(this)}}};var rf={name:"view",params:{view:{init:!0,name:void 0,main:!1,router:!0,linksView:null,stackPages:!1,xhrCache:!0,xhrCacheIgnore:[],xhrCacheIgnoreGetParameters:!1,xhrCacheDuration:6e5,componentCache:!0,preloadPreviousPage:!0,allowDuplicateUrls:!1,reloadPages:!1,reloadDetail:!1,masterDetailBreakpoint:0,masterDetailResizable:!1,removeElements:!0,removeElementsWithTimeout:!1,removeElementsTimeout:0,restoreScrollTopOnBack:!0,unloadTabContent:!0,passRouteQueryToRequest:!0,passRouteParamsToRequest:!1,loadInitialPage:!0,iosSwipeBack:!0,iosSwipeBackAnimateShadow:!0,iosSwipeBackAnimateOpacity:!0,iosSwipeBackActiveArea:30,iosSwipeBackThreshold:0,mdSwipeBack:!1,mdSwipeBackAnimateShadow:!0,mdSwipeBackAnimateOpacity:!1,mdSwipeBackActiveArea:30,mdSwipeBackThreshold:0,auroraSwipeBack:!1,auroraSwipeBackAnimateShadow:!1,auroraSwipeBackAnimateOpacity:!0,auroraSwipeBackActiveArea:30,auroraSwipeBackThreshold:0,browserHistory:!1,browserHistoryRoot:void 0,browserHistoryAnimate:!0,browserHistoryAnimateOnLoad:!1,browserHistorySeparator:"#!",browserHistoryOnLoad:!0,browserHistoryInitialMatch:!1,browserHistoryStoreHistory:!0,animate:!0,iosDynamicNavbar:!0,iosAnimateNavbarBackIcon:!0,iosPageLoadDelay:0,mdPageLoadDelay:0,auroraPageLoadDelay:0,routesBeforeEnter:null,routesBeforeLeave:null}},static:{View:qd},create:function(){var e=this;Fu(e,{views:Fu([],{create:function(t,n){return new qd(e,t,n)},get:function(e){var t=Hp(e);if(t.length&&t[0].f7View)return t[0].f7View}})}),Object.defineProperty(e.views,"current",{enumerable:!0,configurable:!0,get:function(){return function(e){var t=Hp(".popover.modal-in .view"),n=Hp(".popup.modal-in .view"),r=Hp(".panel.panel-in .view"),a=Hp(".views");0===a.length&&(a=e.$el);var o=a.children(".view");if(0===o.length&&(o=a.children(".tabs").children(".view")),o.length>1&&o.hasClass("tab")&&0===(o=a.children(".view.tab-active")).length&&(o=a.children(".tabs").children(".view.tab-active")),t.length>0&&t[0].f7View)return t[0].f7View;if(n.length>0&&n[0].f7View)return n[0].f7View;if(r.length>0&&r[0].f7View)return r[0].f7View;if(o.length>0){if(1===o.length&&o[0].f7View)return o[0].f7View;if(o.length>1)return e.views.main}}(e)}}),e.view=e.views},on:{init:function(){var e=this;Hp(".view-init").each((function(t){if(!t.f7View){var n=Hp(t).dataset();e.views.create(t,n)}}))},"modalOpen panelOpen":function(e){var t=this;e.$el.find(".view-init").each((function(e){if(!e.f7View){var n=Hp(e).dataset();t.views.create(e,n)}}))},"modalBeforeDestroy panelBeforeDestroy":function(e){e&&e.$el&&e.$el.find(".view-init").each((function(e){var t=e.f7View;t&&t.destroy()}))}},vnode:{"view-init":{insert:function(e){var t=e.elm;if(!t.f7View){var n=Hp(t).dataset();this.views.create(t,n)}},destroy:function(e){var t=e.elm.f7View;t&&t.destroy()}}}},af={size:function(e){var t=this,n=Hp(e);if(n.hasClass("navbars"))n=n.children(".navbar").each((function(e){t.navbar.size(e)}));else{var r=n.children(".navbar-inner");if(r.length){var a=r.hasClass("navbar-inner-centered-title")||t.params.navbar[t.theme+"CenterTitle"],o="ios"===t.theme&&!t.params.navbar[t.theme+"CenterTitle"];if((a||o)&&!(n.hasClass("stacked")||n.parents(".stacked").length>0||n.parents(".tab:not(.tab-active)").length>0||n.parents(".popup:not(.modal-in)").length>0)){"ios"!==t.theme&&t.params.navbar[t.theme+"CenterTitle"]&&r.addClass("navbar-inner-centered-title"),"ios"!==t.theme||t.params.navbar.iosCenterTitle||r.addClass("navbar-inner-left-title");var i,s,l,u,c=n.parents(".view").eq(0),p=t.rtl?r.children(".right"):r.children(".left"),d=t.rtl?r.children(".left"):r.children(".right"),f=r.children(".title"),h=r.children(".subnavbar"),v=0===p.length,m=0===d.length,g=v?0:p.outerWidth(!0),b=m?0:d.outerWidth(!0),y=f.outerWidth(!0),w=r.styles(),x=r[0].offsetWidth-parseInt(w.paddingLeft,10)-parseInt(w.paddingRight,10),C=n.hasClass("navbar-previous"),E=r.hasClass("sliding");c.length>0&&c[0].f7View&&(s=(i=c[0].f7View.router)&&i.dynamicNavbar),m&&(l=x-y),v&&(l=0),v||m||(l=(x-b-y+g)/2);var k=(x-y)/2;x-g-b>y?(k<g&&(k=g),k+y>x-b&&(k=x-b-y),u=k-l):u=0;var S=t.rtl?-1:1;if(s&&"ios"===t.theme){if(f.hasClass("sliding")||f.length>0&&E){var T=-(l+u)*S,O=(x-l-u-y)*S;if(C&&i&&i.params.iosAnimateNavbarBackIcon){var I=n.parent().find(".navbar-current").children(".left.sliding").find(".back .icon ~ span");I.length>0&&(T+=I[0].offsetLeft)}f[0].f7NavbarLeftOffset=T,f[0].f7NavbarRightOffset=O}if(!v&&(p.hasClass("sliding")||E))if(t.rtl)p[0].f7NavbarLeftOffset=-(x-p[0].offsetWidth)/2*S,p[0].f7NavbarRightOffset=g*S;else if(p[0].f7NavbarLeftOffset=-g,p[0].f7NavbarRightOffset=(x-p[0].offsetWidth)/2,i&&i.params.iosAnimateNavbarBackIcon&&p.find(".back .icon").length>0&&p.find(".back .icon ~ span").length){var N=p[0].f7NavbarLeftOffset,A=p[0].f7NavbarRightOffset;p[0].f7NavbarLeftOffset=0,p[0].f7NavbarRightOffset=0,p.find(".back .icon ~ span")[0].f7NavbarLeftOffset=N,p.find(".back .icon ~ span")[0].f7NavbarRightOffset=A-p.find(".back .icon")[0].offsetWidth}m||!d.hasClass("sliding")&&!E||(t.rtl?(d[0].f7NavbarLeftOffset=-b*S,d[0].f7NavbarRightOffset=(x-d[0].offsetWidth)/2*S):(d[0].f7NavbarLeftOffset=-(x-d[0].offsetWidth)/2,d[0].f7NavbarRightOffset=b)),h.length&&(h.hasClass("sliding")||E)&&(h[0].f7NavbarLeftOffset=t.rtl?h[0].offsetWidth:-h[0].offsetWidth,h[0].f7NavbarRightOffset=-h[0].f7NavbarLeftOffset)}if(a){var _=u;t.rtl&&v&&m&&f.length>0&&(_=-_),f.css({left:_+"px"})}}}}},hide:function(e,t,n,r){void 0===t&&(t=!0),void 0===n&&(n=!1),void 0===r&&(r=!1);var a=this,o=Hp(e),i=o.hasClass("navbar")&&o.parent(".navbars").length&&!r;if(i&&(o=o.parents(".navbars")),o.length&&!o.hasClass("navbar-hidden")){var s="navbar-hidden"+(t?" navbar-transitioning":"");(i?o.find(".navbar-current .title-large").length:o.find(".title-large").length)&&(s+=" navbar-large-hidden"),n&&(s+=" navbar-hidden-statusbar"),o.transitionEnd((function(){o.removeClass("navbar-transitioning")})),o.addClass(s),i?o.children(".navbar").each((function(e){Hp(e).trigger("navbar:hide"),a.emit("navbarHide",e)})):(o.trigger("navbar:hide"),a.emit("navbarHide",o[0]))}},show:function(e,t,n){void 0===e&&(e=".navbar-hidden"),void 0===t&&(t=!0),void 0===n&&(n=!1);var r=this,a=Hp(e),o=a.hasClass("navbar")&&a.parent(".navbars").length&&!n;o&&(a=a.parents(".navbars")),a.length&&a.hasClass("navbar-hidden")&&(t&&(a.addClass("navbar-transitioning"),a.transitionEnd((function(){a.removeClass("navbar-transitioning")}))),a.removeClass("navbar-hidden navbar-large-hidden navbar-hidden-statusbar"),o?a.children(".navbar").each((function(e){Hp(e).trigger("navbar:show"),r.emit("navbarShow",e)})):(a.trigger("navbar:show"),r.emit("navbarShow",a[0])))},getElByPage:function(e){var t,n,r;if(e.$navbarEl||e.$el?(r=e,t=e.$el):(t=Hp(e)).length>0&&(r=t[0].f7Page),r&&r.$navbarEl&&r.$navbarEl.length>0?n=r.$navbarEl:t&&(n=t.children(".navbar")),n&&(!n||0!==n.length))return n[0]},getPageByEl:function(e){var t,n=Hp(e);return n.parents(".page").length?n.parents(".page")[0]:(n.parents(".view").find(".page").each((function(e){e&&e.f7Page&&e.f7Page.navbarEl&&n[0]===e.f7Page.navbarEl&&(t=e)})),t)},collapseLargeTitle:function(e){var t=this,n=Hp(e);if(!(n.hasClass("navbars")&&((n=n.find(".navbar")).length>1&&(n=Hp(e).find(".navbar-large.navbar-current")),n.length>1||!n.length))){var r=Hp(t.navbar.getPageByEl(n));n.addClass("navbar-large-collapsed"),r.eq(0).addClass("page-with-navbar-large-collapsed").trigger("page:navbarlargecollapsed"),t.emit("pageNavbarLargeCollapsed",r[0]),n.trigger("navbar:collapse"),t.emit("navbarCollapse",n[0])}},expandLargeTitle:function(e){var t=this,n=Hp(e);if(!(n.hasClass("navbars")&&((n=n.find(".navbar-large")).length>1&&(n=Hp(e).find(".navbar-large.navbar-current")),n.length>1||!n.length))){var r=Hp(t.navbar.getPageByEl(n));n.removeClass("navbar-large-collapsed"),r.eq(0).removeClass("page-with-navbar-large-collapsed").trigger("page:navbarlargeexpanded"),t.emit("pageNavbarLargeExpanded",r[0]),n.trigger("navbar:expand"),t.emit("navbarExpand",n[0])}},toggleLargeTitle:function(e){var t=Hp(e);t.hasClass("navbars")&&((t=t.find(".navbar-large")).length>1&&(t=Hp(e).find(".navbar-large.navbar-current")),t.length>1||!t.length)||(t.hasClass("navbar-large-collapsed")?this.navbar.expandLargeTitle(t):this.navbar.collapseLargeTitle(t))},initNavbarOnScroll:function(e,t,n,r,a){var o,i,s,l,u,c,p,d,f,h,v,m,g,b,y=this,w=Yu(),x=Hp(e),C=Hp(t),E=C.find(".title-large"),k=E.length||C.hasClass(".navbar-large"),S=44,T=y.params.navbar.snapPageScrollToLargeTitle,O=y.params.navbar.snapPageScrollToTransparentNavbar;(r||n&&k)&&((f=C.css("--f7-navbar-large-title-height"))&&f.indexOf("px")>=0?(f=parseInt(f,10),Number.isNaN(f)&&E.length?f=E[0].offsetHeight:Number.isNaN(f)&&("ios"===y.theme?f=52:"md"===y.theme?f=48:"aurora"===y.theme&&(f=38))):E.length?f=E[0].offsetHeight:"ios"===y.theme?f=52:"md"===y.theme?f=48:"aurora"===y.theme&&(f=38)),n&&k&&(S+=f);var I=70,N=300;function A(){x.find(".page-content").each((function(e){e.f7ScrollableDistance=e.scrollHeight-e.offsetHeight}))}function _(){C.hasClass("with-searchbar-expandable-enabled")||!m||i<0||(i>=f/2&&i<f?Hp(m).scrollTop(f,100):i<f&&Hp(m).scrollTop(0,200))}function R(){C.hasClass("with-searchbar-expandable-enabled")||!m||i<0||(i>=h/2&&i<h?Hp(m).scrollTop(h,100):i<h&&Hp(m).scrollTop(0,200))}var M=null,P=null;function D(e){m=this,e&&e.target&&e.target!==m||(i=m.scrollTop,v=i,r?function(e){if(!C.hasClass("navbar-hidden")&&!C.parent(".navbars").hasClass("navbar-hidden")){var t=C.hasClass("navbar-large-transparent")||C.hasClass("navbar-large")&&C.hasClass("navbar-transparent");M=P;var n=Math.min(f,e.f7ScrollableDistance||f);P=Math.min(Math.max(i/n,0),1);var r=M>0&&M<1;C.hasClass("with-searchbar-expandable-enabled")||(d=C.hasClass("navbar-large-collapsed"),0===P&&d?y.navbar.expandLargeTitle(C[0]):1!==P||d||y.navbar.collapseLargeTitle(C[0]),0===P&&d||0===P&&r||1===P&&!d||1===P&&r?("md"===y.theme&&C.find(".navbar-inner").css("overflow",""),C.find(".title").css("opacity",""),C.find(".title-large-text, .subnavbar").css("transform",""),t?C.find(".navbar-bg").css("opacity",""):C.find(".navbar-bg").css("transform","")):P>0&&P<1&&("md"===y.theme&&C.find(".navbar-inner").css("overflow","visible"),C.find(".title").css("opacity",P),C.find(".title-large-text, .subnavbar").css("transform","translate3d(0px, "+-1*P*f+"px, 0)"),t?C.find(".navbar-bg").css("opacity",P):C.find(".navbar-bg").css("transform","translate3d(0px, "+-1*P*f+"px, 0)")),T&&(w.touch?b&&(clearTimeout(b),b=null,b=setTimeout((function(){_(),clearTimeout(b),b=null}),I)):(clearTimeout(g),g=setTimeout((function(){_()}),N))))}}(m):a&&function(){var e=C.hasClass("navbar-hidden")||C.parent(".navbars").hasClass("navbar-hidden");if(!C.hasClass("with-searchbar-expandable-enabled")&&!e){h||(h=t.offsetHeight);var n=i/h,r=C.hasClass("navbar-transparent-visible");if(n=Math.max(Math.min(n,1),0),r&&1===n||!r&&0===n)C.find(".navbar-bg, .title").css("opacity","");else{if(r&&0===n)return C.trigger("navbar:transparenthide"),y.emit("navbarTransparentHide",C[0]),C.removeClass("navbar-transparent-visible"),void C.find(".navbar-bg, .title").css("opacity","");if(!r&&1===n)return C.trigger("navbar:transparentshow"),y.emit("navbarTransparentShow",C[0]),C.addClass("navbar-transparent-visible"),void C.find(".navbar-bg, .title").css("opacity","");C.find(".navbar-bg, .title").css("opacity",n),O&&(w.touch?b&&(clearTimeout(b),b=null,b=setTimeout((function(){R(),clearTimeout(b),b=null}),I)):(clearTimeout(g),g=setTimeout((function(){R()}),N)))}}}(),x.hasClass("page-previous")||n&&(x.hasClass("page-with-card-opened")||(s=m.scrollHeight,l=m.offsetHeight,u=i+l>=s,p=C.hasClass("navbar-hidden")||C.parent(".navbars").hasClass("navbar-hidden"),u?y.params.navbar.showOnPageScrollEnd&&(c="show"):c=o>i?y.params.navbar.showOnPageScrollTop||i<=S?"show":"hide":i>S?"hide":"show","show"===c&&p?(y.navbar.show(C,!0,!0),p=!1):"hide"!==c||p||(y.navbar.hide(C,!0,!1,!0),p=!0),o=i)))}function B(){v=!1}function L(){clearTimeout(b),b=null,b=setTimeout((function(){!1!==v&&(a&&!r?R():_(),clearTimeout(b),b=null)}),I)}x.on("scroll",".page-content",D,!0),w.touch&&(r&&T||a&&O)&&(y.on("touchstart:passive",B),y.on("touchend:passive",L)),A(),(r||a)&&x.find(".page-content").each((function(e){e.scrollTop>0&&D.call(e)})),y.on("resize",A),x[0].f7DetachNavbarScrollHandlers=function(){y.off("resize",A),delete x[0].f7DetachNavbarScrollHandlers,x.off("scroll",".page-content",D,!0),w.touch&&(r&&T||a&&O)&&(y.off("touchstart:passive",B),y.off("touchend:passive",L))}}},of={name:"navbar",create:function(){Gu(this,{navbar:af})},params:{navbar:{scrollTopOnTitleClick:!0,iosCenterTitle:!0,mdCenterTitle:!1,auroraCenterTitle:!0,hideOnPageScroll:!1,showOnPageScrollEnd:!0,showOnPageScrollTop:!0,collapseLargeTitleOnScroll:!0,snapPageScrollToLargeTitle:!0,snapPageScrollToTransparentNavbar:!0}},on:{"panelBreakpoint panelCollapsedBreakpoint panelResize viewResize resize viewMasterDetailBreakpoint":function(){var e=this;Hp(".navbar").each((function(t){e.navbar.size(t)}))},pageBeforeRemove:function(e){e.$el[0].f7DetachNavbarScrollHandlers&&e.$el[0].f7DetachNavbarScrollHandlers()},pageBeforeIn:function(e){var t=this;if("ios"===t.theme){var n,r=e.$el.parents(".view")[0].f7View,a=t.navbar.getElByPage(e);if(n=a?Hp(a).parents(".navbars"):e.$el.parents(".view").children(".navbars"),e.$el.hasClass("no-navbar")||r.router.dynamicNavbar&&!a){var o=!!(e.pageFrom&&e.router.history.length>0);t.navbar.hide(n,o)}else t.navbar.show(n)}},pageReinit:function(e){var t=Hp(this.navbar.getElByPage(e));t&&0!==t.length&&this.navbar.size(t)},pageInit:function(e){var t,n,r,a=this,o=Hp(a.navbar.getElByPage(e));o&&0!==o.length&&(a.navbar.size(o),o.find(".title-large").length>0&&o.addClass("navbar-large"),o.hasClass("navbar-large")&&(a.params.navbar.collapseLargeTitleOnScroll&&(t=!0),e.$el.addClass("page-with-navbar-large")),!t&&o.hasClass("navbar-transparent")&&(n=!0),(a.params.navbar.hideOnPageScroll||e.$el.find(".hide-navbar-on-scroll").length||e.$el.hasClass("hide-navbar-on-scroll")||e.$el.find(".hide-bars-on-scroll").length||e.$el.hasClass("hide-bars-on-scroll"))&&(r=!(e.$el.find(".keep-navbar-on-scroll").length||e.$el.hasClass("keep-navbar-on-scroll")||e.$el.find(".keep-bars-on-scroll").length||e.$el.hasClass("keep-bars-on-scroll"))),(t||r||n)&&a.navbar.initNavbarOnScroll(e.el,o[0],r,t,n))},"panelOpen panelSwipeOpen modalOpen":function(e){var t=this;e.$el.find(".navbar:not(.navbar-previous):not(.stacked)").each((function(e){t.navbar.size(e)}))},tabShow:function(e){var t=this;Hp(e).find(".navbar:not(.navbar-previous):not(.stacked)").each((function(e){t.navbar.size(e)}))}},clicks:{".navbar .title":function(e,t,n){if(this.params.navbar.scrollTopOnTitleClick&&!(Hp(n.target).closest("a, button").length>0)){var r,a=e.parents(".navbar"),o=a.parents(".navbars");0===(r=a.parents(".page-content")).length&&(a.parents(".page").length>0&&(r=a.parents(".page").find(".page-content")),0===r.length&&o.length&&o.nextAll(".page-current:not(.stacked)").length>0&&(r=o.nextAll(".page-current:not(.stacked)").find(".page-content")),0===r.length&&a.nextAll(".page-current:not(.stacked)").length>0&&(r=a.nextAll(".page-current:not(.stacked)").find(".page-content"))),r&&r.length>0&&(r.hasClass("tab")&&(r=r.parent(".tabs").children(".page-content.tab-active")),r.length>0&&r.scrollTop(0,300))}}},vnode:{navbar:{postpatch:function(e){this.navbar.size(e.elm)}}}},sf={setHighlight:function(e){var t=Hp(e);if(("ios"!==this.theme||t.hasClass("tabbar-highlight"))&&0!==t.length&&(t.hasClass("tabbar")||t.hasClass("tabbar-labels"))){var n=t.find(".tab-link-highlight"),r=t.find(".tab-link").length;if(0!==r){0===n.length?(t.children(".toolbar-inner").append('<span class="tab-link-highlight"></span>'),n=t.find(".tab-link-highlight")):n.next().length&&t.children(".toolbar-inner").append(n);var a,o,i=t.find(".tab-link-active");if(t.hasClass("tabbar-scrollable")&&i&&i[0])a=i[0].offsetWidth+"px",o=i[0].offsetLeft+"px";else{var s=i.index();a=100/r+"%",o=100*(this.rtl?-s:s)+"%"}Ru((function(){n.css("width",a).transform("translate3d("+o+",0,0)")}))}else n.remove()}},init:function(e){this.toolbar.setHighlight(e)},hide:function(e,t){void 0===t&&(t=!0);var n=Hp(e);if(!n.hasClass("toolbar-hidden")){var r="toolbar-hidden"+(t?" toolbar-transitioning":"");n.transitionEnd((function(){n.removeClass("toolbar-transitioning")})),n.addClass(r),n.trigger("toolbar:hide"),this.emit("toolbarHide",n[0])}},show:function(e,t){void 0===t&&(t=!0);var n=Hp(e);n.hasClass("toolbar-hidden")&&(t&&(n.addClass("toolbar-transitioning"),n.transitionEnd((function(){n.removeClass("toolbar-transitioning")}))),n.removeClass("toolbar-hidden"),n.trigger("toolbar:show"),this.emit("toolbarShow",n[0]))},initToolbarOnScroll:function(e){var t,n,r,a,o,i,s,l=this,u=Hp(e),c=u.parents(".view").children(".toolbar");(0===c.length&&(c=u.find(".toolbar")),0===c.length&&(c=u.parents(".views").children(".tabbar, .tabbar-labels")),0!==c.length)&&(u.on("scroll",".page-content",p,!0),u[0].f7ScrollToolbarHandler=p);function p(e){if(!u.hasClass("page-with-card-opened")&&!u.hasClass("page-previous")){var p=this;e&&e.target&&e.target!==p||(n=p.scrollTop,r=p.scrollHeight,a=p.offsetHeight,o=n+a>=r,s=c.hasClass("toolbar-hidden"),o?l.params.toolbar.showOnPageScrollEnd&&(i="show"):i=t>n?l.params.toolbar.showOnPageScrollTop||n<=44?"show":"hide":n>44?"hide":"show","show"===i&&s?(l.toolbar.show(c),s=!1):"hide"!==i||s||(l.toolbar.hide(c),s=!0),t=n)}}}},lf={name:"toolbar",create:function(){Gu(this,{toolbar:sf})},params:{toolbar:{hideOnPageScroll:!1,showOnPageScrollEnd:!0,showOnPageScrollTop:!0}},on:{pageBeforeRemove:function(e){e.$el[0].f7ScrollToolbarHandler&&e.$el.off("scroll",".page-content",e.$el[0].f7ScrollToolbarHandler,!0)},pageBeforeIn:function(e){var t=e.$el.parents(".view").children(".toolbar");0===t.length&&(t=e.$el.parents(".views").children(".tabbar, .tabbar-labels")),0===t.length&&(t=e.$el.find(".toolbar")),0!==t.length&&(e.$el.hasClass("no-toolbar")?this.toolbar.hide(t):this.toolbar.show(t))},pageInit:function(e){var t=this;if(e.$el.find(".tabbar, .tabbar-labels").each((function(e){t.toolbar.init(e)})),t.params.toolbar.hideOnPageScroll||e.$el.find(".hide-toolbar-on-scroll").length||e.$el.hasClass("hide-toolbar-on-scroll")||e.$el.find(".hide-bars-on-scroll").length||e.$el.hasClass("hide-bars-on-scroll")){if(e.$el.find(".keep-toolbar-on-scroll").length||e.$el.hasClass("keep-toolbar-on-scroll")||e.$el.find(".keep-bars-on-scroll").length||e.$el.hasClass("keep-bars-on-scroll"))return;t.toolbar.initToolbarOnScroll(e.el)}},init:function(){var e=this;e.$el.find(".tabbar, .tabbar-labels").each((function(t){e.toolbar.init(t)}))}},vnode:{tabbar:{insert:function(e){this.toolbar.init(e.elm)}}}},uf={name:"subnavbar",on:{pageInit:function(e){e.$navbarEl&&e.$navbarEl.length&&e.$navbarEl.find(".subnavbar").length&&e.$el.addClass("page-with-subnavbar"),e.$el.find(".subnavbar").filter((function(t){return Hp(t).parents(".page")[0]===e.$el[0]})).length&&e.$el.addClass("page-with-subnavbar")}}},cf=function(){function e(e,t,n,r){var a=this;if(t){var o=t[0].getBoundingClientRect(),i=o.left,s=o.top,l=o.width,u=o.height,c=n-i,p=r-s,d=Math.max(Math.pow(Math.pow(u,2)+Math.pow(l,2),.5),48),f=!1,h=e.params.touch.touchRippleInsetElements||"";if(h&&t.is(h)&&(f=!0),f&&(d=Math.max(Math.min(l,u),48)),f||"hidden"!==t.css("overflow"))a.rippleTransform="translate3d("+(l/2-c)+"px, "+(u/2-p)+"px, 0) scale(1)";else{var v=(d/2+Math.pow(Math.pow(c-l/2,2)+Math.pow(p-u/2,2),.5))/(d/2);a.rippleTransform="translate3d(0px, 0px, 0) scale("+v+")"}return f&&t.addClass("ripple-inset"),a.$rippleWaveEl=Hp('<div class="ripple-wave" style="width: '+d+"px; height: "+d+"px; margin-top:-"+d/2+"px; margin-left:-"+d/2+"px; left:"+c+"px; top:"+p+"px; --f7-ripple-transform: "+a.rippleTransform+'"></div>'),t.prepend(a.$rippleWaveEl),a.$rippleWaveEl.animationEnd((function(){a.$rippleWaveEl&&(a.$rippleWaveEl.hasClass("ripple-wave-out")||(a.$rippleWaveEl.addClass("ripple-wave-in"),a.shouldBeRemoved&&a.out()))})),a}}var t=e.prototype;return t.destroy=function(){var e=this;e.$rippleWaveEl&&e.$rippleWaveEl.remove(),Object.keys(e).forEach((function(t){e[t]=null,delete e[t]})),e=null},t.out=function(){var e=this,t=this.$rippleWaveEl;clearTimeout(e.removeTimeout),t.addClass("ripple-wave-out"),e.removeTimeout=setTimeout((function(){e.destroy()}),300),t.animationEnd((function(){clearTimeout(e.removeTimeout),e.destroy()}))},t.remove=function(){var e=this;e.shouldBeRemoved||(e.removeTimeout=setTimeout((function(){e.destroy()}),400),e.shouldBeRemoved=!0,e.$rippleWaveEl.hasClass("ripple-wave-in")&&e.out())},e}();function pf(e,t,n){return pf=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&df(a,n.prototype),a},pf.apply(null,arguments)}function df(e,t){return df=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},df(e,t)}var ff={name:"touch-ripple",static:{TouchRipple:cf},create:function(){this.touchRipple={create:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return pf(cf,t)}}}};function hf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vf(e,t){return vf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},vf(e,t)}var mf=[],gf=[];var bf=function(e){var t,n;function r(t,n){var r,a=hf(r=e.call(this,n,[t])||this),o={};a.useModulesParams(o),a.params=Fu(o,n),a.opened=!1;var i=a.params.containerEl?Hp(a.params.containerEl).eq(0):t.$el;return i.length||(i=t.$el),a.$containerEl=i,a.containerEl=i[0],a.useModules(),hf(r)||hf(r)}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,vf(t,n);var a=r.prototype;return a.onOpen=function(){var e=this;e.opened=!0,mf.push(e),Hp("html").addClass("with-modal-"+e.type.toLowerCase()),e.$el.trigger("modal:open "+e.type.toLowerCase()+":open"),e.emit("local::open modalOpen "+e.type+"Open",e)},a.onOpened=function(){var e=this;e.$el.trigger("modal:opened "+e.type.toLowerCase()+":opened"),e.emit("local::opened modalOpened "+e.type+"Opened",e)},a.onClose=function(){var e=this;e.opened=!1,e.type&&e.$el&&(mf.splice(mf.indexOf(e),1),Hp("html").removeClass("with-modal-"+e.type.toLowerCase()),e.$el.trigger("modal:close "+e.type.toLowerCase()+":close"),e.emit("local::close modalClose "+e.type+"Close",e))},a.onClosed=function(){var e=this;e.type&&e.$el&&(e.$el.removeClass("modal-out"),e.$el.hide(),e.$el.trigger("modal:closed "+e.type.toLowerCase()+":closed"),e.emit("local::closed modalClosed "+e.type+"Closed",e))},a.open=function(e){var t,n=this,r=mu(),a=n.app,o=n.$el,i=n.$backdropEl,s=n.type,l=!0;if(void 0!==e?l=e:void 0!==n.params.animate&&(l=n.params.animate),!o||o.hasClass("modal-in"))return!1===e&&o[0]&&"dialog"!==s&&(o[0].style.display="block"),n;if("dialog"===s&&a.params.modal.queueDialogs&&(Hp(".dialog.modal-in").length>0?t=!0:mf.length>0&&mf.forEach((function(e){"dialog"===e.type&&(t=!0)})),t))return gf.push(n),n;var u=o.parent(),c=o.parents(r).length>0;function p(){o.hasClass("modal-out")?n.onClosed():o.hasClass("modal-in")&&n.onOpened()}return u.is(n.$containerEl)||(n.$containerEl.append(o),n.once(s+"Closed",(function(){c?u.append(o):o.remove()}))),o.show(),n._clientLeft=o[0].clientLeft,l?(i&&(i.removeClass("not-animated"),i.addClass("backdrop-in")),o.animationEnd((function(){p()})),o.transitionEnd((function(){p()})),o.removeClass("modal-out not-animated").addClass("modal-in"),n.onOpen()):(i&&i.addClass("backdrop-in not-animated"),o.removeClass("modal-out").addClass("modal-in not-animated"),n.onOpen(),n.onOpened()),n},a.close=function(e){var t=this,n=t.$el,r=t.$backdropEl,a=!0;if(void 0!==e?a=e:void 0!==t.params.animate&&(a=t.params.animate),!n||!n.hasClass("modal-in"))return gf.indexOf(t)>=0&&gf.splice(gf.indexOf(t),1),t;if(r){var o=!0;"popup"===t.type&&t.$el.prevAll(".popup.modal-in").add(t.$el.nextAll(".popup.modal-in")).each((function(e){var n=e.f7Modal;n&&n.params.closeByBackdropClick&&n.params.backdrop&&n.backdropEl===t.backdropEl&&(o=!1)})),o&&(r[a?"removeClass":"addClass"]("not-animated"),r.removeClass("backdrop-in"))}function i(){n.hasClass("modal-out")?t.onClosed():n.hasClass("modal-in")&&t.onOpened()}return n[a?"removeClass":"addClass"]("not-animated"),a?(n.animationEnd((function(){i()})),n.transitionEnd((function(){i()})),n.removeClass("modal-in").addClass("modal-out"),t.onClose()):(n.addClass("not-animated").removeClass("modal-in").addClass("modal-out"),t.onClose(),t.onClosed()),"dialog"===t.type&&0!==gf.length&&gf.shift().open(),t},a.destroy=function(){var e=this;e.destroyed||(e.emit("local::beforeDestroy modalBeforeDestroy "+e.type+"BeforeDestroy",e),e.$el&&(e.$el.trigger("modal:beforedestroy "+e.type.toLowerCase()+":beforedestroy"),e.$el.length&&e.$el[0].f7Modal&&delete e.$el[0].f7Modal),Iu(e),e.destroyed=!0)},r}(nc),yf=bf;function wf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xf(e,t){return xf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},xf(e,t)}var Cf=function(e){var t,n;function r(t,n){var r,a,o,i=Fu({backdrop:!0,closeByBackdropClick:!0,on:{}},n),s=wf(r=e.call(this,t,i)||this);if(s.params=i,(a=s.params.el?Hp(s.params.el):Hp(s.params.content))&&a.length>0&&a[0].f7Modal)return a[0].f7Modal||wf(r);if(0===a.length)return s.destroy()||wf(r);function l(e){s&&!s.destroyed&&o&&e.target===o[0]&&s.close()}return s.params.backdrop&&0===(o=t.$el.children(".custom-modal-backdrop")).length&&(o=Hp('<div class="custom-modal-backdrop"></div>'),t.$el.append(o)),s.on("customModalOpened",(function(){s.params.closeByBackdropClick&&s.params.backdrop&&t.on("click",l)})),s.on("customModalClose",(function(){s.params.closeByBackdropClick&&s.params.backdrop&&t.off("click",l)})),Fu(s,{app:t,$el:a,el:a[0],$backdropEl:o,backdropEl:o&&o[0],type:"customModal"}),a[0].f7Modal=s,s||wf(r)}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,xf(t,n),r}(yf),Ef=Cf,kf={name:"modal",static:{Modal:yf,CustomModal:Ef},create:function(){var e=this;e.customModal={create:function(t){return new Ef(e,t)}}},params:{modal:{queueDialogs:!0}}},Sf=function(e,t){for(var n=t||{},r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var i=a||[],s=Object.keys(n).map((function(e){return"_"===e[0]?n[e]?e.replace("_",""):"":e+'="'+n[e]+'"'})).filter((function(e){return!!e})).join(" ");return["path","img","circle","polygon","line","input"].indexOf(e)>=0?("<"+e+" "+s+" />").trim():("<"+e+" "+s+">"+i.filter((function(e){return!!e})).map((function(e){return Array.isArray(e)?e.join(""):e})).join("")+"</"+e+">").trim()};function Tf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Of(e,t){return Of=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Of(e,t)}var If=function(e){var t,n;function r(t,n){var r,a=Fu({title:t.params.dialog.title,text:void 0,content:"",buttons:[],verticalButtons:!1,onClick:void 0,cssClass:void 0,destroyOnClose:!1,on:{}},n);void 0===a.closeByBackdropClick&&(a.closeByBackdropClick=t.params.dialog.closeByBackdropClick),void 0===a.backdrop&&(a.backdrop=t.params.dialog.backdrop);var o,i,s,l=Tf(r=e.call(this,t,a)||this),u=Ku(),c=mu(),p=a.title,d=a.text,f=a.content,h=a.buttons,v=a.verticalButtons,m=a.cssClass,g=a.backdrop;if(l.params=a,l.params.el)o=Hp(l.params.el);else{var b=["dialog"];0===h.length&&b.push("dialog-no-buttons"),h.length>0&&b.push("dialog-buttons-"+h.length),v&&b.push("dialog-buttons-vertical"),m&&b.push(m);var y="";h.length>0&&(y=Sf("div",{class:"dialog-buttons"},h.map((function(e){return Sf("span",{class:"dialog-button"+(e.bold?" dialog-button-bold":"")+(e.color?" color-"+e.color:"")+(e.cssClass?" "+e.cssClass:"")},e.text)}))));var w=Sf("div",{class:b.join(" ")},Sf("div",{class:"dialog-inner"},p&&Sf("div",{class:"dialog-title"},p),d&&Sf("div",{class:"dialog-text"},d),f),y);o=Hp(w)}if(o&&o.length>0&&o[0].f7Modal)return o[0].f7Modal||Tf(r);if(0===o.length)return l.destroy()||Tf(r);function x(e){var t=Hp(this).index(),n=h[t];n.onClick&&n.onClick(l,e),l.params.onClick&&l.params.onClick(l,t),!1!==n.close&&l.close()}function C(e){var t=e.keyCode;h.forEach((function(n,r){n.keyCodes&&n.keyCodes.indexOf(t)>=0&&(c.activeElement&&c.activeElement.blur(),n.onClick&&n.onClick(l,e),l.params.onClick&&l.params.onClick(l,r),!1!==n.close&&l.close())}))}function E(e){var t=e.target;0===Hp(t).closest(l.el).length&&l.params.closeByBackdropClick&&l.backdropEl&&l.backdropEl===t&&l.close()}return g&&0===(i=t.$el.children(".dialog-backdrop")).length&&(i=Hp('<div class="dialog-backdrop"></div>'),t.$el.append(i)),h&&h.length>0&&(l.on("open",(function(){o.find(".dialog-button").each((function(e,t){h[t].keyCodes&&(s=!0),Hp(e).on("click",x)})),!s||u.ios||u.android||u.cordova||u.capacitor||Hp(c).on("keydown",C)})),l.on("close",(function(){o.find(".dialog-button").each((function(e){Hp(e).off("click",x)})),!s||u.ios||u.android||u.cordova||u.capacitor||Hp(c).off("keydown",C),s=!1}))),Fu(l,{app:t,$el:o,el:o[0],$backdropEl:i,backdropEl:i&&i[0],type:"dialog",setProgress:function(e,n){return t.progressbar.set(o.find(".progressbar"),e,n),l},setText:function(e){var t=o.find(".dialog-text");return 0===t.length&&(t=Hp('<div class="dialog-text"></div>'),void 0!==p?t.insertAfter(o.find(".dialog-title")):o.find(".dialog-inner").prepend(t)),t.html(e),l.params.text=e,l},setTitle:function(e){var t=o.find(".dialog-title");return 0===t.length&&(t=Hp('<div class="dialog-title"></div>'),o.find(".dialog-inner").prepend(t)),t.html(e),l.params.title=e,l}}),l.on("opened",(function(){l.params.closeByBackdropClick&&t.on("click",E)})),l.on("close",(function(){l.params.closeByBackdropClick&&t.off("click",E)})),o[0].f7Modal=l,l.params.destroyOnClose&&l.once("closed",(function(){setTimeout((function(){l.destroy()}),0)})),l||Tf(r)}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Of(t,n),r}(yf),Nf=If;function Af(){return Af=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Af.apply(this,arguments)}var _f={name:"dialog",params:{dialog:{title:void 0,buttonOk:"OK",buttonCancel:"Cancel",usernamePlaceholder:"Username",passwordPlaceholder:"Password",preloaderTitle:"Loading... ",progressTitle:"Loading... ",backdrop:!0,closeByBackdropClick:!1,destroyPredefinedDialogs:!0,keyboardActions:!0,autoFocus:!0}},static:{Dialog:Nf},create:function(){var e=this;function t(){return e.params.dialog.title||e.name}var n=e.params.dialog.destroyPredefinedDialogs,r=e.params.dialog.keyboardActions,a=e.params.dialog.autoFocus?{on:{opened:function(e){e.$el.find("input").eq(0).focus()}}}:{};e.dialog=Fu(Xp({app:e,constructor:Nf,defaultSelector:".dialog.modal-in"}),{alert:function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];var s=o[0],l=o[1],u=o[2];return 2===o.length&&"function"==typeof o[1]&&(s=o[0],u=o[1],l=o[2]),new Nf(e,{title:void 0===l?t():l,text:s,buttons:[{text:e.params.dialog.buttonOk,bold:!0,onClick:u,keyCodes:r?[13,27]:null}],destroyOnClose:n}).open()},prompt:function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];var l=i[0],u=i[1],c=i[2],p=i[3],d=i[4];return"function"==typeof i[1]&&(l=i[0],c=i[1],p=i[2],d=i[3],u=i[4]),d=null==d?"":d,new Nf(e,Af({title:void 0===u?t():u,text:l,content:'<div class="dialog-input-field input"><input type="text" class="dialog-input" value="'+d+'"></div>',buttons:[{text:e.params.dialog.buttonCancel,keyCodes:r?[27]:null,color:"aurora"===e.theme?"gray":null},{text:e.params.dialog.buttonOk,bold:!0,keyCodes:r?[13]:null}],onClick:function(e,t){var n=e.$el.find(".dialog-input").val();0===t&&p&&p(n),1===t&&c&&c(n)},destroyOnClose:n},a)).open()},confirm:function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];var s=o[0],l=o[1],u=o[2],c=o[3];return"function"==typeof o[1]&&(s=o[0],u=o[1],c=o[2],l=o[3]),new Nf(e,{title:void 0===l?t():l,text:s,buttons:[{text:e.params.dialog.buttonCancel,onClick:c,keyCodes:r?[27]:null,color:"aurora"===e.theme?"gray":null},{text:e.params.dialog.buttonOk,bold:!0,onClick:u,keyCodes:r?[13]:null}],destroyOnClose:n}).open()},login:function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];var l=i[0],u=i[1],c=i[2],p=i[3];return"function"==typeof i[1]&&(l=i[0],c=i[1],p=i[2],u=i[3]),new Nf(e,Af({title:void 0===u?t():u,text:l,content:'\n              <div class="dialog-input-field dialog-input-double input">\n                <input type="text" name="dialog-username" placeholder="'+e.params.dialog.usernamePlaceholder+'" class="dialog-input">\n              </div>\n              <div class="dialog-input-field dialog-input-double input">\n                <input type="password" name="dialog-password" placeholder="'+e.params.dialog.passwordPlaceholder+'" class="dialog-input">\n              </div>',buttons:[{text:e.params.dialog.buttonCancel,keyCodes:r?[27]:null,color:"aurora"===e.theme?"gray":null},{text:e.params.dialog.buttonOk,bold:!0,keyCodes:r?[13]:null}],onClick:function(e,t){var n=e.$el.find('[name="dialog-username"]').val(),r=e.$el.find('[name="dialog-password"]').val();0===t&&p&&p(n,r),1===t&&c&&c(n,r)},destroyOnClose:n},a)).open()},password:function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];var l=i[0],u=i[1],c=i[2],p=i[3];return"function"==typeof i[1]&&(l=i[0],c=i[1],p=i[2],u=i[3]),new Nf(e,Af({title:void 0===u?t():u,text:l,content:'\n              <div class="dialog-input-field input">\n                <input type="password" name="dialog-password" placeholder="'+e.params.dialog.passwordPlaceholder+'" class="dialog-input">\n              </div>',buttons:[{text:e.params.dialog.buttonCancel,keyCodes:r?[27]:null,color:"aurora"===e.theme?"gray":null},{text:e.params.dialog.buttonOk,bold:!0,keyCodes:r?[13]:null}],onClick:function(e,t){var n=e.$el.find('[name="dialog-password"]').val();0===t&&p&&p(n),1===t&&c&&c(n)},destroyOnClose:n},a)).open()},preloader:function(t,r){var a={iosPreloaderContent:Su,mdPreloaderContent:ku,auroraPreloaderContent:Tu}[e.theme+"PreloaderContent"]||"";return new Nf(e,{title:null==t?e.params.dialog.preloaderTitle:t,content:'<div class="preloader'+(r?" color-"+r:"")+'">'+a+"</div>",cssClass:"dialog-preloader",destroyOnClose:n}).open()},progress:function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var o=r[0],i=r[1],s=r[2];2===r.length?"number"==typeof r[0]?(i=r[0],s=r[1],o=r[2]):"string"==typeof r[0]&&"string"==typeof r[1]&&(o=r[0],s=r[1],i=r[2]):1===r.length&&"number"==typeof r[0]&&(i=r[0],o=r[1],s=r[2]);var l=void 0===i,u=new Nf(e,{title:void 0===o?e.params.dialog.progressTitle:o,cssClass:"dialog-progress",content:'\n              <div class="progressbar'+(l?"-infinite":"")+(s?" color-"+s:"")+'">\n                '+(l?"":"<span></span>")+"\n              </div>\n            ",destroyOnClose:n});return l||u.setProgress(i),u.open()}})}};function Rf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mf(e,t){return Mf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Mf(e,t)}var Pf=function(e){var t,n;function r(t,n){var r,a,o,i,s,l=Fu({on:{}},t.params.popup,n),u=Rf(r=e.call(this,t,l)||this),c=bu(),p=mu(),d=Yu(),f=Ku();if(u.params=l,(a=u.params.el?Hp(u.params.el).eq(0):Hp(u.params.content).filter((function(e){return 1===e.nodeType})).eq(0))&&a.length>0&&a[0].f7Modal)return a[0].f7Modal||Rf(r);if(0===a.length)return u.destroy()||Rf(r);function h(e){var t=e.target,n=Hp(t);if(!(!f.desktop&&f.cordova&&(c.Keyboard&&c.Keyboard.isVisible||c.cordova.plugins&&c.cordova.plugins.Keyboard&&c.cordova.plugins.Keyboard.isVisible))&&0===n.closest(u.el).length&&u.params&&u.params.closeByBackdropClick&&u.params.backdrop&&u.backdropEl&&u.backdropEl===t){var r=!0;u.$el.nextAll(".popup.modal-in").each((function(e){var t=e.f7Modal;t&&t.params.closeByBackdropClick&&t.params.backdrop&&t.backdropEl===u.backdropEl&&(r=!1)})),r&&u.close()}}function v(e){27===e.keyCode&&u.params.closeOnEscape&&u.close()}function m(e){return(t.height-2*e)/t.height}u.params.backdrop&&u.params.backdropEl?o=Hp(u.params.backdropEl):u.params.backdrop&&0===(o=u.$containerEl.children(".popup-backdrop")).length&&(o=Hp('<div class="popup-backdrop"></div>'),u.$containerEl.append(o)),Fu(u,{app:t,push:a.hasClass("popup-push")||u.params.push,$el:a,el:a[0],$backdropEl:o,backdropEl:o&&o[0],type:"popup",$htmlEl:Hp("html")}),u.params.push&&a.addClass("popup-push");var g,b,y,w,x,C,E,k,S,T,O,I=!0,N=!1,A=!1;function _(e){!N&&I&&u.params.swipeToClose&&(u.params.swipeHandler&&0===Hp(e.target).closest(u.params.swipeHandler).length||(N=!0,A=!1,g={x:"touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,y:"touchstart"===e.type?e.targetTouches[0].pageY:e.pageY},w=Mu(),y=void 0,u.params.swipeHandler||"touchstart"!==e.type||(C=Hp(e.target).closest(".page-content")[0])))}function R(e){if(N){if(b={x:"touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,y:"touchmove"===e.type?e.targetTouches[0].pageY:e.pageY},void 0===y&&(y=!!(y||Math.abs(b.x-g.x)>Math.abs(b.y-g.y))),y)return N=!1,void(A=!1);x=g.y-b.y,s&&i&&x>0&&(x=0);var n=x<0?"to-bottom":"to-top";if(a.transition(0),"string"==typeof u.params.swipeToClose&&n!==u.params.swipeToClose)return a.transform(""),void a.transition("");if(A)u.emit("local::swipeMove popupSwipeMove",u),u.$el.trigger("popup:swipemove");else{if(s&&i&&(T=a[0].offsetHeight,0===(O=a.prevAll(".popup.modal-in").eq(0)).length&&(O=t.$el.children(".view, .views"))),C&&(E=C.scrollTop,S=C.scrollHeight,k=C.offsetHeight,!(S===k||"to-bottom"===n&&0===E||"to-top"===n&&E===S-k)))return a.transform(""),a.transition(""),N=!1,void(A=!1);A=!0,u.emit("local::swipeStart popupSwipeStart",u),u.$el.trigger("popup:swipestart")}if(e.preventDefault(),s&&i){var r=1-Math.abs(x/T),o=1-(1-m(i))*r;O.hasClass("popup")?O.hasClass("popup-push")?O.transition(0).forEach((function(e){e.style.setProperty("transform","translate3d(0, calc(-1 * "+r+" * (var(--f7-popup-push-offset) + 10px)) , 0px) scale("+o+")","important")})):O.transition(0).forEach((function(e){e.style.setProperty("transform","translate3d(0, 0px , 0px) scale("+o+")","important")})):O.transition(0).forEach((function(e){e.style.setProperty("transform","translate3d(0,0,0) scale("+o+")","important")}))}a.transition(0).transform("translate3d(0,"+-x+"px,0)")}}function M(){if(N=!1,A){u.emit("local::swipeEnd popupSwipeEnd",u),u.$el.trigger("popup:swipeend"),A=!1,I=!1,a.transition(""),s&&i&&O.transition("").transform("");var e=x<=0?"to-bottom":"to-top";if("string"==typeof u.params.swipeToClose&&e!==u.params.swipeToClose)return a.transform(""),void(I=!0);var t=Math.abs(x),n=(new Date).getTime()-w;n<300&&t>20||n>=300&&t>100?_u((function(){"to-bottom"===e?a.addClass("swipe-close-to-bottom"):a.addClass("swipe-close-to-top"),a.transform(""),u.emit("local::swipeclose popupSwipeClose",u),u.$el.trigger("popup:swipeclose"),u.close(),I=!0})):(I=!0,a.transform(""))}}var P,D=!!d.passiveListener&&{passive:!0};u.params.swipeToClose&&(a.on(t.touchEvents.start,_,D),t.on("touchmove",R),t.on("touchend:passive",M),u.once("popupDestroy",(function(){a.off(t.touchEvents.start,_,D),t.off("touchmove",R),t.off("touchend:passive",M)})));var B=function(){var e=s;u.push&&(s=u.push&&(t.width<630||t.height<630||a.hasClass("popup-tablet-fullscreen"))),s&&!e?L():s&&e?u.$htmlEl[0].style.setProperty("--f7-popup-push-scale",m(i)):!s&&e&&(u.$htmlEl.removeClass("with-modal-popup-push"),u.$htmlEl[0].style.removeProperty("--f7-popup-push-scale"))},L=function(){t.off("resize",B),u.push&&(s=u.push&&(t.width<630||t.height<630||a.hasClass("popup-tablet-fullscreen"))),s&&(i=parseInt(a.css("--f7-popup-push-offset"),10),Number.isNaN(i)&&(i=0),i&&(a.addClass("popup-push"),u.$htmlEl.addClass("with-modal-popup-push"),u.$htmlEl[0].style.setProperty("--f7-popup-push-scale",m(i)))),t.on("resize",B)};return u.on("open",(function(){P=!1,u.params.closeOnEscape&&Hp(p).on("keydown",v),a.prevAll(".popup.modal-in").addClass("popup-behind"),L()})),u.on("opened",(function(){a.removeClass("swipe-close-to-bottom swipe-close-to-top"),u.params.closeByBackdropClick&&t.on("click",h)})),u.on("close",(function(){P=u.$el.prevAll(".popup-push.modal-in").length>0,u.params.closeOnEscape&&Hp(p).off("keydown",v),u.params.closeByBackdropClick&&t.off("click",h),a.prevAll(".popup.modal-in").eq(0).removeClass("popup-behind"),s&&i&&!P&&(u.$htmlEl.removeClass("with-modal-popup-push"),u.$htmlEl.addClass("with-modal-popup-push-closing")),t.off("resize",B)})),u.on("closed",(function(){a.removeClass("popup-behind"),s&&i&&!P&&(u.$htmlEl.removeClass("with-modal-popup-push-closing"),u.$htmlEl[0].style.removeProperty("--f7-popup-push-scale"))})),a[0].f7Modal=u,u||Rf(r)}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Mf(t,n),r}(yf),Df=Pf,Bf={name:"popup",params:{popup:{backdrop:!0,backdropEl:void 0,closeByBackdropClick:!0,closeOnEscape:!1,swipeToClose:!1,swipeHandler:null,push:!1,containerEl:null}},static:{Popup:Df},create:function(){this.popup=Xp({app:this,constructor:Df,defaultSelector:".popup.modal-in",parentSelector:".popup"})},clicks:{".popup-open":function(e,t){void 0===t&&(t={});this.popup.open(t.popup,t.animate,e)},".popup-close":function(e,t){void 0===t&&(t={});this.popup.close(t.popup,t.animate,e)}}};function Lf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zf(e,t){return zf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},zf(e,t)}var Ff=function(e){var t,n;function r(t,n){var r,a,o=Fu({on:{}},n),i=Lf(r=e.call(this,t,o)||this);return i.params=o,(a=i.params.el?Hp(i.params.el).eq(0):Hp(i.params.content).filter((function(e){return 1===e.nodeType})).eq(0))&&a.length>0&&a[0].f7Modal?a[0].f7Modal||Lf(r):0===a.length?i.destroy()||Lf(r):(Fu(i,{app:t,$el:a,el:a[0],type:"loginScreen"}),a[0].f7Modal=i,i||Lf(r))}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,zf(t,n),r}(yf),$f=Ff,Vf={name:"loginScreen",static:{LoginScreen:$f},create:function(){this.loginScreen=Xp({app:this,constructor:$f,defaultSelector:".login-screen.modal-in"})},clicks:{".login-screen-open":function(e,t){void 0===t&&(t={});this.loginScreen.open(t.loginScreen,t.animate,e)},".login-screen-close":function(e,t){void 0===t&&(t={});this.loginScreen.close(t.loginScreen,t.animate,e)}}};function jf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hf(e,t){return Hf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Hf(e,t)}var Wf=function(e){var t,n;function r(t,n){var r,a,o=Fu({on:{}},t.params.popover,n),i=jf(r=e.call(this,t,o)||this),s=Ku(),l=bu(),u=mu();if(i.params=o,(a=i.params.el?Hp(i.params.el).eq(0):Hp(i.params.content).filter((function(e){return 1===e.nodeType})).eq(0))&&a.length>0&&a[0].f7Modal)return a[0].f7Modal||jf(r);var c,p,d=Hp(i.params.targetEl).eq(0);if(0===a.length)return i.destroy()||jf(r);i.params.backdrop&&i.params.backdropEl?c=Hp(i.params.backdropEl):i.params.backdrop&&0===(c=i.$containerEl.children(".popover-backdrop")).length&&(c=Hp('<div class="popover-backdrop"></div>'),i.$containerEl.append(c)),0===a.find(".popover-angle").length?(p=Hp('<div class="popover-angle"></div>'),a.prepend(p)):p=a.find(".popover-angle");var f=i.open;function h(){i.resize()}Fu(i,{app:t,$el:a,el:a[0],$targetEl:d,targetEl:d[0],$angleEl:p,angleEl:p[0],$backdropEl:c,backdropEl:c&&c[0],type:"popover",open:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1];return"boolean"==typeof t[0]&&(a=t[0],r=t[1]),r&&(i.$targetEl=Hp(r),i.targetEl=i.$targetEl[0]),f.call(i,a)}}),i.on("popoverOpen",(function(){i.resize(),t.on("resize",h),Hp(l).on("keyboardDidShow keyboardDidHide",h),i.on("popoverClose popoverBeforeDestroy",(function(){t.off("resize",h),Hp(l).off("keyboardDidShow keyboardDidHide",h)}))}));var v=null;function m(e){v=e.target}function g(e){var t=e.target,n=Hp(t);!s.desktop&&s.cordova&&(l.Keyboard&&l.Keyboard.isVisible||l.cordova.plugins&&l.cordova.plugins.Keyboard&&l.cordova.plugins.Keyboard.isVisible)||0===n.closest(i.el).length&&(i.params.closeByBackdropClick&&i.params.backdrop&&i.backdropEl&&i.backdropEl===t&&v===t||i.params.closeByOutsideClick&&v===t)&&i.close()}function b(e){27===e.keyCode&&i.params.closeOnEscape&&i.close()}return i.params.closeOnEscape&&(i.on("popoverOpen",(function(){Hp(u).on("keydown",b)})),i.on("popoverClose",(function(){Hp(u).off("keydown",b)}))),i.on("popoverOpened",(function(){(i.params.closeByOutsideClick||i.params.closeByBackdropClick)&&(t.on("touchstart",m),t.on("click",g))})),i.on("popoverClose",(function(){(i.params.closeByOutsideClick||i.params.closeByBackdropClick)&&(t.off("touchstart",m),t.off("click",g))})),a[0].f7Modal=i,i||jf(r)}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Hf(t,n),r.prototype.resize=function(){var e=this,t=e.app,n=e.$el,r=e.$targetEl,a=e.$angleEl,o=e.params,i=o.targetX,s=o.targetY;n.css({left:"",top:""});var l,u,c,p,d,f,h=[n.width(),n.height()],v=h[0],m=h[1],g=0;"ios"===t.theme||"aurora"===t.theme?(a.removeClass("on-left on-right on-top on-bottom").css({left:"",top:""}),g=a.width()/2):n.removeClass("popover-on-left popover-on-right popover-on-top popover-on-bottom popover-on-middle").css({left:"",top:""});var b=parseInt(Hp("html").css("--f7-safe-area-top"),10),y=parseInt(Hp("html").css("--f7-safe-area-left"),10),w=parseInt(Hp("html").css("--f7-safe-area-right"),10);if(Number.isNaN(b)&&(b=0),Number.isNaN(y)&&(y=0),Number.isNaN(w)&&(w=0),r&&r.length>0){c=r.outerWidth(),p=r.outerHeight();var x=r.offset();d=x.left-t.left,f=x.top-t.top;var C=r.parents(".page");C.length>0&&(f-=C[0].scrollTop)}else void 0!==i&&"undefined"!==s&&(d=i,f=s,c=e.params.targetWidth||0,p=e.params.targetHeight||0);var E,k=0,S=0,T=0,O="md"===t.theme?"bottom":"top";"md"===t.theme?(m<t.height-f-p?(O="bottom",S=f+p):m<f-b?(S=f-m,O="top"):(O="middle",S=p/2+f-m/2),S=Math.max(8,Math.min(S,t.height-m-8)),d<t.width/2?(E="right",k="middle"===O?d+c:d):(E="left",k="middle"===O?d-v:d+c-v),k=Math.max(8,Math.min(k,t.width-v-8-w),y),n.addClass("popover-on-"+O+" popover-on-"+E)):(m+g<f-b?S=f-m-g:m+g<t.height-f-p?(O="bottom",S=f+p+g):(O="middle",T=S=p/2+f-m/2,T-=S=Math.max(5,Math.min(S,t.height-m-5))),"top"===O||"bottom"===O?(T=k=c/2+d-v/2,k=Math.max(5,Math.min(k,t.width-v-5)),y&&(k=Math.max(k,y)),w&&k+v>t.width-5-w&&(k=t.width-5-w-v),"top"===O&&a.addClass("on-bottom"),"bottom"===O&&a.addClass("on-top"),l=v/2-g+(T-=k),l=Math.max(Math.min(l,v-2*g-13),13),a.css({left:l+"px"})):"middle"===O&&(k=d-v-g,a.addClass("on-right"),(k<5||k+v+w>t.width||k<y)&&(k<5&&(k=d+c+g),k+v+w>t.width&&(k=t.width-v-5-w),k<y&&(k=y),a.removeClass("on-right").addClass("on-left")),u=m/2-g+T,u=Math.max(Math.min(u,m-2*g-13),13),a.css({top:u+"px"})));n.css({top:S+"px",left:k+"px"})},r}(yf),Uf=Wf,qf={name:"popover",params:{popover:{backdrop:!0,backdropEl:void 0,closeByBackdropClick:!0,closeByOutsideClick:!0,closeOnEscape:!1,containerEl:null}},static:{Popover:Uf},create:function(){var e=this;e.popover=Fu(Xp({app:e,constructor:Uf,defaultSelector:".popover.modal-in"}),{open:function(t,n,r){var a=Hp(t);if(a.length>1){var o=Hp(n).parents(".page");o.length&&a.each((function(e){var t=Hp(e);t.parents(o)[0]===o[0]&&(a=t)}))}a.length>1&&(a=a.eq(a.length-1));var i=a[0].f7Modal,s=a.dataset();return i||(i=new Uf(e,Object.assign({el:a,targetEl:n},s))),i.open(n,r)}})},clicks:{".popover-open":function(e,t){void 0===t&&(t={});this.popover.open(t.popover,e,t.animate)},".popover-close":function(e,t){void 0===t&&(t={});this.popover.close(t.popover,t.animate,e)}}};function Gf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xf(e,t){return Xf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Xf(e,t)}var Yf=function(e){var t,n;function r(t,n){var r,a,o,i,s=Fu({on:{}},t.params.actions,n),l=Gf(r=e.call(this,t,s)||this),u=Ku(),c=bu(),p=mu();if(l.params=s,l.params.buttons&&(a=l.params.buttons,Array.isArray(a[0])||(a=[a])),l.groups=a,l.params.el?o=Hp(l.params.el).eq(0):l.params.content?o=Hp(l.params.content).filter((function(e){return 1===e.nodeType})).eq(0):l.params.buttons&&(l.params.convertToPopover&&(l.popoverHtml=l.renderPopover()),l.actionsHtml=l.render()),o&&o.length>0&&o[0].f7Modal)return o[0].f7Modal||Gf(r);if(o&&0===o.length&&!l.actionsHtml&&!l.popoverHtml)return l.destroy()||Gf(r);l.params.backdrop&&l.params.backdropEl?i=Hp(l.params.backdropEl):l.params.backdrop&&0===(i=l.$containerEl.children(".actions-backdrop")).length&&(i=Hp('<div class="actions-backdrop"></div>'),l.$containerEl.append(i));var d,f=l.open,h=l.close;function v(e){var t,n,r=Hp(this);if(r.hasClass("list-button")||r.hasClass("item-link")?(t=r.parents("li").index(),n=r.parents(".list").index()):(t=r.index(),n=r.parents(".actions-group").index()),void 0!==a){var o=a[n][t];o.onClick&&o.onClick(l,e),l.params.onClick&&l.params.onClick(l,e),!1!==o.close&&l.close()}}function m(e){var t=e.target,n=Hp(t);!u.desktop&&u.cordova&&(c.Keyboard&&c.Keyboard.isVisible||c.cordova.plugins&&c.cordova.plugins.Keyboard&&c.cordova.plugins.Keyboard.isVisible)||0===n.closest(l.el).length&&(l.params.closeByBackdropClick&&l.params.backdrop&&l.backdropEl&&l.backdropEl===t||l.params.closeByOutsideClick)&&l.close()}function g(e){27===e.keyCode&&l.params.closeOnEscape&&l.close()}return l.open=function(e){var n=!1,r=l.params,a=r.targetEl,o=r.targetX,i=r.targetY,s=r.targetWidth,c=r.targetHeight;return l.params.convertToPopover&&(a||void 0!==o&&void 0!==i)&&(l.params.forceToPopover||u.ios&&u.ipad||t.width>=768||u.desktop&&"aurora"===t.theme)&&(n=!0),n&&l.popoverHtml?((d=t.popover.create({containerEl:l.params.containerEl,content:l.popoverHtml,backdrop:l.params.backdrop,targetEl:a,targetX:o,targetY:i,targetWidth:s,targetHeight:c,on:{open:function(){l.$el||(l.$el=d.$el),l.$el.trigger("modal:open "+l.type.toLowerCase()+":open"),l.emit("local::open modalOpen "+l.type+"Open",l)},opened:function(){l.$el||(l.$el=d.$el),l.$el.trigger("modal:opened "+l.type.toLowerCase()+":opened"),l.emit("local::opened modalOpened "+l.type+"Opened",l)},close:function(){l.$el||(l.$el=d.$el),l.$el.trigger("modal:close "+l.type.toLowerCase()+":close"),l.emit("local::close modalClose "+l.type+"Close",l)},closed:function(){l.$el||(l.$el=d.$el),l.$el.trigger("modal:closed "+l.type.toLowerCase()+":closed"),l.emit("local::closed modalClosed "+l.type+"Closed",l)}}})).open(e),d.once("popoverOpened",(function(){d.$el.find(".list-button, .item-link").each((function(e){Hp(e).on("click",v)}))})),d.once("popoverClosed",(function(){d.$el.find(".list-button, .item-link").each((function(e){Hp(e).off("click",v)})),_u((function(){d.destroy(),d=void 0}))}))):(l.$el=l.actionsHtml?Hp(l.actionsHtml):l.$el,l.$el[0].f7Modal=l,l.groups&&(l.$el.find(".actions-button").each((function(e){Hp(e).on("click",v)})),l.once("actionsClosed",(function(){l.$el.find(".actions-button").each((function(e){Hp(e).off("click",v)}))}))),l.el=l.$el[0],f.call(l,e)),l},l.close=function(e){return d?d.close(e):h.call(l,e),l},Fu(l,{app:t,$el:o,el:o?o[0]:void 0,$backdropEl:i,backdropEl:i&&i[0],type:"actions"}),l.params.closeOnEscape&&(l.on("open",(function(){Hp(p).on("keydown",g)})),l.on("close",(function(){Hp(p).off("keydown",g)}))),l.on("opened",(function(){(l.params.closeByBackdropClick||l.params.closeByOutsideClick)&&t.on("click",m)})),l.on("close",(function(){(l.params.closeByBackdropClick||l.params.closeByOutsideClick)&&t.off("click",m)})),o&&(o[0].f7Modal=l),l||Gf(r)}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Xf(t,n);var a=r.prototype;return a.render=function(){var e=this;if(e.params.render)return e.params.render.call(e,e);var t=e.groups,n=e.params.cssClass;return Sf("div",{class:"actions-modal"+(e.params.grid?" actions-grid":"")+" "+(n||"")},t.map((function(e){return Sf("div",{class:"actions-group"},e.map((function(e){var t=["actions-"+(e.label?"label":"button")],n=e.color,r=e.bg,a=e.bold,o=e.disabled,i=e.label,s=e.text,l=e.icon;return n&&t.push("color-"+n),r&&t.push("bg-color-"+r),a&&t.push("actions-button-bold"),o&&t.push("disabled"),i?Sf("div",{class:t.join(" ")},s):Sf("div",{class:t.join(" ")},l&&Sf("div",{class:"actions-button-media"},l),Sf("div",{class:"actions-button-text"},s))})))})))},a.renderPopover=function(){var e=this;if(e.params.renderPopover)return e.params.renderPopover.call(e,e);var t=e.groups,n=e.params.cssClass;return Sf("div",{class:"popover popover-from-actions "+(n||"")},Sf("div",{class:"popover-inner"},t.map((function(e){return Sf("div",{class:"list"},Sf("ul",null,e.map((function(e){var t=[],n=e.color,r=e.bg,a=e.bold,o=e.disabled,i=e.label,s=e.text,l=e.icon;return n&&t.push("color-"+n),r&&t.push("bg-color-"+r),a&&t.push("popover-from-actions-bold"),o&&t.push("disabled"),i?(t.push("popover-from-actions-label"),'<li class="'+t.join(" ")+'">'+s+"</li>"):l?(t.push("item-link item-content"),Sf("li",null,Sf("a",{class:t.join(" ")},Sf("div",{class:"item-media"},l),Sf("div",{class:"item-inner"},Sf("div",{class:"item-title"},s))))):(t.push("list-button"),Sf("li",null,Sf("a",{class:t.join(" ")},s)))}))))}))))},r}(yf),Kf=Yf,Jf={name:"actions",params:{actions:{convertToPopover:!0,forceToPopover:!1,backdrop:!0,backdropEl:void 0,cssClass:null,closeByBackdropClick:!0,closeOnEscape:!1,render:null,renderPopover:null,containerEl:null}},static:{Actions:Kf},create:function(){this.actions=Xp({app:this,constructor:Kf,defaultSelector:".actions-modal.modal-in"})},clicks:{".actions-open":function(e,t){void 0===t&&(t={});this.actions.open(t.actions,t.animate,e)},".actions-close":function(e,t){void 0===t&&(t={});this.actions.close(t.actions,t.animate,e)}}};function Qf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zf(e,t){return Zf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Zf(e,t)}var eh=function(e){var t,n;function r(t,n){var r,a,o,i,s,l=Fu({on:{}},t.params.sheet,n),u=Qf(r=e.call(this,t,l)||this),c=bu(),p=mu(),d=Yu(),f=Ku();if(u.params=l,void 0===u.params.backdrop&&(u.params.backdrop="ios"!==t.theme),(a=u.params.el?Hp(u.params.el).eq(0):Hp(u.params.content).filter((function(e){return 1===e.nodeType})).eq(0))&&a.length>0&&a[0].f7Modal)return a[0].f7Modal||Qf(r);if(0===a.length)return u.destroy()||Qf(r);function h(e){var t=e.target,n=Hp(t);!f.desktop&&f.cordova&&(c.Keyboard&&c.Keyboard.isVisible||c.cordova.plugins&&c.cordova.plugins.Keyboard&&c.cordova.plugins.Keyboard.isVisible)||0===n.closest(u.el).length&&(u.params.closeByBackdropClick&&u.params.backdrop&&u.backdropEl&&u.backdropEl===t||u.params.closeByOutsideClick)&&u.close()}function v(e){27===e.keyCode&&u.params.closeOnEscape&&u.close()}function m(e){return(t.height-2*e)/t.height}u.params.backdrop&&u.params.backdropEl?o=Hp(u.params.backdropEl):u.params.backdrop&&0===(o=u.$containerEl.children(".sheet-backdrop")).length&&(o=Hp('<div class="sheet-backdrop"></div>'),u.$containerEl.append(o)),Fu(u,{app:t,push:a.hasClass("sheet-modal-push")||u.params.push,$el:a,el:a[0],$backdropEl:o,backdropEl:o&&o[0],type:"sheet",$htmlEl:Hp("html")}),u.params.push&&a.addClass("sheet-modal-push");var g,b,y,w,x,C,E,k,S,T,O,I,N,A,_,R,M,P,D=!1,B=!1;function L(e){D||!u.params.swipeToClose&&!u.params.swipeToStep||u.params.swipeHandler&&0===Hp(e.target).closest(u.params.swipeHandler).length||(D=!0,B=!1,g={x:"touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,y:"touchstart"===e.type?e.targetTouches[0].pageY:e.pageY},w=Mu(),y=void 0,C=a.hasClass("sheet-modal-top"),u.params.swipeHandler||"touchstart"!==e.type||(_=Hp(e.target).closest(".page-content")[0]))}function z(e){if(D){if(b={x:"touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,y:"touchmove"===e.type?e.targetTouches[0].pageY:e.pageY},void 0===y&&(y=!!(y||Math.abs(b.x-g.x)>Math.abs(b.y-g.y))),y)return D=!1,void(B=!1);var n,r=(x=g.y-b.y)<0?"to-bottom":"to-top";if(!B){if(_&&!a.hasClass("modal-in-swipe-step")&&(R=_.scrollTop,M=_.scrollHeight,P=_.offsetHeight,!(M===P||"to-bottom"===r&&0===R||"to-top"===r&&R===M-P)))return a.transform(""),D=!1,void(B=!1);u.push&&s&&(N=t.$el.children(".view, .views")),T=a[0].offsetHeight,k=Du(a[0],"y"),C?(O=u.params.swipeToClose?-T:-E,I=0):(O=0,I=u.params.swipeToClose?T:E),B=!0}if(S=k-x,S=Math.min(Math.max(S,O),I),e.preventDefault(),u.push&&s){var o=(S-k)/T;u.params.swipeToStep&&(o=C?S/E:1-(E-S)/E),o=Math.abs(o);var i=1-(o=Math.min(Math.max(o,0),1)),l=1-(1-m(s))*i;N.transition(0).forEach((function(e){e.style.setProperty("transform","translate3d(0,0,0) scale("+l+")","important")})),u.params.swipeToStep&&N.css("border-radius",A*i+"px")}if(a.transition(0).transform("translate3d(0,"+S+"px,0)"),u.params.swipeToStep)n=C?1-S/E:(E-S)/E,n=Math.min(Math.max(n,0),1),a.trigger("sheet:stepprogress",n),u.emit("local::stepProgress sheetStepProgress",u,n)}}function F(){if(D=!1,B){B=!1,a.transform("").transition(""),u.push&&s&&(N.transition("").transform(""),N.css("border-radius",""));var e=x<0?"to-bottom":"to-top",t=Math.abs(x);if(0!==t&&S!==k){var n=(new Date).getTime()-w;if(u.params.swipeToStep){var r=C?"to-bottom":"to-top",o=C?"to-top":"to-bottom",i=Math.abs(S),l=Math.abs(E);if(n<300&&t>10)return e===r&&i<l&&(a.removeClass("modal-in-swipe-step"),a.trigger("sheet:stepprogress",1),u.emit("local::stepProgress sheetStepProgress",u,1),u.emit("local::_swipeStep",!1),a.trigger("sheet:stepopen"),u.emit("local::stepOpen sheetStepOpen",u),u.push&&s&&(u.$htmlEl[0].style.setProperty("--f7-sheet-push-scale",m(s)),N.css("border-radius",""))),e===o&&i>l&&(u.params.swipeToClose?u.close():(a.addClass("modal-in-swipe-step"),a.trigger("sheet:stepprogress",0),u.emit("local::stepProgress sheetStepProgress",u,0),u.emit("local::_swipeStep",!0),a.trigger("sheet:stepclose"),u.emit("local::stepClose sheetStepClose",u),u.push&&s&&(u.$htmlEl[0].style.removeProperty("--f7-sheet-push-scale"),N.css("border-radius","0px")))),void(e===o&&i<=l&&(a.addClass("modal-in-swipe-step"),a.trigger("sheet:stepprogress",0),u.emit("local::stepProgress sheetStepProgress",u,0),u.emit("local::_swipeStep",!0),a.trigger("sheet:stepclose"),u.emit("local::stepClose sheetStepClose",u),u.push&&s&&(u.$htmlEl[0].style.removeProperty("--f7-sheet-push-scale"),N.css("border-radius","0px"))));if(n>=300){var c=!a.hasClass("modal-in-swipe-step");c?c&&(i>l+(T-l)/2?u.params.swipeToClose&&u.close():i>l/2&&(a.addClass("modal-in-swipe-step"),a.trigger("sheet:stepprogress",0),u.emit("local::stepProgress sheetStepProgress",u,0),u.emit("local::_swipeStep",!0),a.trigger("sheet:stepclose"),u.emit("local::stepClose sheetStepClose",u),u.push&&s&&(u.$htmlEl[0].style.removeProperty("--f7-sheet-push-scale"),N.css("border-radius","0px")))):i<l/2?(a.removeClass("modal-in-swipe-step"),a.trigger("sheet:stepprogress",1),u.emit("local::stepProgress sheetStepProgress",u,1),u.emit("local::_swipeStep",!1),a.trigger("sheet:stepopen"),u.emit("local::stepOpen sheetStepOpen",u),u.push&&s&&(u.$htmlEl[0].style.setProperty("--f7-sheet-push-scale",m(s)),N.css("border-radius",""))):i-l>(T-l)/2&&u.params.swipeToClose&&u.close()}}else{if(e!==(C?"to-top":"to-bottom"))return;(n<300&&t>20||n>=300&&t>T/2)&&u.close()}}}}function $(){u.setSwipeStep(!0)}u.setSwipeStep=function(e){void 0===e&&(e=!0);var t=a.find(".sheet-modal-swipe-step").eq(0);t.length&&(E=a.hasClass("sheet-modal-top")?-(t.offset().top-a.offset().top+t[0].offsetHeight):a[0].offsetHeight-(t.offset().top-a.offset().top+t[0].offsetHeight),a[0].style.setProperty("--f7-sheet-swipe-step",E+"px"),e||(a.addClass("modal-in-swipe-step"),u.emit("local::_swipeStep",!0)))};var V=!!d.passiveListener&&{passive:!0};return(u.params.swipeToClose||u.params.swipeToStep)&&(a.on(t.touchEvents.start,L,V),t.on("touchmove",z),t.on("touchend:passive",F),u.once("sheetDestroy",(function(){a.off(t.touchEvents.start,L,V),t.off("touchmove",z),t.off("touchend:passive",F)}))),u.on("open",(function(){u.params.closeOnEscape&&Hp(p).on("keydown",v),a.prevAll(".popup.modal-in").addClass("popup-behind"),u.params.swipeToStep&&(u.setSwipeStep(!1),t.on("resize",$)),u.params.scrollToEl&&function(){var e=Hp(u.params.scrollToEl).eq(0);if(0!==e.length&&0!==(i=e.parents(".page-content")).length){var t,n=parseInt(i.css("padding-top"),10),r=parseInt(i.css("padding-bottom"),10),o=i[0].offsetHeight-n-a.height(),s=i[0].scrollHeight-n-a.height(),l=i.scrollTop(),c=e.offset().top-n+e[0].offsetHeight;if(c>o){var p=l+c-o;p+o>s&&(t=p+o-s+r,o===s&&(t=a.height()),i.css({"padding-bottom":t+"px"})),i.scrollTop(p,300)}}}(),u.push&&(s=parseInt(a.css("--f7-sheet-push-offset"),10),Number.isNaN(s)&&(s=0),s&&(a.addClass("sheet-modal-push"),u.$htmlEl.addClass("with-modal-sheet-push"),u.params.swipeToStep?(N=t.$el.children(".view, .views"),A=parseFloat(a.css("border-"+(C?"bottom":"top")+"-left-radius")),N.css("border-radius","0px")):u.$htmlEl[0].style.setProperty("--f7-sheet-push-scale",m(s))))})),u.on("opened",(function(){(u.params.closeByOutsideClick||u.params.closeByBackdropClick)&&t.on("click",h)})),u.on("close",(function(){u.params.swipeToStep&&(a.removeClass("modal-in-swipe-step"),u.emit("local::_swipeStep",!1),t.off("resize",$)),u.params.closeOnEscape&&Hp(p).off("keydown",v),u.params.scrollToEl&&i&&i.length>0&&i.css({"padding-bottom":""}),(u.params.closeByOutsideClick||u.params.closeByBackdropClick)&&t.off("click",h),a.prevAll(".popup.modal-in").eq(0).removeClass("popup-behind"),u.push&&s&&(u.$htmlEl.removeClass("with-modal-sheet-push"),u.$htmlEl.addClass("with-modal-sheet-push-closing"))})),u.on("closed",(function(){u.push&&s&&(u.$htmlEl.removeClass("with-modal-sheet-push-closing"),u.$htmlEl[0].style.removeProperty("--f7-sheet-push-scale"))})),u.stepOpen=function(){a.removeClass("modal-in-swipe-step"),u.emit("local::_swipeStep",!1),u.push&&(s||(s=parseInt(a.css("--f7-sheet-push-offset"),10),Number.isNaN(s)&&(s=0)),s&&u.$htmlEl[0].style.setProperty("--f7-sheet-push-scale",m(s)))},u.stepClose=function(){a.addClass("modal-in-swipe-step"),u.emit("local::_swipeStep",!0),u.push&&u.$htmlEl[0].style.removeProperty("--f7-sheet-push-scale")},u.stepToggle=function(){a.toggleClass("modal-in-swipe-step"),u.emit("local::_swipeStep",a.hasClass("modal-in-swipe-step"))},a[0].f7Modal=u,u||Qf(r)}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Zf(t,n),r}(yf),th=eh,nh={name:"sheet",params:{sheet:{push:!1,backdrop:void 0,backdropEl:void 0,closeByBackdropClick:!0,closeByOutsideClick:!1,closeOnEscape:!1,swipeToClose:!1,swipeToStep:!1,swipeHandler:null,containerEl:null}},static:{Sheet:th},create:function(){var e=this;e.sheet=Fu({},Xp({app:e,constructor:th,defaultSelector:".sheet-modal.modal-in"}),{stepOpen:function(t){var n=e.sheet.get(t);if(n&&n.stepOpen)return n.stepOpen()},stepClose:function(t){var n=e.sheet.get(t);if(n&&n.stepClose)return n.stepClose()},stepToggle:function(t){var n=e.sheet.get(t);if(n&&n.stepToggle)return n.stepToggle()}})},clicks:{".sheet-open":function(e,t){void 0===t&&(t={});Hp(".sheet-modal.modal-in").length>0&&t.sheet&&Hp(t.sheet)[0]!==Hp(".sheet-modal.modal-in")[0]&&this.sheet.close(".sheet-modal.modal-in"),this.sheet.open(t.sheet,t.animate,e)},".sheet-close":function(e,t){void 0===t&&(t={});this.sheet.close(t.sheet,t.animate,e)}}};function rh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ah(e,t){return ah=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ah(e,t)}var oh=function(e){var t,n;function r(t,n){var r,a=Fu({on:{}},t.params.toast,n),o=rh(r=e.call(this,t,a)||this),i=bu();o.app=t,o.params=a;var s,l,u=o.params,c=u.closeButton,p=u.closeTimeout;if(o.params.el)s=Hp(o.params.el);else{var d=o.render();s=Hp(d)}return s&&s.length>0&&s[0].f7Modal?s[0].f7Modal||rh(r):0===s.length?o.destroy()||rh(r):(Fu(o,{$el:s,el:s[0],type:"toast"}),s[0].f7Modal=o,c&&(s.find(".toast-button").on("click",(function(){o.emit("local::closeButtonClick toastCloseButtonClick",o),o.close()})),o.on("beforeDestroy",(function(){s.find(".toast-button").off("click")}))),o.on("open",(function(){Hp(".toast.modal-in").each((function(e){var n=t.toast.get(e);e!==o.el&&n&&n.close()})),p&&(l=_u((function(){o.close()}),p))})),o.on("close",(function(){i.clearTimeout(l)})),o.params.destroyOnClose&&o.once("closed",(function(){setTimeout((function(){o.destroy()}),0)})),o||rh(r))}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,ah(t,n),r.prototype.render=function(){var e=this;if(e.params.render)return e.params.render.call(e,e);var t=e.params,n=t.position,r=t.horizontalPosition,a=t.cssClass,o=t.icon,i=t.text,s=t.closeButton,l=t.closeButtonColor,u=t.closeButtonText;return Sf("div",{class:"toast toast-"+n+" "+("top"===n||"bottom"===n?"toast-horizontal-"+r:"")+" "+(a||"")+" "+(o?"toast-with-icon":"")},Sf("div",{class:"toast-content"},o&&Sf("div",{class:"toast-icon"},o),Sf("div",{class:"toast-text"},i),s&&!o&&Sf("a",{class:"toast-button button "+(l?"color-"+l:"")},u)))},r}(yf),ih=oh,sh={name:"toast",static:{Toast:ih},create:function(){var e=this;e.toast=Fu({},Xp({app:e,constructor:ih,defaultSelector:".toast.modal-in"}),{show:function(t){return Fu(t,{destroyOnClose:!0}),new ih(e,t).open()}})},params:{toast:{icon:null,text:null,position:"bottom",horizontalPosition:"left",closeButton:!1,closeButtonColor:null,closeButtonText:"Ok",closeTimeout:null,cssClass:null,render:null,containerEl:null}}},lh={init:function(e){var t={iosPreloaderContent:Su,mdPreloaderContent:ku,auroraPreloaderContent:Tu},n=Hp(e);0===n.length||n.children(".preloader-inner").length>0||n.children(".preloader-inner-line").length>0||n.append(t[this.theme+"PreloaderContent"])},visible:!1,show:function(e){void 0===e&&(e="white");if(!lh.visible){var t={iosPreloaderContent:Su,mdPreloaderContent:ku,auroraPreloaderContent:Tu}[this.theme+"PreloaderContent"]||"";Hp("html").addClass("with-modal-preloader"),this.$el.append('\n      <div class="preloader-backdrop"></div>\n      <div class="preloader-modal">\n        <div class="preloader color-'+e+'">'+t+"</div>\n      </div>\n    "),lh.visible=!0}},showIn:function(e,t){void 0===t&&(t="white");var n={iosPreloaderContent:Su,mdPreloaderContent:ku,auroraPreloaderContent:Tu}[this.theme+"PreloaderContent"]||"";Hp(e||"html").addClass("with-modal-preloader"),Hp(e||this.$el).append('\n      <div class="preloader-backdrop"></div>\n      <div class="preloader-modal">\n        <div class="preloader color-'+t+'">'+n+"</div>\n      </div>\n    ")},hide:function(){lh.visible&&(Hp("html").removeClass("with-modal-preloader"),this.$el.find(".preloader-backdrop, .preloader-modal").remove(),lh.visible=!1)},hideIn:function(e){Hp(e||"html").removeClass("with-modal-preloader"),Hp(e||this.$el).find(".preloader-backdrop, .preloader-modal").remove()}},uh={name:"preloader",create:function(){Gu(this,{preloader:lh})},on:{photoBrowserOpen:function(e){var t=this;e.$el.find(".preloader").each((function(e){t.preloader.init(e)}))},tabMounted:function(e){var t=this;Hp(e).find(".preloader").each((function(e){t.preloader.init(e)}))},pageInit:function(e){var t=this;e.$el.find(".preloader").each((function(e){t.preloader.init(e)}))}},vnode:{preloader:{insert:function(e){var t=e.elm;this.preloader.init(t)}}}},ch={set:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0],o=n[1],i=n[2];if("number"==typeof n[0]&&(o=n[0],i=n[1],a=e.$el),null==o)return a;o||(o=0);var s=Hp(a||e.$el);if(0===s.length)return a;var l,u=Math.min(Math.max(o,0),100);if(0===(l=s.hasClass("progressbar")?s.eq(0):s.children(".progressbar")).length||l.hasClass("progressbar-infinite"))return l;var c=l.children("span");return 0===c.length&&(c=Hp("<span></span>"),l.append(c)),c.transition(void 0!==i?i:"").transform("translate3d("+(-100+u)*(e.rtl?-1:1)+"%,0,0)"),l[0]},show:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0],o=n[1],i=n[2],s="determined";2===n.length?"string"!=typeof n[0]&&"object"!=typeof n[0]||"string"!=typeof n[1]?"number"==typeof n[0]&&"string"==typeof n[1]&&(o=n[0],i=n[1],a=e.$el):(a=n[0],i=n[1],o=n[2],s="infinite"):1===n.length?"number"==typeof n[0]?(a=e.$el,o=n[0]):"string"==typeof n[0]&&(s="infinite",a=e.$el,i=n[0]):0===n.length&&(s="infinite",a=e.$el);var l,u=Hp(a);if(0!==u.length)return u.hasClass("progressbar")||u.hasClass("progressbar-infinite")?l=u:0===(l=u.children(".progressbar:not(.progressbar-out), .progressbar-infinite:not(.progressbar-out)")).length&&(l=Hp('\n          <span class="progressbar'+("infinite"===s?"-infinite":"")+(i?" color-"+i:"")+' progressbar-in">\n            '+("infinite"===s?"":"<span></span>")+"\n          </span>"),u.append(l)),void 0!==o&&e.progressbar.set(l,o),l[0]},hide:function(e,t){void 0===t&&(t=!0);var n,r=Hp(e||this.$el);if(0!==r.length)return 0===(n=r.hasClass("progressbar")||r.hasClass("progressbar-infinite")?r:r.children(".progressbar, .progressbar-infinite")).length||!n.hasClass("progressbar-in")||n.hasClass("progressbar-out")||n.removeClass("progressbar-in").addClass("progressbar-out").animationEnd((function(){t&&n.remove()})),n}},ph={name:"progressbar",create:function(){Gu(this,{progressbar:ch})},on:{tabMounted:function(e){var t=this;Hp(e).find(".progressbar").each((function(e){var n=Hp(e);t.progressbar.set(n,n.attr("data-progress"))}))},pageInit:function(e){var t=this;e.$el.find(".progressbar").each((function(e){var n=Hp(e);t.progressbar.set(n,n.attr("data-progress"))}))}},vnode:{progressbar:{insert:function(e){var t=e.elm;this.progressbar.set(t,t.getAttribute("data-progress"))},update:function(e){var t=e.elm;this.progressbar.set(t,t.getAttribute("data-progress"))}}}},dh={init:function(){var e,t,n,r,a,o,i,s,l,u,c,p,d,f,h,v,m,g,b,y,w,x=this,C=mu();function E(r,s){t=!1,e=!0,w=!1,n="touchstart"===r.type?r.targetTouches[0].pageY:r.pageY,a=Hp(r.target).closest("li").eq(0),d=a.index(),i=a.parents(".sortable");var l=a.parents(".list-group");l.length&&l.parents(i).length&&(i=l),o=i.children("ul").children("li:not(.disallow-sorting):not(.no-sorting)"),x.panel&&(x.panel.allowOpen=!1),x.swipeout&&(x.swipeout.allow=!1),s&&(a.addClass("sorting"),i.addClass("sortable-sorting"),w=!0)}var k=!!Yu().passiveListener&&{passive:!1,capture:!1};Hp(C).on(x.touchEvents.start,".list.sortable .sortable-handler",E,k),x.on("touchmove:active",(function(d){if(e&&a){var w="touchmove"===d.type?d.targetTouches[0].pageY:d.pageY;if(!t){f=a.parents(".page"),h=a.parents(".page-content");var C=parseInt(h.css("padding-top"),10),E=parseInt(h.css("padding-bottom"),10);y=h[0].scrollTop,m=f.offset().top+C,v=f.height()-C-E,a.addClass("sorting"),i.addClass("sortable-sorting"),g=a[0].offsetTop,l=a[0].offsetTop,u=a.parent().height()-g-a.height(),s=a[0].offsetHeight,b=a.offset().top}t=!0,d.preventDefault(),d.f7PreventSwipePanel=!0,r=w-n;var k=h[0].scrollTop-y,S=Math.min(Math.max(r+k,-l),u);a.transform("translate3d(0,"+S+"px,0)");var T,O=44,I=!0;r+k+O<-l&&(I=!1),r+k-O>u&&(I=!1),p=void 0,c=void 0,I&&(b+r+s+O>m+v&&(T=b+r+s+O-(m+v)),b+r<m+O&&(T=b+r-m-O),T&&(h[0].scrollTop+=T)),o.each((function(e){var t=Hp(e);if(t[0]!==a[0]){var n,r=t[0].offsetTop,o=t.height(),l=g+S,u=t[0].f7Translate;l>=r-o/2&&a.index()<t.index()?(n=-s,t.transform("translate3d(0, "+n+"px,0)"),c=t,p=void 0):l<=r+o/2&&a.index()>t.index()?(n=s,t[0].f7Translate=n,t.transform("translate3d(0, "+n+"px,0)"),c=void 0,p||(p=t)):(n=void 0,t.transform("translate3d(0, 0%,0)")),u!==n&&(t.trigger("sortable:move"),x.emit("sortableMove",t[0],i[0])),t[0].f7Translate=n}}))}})),x.on("touchend:passive",(function(){if(!e||!t)return e&&!t&&(x.panel&&(x.panel.allowOpen=!0),x.swipeout&&(x.swipeout.allow=!0),w&&(a.removeClass("sorting"),i.removeClass("sortable-sorting"))),e=!1,void(t=!1);var n;x.panel&&(x.panel.allowOpen=!0),x.swipeout&&(x.swipeout.allow=!0),o.transform(""),a.removeClass("sorting"),i.removeClass("sortable-sorting"),c?n=c.index():p&&(n=p.index());var r=i.dataset().sortableMoveElements;if(void 0===r&&(r=x.params.sortable.moveElements),r&&(c&&a.insertAfter(c),p&&a.insertBefore(p)),(c||p)&&i.hasClass("virtual-list")){void 0===(d=a[0].f7VirtualListIndex)&&(d=a.attr("data-virtual-list-index")),p?void 0===(n=p[0].f7VirtualListIndex)&&(n=p.attr("data-virtual-list-index")):void 0===(n=c[0].f7VirtualListIndex)&&(n=c.attr("data-virtual-list-index")),n=null!==n?parseInt(n,10):void 0;var s=i[0].f7VirtualList;d&&(d=parseInt(d,10)),n&&(n=parseInt(n,10)),s&&s.moveItem(d,n)}void 0===n||Number.isNaN(n)||n===d||(a.trigger("sortable:sort",{from:d,to:n}),x.emit("sortableSort",a[0],{from:d,to:n,el:a[0]},i[0])),p=void 0,c=void 0,e=!1,t=!1})),Hp(C).on("taphold",".sortable-tap-hold",(function(e,t){E(t,!0)}))},enable:function(e){void 0===e&&(e=".list.sortable");var t=Hp(e);0!==t.length&&(t.addClass("sortable-enabled"),t.trigger("sortable:enable"),this.emit("sortableEnable",t[0]))},disable:function(e){void 0===e&&(e=".list.sortable");var t=Hp(e);0!==t.length&&(t.removeClass("sortable-enabled"),t.trigger("sortable:disable"),this.emit("sortableDisable",t[0]))},toggle:function(e){void 0===e&&(e=".list.sortable");var t=Hp(e);0!==t.length&&(t.hasClass("sortable-enabled")?this.sortable.disable(t):this.sortable.enable(t))}},fh={name:"sortable",params:{sortable:{moveElements:!0}},create:function(){Gu(this,{sortable:dh})},on:{init:function(){this.params.sortable&&this.sortable.init()}},clicks:{".sortable-enable":function(e,t){void 0===t&&(t={});this.sortable.enable(t.sortable)},".sortable-disable":function(e,t){void 0===t&&(t={});this.sortable.disable(t.sortable)},".sortable-toggle":function(e,t){void 0===t&&(t={});this.sortable.toggle(t.sortable)}}},hh={init:function(){var e,t,n,r,a,o,i,s,l,u,c,p,d,f,h,v,m,g,b,y,w,x=this,C=mu(),E={};var k=!!Yu().passiveListener&&{passive:!0};x.on("touchstart",(function(e){if(hh.el){var t=Hp(e.target);Hp(hh.el).is(t[0])||t.parents(".swipeout").is(hh.el)||t.hasClass("modal-in")||(t.attr("class")||"").indexOf("-backdrop")>0||t.hasClass("actions-modal")||t.parents(".actions-modal.modal-in, .dialog.modal-in").length>0||x.swipeout.close(hh.el)}})),Hp(C).on(x.touchEvents.start,"li.swipeout",(function(a){x.swipeout.allow&&(t=!1,e=!0,n=void 0,E.x="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,E.y="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY,r=(new Date).getTime(),o=Hp(this))}),k),x.on("touchmove:active",(function(r){if(e){var C="touchmove"===r.type?r.targetTouches[0].pageX:r.pageX,k="touchmove"===r.type?r.targetTouches[0].pageY:r.pageY;if(void 0===n&&(n=!!(n||Math.abs(k-E.y)>Math.abs(C-E.x))),n)e=!1;else{if(!t){if(Hp(".list.sortable-opened").length>0)return;i=o.find(".swipeout-content"),s=o.find(".swipeout-actions-right"),l=o.find(".swipeout-actions-left"),u=null,c=null,h=null,v=null,b=null,g=null,l.length>0&&(u=l.outerWidth(),h=l.children("a"),g=l.find(".swipeout-overswipe")),s.length>0&&(c=s.outerWidth(),v=s.children("a"),b=s.find(".swipeout-overswipe")),(d=o.hasClass("swipeout-opened"))&&(f=o.find(".swipeout-actions-left.swipeout-actions-opened").length>0?"left":"right"),o.removeClass("swipeout-transitioning"),x.params.swipeout.noFollow||(o.find(".swipeout-actions-opened").removeClass("swipeout-actions-opened"),o.removeClass("swipeout-opened"))}if(t=!0,r.cancelable&&r.preventDefault(),a=C-E.x,p=a,d&&("right"===f?p-=c:p+=u),p>0&&0===l.length||p<0&&0===s.length){if(!d)return e=!1,t=!1,i.transform(""),v&&v.length>0&&v.transform(""),void(h&&h.length>0&&h.transform(""));p=0}var S,T;if(p<0?m="to-left":p>0?m="to-right":m||(m="to-left"),r.f7PreventSwipePanel=!0,x.params.swipeout.noFollow)return d?("right"===f&&a>0&&x.swipeout.close(o),"left"===f&&a<0&&x.swipeout.close(o)):(a<0&&s.length>0&&x.swipeout.open(o,"right"),a>0&&l.length>0&&x.swipeout.open(o,"left")),e=!1,void(t=!1);if(y=!1,w=!1,s.length>0){var O=p;if(T=O/c,O<-c){var I=O/-c;O=-c-Math.pow(-O-c,.8),p=O,b.length>0&&I>x.params.swipeout.overswipeRatio&&(w=!0)}"to-left"!==m&&(T=0,O=0),v.each((function(e){var t=Hp(e);void 0===e.f7SwipeoutButtonOffset&&(t[0].f7SwipeoutButtonOffset=e.offsetLeft),S=e.f7SwipeoutButtonOffset,b.length>0&&t.hasClass("swipeout-overswipe")&&"to-left"===m&&(t.css({left:(w?-S:0)+"px"}),w?(t.hasClass("swipeout-overswipe-active")||(o.trigger("swipeout:overswipeenter"),x.emit("swipeoutOverswipeEnter",o[0])),t.addClass("swipeout-overswipe-active")):(t.hasClass("swipeout-overswipe-active")&&(o.trigger("swipeout:overswipeexit"),x.emit("swipeoutOverswipeExit",o[0])),t.removeClass("swipeout-overswipe-active"))),t.transform("translate3d("+(O-S*(1+Math.max(T,-1)))+"px,0,0)")}))}if(l.length>0){var N=p;if(T=N/u,N>u){var A=N/c;N=u+Math.pow(N-u,.8),p=N,g.length>0&&A>x.params.swipeout.overswipeRatio&&(y=!0)}"to-right"!==m&&(N=0,T=0),h.each((function(e,t){var n=Hp(e);void 0===e.f7SwipeoutButtonOffset&&(n[0].f7SwipeoutButtonOffset=u-e.offsetLeft-e.offsetWidth),S=e.f7SwipeoutButtonOffset,g.length>0&&n.hasClass("swipeout-overswipe")&&"to-right"===m&&(n.css({left:(y?S:0)+"px"}),y?(n.hasClass("swipeout-overswipe-active")||(o.trigger("swipeout:overswipeenter"),x.emit("swipeoutOverswipeEnter",o[0])),n.addClass("swipeout-overswipe-active")):(n.hasClass("swipeout-overswipe-active")&&(o.trigger("swipeout:overswipeexit"),x.emit("swipeoutOverswipeExit",o[0])),n.removeClass("swipeout-overswipe-active"))),h.length>1&&n.css("z-index",h.length-t),n.transform("translate3d("+(N+S*(1-Math.min(T,1)))+"px,0,0)")}))}o.trigger("swipeout",T),x.emit("swipeout",o[0],T),i.transform("translate3d("+p+"px,0,0)")}}})),x.on("touchend:passive",(function(){if(!e||!t)return e=!1,void(t=!1);e=!1,t=!1;var n,f,g,b,C=(new Date).getTime()-r,E="to-left"===m?s:l,k="to-left"===m?c:u;if(n=C<300&&(a<-10&&"to-left"===m||a>10&&"to-right"===m)||C>=300&&Math.abs(p)>k/2?"open":"close",C<300&&(0===Math.abs(p)&&(n="close"),Math.abs(p)===k&&(n="open")),"open"===n){hh.el=o[0],o.trigger("swipeout:open"),x.emit("swipeoutOpen",o[0]),o.addClass("swipeout-opened swipeout-transitioning");var S="to-left"===m?-k:k;if(i.transform("translate3d("+S+"px,0,0)"),E.addClass("swipeout-actions-opened"),f="to-left"===m?v:h)for(g=0;g<f.length;g+=1)Hp(f[g]).transform("translate3d("+S+"px,0,0)");w&&s.find(".swipeout-overswipe").trigger("click","f7Overswipe"),y&&l.find(".swipeout-overswipe").trigger("click","f7Overswipe")}else o.trigger("swipeout:close"),x.emit("swipeoutClose",o[0]),hh.el=void 0,o.addClass("swipeout-transitioning").removeClass("swipeout-opened"),i.transform(""),E.removeClass("swipeout-actions-opened");h&&h.length>0&&h!==f&&h.each((function(e){var t=Hp(e);void 0===(b=e.f7SwipeoutButtonOffset)&&(t[0].f7SwipeoutButtonOffset=u-e.offsetLeft-e.offsetWidth),t.transform("translate3d("+b+"px,0,0)")})),v&&v.length>0&&v!==f&&v.each((function(e){var t=Hp(e);void 0===(b=e.f7SwipeoutButtonOffset)&&(t[0].f7SwipeoutButtonOffset=e.offsetLeft),t.transform("translate3d("+-b+"px,0,0)")})),i.transitionEnd((function(){d&&"open"===n||!d&&"close"===n||(o.trigger("open"===n?"swipeout:opened":"swipeout:closed"),x.emit("open"===n?"swipeoutOpened":"swipeoutClosed",o[0]),o.removeClass("swipeout-transitioning"),d&&"close"===n&&(s.length>0&&v.transform(""),l.length>0&&h.transform("")))}))}))},allow:!0,el:void 0,open:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0],o=n[1],i=n[2];"function"==typeof n[1]&&(a=n[0],i=n[1],o=n[2]);var s=Hp(a).eq(0);if(0!==s.length&&s.hasClass("swipeout")&&!s.hasClass("swipeout-opened")){o||(o=s.find(".swipeout-actions-right").length>0?"right":"left");var l=s.find(".swipeout-actions-"+o),u=s.find(".swipeout-content");if(0!==l.length){s.trigger("swipeout:open").addClass("swipeout-opened").removeClass("swipeout-transitioning"),e.emit("swipeoutOpen",s[0]),l.addClass("swipeout-actions-opened");var c=l.children("a"),p=l.outerWidth(),d="right"===o?-p:p;c.length>1&&c.each((function(e,t){var n=Hp(e);"right"===o?n.transform("translate3d("+-e.offsetLeft+"px,0,0)"):n.css("z-index",c.length-t).transform("translate3d("+(p-e.offsetWidth-e.offsetLeft)+"px,0,0)")})),s.addClass("swipeout-transitioning"),u.transitionEnd((function(){s.trigger("swipeout:opened"),e.emit("swipeoutOpened",s[0]),i&&i.call(s[0])})),Ru((function(){c.transform("translate3d("+d+"px,0,0)"),u.transform("translate3d("+d+"px,0,0)")})),hh.el=s[0]}}},close:function(e,t){var n=this,r=Hp(e).eq(0);if(0!==r.length&&r.hasClass("swipeout-opened")){var a,o=r.find(".swipeout-actions-opened").hasClass("swipeout-actions-right")?"right":"left",i=r.find(".swipeout-actions-opened").removeClass("swipeout-actions-opened"),s=i.children("a"),l=i.outerWidth();n.swipeout.allow=!1,r.trigger("swipeout:close"),n.emit("swipeoutClose",r[0]),r.removeClass("swipeout-opened").addClass("swipeout-transitioning"),r.find(".swipeout-content").transform("").transitionEnd(u),a=setTimeout(u,500),s.each((function(e){var t=Hp(e);"right"===o?t.transform("translate3d("+-e.offsetLeft+"px,0,0)"):t.transform("translate3d("+(l-e.offsetWidth-e.offsetLeft)+"px,0,0)"),t.css({left:"0px"}).removeClass("swipeout-overswipe-active")})),hh.el&&hh.el===r[0]&&(hh.el=void 0)}function u(){n.swipeout.allow=!0,r.hasClass("swipeout-opened")||(r.removeClass("swipeout-transitioning"),s.transform(""),r.trigger("swipeout:closed"),n.emit("swipeoutClosed",r[0]),t&&t.call(r[0]),a&&clearTimeout(a))}},delete:function(e,t){var n=this,r=Hp(e).eq(0);0!==r.length&&(hh.el=void 0,r.trigger("swipeout:delete"),n.emit("swipeoutDelete",r[0]),r.css({height:r.outerHeight()+"px"}),r.transitionEnd((function(){if(r.trigger("swipeout:deleted"),n.emit("swipeoutDeleted",r[0]),t&&t.call(r[0]),r.parents(".virtual-list").length>0){var e=r.parents(".virtual-list")[0].f7VirtualList,a=r[0].f7VirtualListIndex;e&&void 0!==a&&e.deleteItem(a)}else n.params.swipeout.removeElements?n.params.swipeout.removeElementsWithTimeout?setTimeout((function(){r.remove()}),n.params.swipeout.removeElementsTimeout):r.remove():r.removeClass("swipeout-deleting swipeout-transitioning")})),Ru((function(){r.addClass("swipeout-deleting swipeout-transitioning").css({height:"0px"}).find(".swipeout-content").transform("translate3d(-100%,0,0)")})))}},vh={name:"swipeout",params:{swipeout:{actionsNoFold:!1,noFollow:!1,removeElements:!0,removeElementsWithTimeout:!1,removeElementsTimeout:0,overswipeRatio:1.2}},create:function(){Gu(this,{swipeout:hh})},clicks:{".swipeout-open":function(e,t){void 0===t&&(t={});this.swipeout.open(t.swipeout,t.side)},".swipeout-close":function(e){var t=e.closest(".swipeout");0!==t.length&&this.swipeout.close(t)},".swipeout-delete":function(e,t){void 0===t&&(t={});var n=this,r=e.closest(".swipeout");if(0!==r.length){var a=t,o=a.confirm,i=a.confirmTitle;t.confirm?n.dialog.confirm(o,i,(function(){n.swipeout.delete(r)})):n.swipeout.delete(r)}}},on:{init:function(){this.params.swipeout&&this.swipeout.init()}}},mh={toggleClicked:function(e){var t=e.closest(".accordion-item").eq(0);t.length||(t=e.parents("li").eq(0));var n=e.parents(".accordion-item-content").eq(0);n.length&&n.parents(t).length||e.parents("li").length>1&&e.parents("li")[0]!==t[0]||this.accordion.toggle(t)},open:function(e){var t=this,n=Hp(e),r=!1;function a(){r=!0}if(n.trigger("accordion:beforeopen",{prevent:a},a),t.emit("accordionBeforeOpen",n[0],a),!r){var o=n.parents(".accordion-list").eq(0),i=n.children(".accordion-item-content");if(i.removeAttr("aria-hidden"),0===i.length&&(i=n.find(".accordion-item-content")),0!==i.length){var s=o.length>0&&n.parent().children(".accordion-item-opened");s.length>0&&t.accordion.close(s),i.transitionEnd((function(){n.hasClass("accordion-item-opened")?(i.transition(0),i.css("height","auto"),Ru((function(){i.transition(""),n.trigger("accordion:opened"),t.emit("accordionOpened",n[0])}))):(i.css("height",""),n.trigger("accordion:closed"),t.emit("accordionClosed",n[0]))})),i.css("height",i[0].scrollHeight+"px"),n.trigger("accordion:open"),n.addClass("accordion-item-opened"),t.emit("accordionOpen",n[0])}}},close:function(e){var t=this,n=Hp(e),r=!1;function a(){r=!0}if(n.trigger("accordion:beforeclose",{prevent:a},a),t.emit("accordionBeforeClose",n[0],a),!r){var o=n.children(".accordion-item-content");0===o.length&&(o=n.find(".accordion-item-content")),n.removeClass("accordion-item-opened"),o.attr("aria-hidden",!0),o.transition(0),o.css("height",o[0].scrollHeight+"px"),o.transitionEnd((function(){n.hasClass("accordion-item-opened")?(o.transition(0),o.css("height","auto"),Ru((function(){o.transition(""),n.trigger("accordion:opened"),t.emit("accordionOpened",n[0])}))):(o.css("height",""),n.trigger("accordion:closed"),t.emit("accordionClosed",n[0]))})),Ru((function(){o.transition(""),o.css("height",""),n.trigger("accordion:close"),t.emit("accordionClose",n[0])}))}},toggle:function(e){var t=Hp(e);0!==t.length&&(t.hasClass("accordion-item-opened")?this.accordion.close(e):this.accordion.open(e))}},gh={name:"accordion",create:function(){Gu(this,{accordion:mh})},clicks:{".accordion-item .item-link, .accordion-item-toggle, .links-list.accordion-list > ul > li > a":function(e){mh.toggleClicked.call(this,e)}}};function bh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yh(e,t){return yh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},yh(e,t)}var wh=function(e){var t,n;function r(t,n){var r;void 0===n&&(n={});var a,o=bh(r=e.call(this,n,[t])||this),i=Ku(),s=mu();"md"===t.theme?a=48:"ios"===t.theme?a=44:"aurora"===t.theme&&(a=38);var l={cols:1,height:a,cache:!0,dynamicHeightBufferSize:1,showFilteredItemsOnly:!1,renderExternal:void 0,setListHeight:!0,searchByItem:void 0,searchAll:void 0,ul:null,createUl:!0,scrollableParentEl:void 0,renderItem:function(e){return('\n          <li>\n            <div class="item-content">\n              <div class="item-inner">\n                <div class="item-title">'+e+"</div>\n              </div>\n            </div>\n          </li>\n        ").trim()},on:{}};if(o.useModulesParams(l),o.params=Fu(l,n),void 0!==o.params.height&&o.params.height||(o.params.height=a),o.$el=Hp(n.el),o.el=o.$el[0],0===o.$el.length)return bh(r);o.$el[0].f7VirtualList=o,o.items=o.params.items,o.params.showFilteredItemsOnly&&(o.filteredItems=[]),o.params.renderItem&&(o.renderItem=o.params.renderItem),o.$pageContentEl=o.$el.parents(".page-content"),o.pageContentEl=o.$pageContentEl[0],o.$scrollableParentEl=o.params.scrollableParentEl?Hp(o.params.scrollableParentEl).eq(0):o.$pageContentEl,!o.$scrollableParentEl.length&&o.$pageContentEl.length&&(o.$scrollableParentEl=o.$pageContentEl),o.scrollableParentEl=o.$scrollableParentEl[0],void 0!==o.params.updatableScroll?o.updatableScroll=o.params.updatableScroll:(o.updatableScroll=!0,i.ios&&i.osVersion.split(".")[0]<8&&(o.updatableScroll=!1));var u,c=o.params.ul;o.$ul=c?Hp(o.params.ul):o.$el.children("ul"),0===o.$ul.length&&o.params.createUl&&(o.$el.append("<ul></ul>"),o.$ul=o.$el.children("ul")),o.ul=o.$ul[0],u=o.ul||o.params.createUl?o.$ul:o.$el,Fu(o,{$itemsWrapEl:u,itemsWrapEl:u[0],domCache:{},displayDomCache:{},tempDomElement:s.createElement("ul"),lastRepaintY:null,fragment:s.createDocumentFragment(),pageHeight:void 0,rowsPerScreen:void 0,rowsBefore:void 0,rowsAfter:void 0,rowsToRender:void 0,maxBufferHeight:0,listHeight:void 0,dynamicHeight:"function"==typeof o.params.height}),o.useModules();var p,d,f,h,v=o.handleScroll.bind(o),m=o.handleResize.bind(o);return o.attachEvents=function(){p=o.$el.parents(".page").eq(0),d=o.$el.parents(".tab").filter((function(e){return 0===Hp(e).parent(".tabs").parent(".tabs-animated-wrap, .tabs-swipeable-wrap").length})).eq(0),f=o.$el.parents(".panel").eq(0),h=o.$el.parents(".popup").eq(0),o.$scrollableParentEl.on("scroll",v),p.length&&p.on("page:reinit",m),d.length&&d.on("tab:show",m),f.length&&f.on("panel:open",m),h.length&&h.on("popup:open",m),t.on("resize",m)},o.detachEvents=function(){o.$scrollableParentEl.off("scroll",v),p.length&&p.off("page:reinit",m),d.length&&d.off("tab:show",m),f.length&&f.off("panel:open",m),h.length&&h.off("popup:open",m),t.off("resize",m)},o.init(),o||bh(r)}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,yh(t,n);var a=r.prototype;return a.setListSize=function(){var e=this,t=e.filteredItems||e.items;if(e.pageHeight=e.$scrollableParentEl[0].offsetHeight,e.dynamicHeight){e.listHeight=0,e.heights=[];for(var n=0;n<t.length;n+=1){var r=e.params.height(t[n]);e.listHeight+=r,e.heights.push(r)}}else e.listHeight=Math.ceil(t.length/e.params.cols)*e.params.height,e.rowsPerScreen=Math.ceil(e.pageHeight/e.params.height),e.rowsBefore=e.params.rowsBefore||2*e.rowsPerScreen,e.rowsAfter=e.params.rowsAfter||e.rowsPerScreen,e.rowsToRender=e.rowsPerScreen+e.rowsBefore+e.rowsAfter,e.maxBufferHeight=e.rowsBefore/2*e.params.height;(e.updatableScroll||e.params.setListHeight)&&e.$itemsWrapEl.css({height:e.listHeight+"px"})},a.render=function(e,t){var n=this;e&&(n.lastRepaintY=null);var r=-(n.$el[0].getBoundingClientRect().top-n.$scrollableParentEl[0].getBoundingClientRect().top);if(void 0!==t&&(r=t),null===n.lastRepaintY||Math.abs(r-n.lastRepaintY)>n.maxBufferHeight||!n.updatableScroll&&n.$scrollableParentEl[0].scrollTop+n.pageHeight>=n.$scrollableParentEl[0].scrollHeight){n.lastRepaintY=r;var a,o,i,s=n.filteredItems||n.items,l=0,u=0;if(n.dynamicHeight){var c,p=0;n.maxBufferHeight=n.pageHeight;for(var d=0;d<n.heights.length;d+=1)c=n.heights[d],void 0===a&&(p+c>=r-2*n.pageHeight*n.params.dynamicHeightBufferSize?a=d:l+=c),void 0===o&&((p+c>=r+2*n.pageHeight*n.params.dynamicHeightBufferSize||d===n.heights.length-1)&&(o=d+1),u+=c),p+=c;o=Math.min(o,s.length)}else(a=(parseInt(r/n.params.height,10)-n.rowsBefore)*n.params.cols)<0&&(a=0),o=Math.min(a+n.rowsToRender*n.params.cols,s.length);var f,h=[];for(n.reachEnd=!1,f=a;f<o;f+=1){var v=void 0,m=n.items.indexOf(s[f]);f===a&&(n.currentFromIndex=m),f===o-1&&(n.currentToIndex=m),n.filteredItems?n.items[m]===n.filteredItems[n.filteredItems.length-1]&&(n.reachEnd=!0):m===n.items.length-1&&(n.reachEnd=!0),n.params.renderExternal?h.push(s[f]):n.domCache[m]?(v=n.domCache[m]).f7VirtualListIndex=m:(n.renderItem?n.tempDomElement.innerHTML=n.renderItem(s[f],m).trim():n.tempDomElement.innerHTML=s[f].toString().trim(),v=n.tempDomElement.childNodes[0],n.params.cache&&(n.domCache[m]=v),v.f7VirtualListIndex=m),f===a&&(i=n.dynamicHeight?l:f*n.params.height/n.params.cols),n.params.renderExternal||(v.style.top=i+"px",n.emit("local::itemBeforeInsert vlItemBeforeInsert",n,v,s[f]),n.fragment.appendChild(v))}n.updatableScroll||(n.dynamicHeight?n.itemsWrapEl.style.height=u+"px":n.itemsWrapEl.style.height=f*n.params.height/n.params.cols+"px"),n.params.renderExternal?s&&0===s.length&&(n.reachEnd=!0):(n.emit("local::beforeClear vlBeforeClear",n,n.fragment),n.itemsWrapEl.innerHTML="",n.emit("local::itemsBeforeInsert vlItemsBeforeInsert",n,n.fragment),s&&0===s.length?(n.reachEnd=!0,n.params.emptyTemplate&&(n.itemsWrapEl.innerHTML=n.params.emptyTemplate)):n.itemsWrapEl.appendChild(n.fragment),n.emit("local::itemsAfterInsert vlItemsAfterInsert",n,n.fragment)),void 0!==t&&e&&n.$scrollableParentEl.scrollTop(t,0),n.params.renderExternal&&n.params.renderExternal(n,{fromIndex:a,toIndex:o,listHeight:n.listHeight,topPosition:i,items:h})}},a.filterItems=function(e,t){void 0===t&&(t=!0);var n=this;n.filteredItems=[];for(var r=0;r<e.length;r+=1)n.filteredItems.push(n.items[e[r]]);t&&(n.$scrollableParentEl[0].scrollTop=0),n.update()},a.resetFilter=function(){var e=this;e.params.showFilteredItemsOnly?e.filteredItems=[]:(e.filteredItems=null,delete e.filteredItems),e.update()},a.scrollToItem=function(e){var t=this;if(e>t.items.length)return!1;var n=0;if(t.dynamicHeight)for(var r=0;r<e;r+=1)n+=t.heights[r];else n=e*t.params.height;var a=t.$el[0].offsetTop;return t.render(!0,a+n-parseInt(t.$scrollableParentEl.css("padding-top"),10)),!0},a.handleScroll=function(){this.render()},a.isVisible=function(){var e=this;return!!(e.el.offsetWidth||e.el.offsetHeight||e.el.getClientRects().length)},a.handleResize=function(){var e=this;e.isVisible()&&(e.setListSize(),e.render(!0))},a.appendItems=function(e){for(var t=0;t<e.length;t+=1)this.items.push(e[t]);this.update()},a.appendItem=function(e){this.appendItems([e])},a.replaceAllItems=function(e){var t=this;t.items=e,delete t.filteredItems,t.domCache={},t.update()},a.replaceItem=function(e,t){var n=this;n.items[e]=t,n.params.cache&&delete n.domCache[e],n.update()},a.prependItems=function(e){for(var t=this,n=e.length-1;n>=0;n-=1)t.items.unshift(e[n]);if(t.params.cache){var r={};Object.keys(t.domCache).forEach((function(n){r[parseInt(n,10)+e.length]=t.domCache[n]})),t.domCache=r}t.update()},a.prependItem=function(e){this.prependItems([e])},a.moveItem=function(e,t){var n=this,r=e,a=t;if(r!==a){var o=n.items.splice(r,1)[0];if(a>=n.items.length?(n.items.push(o),a=n.items.length-1):n.items.splice(a,0,o),n.params.cache){var i={};Object.keys(n.domCache).forEach((function(e){var t=parseInt(e,10),o=r<a?r:a,s=r<a?a:r,l=r<a?-1:1;(t<o||t>s)&&(i[t]=n.domCache[t]),t===o&&(i[s]=n.domCache[t]),t>o&&t<=s&&(i[t+l]=n.domCache[t])})),n.domCache=i}n.update()}},a.insertItemBefore=function(e,t){var n=this;if(0!==e)if(e>=n.items.length)n.appendItem(t);else{if(n.items.splice(e,0,t),n.params.cache){var r={};Object.keys(n.domCache).forEach((function(t){var a=parseInt(t,10);a>=e&&(r[a+1]=n.domCache[a])})),n.domCache=r}n.update()}else n.prependItem(t)},a.deleteItems=function(e){for(var t,n=this,r=0,a=function(a){var o=e[a];void 0!==t&&o>t&&(r=-a),o+=r,t=e[a];var i=n.items.splice(o,1)[0];if(n.filteredItems&&n.filteredItems.indexOf(i)>=0&&n.filteredItems.splice(n.filteredItems.indexOf(i),1),n.params.cache){var s={};Object.keys(n.domCache).forEach((function(e){var t=parseInt(e,10);t===o?delete n.domCache[o]:parseInt(e,10)>o?s[t-1]=n.domCache[e]:s[t]=n.domCache[e]})),n.domCache=s}},o=0;o<e.length;o+=1)a(o);n.update()},a.deleteAllItems=function(){var e=this;e.items=[],delete e.filteredItems,e.params.cache&&(e.domCache={}),e.update()},a.deleteItem=function(e){this.deleteItems([e])},a.clearCache=function(){this.domCache={}},a.update=function(e){var t=this;e&&t.params.cache&&(t.domCache={}),t.setListSize(),t.render(!0)},a.init=function(){var e=this;e.attachEvents(),e.setListSize(),e.render()},a.destroy=function(){var e=this;e.detachEvents(),e.$el[0].f7VirtualList=null,delete e.$el[0].f7VirtualList,Iu(e),e=null},r}(nc),xh=wh,Ch={name:"virtualList",static:{VirtualList:xh},create:function(){this.virtualList=qp({defaultSelector:".virtual-list",constructor:xh,app:this,domProp:"f7VirtualList"})}};function Eh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kh(e,t){return kh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},kh(e,t)}var Sh=function(e){var t,n;function r(t,n){var r;void 0===n&&(n={});var a,o,i,s,l=Eh(r=e.call(this,n,[t])||this),u={el:null,listEl:null,indexes:"auto",iosItemHeight:14,mdItemHeight:14,auroraItemHeight:14,scrollList:!0,label:!1,renderItem:function(e,t){return("\n          <li>"+e+"</li>\n        ").trim()},renderSkipPlaceholder:function(){return'<li class="list-index-skip-placeholder"></li>'},on:{}};if(l.useModulesParams(u),l.params=Fu(u,n),!l.params.el)return l||Eh(r);if((a=Hp(l.params.el))[0].f7ListIndex)return a[0].f7ListIndex||Eh(r);if(0===(s=a.find("ul")).length&&(s=Hp("<ul></ul>"),a.append(s)),l.params.listEl&&(o=Hp(l.params.listEl)),"auto"===l.params.indexes&&!o)return l||Eh(r);function c(){var e={index:l};l.calcSize(),e!==l.height&&l.render()}function p(e){var t=Hp(e.target).closest("li");if(t.length){var n=t.index();if(l.skipRate>0){var r=n/(t.siblings("li").length-1);n=Math.round((l.indexes.length-1)*r)}var a=l.indexes[n];l.$el.trigger("listindex:click",{content:a,index:n}),l.emit("local::click listIndexClick",l,a,n),l.$el.trigger("listindex:select",{content:a,index:n}),l.emit("local::select listIndexSelect",l,a,n),l.$listEl&&l.params.scrollList&&l.scrollListToIndex(a,n)}}o?i=o.parents(".page-content").eq(0):0===(i=a.siblings(".page-content").eq(0)).length&&(i=a.parents(".page").eq(0).find(".page-content").eq(0)),a[0].f7ListIndex=l,Fu(l,{app:t,$el:a,el:a&&a[0],$ul:s,ul:s&&s[0],$listEl:o,listEl:o&&o[0],$pageContentEl:i,pageContentEl:i&&i[0],indexes:n.indexes,height:0,skipRate:0}),l.useModules();var d,f,h,v,m,g={},b=null;function y(e){var t=s.children();t.length&&(h=t[0].getBoundingClientRect().top,v=t[t.length-1].getBoundingClientRect().top+t[0].offsetHeight,g.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,g.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,d=!0,f=!1,b=null)}function w(e){if(d){!f&&l.params.label&&(m=Hp('<span class="list-index-label"></span>'),a.append(m)),f=!0;var t="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;e.preventDefault();var n=(t-h)/(v-h);n=Math.min(Math.max(n,0),1);var r=Math.round((l.indexes.length-1)*n),o=l.indexes[r],i=v-h,s=(l.height-i)/2+(1-n)*i;r!==b&&(l.params.label&&m.html(o).transform("translateY(-"+s+"px)"),l.$listEl&&l.params.scrollList&&l.scrollListToIndex(o,r)),b=r,l.$el.trigger("listindex:select"),l.emit("local::select listIndexSelect",l,o,r)}}function x(){d&&(d=!1,f=!1,l.params.label&&(m&&m.remove(),m=void 0))}var C=!!Yu().passiveListener&&{passive:!0};return l.attachEvents=function(){a.parents(".tab").on("tab:show",c),a.parents(".page").on("page:reinit",c),a.parents(".panel").on("panel:open",c),a.parents(".sheet-modal, .actions-modal, .popup, .popover, .login-screen, .dialog, .toast").on("modal:open",c),t.on("resize",c),a.on("click",p),a.on(t.touchEvents.start,y,C),t.on("touchmove:active",w),t.on("touchend:passive",x)},l.detachEvents=function(){a.parents(".tab").off("tab:show",c),a.parents(".page").off("page:reinit",c),a.parents(".panel").off("panel:open",c),a.parents(".sheet-modal, .actions-modal, .popup, .popover, .login-screen, .dialog, .toast").off("modal:open",c),t.off("resize",c),a.off("click",p),a.off(t.touchEvents.start,y,C),t.off("touchmove:active",w),t.off("touchend:passive",x)},l.init(),l||Eh(r)}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,kh(t,n);var a=r.prototype;return a.scrollListToIndex=function(e,t){var n,r=this,a=r.$listEl,o=r.$pageContentEl,i=r.app;if(!a||!o||0===o.length)return r;if(a.find(".list-group-title, .item-divider").each((function(t){if(!n){var r=Hp(t);r.text()===e&&(n=r)}})),!n||0===n.length)return r;var s=n.parent().offset().top,l=parseInt(o.css("padding-top"),10),u=o[0].scrollTop,c=n.offset().top;if(o.parents(".page-with-navbar-large").length){var p=i.navbar.getElByPage(o.parents(".page-with-navbar-large").eq(0)),d=Hp(p).find(".title-large");d.length&&(l-=d[0].offsetHeight||0)}return s<=l?o.scrollTop(s+u-l):o.scrollTop(c+u-l),r},a.renderSkipPlaceholder=function(){return this.params.renderSkipPlaceholder.call(this)},a.renderItem=function(e,t){return this.params.renderItem.call(this,e,t)},a.render=function(){var e,t=this,n=t.$ul,r=t.indexes,a=t.skipRate,o=r.map((function(n,r){if(r%a!=0&&a>0)return e=!0,"";var o=t.renderItem(n,r);return e&&(o=t.renderSkipPlaceholder()+o),e=!1,o})).join("");return n.html(o),t},a.calcSize=function(){var e=this,t=e.app,n=e.params,r=e.el,a=e.indexes,o=r.offsetHeight,i=n[t.theme+"ItemHeight"],s=Math.floor(o/i),l=a.length,u=0;return l>s&&(u=Math.ceil((2*l-1)/s)),e.height=o,e.skipRate=u,e},a.calcIndexes=function(){var e=this;return"auto"===e.params.indexes?(e.indexes=[],e.$listEl.find(".list-group-title, .item-divider").each((function(t){var n=Hp(t).text();e.indexes.indexOf(n)<0&&e.indexes.push(n)}))):e.indexes=e.params.indexes,e},a.update=function(){var e=this;return e.calcIndexes(),e.calcSize(),e.render(),e},a.init=function(){var e=this;e.calcIndexes(),e.calcSize(),e.render(),e.attachEvents()},a.destroy=function(){var e=this;e.$el.trigger("listindex:beforedestroy",e),e.emit("local::beforeDestroy listIndexBeforeDestroy"),e.detachEvents(),e.$el[0]&&(e.$el[0].f7ListIndex=null,delete e.$el[0].f7ListIndex),Iu(e),e=null},r}(nc),Th=Sh,Oh={name:"listIndex",static:{ListIndex:Th},create:function(){this.listIndex=qp({defaultSelector:".list-index",constructor:Th,app:this,domProp:"f7ListIndex"})},on:{tabMounted:function(e){var t=this;Hp(e).find(".list-index-init").each((function(e){var n=Fu(Hp(e).dataset(),{el:e});t.listIndex.create(n)}))},tabBeforeRemove:function(e){Hp(e).find(".list-index-init").each((function(e){e.f7ListIndex&&e.f7ListIndex.destroy()}))},pageInit:function(e){var t=this;e.$el.find(".list-index-init").each((function(e){var n=Fu(Hp(e).dataset(),{el:e});t.listIndex.create(n)}))},pageBeforeRemove:function(e){e.$el.find(".list-index-init").each((function(e){e.f7ListIndex&&e.f7ListIndex.destroy()}))}},vnode:{"list-index-init":{insert:function(e){var t=e.elm,n=Fu(Hp(t).dataset(),{el:t});this.listIndex.create(n)},destroy:function(e){var t=e.elm;t.f7ListIndex&&t.f7ListIndex.destroy()}}}},Ih={show:function(){for(var e,t,n,r,a,o=this,i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];1===s.length&&s[0]&&s[0].constructor===Object?(e=s[0].tabEl,t=s[0].tabLinkEl,n=s[0].animate,r=s[0].tabRoute,a=s[0].animatedInit):(e=s[0],t=s[1],n=s[2],r=s[3],"boolean"==typeof s[1]&&(e=s[0],n=s[1],t=s[2],r=s[3],s.length>2&&t.constructor===Object&&(e=s[0],n=s[1],r=s[2],t=s[3]))),void 0===n&&(n=!0);var u,c=Hp(e);if(r&&c[0]&&(c[0].f7TabRoute=r),!a&&(0===c.length||c.hasClass("tab-active")))return{$newTabEl:c,newTabEl:c[0]};t&&(u=Hp(t));var p=c.parent(".tabs");if(0===p.length)return{$newTabEl:c,newTabEl:c[0]};o.swipeout&&(o.swipeout.allowOpen=!0);var d=[];function f(){d.forEach((function(e){e()}))}var h,v=!1;if(p.parent().hasClass("tabs-animated-wrap")){p.parent()[n?"removeClass":"addClass"]("not-animated");var m=parseFloat(p.css("transition-duration").replace(",","."));n&&m&&(p.transitionEnd(f),v=!0);var g=100*(o.rtl?c.index():-c.index());p.transform("translate3d("+g+"%,0,0)")}p.parent().hasClass("tabs-swipeable-wrap")&&o.swiper&&((h=p.parent()[0].swiper)&&h.activeIndex!==c.index()?(v=!0,h.once("slideChangeTransitionEnd",(function(){f()})).slideTo(c.index(),n?void 0:0)):h&&h.animating&&(v=!0,h.once("slideChangeTransitionEnd",(function(){f()}))));var b=p.children(".tab-active");if(b.removeClass("tab-active"),!a&&(!h||h&&!h.animating||h&&r)&&(b.hasClass("view")&&b.children(".page").length&&b.children(".page").each((function(e){Hp(e).trigger("page:tabhide"),o.emit("pageTabHide",e)})),b.trigger("tab:hide"),o.emit("tabHide",b[0])),c.addClass("tab-active"),!a&&(!h||h&&!h.animating||h&&r)&&(c.hasClass("view")&&c.children(".page").length&&c.children(".page").each((function(e){Hp(e).trigger("page:tabshow"),o.emit("pageTabShow",e)})),c.trigger("tab:show"),o.emit("tabShow",c[0])),!u&&((!(u=Hp("string"==typeof e?'.tab-link[href="'+e+'"]':'.tab-link[href="#'+c.attr("id")+'"]'))||u&&0===u.length)&&Hp("[data-tab]").each((function(e){c.is(Hp(e).attr("data-tab"))&&(u=Hp(e))})),r&&(!u||u&&0===u.length)&&0===(u=Hp('[data-route-tab-id="'+r.route.tab.id+'"]')).length&&(u=Hp('.tab-link[href="'+r.url+'"]')),u.length>1&&c.parents(".page").length&&(u=u.filter((function(e){return Hp(e).parents(".page")[0]===c.parents(".page")[0]})),"ios"===o.theme&&0===u.length&&r))){var y=c.parents(".page"),w=Hp(o.navbar.getElByPage(y));0===(u=w.find('[data-route-tab-id="'+r.route.tab.id+'"]')).length&&(u=w.find('.tab-link[href="'+r.url+'"]'))}if(u.length>0){var x;if(b&&b.length>0){var C=b.attr("id");C&&(!(x=Hp('.tab-link[href="#'+C+'"]'))||x&&0===x.length)&&(x=Hp('.tab-link[data-route-tab-id="'+C+'"]')),(!x||x&&0===x.length)&&Hp("[data-tab]").each((function(e){b.is(Hp(e).attr("data-tab"))&&(x=Hp(e))})),(!x||x&&0===x.length)&&(x=u.siblings(".tab-link-active"))}else r&&(x=u.siblings(".tab-link-active"));if(x&&x.length>1&&b&&b.parents(".page").length&&(x=x.filter((function(e){return Hp(e).parents(".page")[0]===b.parents(".page")[0]}))),x&&x.length>0&&x.removeClass("tab-link-active"),u&&u.length>0){u.addClass("tab-link-active");var E=u.parents(".tabbar, .tabbar-labels");o.toolbar&&E.length>0&&(E.hasClass("tabbar-highlight")||"ios"!==o.theme)&&o.toolbar.setHighlight(E)}}return{$newTabEl:c,newTabEl:c[0],$oldTabEl:b,oldTabEl:b[0],onTabsChanged:function(e){d.push(e)},animated:v}}},Nh={name:"tabs",create:function(){Fu(this,{tab:{show:Ih.show.bind(this)}})},on:{"pageInit tabMounted":function(e){var t=Hp(e.el||e).find(".tabs-animated-wrap > .tabs > .tab-active")[0];if(t){this.tab.show({tabEl:t,animatedInit:!0,animate:!1})}}},clicks:{".tab-link":function(e,t){if(void 0===t&&(t={}),e.attr("href")&&0===e.attr("href").indexOf("#")||e.attr("data-tab")){this.tab.show({tabEl:t.tab||e.attr("href"),tabLinkEl:e,animate:t.animate})}}}};var Ah=function(e){var t=e.app;if(!e.swipeInitialized){Fu(e,{swipeable:!0,swipeInitialized:!0});var n,r,a,o,i,s,l,u,c,p,d,f,h,v=e.params,m=e.$el,g=e.$backdropEl,b=e.side,y=e.effect,w={},x=0;t.on("touchstart:passive",C),t.on("touchmove:active",E),t.on("touchend:passive",k),t.on("gesturestart",S),t.on("gestureend",T),e.on("panelDestroy",(function(){t.off("touchstart:passive",C),t.off("touchmove:active",E),t.off("touchend:passive",k),t.off("gesturestart",S),t.off("gestureend",T)}))}function C(u){if(e.swipeable&&!a&&t.panel.allowOpen&&(v.swipe||v.swipeOnlyClose)&&!r&&!(Hp(".modal-in:not(.toast):not(.notification), .photo-browser-in").length>0)){var c=(n=t.panel.get("left"===b?"right":"left")||{}).opened&&n.$el&&!n.$el.hasClass("panel-in-breakpoint");if((e.opened||!c)&&(v.swipeOnlyClose||!c)&&(!u.target||"input"!==u.target.nodeName.toLowerCase()||"range"!==u.target.type)&&!(Hp(u.target).closest(".range-slider, .tabs-swipeable-wrap, .calendar-months, .no-swipe-panel, .card-opened").length>0)&&(w.x="touchstart"===u.type?u.targetTouches[0].pageX:u.pageX,w.y="touchstart"===u.type?u.targetTouches[0].pageY:u.pageY,!v.swipeOnlyClose||e.opened)){if(v.swipeActiveArea&&!e.opened){if("left"===b&&w.x>v.swipeActiveArea)return;if("right"===b&&w.x<t.width-v.swipeActiveArea)return}x=0,h=Hp(e.getViewEl()),o=!1,r=!0,i=void 0,s=!1,l=Mu(),f=void 0}}}function E(n){if(r&&!a&&!s&&!((x+=1)<2))if(n.f7PreventSwipePanel||t.preventSwipePanelBySwipeBack||t.preventSwipePanel)r=!1;else{var l="touchmove"===n.type?n.targetTouches[0].pageX:n.pageX,C="touchmove"===n.type?n.targetTouches[0].pageY:n.pageY;if(void 0===i&&(i=!!(i||Math.abs(C-w.y)>Math.abs(l-w.x))),i)r=!1;else{if(!f){if(f=l>w.x?"to-right":"to-left",v.swipeActiveArea>0&&!e.opened){if("left"===b&&w.x>v.swipeActiveArea)return void(r=!1);if("right"===b&&w.x<t.width-v.swipeActiveArea)return void(r=!1)}if(m.hasClass("panel-in-breakpoint"))return void(r=!1);if("left"===b&&"to-left"===f&&!m.hasClass("panel-in")||"right"===b&&"to-right"===f&&!m.hasClass("panel-in"))return void(r=!1)}var E=e.opened?0:-v.swipeThreshold;"right"===b&&(E=-E),o||(e.opened||(e.insertToRoot(),m.addClass("panel-in-swipe"),g.css("visibility","visible"),m.trigger("panel:swipeopen"),e.emit("local::swipeOpen panelSwipeOpen",e)),d=m[0].offsetWidth,"reveal"===y&&m.hasClass("panel-in-collapsed")&&(d-=parseFloat(h.css("margin-"+b))),m.transition(0)),o=!0,n.cancelable&&n.preventDefault(),u=l-w.x+E,"right"===b?"cover"===y||"push"===y?((c=u+(e.opened?0:d))<0&&(c=0),c>d&&(c=d)):((c=u-(e.opened?d:0))>0&&(c=0),c<-d&&(c=-d)):((c=u+(e.opened?d:0))<0&&(c=0),c>d&&(c=d));var S=Math.abs(c/d);if("reveal"===y)v.swipeNoFollow||(h.transform("translate3d("+c+"px,0,0)").transition(0),g.transform("translate3d("+c+"px,0,0)").transition(0)),m.trigger("panel:swipe",Math.abs(c/d)),e.emit("local::swipe panelSwipe",e,Math.abs(c/d));else{if("left"===b&&(c-=d),!v.swipeNoFollow&&(g.transition(0),p=1-Math.abs(c/d),g.css({opacity:p}),m.transform("translate3d("+c+"px,0,0)").transition(0),"push"===y)){var T="left"===b?c+d:c-d;h.transform("translate3d("+T+"px,0,0)").transition(0),g.transform("translate3d("+T+"px,0,0)").transition(0)}m.trigger("panel:swipe",Math.abs(c/d)),e.emit("local::swipe panelSwipe",e,Math.abs(c/d))}if(v.swipeNoFollow)(e.opened&&0===S||!e.opened&&1===S)&&(s=!0,k(n))}}}function k(t){if(!r||!o)return r=!1,void(o=!1);var n="gesturestart"===t.type||a;r=!1,o=!1;var i,s=(new Date).getTime()-l,p=(0===c||Math.abs(c)===d)&&!v.swipeNoFollow,f=v.swipeThreshold||0;"swap"===(i=n?"reset":e.opened?"cover"===y||"push"===y?0===c?"reset":s<300&&Math.abs(c)>0?"swap":s>=300&&Math.abs(c)<d/2?"reset":"swap":c===-d?"reset":s<300&&Math.abs(c)>=0||s>=300&&Math.abs(c)<=d/2?"left"===b&&c===d?"reset":"swap":"reset":Math.abs(u)<f?"reset":"cover"===y||"push"===y?0===c||s<300&&Math.abs(c)>0||s>=300&&Math.abs(c)<d/2?"swap":"reset":0===c?"reset":s<300&&Math.abs(c)>0||s>=300&&Math.abs(c)>=d/2?"swap":"reset")&&(e.opened?e.close(!p):e.open(!p));var w=!0;if("reset"===i&&!e.opened)if(p)m.removeClass("panel-in-swipe");else{w=!1;var x="reveal"===y?h:m;e.setStateClasses("before-closing"),x.transitionEnd((function(){m.hasClass("panel-in")||(m.removeClass("panel-in-swipe"),e.setStateClasses("after-closing"))}))}"reveal"!==y&&"push"!==y||Ru((function(){h.transition(""),h.transform("")})),w&&m.removeClass("panel-in-swipe"),m.transition("").transform(""),g.transform("").transition("").css({opacity:"",visibility:""})}function S(e){a=!0,k(e)}function T(){a=!1}};var _h=function(e){var t=e.app,n=Yu();if(!e.resizableInitialized){Fu(e,{resizable:!0,resizableWidth:null,resizableInitialized:!0});var r=Hp("html"),a=e.$el,o=e.$backdropEl,i=e.side,s=e.effect;if(a){var l,u,c,p,d,f,h,v,m={};0===e.$el.find(".panel-resize-handler").length&&e.$el.append('<div class="panel-resize-handler"></div>'),e.$resizeHandlerEl=e.$el.children(".panel-resize-handler"),a.addClass("panel-resizable");var g=!!n.passiveListener&&{passive:!0};e.$el.on(t.touchEvents.start,".panel-resize-handler",y,g),t.on("touchmove:active",w),t.on("touchend:passive",x),t.on("resize",C),e.on("beforeOpen",C),e.once("panelDestroy",(function(){a.removeClass("panel-resizable"),e.$resizeHandlerEl.remove(),e.$el.off(t.touchEvents.start,".panel-resize-handler",y,g),t.off("touchmove:active",w),t.off("touchend:passive",x),t.off("resize",C),e.off("beforeOpen",C)}))}}function b(e){if(!e)return null;if(e.indexOf("%")>=0||e.indexOf("vw")>=0)return parseInt(e,10)/100*t.width;var n=parseInt(e,10);return Number.isNaN(n)?null:n}function y(t){e.resizable&&a.hasClass("panel-resizable")&&(m.x="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,m.y="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY,u=!1,l=!0,f=b(a.css("min-width")),h=b(a.css("max-width")),v=a.hasClass("panel-in-breakpoint"))}function w(n){if(l){var g="touchmove"===n.type?n.targetTouches[0].pageX:n.pageX;u||(p=a[0].offsetWidth,a.transition(0),a.addClass("panel-resizing"),r.css("cursor","col-resize"),("cover"!==s||v)&&(d=Hp(e.getViewEl()),e.$containerEl&&e.$containerEl.hasClass("page")&&d.add(e.$containerEl.children(".page-content, .tabs, .fab"))),"cover"===s||v||(o.transition(0),d.transition(0))),u=!0,n.preventDefault(),c=g-m.x;var b="left"===i?p+c:p-c;f&&!Number.isNaN(f)&&(b=Math.max(b,f)),h&&!Number.isNaN(h)&&(b=Math.min(b,h)),b=Math.min(Math.max(b,0),t.width),e.resizableWidth=b,a[0].style.width=b+"px","cover"===s||v?v&&d&&d.css("margin-"+i,b+"px"):(d&&d.transform("translate3d("+("left"===i?b:-b)+"px, 0, 0)"),o&&o.transform("translate3d("+("left"===i?b:-b)+"px, 0, 0)")),a.trigger("panel:resize",b),e.emit("local::resize panelResize",e,b)}}function x(){if(Hp("html").css("cursor",""),!l||!u)return l=!1,void(u=!1);l=!1,u=!1,r[0].style.setProperty("--f7-panel-"+i+"-width",e.resizableWidth+"px"),a[0].style.width="","cover"===s||v||(d.transform(""),o.transform("")),a.removeClass("panel-resizing"),Ru((function(){a.transition(""),"cover"!==s&&(o.transition(""),d&&d.transition(""))}))}function C(){e.opened&&e.resizableWidth&&(f=b(a.css("min-width")),h=b(a.css("max-width")),f&&!Number.isNaN(f)&&e.resizableWidth<f&&(e.resizableWidth=Math.max(e.resizableWidth,f)),h&&!Number.isNaN(h)&&e.resizableWidth>h&&(e.resizableWidth=Math.min(e.resizableWidth,h)),e.resizableWidth=Math.min(Math.max(e.resizableWidth,0),t.width),r[0].style.setProperty("--f7-panel-"+i+"-width",e.resizableWidth+"px"))}};function Rh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mh(e,t){return Mh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Mh(e,t)}var Ph=function(e){var t,n;function r(t,n){var r;void 0===n&&(n={});var a,o=Fu({on:{}},t.params.panel,n),i=Rh(r=e.call(this,o,[t])||this);if(i.params=o,i.$containerEl=i.params.containerEl?Hp(i.params.containerEl).eq(0):t.$el,i.containerEl=i.$containerEl[0],i.containerEl||(i.$containerEl=t.$el,i.containerEl=t.$el[0]),i.params.el?a=Hp(i.params.el).eq(0):i.params.content&&(a=Hp(i.params.content).filter((function(e){return 1===e.nodeType})).eq(0)),0===a.length)return i||Rh(r);if(a[0].f7Panel)return a[0].f7Panel||Rh(r);a[0].f7Panel=i;var s,l=i.params,u=l.side,c=l.effect,p=l.resizable;return void 0===u&&(u=a.hasClass("panel-left")?"left":"right"),void 0===c&&(c=a.hasClass("panel-cover")?"cover":a.hasClass("panel-push")?"push":"reveal"),void 0===p&&(p=a.hasClass("panel-resizable")),i.params.backdrop&&i.params.backdropEl?s=Hp(i.params.backdropEl):i.params.backdrop&&0===(s=i.$containerEl.children(".panel-backdrop")).length&&(s=Hp('<div class="panel-backdrop"></div>'),i.$containerEl.prepend(s)),Fu(i,{app:t,side:u,effect:c,resizable:p,$el:a,el:a[0],opened:!1,$backdropEl:s,backdropEl:s&&s[0]}),i.useModules(),i.init(),i||Rh(r)}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Mh(t,n);var a=r.prototype;return a.getViewEl=function(){var e=this;return e.$containerEl.children(".views").length>0?e.$containerEl.children(".views")[0]:e.$containerEl.children(".view")[0]},a.setStateClasses=function(e){var t=this,n=t.side,r=t.el,a=t.getViewEl(),o=a&&a.contains(r),i=!a||o?t.$containerEl:Hp("html");"open"===e&&i.addClass("with-panel with-panel-"+t.side+"-"+t.effect),"before-closing"===e&&i.addClass("with-panel-closing"),"closing"===e&&(i.addClass("with-panel-closing"),i.removeClass("with-panel with-panel-"+t.side+"-"+t.effect)),"after-closing"===e&&i.removeClass("with-panel-closing"),"closed"===e&&i.removeClass("with-panel-"+n+"-reveal with-panel-"+n+"-cover with-panel-"+n+"-push with-panel")},a.enableVisibleBreakpoint=function(){var e=this;return e.visibleBreakpointDisabled=!1,e.setVisibleBreakpoint(),e},a.disableVisibleBreakpoint=function(){var e=this;return e.visibleBreakpointDisabled=!0,e.setVisibleBreakpoint(),e},a.toggleVisibleBreakpoint=function(){var e=this;return e.visibleBreakpointDisabled=!e.visibleBreakpointDisabled,e.setVisibleBreakpoint(),e},a.setVisibleBreakpoint=function(e){void 0===e&&(e=!0);var t=this,n=t.app;t.visibleBreakpointResizeHandler||(t.visibleBreakpointResizeHandler=function(){t.setVisibleBreakpoint()},n.on("resize",t.visibleBreakpointResizeHandler));var r,a,o=t.side,i=t.$el,s=t.$containerEl,l=t.params,u=t.visibleBreakpointDisabled,c=l.visibleBreakpoint,p=Hp(t.getViewEl()),d=i.hasClass("panel-in-breakpoint");if(s&&s.hasClass("page")&&p.add(s.children(".page-content, .tabs, .fab")),n.width>=c&&null!=c&&!u)d?p.css(((r={})["margin-"+o]=i.width()+"px",r)):(t.setStateClasses("closed"),i.addClass("panel-in-breakpoint").removeClass("panel-in panel-in-collapsed"),t.onOpen(!1),t.onOpened(),p.css(((a={})["margin-"+o]=i.width()+"px",a)),n.allowPanelOpen=!0,e&&(t.emit("local::breakpoint panelBreakpoint",t),t.$el.trigger("panel:breakpoint")));else if(d){var f;i.removeClass("panel-in-breakpoint panel-in"),t.onClose(),t.onClosed(),p.css(((f={})["margin-"+o]="",f)),e&&(t.emit("local::breakpoint panelBreakpoint",t),t.$el.trigger("panel:breakpoint"))}},a.enableCollapsedBreakpoint=function(){var e=this;return e.collapsedBreakpointDisabled=!1,e.setCollapsedBreakpoint(),e},a.disableCollapsedBreakpoint=function(){var e=this;return e.collapsedBreakpointDisabled=!0,e.setCollapsedBreakpoint(),e},a.toggleCollapsedBreakpoint=function(){var e=this;return e.collapsedBreakpointDisabled=!e.collapsedBreakpointDisabled,e.setCollapsedBreakpoint(),e},a.setCollapsedBreakpoint=function(e){void 0===e&&(e=!0);var t=this,n=t.app;t.collapsedBreakpointResizeHandler||(t.collapsedBreakpointResizeHandler=function(){t.setCollapsedBreakpoint()},n.on("resize",t.collapsedBreakpointResizeHandler));var r=t.$el,a=t.params,o=t.collapsedBreakpointDisabled;if(!r.hasClass("panel-in-breakpoint")){var i=a.collapsedBreakpoint,s=r.hasClass("panel-in-collapsed");n.width>=i&&null!=i&&!o?s||(t.setStateClasses("closed"),r.addClass("panel-in-collapsed").removeClass("panel-in"),t.collapsed=!0,n.allowPanelOpen=!0,e&&(t.emit("local::collapsedBreakpoint panelCollapsedBreakpoint",t),t.$el.trigger("panel:collapsedbreakpoint"))):s&&(r.removeClass("panel-in-collapsed panel-in"),t.collapsed=!1,e&&(t.emit("local::collapsedBreakpoint panelCollapsedBreakpoint",t),t.$el.trigger("panel:collapsedbreakpoint")))}},a.enableResizable=function(){var e=this;return e.resizableInitialized?(e.resizable=!0,e.$el.addClass("panel-resizable")):_h(e),e},a.disableResizable=function(){var e=this;return e.resizable=!1,e.$el.removeClass("panel-resizable"),e},a.enableSwipe=function(){var e=this;return e.swipeInitialized?e.swipeable=!0:Ah(e),e},a.disableSwipe=function(){return this.swipeable=!1,this},a.onOpen=function(e){void 0===e&&(e=!0);var t=this,n=t.app;t.opened=!0,n.panel.allowOpen=!1,t.$el.trigger("panel:beforeopen"),t.emit("local::beforeOpen panelBeforeOpen",t),e&&t.setStateClasses("open"),t.$el.trigger("panel:open"),t.emit("local::open panelOpen",t)},a.onOpened=function(){var e=this;e.app.panel.allowOpen=!0,e.$el.trigger("panel:opened"),e.emit("local::opened panelOpened",e)},a.onClose=function(){var e=this,t=e.app;e.opened=!1,t.panel.allowOpen=!1,e.$el.trigger("panel:beforeclose"),e.emit("local::beforeClose panelBeforeClose",e),e.setStateClasses("closing"),e.$el.trigger("panel:close"),e.emit("local::close panelClose",e)},a.onClosed=function(){var e=this,t=e.app;if(t.panel.allowOpen=!0,e.setStateClasses("after-closing"),e.$el.removeClass("panel-out"),e.$backdropEl){var n=t.panel.get(".panel-in");(!n||n&&!n.$backdropEl)&&e.$backdropEl.removeClass("panel-backdrop-in")}e.$el.trigger("panel:closed"),e.emit("local::closed panelClosed",e)},a.toggle=function(e){void 0===e&&(e=!0);var t=this,n=t.params.visibleBreakpoint;return t.app.width>=n&&null!=n?t.toggleVisibleBreakpoint():(t.opened?t.close(e):t.open(e),t)},a.insertToRoot=function(){var e=this,t=mu(),n=e.$el,r=e.$backdropEl,a=e.$containerEl,o=n.parent(),i=n.parents(t).length>0;if(!o.is(a)||n.prevAll(".views, .view").length){var s=a.children(".panel, .views, .view").eq(0),l=a.children(".panel-backdrop").eq(0);s.length?n.insertBefore(s):l?n.insertBefore(l):a.prepend(n),r&&r.length&&(!r.parent().is(a)&&0===r.nextAll(".panel").length||r.parent().is(a)&&0===r.nextAll(".panel").length)&&r.insertBefore(n),e.once("panelClosed",(function(){i?o.append(n):n.remove()}))}},a.open=function(e){void 0===e&&(e=!0);var t=this,n=t.app;if(!n.panel.allowOpen)return!1;var r=t.effect,a=t.$el,o=t.$backdropEl,i=t.opened,s=t.$containerEl;if(!a||a.hasClass("panel-in"))return t;if(t.insertToRoot(),i||a.hasClass("panel-in-breakpoint")||a.hasClass("panel-in"))return!1;var l=n.panel.get(".panel-in");l&&l!==t&&l.close(e),a[e?"removeClass":"addClass"]("not-animated"),a.addClass("panel-in"),o&&(o.addClass("panel-backdrop-in"),o[e?"removeClass":"addClass"]("not-animated")),"cover"!==t.effect&&"push"!==t.effect||(t._clientLeft=a[0].clientLeft);var u=Hp(t.getViewEl());s&&s.hasClass("page")&&u.add(s.children(".page-content, .tabs"));var c="reveal"===r?u:a;return e?(o&&o.removeClass("not-animated"),function e(){c.transitionEnd((function(n){Hp(n.target).is(c)?a.hasClass("panel-out")?t.onClosed():t.onOpened():e()}))}(),a.removeClass("panel-out not-animated").addClass("panel-in"),t.onOpen()):(o&&o.addClass("not-animated"),a.removeClass("panel-out").addClass("panel-in not-animated"),t.onOpen(),t.onOpened()),!0},a.close=function(e){void 0===e&&(e=!0);var t=this,n=t.effect,r=t.$el,a=t.$backdropEl,o=t.opened,i=t.$containerEl;if(!o||r.hasClass("panel-in-breakpoint")||!r.hasClass("panel-in"))return t;r[e?"removeClass":"addClass"]("not-animated"),a&&a[e?"removeClass":"addClass"]("not-animated");var s=Hp(t.getViewEl());return i&&i.hasClass("page")&&s.add(i.children(".page-content, .tabs")),e?(("reveal"===n?s:r).transitionEnd((function(){r.hasClass("panel-out")?t.onClosed():r.hasClass("panel-in")&&t.onOpened(),t.setStateClasses("after-closing")})),r.removeClass("panel-in").addClass("panel-out"),t.onClose()):(r.addClass("not-animated").removeClass("panel-in").addClass("panel-out"),t.onClose(),t.onClosed()),t},a.init=function(){var e=this;void 0!==e.params.visibleBreakpoint&&e.setVisibleBreakpoint(),void 0!==e.params.collapsedBreakpoint&&e.setCollapsedBreakpoint(),e.params.swipe&&e.enableSwipe(),e.resizable&&e.enableResizable()},a.destroy=function(){var e=this,t=e.app,n=e.$containerEl;if(e.$el){if(e.emit("local::beforeDestroy panelBeforeDestroy",e),e.$el.trigger("panel:beforedestroy"),e.visibleBreakpointResizeHandler&&t.off("resize",e.visibleBreakpointResizeHandler),e.collapsedBreakpointResizeHandler&&t.off("resize",e.collapsedBreakpointResizeHandler),e.$el.hasClass("panel-in-breakpoint")||e.$el.hasClass("panel-in-collapsed")){var r,a=Hp(e.getViewEl());n&&n.hasClass("page")&&a.add(n.children(".page-content, .tabs")),e.$el.removeClass("panel-in-breakpoint panel-in-collapsed panel-in"),a.css(((r={})["margin-"+e.side]="",r)),e.emit("local::breakpoint panelBreakpoint",e),e.$el.trigger("panel:breakpoint")}e.$el.trigger("panel:destroy"),e.emit("local::destroy panelDestroy",e),e.el&&(e.el.f7Panel=null,delete e.el.f7Panel),Iu(e),e=null}},r}(nc),Dh=Ph,Bh={name:"panel",params:{panel:{opened:void 0,side:void 0,effect:void 0,resizable:void 0,backdrop:!0,backdropEl:void 0,visibleBreakpoint:void 0,collapsedBreakpoint:void 0,swipe:!1,swipeNoFollow:!1,swipeOnlyClose:!1,swipeActiveArea:0,swipeThreshold:0,closeByBackdropClick:!0,containerEl:void 0}},static:{Panel:Dh},create:function(){var e=this;Fu(e,{panel:{allowOpen:!0,create:function(t){return new Dh(e,t)},get:function(e){if(void 0===e&&(e=".panel"),e instanceof Dh)return e;"left"!==e&&"right"!==e||(e=".panel-"+e);var t=Hp(e);return 0===t.length||t.length>1?void 0:t[0].f7Panel},destroy:function(t){void 0===t&&(t=".panel");var n=e.panel.get(t);if(n&&n.destroy)return n.destroy()},open:function(t,n){void 0===t&&(t=".panel"),"left"!==t&&"right"!==t||(t=".panel-"+t);var r=e.panel.get(t);return r&&r.open?r.open(n):r?void 0:(r=e.panel.create({el:t})).open(n)},close:function(t,n){void 0===t&&(t=".panel-in"),"left"!==t&&"right"!==t||(t=".panel-"+t);var r=e.panel.get(t);return r&&r.open?r.close(n):r?void 0:(r=e.panel.create({el:t})).close(n)},toggle:function(t,n){void 0===t&&(t=".panel"),"left"!==t&&"right"!==t||(t=".panel-"+t);var r=e.panel.get(t);return r&&r.toggle?r.toggle(n):r?void 0:(r=e.panel.create({el:t})).toggle(n)}}})},on:{init:function(){var e=this;Hp(".panel-init").each((function(t){var n=Object.assign({el:t},Hp(t).dataset()||{});e.panel.create(n)}))},pageInit:function(e){var t=this;e.$el.find(".panel-init").each((function(e){var n=Object.assign({el:e},Hp(e).dataset()||{});t.panel.create(n)}))},pageBeforeRemove:function(e){var t=this;e.$el.find(".panel-init").each((function(e){var n=t.panel.get(e);n&&n.destroy&&n.destroy()}))}},vnode:{"panel-init":{insert:function(e){var t=e.elm,n=Object.assign({el:t},Hp(t).dataset()||{});this.panel.create(n)},destroy:function(e){var t=e.elm,n=this.panel.get(t);n&&n.destroy&&n.destroy()}}},clicks:{".panel-open":function(e,t){void 0===t&&(t={});this.panel.open(t.panel,t.animate)},".panel-close":function(e,t){void 0===t&&(t={});this.panel.close(t.panel,t.animate)},".panel-toggle":function(e,t){void 0===t&&(t={});this.panel.toggle(t.panel,t.animate)},".panel-backdrop":function(){var e=this,t=Hp(".panel-in:not(.panel-out)");if(t.length){var n=t[0]&&t[0].f7Panel;t.trigger("panel:backdrop-click"),n&&n.emit("backdropClick",n),e.emit("panelBackdropClick",n||t[0]),e.params.panel.closeByBackdropClick&&e.panel.close()}}}},Lh={open:function(e,t){void 0===e&&(e=".card-expandable"),void 0===t&&(t=!0);var n=this,r=Ku(),a=mu(),o=Yu(),i=Hp(e).eq(0);if(i&&i.length&&!(i.hasClass("card-opened")||i.hasClass("card-opening")||i.hasClass("card-closing"))){var s,l=i.parents(".page").eq(0);if(l.length)if(!l.find(".card-opened").length)if(i.trigger("card:beforeopen",{prevent:K}),n.emit("cardBeforeOpen",i[0],K),!s){var u,c,p,d=Object.assign({animate:t},n.params.card,i.dataset()),f=i.parents(".page-content");i.attr("data-backdrop-el")&&(u=Hp(i.attr("data-backdrop-el"))),!u&&d.backdrop&&((u=f.find(".card-backdrop")).length||(u=Hp('<div class="card-backdrop"></div>'),f.append(u))),d.hideNavbarOnOpen&&((c=l.children(".navbar")).length||l[0].f7Page&&(c=l[0].f7Page.$navbarEl)),d.hideToolbarOnOpen&&((p=l.children(".toolbar")).length||(p=l.parents(".view").children(".toolbar")),p.length||(p=l.parents(".views").children(".toolbar")));var h,v=i.css("transform");v&&v.match(/[2-9]/)&&(h=!0);var m=i.children(".card-content"),g=Hp(a.createElement("div")).addClass("card-expandable-size");i.append(g);var b,y=i[0].offsetWidth,w=i[0].offsetHeight,x=l[0].offsetWidth,C=l[0].offsetHeight,E=g[0].offsetWidth||x,k=g[0].offsetHeight||C;c&&!d.hideStatusbarOnOpen&&k===C&&(b=parseInt(c.css("--f7-safe-area-top"),10),Number.isNaN(b)&&(b=0)),b&&(k-=b);var S,T,O=E/y,I=k/w,N=i.offset(),A=l.offset();if(b&&(A.top+=b/2),N.left-=A.left,h){var _=v.replace(/matrix\(|\)/g,"").split(",").map((function(e){return e.trim()}));if(_&&_.length>1){var R=parseFloat(_[0]);S=N.left-y*(1-R)/2,T=N.top-A.top-w*(1-R)/2,n.rtl&&(S-=i[0].scrollLeft)}else S=i[0].offsetLeft,T=i[0].offsetTop-(f.length?f[0].scrollTop:0)}else S=N.left,T=N.top-A.top,n.rtl&&(S-=i[0].scrollLeft);T-=(C-k)/2;var M=E-y-(S-=(x-E)/2);if(n.rtl){var P=[M,S];S=P[0],M=P[1]}var D,B,L,z,F,$,V,j,H,W,U,q,G=k-w-T,X=(M-S)/2,Y=(G-T)/2;d.hideNavbarOnOpen&&c&&c.length&&(c.closest(".navbar-hidden").length?i[0].f7KeepNavbarOnClose=!0:(delete i[0].f7KeepNavbarOnClose,n.navbar.hide(c,d.animate,d.hideStatusbarOnOpen,!0))),d.hideToolbarOnOpen&&p&&p.length&&(p.closest(".toolbar-hidden").length?i[0].f7KeepToolbarOnClose=!0:(delete i[0].f7KeepToolbarOnClose,n.toolbar.hide(p,d.animate))),u&&u.removeClass("card-backdrop-out").addClass("card-backdrop-in"),i.removeClass("card-transitioning"),d.animate&&i.addClass("card-opening"),i.trigger("card:open"),n.emit("cardOpen",i[0]),m.css({width:E+"px",height:k+"px"}).transform("translate3d("+(n.rtl?S+X:-S-X)+"px, 0px, 0) scale("+1/O+", "+1/I+")"),i.transform("translate3d("+(n.rtl?-X:X)+"px, "+Y+"px, 0) scale("+O+", "+I+")"),d.animate?i.transitionEnd((function(){J()})):J(),i[0].detachEventHandlers=function(){n.off("resize",Q),o.touch&&d.swipeToClose&&(n.off("touchstart:passive",Z),n.off("touchmove:active",ee),n.off("touchend:passive",te))},n.on("resize",Q),o.touch&&d.swipeToClose&&(n.on("touchstart:passive",Z),n.on("touchmove:active",ee),n.on("touchend:passive",te))}}function K(){s=!0}function J(){l.addClass("page-with-card-opened"),r.ios&&f.length&&(f.css("height",f[0].offsetHeight+1+"px"),setTimeout((function(){f.css("height","")}))),i.addClass("card-opened"),i.removeClass("card-opening"),i.trigger("card:opened"),n.emit("cardOpened",i[0],l[0])}function Q(){if(i.removeClass("card-transitioning"),y=i[0].offsetWidth,w=i[0].offsetHeight,x=l[0].offsetWidth,C=l[0].offsetHeight,E=g[0].offsetWidth||x,k=g[0].offsetHeight||C,b=0,c&&!d.hideStatusbarOnOpen&&k===C&&(b=parseInt(c.css("--f7-safe-area-top"),10),Number.isNaN(b)&&(b=0)),b&&(k-=b),O=E/y,I=k/w,i.transform("translate3d(0px, 0px, 0) scale(1)"),N=i.offset(),A=l.offset(),b&&(A.top+=b/2),N.left-=A.left,N.top-=A.top,S=N.left-(x-E)/2,n.rtl&&(S-=i[0].scrollLeft),T=N.top-(C-k)/2,M=E-y-S,G=k-w-T,n.rtl){var e=[M,S];S=e[0],M=e[1]}X=(M-S)/2,Y=(G-T)/2,i.transform("translate3d("+(n.rtl?-X:X)+"px, "+Y+"px, 0) scale("+O+", "+I+")"),m.css({width:E+"px",height:k+"px"}).transform("translate3d("+(n.rtl?S+X:-S-X)+"px, 0px, 0) scale("+1/O+", "+1/I+")")}function Z(e){Hp(e.target).closest(i).length&&i.hasClass("card-opened")&&(q=i.find(d.scrollableEl),D=q[0]&&q[0]!==m[0]&&!q[0].contains(e.target)?0:q.scrollTop(),B=!0,z=e.targetTouches[0].pageX,F=e.targetTouches[0].pageY,j=void 0,W=!1,U=!1)}function ee(e){if(B){if($=e.targetTouches[0].pageX,V=e.targetTouches[0].pageY,void 0===j&&(j=!!(j||Math.abs(V-F)>Math.abs($-z))),U||W||(!j&&e.targetTouches[0].clientX<=50?U=!0:W=!0),!U&&!W||W&&0!==D)return B=!0,void(L=!0);L||i.removeClass("card-transitioning"),L=!0,((H=W?Math.max((V-F)/150,0):Math.max(($-z)/(y/2),0))>0&&W||U)&&(W&&r.ios&&q[0]===m[0]&&(q.css("-webkit-overflow-scrolling","auto"),q.scrollTop(0)),e.preventDefault()),H>1&&(H=Math.pow(H,.3)),H>(W?1.3:1.1)?(B=!1,L=!1,n.card.close(i)):i.transform("translate3d("+(n.rtl?-X:X)+"px, "+Y+"px, 0) scale("+O*(1-.2*H)+", "+I*(1-.2*H)+")")}}function te(){B&&L&&(B=!1,L=!1,r.ios&&q.css("-webkit-overflow-scrolling",""),H>=.8?n.card.close(i):i.addClass("card-transitioning").transform("translate3d("+(n.rtl?-X:X)+"px, "+Y+"px, 0) scale("+O+", "+I+")"))}},close:function(e,t){void 0===e&&(e=".card-expandable.card-opened"),void 0===t&&(t=!0);var n=this,r=Ku(),a=Hp(e).eq(0);if(a&&a.length&&a.hasClass("card-opened")&&!a.hasClass("card-opening")&&!a.hasClass("card-closing")){var o=a.children(".card-content"),i=a.parents(".page-content"),s=a.parents(".page").eq(0);if(s.length){var l,u,c,p=Object.assign({animate:t},n.params.card,a.dataset()),d=a.find(p.scrollableEl);a.attr("data-backdrop-el")&&(c=Hp(a.attr("data-backdrop-el"))),p.backdrop&&(c=a.parents(".page-content").find(".card-backdrop")),p.hideNavbarOnOpen&&((l=s.children(".navbar")).length||s[0].f7Page&&(l=s[0].f7Page.$navbarEl),l&&l.length&&!a[0].f7KeepNavbarOnClose&&n.navbar.show(l,p.animate,!0)),p.hideToolbarOnOpen&&((u=s.children(".toolbar")).length||(u=s.parents(".view").children(".toolbar")),u.length||(u=s.parents(".views").children(".toolbar")),u&&u.length&&!a[0].f7KeepToolbarOnClose&&n.toolbar.show(u,p.animate)),s.removeClass("page-with-card-opened"),r.ios&&i.length&&(i.css("height",i[0].offsetHeight+1+"px"),setTimeout((function(){i.css("height","")}))),c&&c.length&&c.removeClass("card-backdrop-in").addClass("card-backdrop-out"),a.removeClass("card-opened card-transitioning"),p.animate?a.addClass("card-closing"):a.addClass("card-no-transition"),a.transform(""),a.trigger("card:close"),n.emit("cardClose",a[0],s[0]);var f=a.hasClass("card-expandable-animate-width");f&&o.css({width:"",height:""}),o.transform("").scrollTop(0,t?300:0),d.length&&d[0]!==o[0]&&d.scrollTop(0,t?300:0),t?o.transitionEnd((function(){h()})):h(),a[0].detachEventHandlers&&(a[0].detachEventHandlers(),delete a[0].detachEventHandlers)}}function h(){f||o.css({width:"",height:""}),c&&c.length&&c.removeClass("card-backdrop-in card-backdrop-out"),a.removeClass("card-closing card-no-transition"),a.trigger("card:closed"),a.find(".card-expandable-size").remove(),n.emit("cardClosed",a[0],s[0])}},toggle:function(e,t){void 0===e&&(e=".card-expandable");var n=Hp(e).eq(0);n.length&&(n.hasClass("card-opened")?this.card.close(n,t):this.card.open(n,t))}},zh={name:"card",params:{card:{hideNavbarOnOpen:!0,hideStatusbarOnOpen:!0,hideToolbarOnOpen:!0,scrollableEl:".card-content",swipeToClose:!0,closeByBackdropClick:!0,backdrop:!0}},create:function(){Gu(this,{card:Lh})},on:{pageBeforeIn:function(e){var t=this;if(t.params.card.hideNavbarOnOpen&&e.navbarEl&&e.$el.find(".card-opened.card-expandable").length&&t.navbar.hide(e.navbarEl,!0,t.params.card.hideStatusbarOnOpen,!0),t.params.card.hideToolbarOnOpen&&e.$el.find(".card-opened.card-expandable").length){var n=e.$el.children(".toolbar");n.length||(n=e.$el.parents(".view").children(".toolbar")),n.length||(n=e.$el.parents(".views").children(".toolbar")),n&&n.length&&t.toolbar.hide(n)}}},clicks:{".card-close":function(e,t){this.card.close(t.card,t.animate)},".card-open":function(e,t){this.card.open(t.card,t.animate)},".card-expandable":function(e,t,n){e.hasClass("card-opened")||e.hasClass("card-opening")||e.hasClass("card-closing")||Hp(n.target).closest(".card-prevent-open, .card-close").length||this.card.open(e)},".card-backdrop-in":function(){var e=!1;this.params.card.closeByBackdropClick&&(e=!0);var t=Hp(".card-opened");t.length&&("true"===t.attr("data-close-by-backdrop-click")?e=!0:"false"===t.attr("data-close-by-backdrop-click")&&(e=!1),e&&this.card.close(t))}}},Fh={store:function(e,t){var n=bu(),r=e,a=Hp(e);a.length&&a.is("form")&&a.attr("id")&&(r=a.attr("id")),this.form.data["form-"+r]=t,n.localStorage["f7form-"+r]=JSON.stringify(t)},get:function(e){var t=bu(),n=e,r=Hp(e);return r.length&&r.is("form")&&r.attr("id")&&(n=r.attr("id")),t.localStorage["f7form-"+n]?JSON.parse(t.localStorage["f7form-"+n]):this.form.data["form-"+n]?this.form.data["form-"+n]:void 0},remove:function(e){var t=this,n=bu(),r=e,a=Hp(e);a.length&&a.is("form")&&a.attr("id")&&(r=a.attr("id")),t.form.data["form-"+r]&&(t.form.data["form-"+r]="",delete t.form.data["form-"+r]),n.localStorage["f7form-"+r]&&(n.localStorage["f7form-"+r]="",n.localStorage.removeItem("f7form-"+r))}},$h={init:function(e){var t=this,n=Hp(e),r=n.attr("id");if(r){var a=t.form.getFormData(r);a&&t.form.fillFromData(n,a),n.on("change submit",(function(){var e=t.form.convertToData(n);e&&(t.form.storeFormData(r,e),n.trigger("form:storedata",e),t.emit("formStoreData",n[0],e))}))}},destroy:function(e){Hp(e).off("change submit")}};function Vh(e){var t=Hp(e).eq(0);if(0!==t.length){var n={},r=["submit","image","button","file"],a=[];return t.find("input, select, textarea").each((function(e){var o=Hp(e);if(!o.hasClass("ignore-store-data")&&!o.hasClass("no-store-data")){var i=o.attr("name"),s=o.attr("type"),l=e.nodeName.toLowerCase();if(!(r.indexOf(s)>=0)&&!(a.indexOf(i)>=0)&&i)if("select"===l&&o.prop("multiple"))a.push(i),n[i]=[],t.find('select[name="'+i+'"] option').each((function(e){e.selected&&n[i].push(e.value)}));else switch(s){case"checkbox":a.push(i),n[i]=[],t.find('input[name="'+i+'"]').each((function(e){e.checked&&n[i].push(e.value)}));break;case"radio":a.push(i),t.find('input[name="'+i+'"]').each((function(e){e.checked&&(n[i]=e.value)}));break;default:n[i]=o.val()}}})),t.trigger("form:todata",n),this.emit("formToData",t[0],n),n}}function jh(e,t){var n=Hp(e).eq(0);if(n.length){var r=t,a=n.attr("id");if(!r&&a&&(r=this.form.getFormData(a)),r){var o=["submit","image","button","file"],i=[];n.find("input, select, textarea").each((function(e){var t=Hp(e);if(!t.hasClass("ignore-store-data")&&!t.hasClass("no-store-data")){var a=t.attr("name"),s=t.attr("type"),l=e.nodeName.toLowerCase();if(void 0!==r[a]&&null!==r[a]&&!(o.indexOf(s)>=0)&&!(i.indexOf(a)>=0)&&a){if("select"===l&&t.prop("multiple"))i.push(a),n.find('select[name="'+a+'"] option').each((function(e){var t=e;r[a].indexOf(e.value)>=0?t.selected=!0:t.selected=!1}));else switch(s){case"checkbox":i.push(a),n.find('input[name="'+a+'"]').each((function(e){var t=e;r[a].indexOf(e.value)>=0?t.checked=!0:t.checked=!1}));break;case"radio":i.push(a),n.find('input[name="'+a+'"]').each((function(e){var t=e;r[a]===e.value?t.checked=!0:t.checked=!1}));break;default:t.val(r[a])}"select"!==l&&"input"!==l&&"textarea"!==l||t.trigger("change","fromdata")}}})),n.trigger("form:fromdata",r),this.emit("formFromData",n[0],r)}}}function Hh(){var e=this,t=bu(),n=mu();Hp(n).on("submit change","form.form-ajax-submit, form.form-ajax-submit-onchange",(function(n,r){var a=Hp(this);if(("change"!==n.type||a.hasClass("form-ajax-submit-onchange"))&&("submit"===n.type&&n.preventDefault(),"change"!==n.type||"fromdata"!==r)){var o,i=(a.attr("method")||"GET").toUpperCase(),s=a.prop("enctype")||a.attr("enctype"),l=a.attr("action");if(l)o="POST"===i?"application/x-www-form-urlencoded"===s?e.form.convertToData(a[0]):new t.FormData(a[0]):Bu(e.form.convertToData(a[0])),e.request({method:i,url:l,contentType:s,data:o,beforeSend:function(t){a.trigger("formajax:beforesend",{data:o,xhr:t}),e.emit("formAjaxBeforeSend",a[0],o,t)},error:function(t){a.trigger("formajax:error",{data:o,xhr:t}),e.emit("formAjaxError",a[0],o,t)},complete:function(t){a.trigger("formajax:complete",{data:o,xhr:t}),e.emit("formAjaxComplete",a[0],o,t)},success:function(t,n,r){a.trigger("formajax:success",{data:o,xhr:r}),e.emit("formAjaxSuccess",a[0],o,r)}})}}))}var Wh={name:"form",create:function(){var e=this;Fu(e,{form:{data:{},storeFormData:Fh.store.bind(e),getFormData:Fh.get.bind(e),removeFormData:Fh.remove.bind(e),convertToData:Vh.bind(e),fillFromData:jh.bind(e),storage:{init:$h.init.bind(e),destroy:$h.destroy.bind(e)}}})},on:{init:function(){Hh.call(this)},tabBeforeRemove:function(e){var t=this;Hp(e).find(".form-store-data").each((function(e){t.form.storage.destroy(e)}))},tabMounted:function(e){var t=this;Hp(e).find(".form-store-data").each((function(e){t.form.storage.init(e)}))},pageBeforeRemove:function(e){var t=this;e.$el.find(".form-store-data").each((function(e){t.form.storage.destroy(e)}))},pageInit:function(e){var t=this;e.$el.find(".form-store-data").each((function(e){t.form.storage.init(e)}))}}},Uh={ignoreTypes:["checkbox","button","submit","range","radio","image"],createTextareaResizableShadow:function(){var e=mu(),t=Hp(e.createElement("textarea"));t.addClass("textarea-resizable-shadow"),t.prop({disabled:!0,readonly:!0}),Uh.textareaResizableShadow=t},textareaResizableShadow:void 0,resizeTextarea:function(e){var t=bu(),n=Hp(e);Uh.textareaResizableShadow||Uh.createTextareaResizableShadow();var r=Uh.textareaResizableShadow;if(n.length&&n.hasClass("resizable")){0===Uh.textareaResizableShadow.parents().length&&this.$el.append(r);var a=t.getComputedStyle(n[0]);"padding-top padding-bottom padding-left padding-right margin-left margin-right margin-top margin-bottom width font-size font-family font-style font-weight line-height font-variant text-transform letter-spacing border box-sizing display".split(" ").forEach((function(e){var t=a[e];"font-size line-height letter-spacing width".split(" ").indexOf(e)>=0&&(t=t.replace(",",".")),r.css(e,t)}));var o=n[0].clientHeight;r.val("");var i=r[0].scrollHeight;r.val(n.val()),r.css("height",0);var s=r[0].scrollHeight;o!==s&&(s>i?n.css("height",s+"px"):s<o&&n.css("height",""),(s>i||s<o)&&(n.trigger("textarea:resize",{initialHeight:i,currentHeight:o,scrollHeight:s}),this.emit("textareaResize",{initialHeight:i,currentHeight:o,scrollHeight:s})))}},validate:function(e){var t=Hp(e);if(!t.length)return!0;var n=t.parents(".item-input"),r=t.parents(".input");function a(){t[0].f7ValidateReadonly&&(t[0].readOnly=!0)}t[0].f7ValidateReadonly&&(t[0].readOnly=!1);var o=t[0].validity,i=t.dataset().errorMessage||t[0].validationMessage||"";if(!o)return a(),!0;if(!o.valid){var s=t.nextAll(".item-input-error-message, .input-error-message");return i&&(0===s.length&&(s=Hp('<div class="'+(r.length?"input-error-message":"item-input-error-message")+'"></div>')).insertAfter(t),s.text(i)),s.length>0&&(n.addClass("item-input-with-error-message"),r.addClass("input-with-error-message")),n.addClass("item-input-invalid"),r.addClass("input-invalid"),t.addClass("input-invalid"),a(),!1}return n.removeClass("item-input-invalid item-input-with-error-message"),r.removeClass("input-invalid input-with-error-message"),t.removeClass("input-invalid"),a(),!0},validateInputs:function(e){var t=this;return Hp(e).find("input, textarea, select").map((function(e){return t.input.validate(e)})).indexOf(!1)<0},focus:function(e){var t=Hp(e),n=t.attr("type");Uh.ignoreTypes.indexOf(n)>=0||(t.parents(".item-input").addClass("item-input-focused"),t.parents(".input").addClass("input-focused"),t.addClass("input-focused"))},blur:function(e){var t=Hp(e);t.parents(".item-input").removeClass("item-input-focused"),t.parents(".input").removeClass("input-focused"),t.removeClass("input-focused")},checkEmptyState:function(e){var t=Hp(e);if(t.is("input, select, textarea, .item-input [contenteditable]")||(t=t.find("input, select, textarea, .item-input [contenteditable]").eq(0)),t.length){var n;n=t[0].hasAttribute("contenteditable")?t.find(".text-editor-placeholder").length?"":t.html():t.val();var r=t.parents(".item-input"),a=t.parents(".input");n&&"string"==typeof n&&""!==n.trim()||Array.isArray(n)&&n.length>0?(r.addClass("item-input-with-value"),a.addClass("input-with-value"),t.addClass("input-with-value"),t.trigger("input:notempty"),this.emit("inputNotEmpty",t[0])):(r.removeClass("item-input-with-value"),a.removeClass("input-with-value"),t.removeClass("input-with-value"),t.trigger("input:empty"),this.emit("inputEmpty",t[0]))}},scrollIntoView:function(e,t,n,r){void 0===t&&(t=0);var a=Hp(e),o=a.parents(".page-content, .panel, .card-expandable .card-content").eq(0);if(!o.length)return!1;var i=o[0].offsetHeight,s=o[0].scrollTop,l=parseInt(o.css("padding-top"),10),u=parseInt(o.css("padding-bottom"),10),c=o.offset().top-s,p=a.offset().top-c,d=p+s-l,f=p+s-i+u+a[0].offsetHeight,h=d+(f-d)/2;return s>d?(o.scrollTop(n?h:d,t),!0):s<f?(o.scrollTop(n?h:f,t),!0):(r&&o.scrollTop(n?h:f,t),!1)},init:function(){var e=this,t=Ku(),n=bu(),r=mu();Uh.createTextareaResizableShadow(),Hp(r).on("click",".input-clear-button",(function(){var t=Hp(this).siblings("input, textarea").eq(0),n=t.val();t.val("").trigger("input change").focus().trigger("input:clear",n),e.emit("inputClear",n)})),Hp(r).on("mousedown",".input-clear-button",(function(e){e.preventDefault()})),Hp(r).on("change input","input, textarea, select, .item-input [contenteditable]",(function(){var t=Hp(this),n=t.attr("type"),r=t[0].nodeName.toLowerCase(),a=t[0].hasAttribute("contenteditable");Uh.ignoreTypes.indexOf(n)>=0||(e.input.checkEmptyState(t),a||(null!==t.attr("data-validate-on-blur")||!t.dataset().validate&&null===t.attr("validate")||e.input.validate(t),"textarea"===r&&t.hasClass("resizable")&&e.input.resizeTextarea(t)))}),!0),Hp(r).on("focus","input, textarea, select, .item-input [contenteditable]",(function(){var a=this;e.params.input.scrollIntoViewOnFocus&&(t.android?Hp(n).once("resize",(function(){r&&r.activeElement===a&&e.input.scrollIntoView(a,e.params.input.scrollIntoViewDuration,e.params.input.scrollIntoViewCentered,e.params.input.scrollIntoViewAlways)})):e.input.scrollIntoView(a,e.params.input.scrollIntoViewDuration,e.params.input.scrollIntoViewCentered,e.params.input.scrollIntoViewAlways)),e.input.focus(a)}),!0),Hp(r).on("blur","input, textarea, select, .item-input [contenteditable]",(function(){var t=Hp(this),n=t[0].nodeName.toLowerCase();e.input.blur(t),(t.dataset().validate||null!==t.attr("validate")||null!==t.attr("data-validate-on-blur"))&&e.input.validate(t),"textarea"===n&&t.hasClass("resizable")&&Uh.textareaResizableShadow&&Uh.textareaResizableShadow.remove()}),!0),Hp(r).on("invalid","input, textarea, select",(function(t){var n=Hp(this);null!==n.attr("data-validate-on-blur")||!n.dataset().validate&&null===n.attr("validate")||(t.preventDefault(),e.input.validate(n))}),!0)}},qh={name:"input",params:{input:{scrollIntoViewOnFocus:void 0,scrollIntoViewCentered:!1,scrollIntoViewDuration:0,scrollIntoViewAlways:!1}},create:function(){var e=this;void 0===e.params.input.scrollIntoViewOnFocus&&(e.params.input.scrollIntoViewOnFocus=Ku().android),Gu(e,{input:Uh})},on:{init:function(){this.input.init()},tabMounted:function(e){var t=this,n=Hp(e);n.find(".item-input, .input").each((function(e){Hp(e).find("input, select, textarea, [contenteditable]").each((function(e){var n=Hp(e);Uh.ignoreTypes.indexOf(n.attr("type"))>=0||t.input.checkEmptyState(n)}))})),n.find("textarea.resizable").each((function(e){t.input.resizeTextarea(e)}))},pageInit:function(e){var t=this,n=e.$el;n.find(".item-input, .input").each((function(e){Hp(e).find("input, select, textarea, [contenteditable]").each((function(e){var n=Hp(e);Uh.ignoreTypes.indexOf(n.attr("type"))>=0||t.input.checkEmptyState(n)}))})),n.find("textarea.resizable").each((function(e){t.input.resizeTextarea(e)}))},"panelBreakpoint panelCollapsedBreakpoint panelResize panelOpen panelSwipeOpen resize viewMasterDetailBreakpoint":function(e){var t=this;e&&e.$el?e.$el.find("textarea.resizable").each((function(e){t.input.resizeTextarea(e)})):Hp("textarea.resizable").each((function(e){t.input.resizeTextarea(e)}))}}};function Gh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xh(e,t){return Xh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Xh(e,t)}var Yh=function(e){var t,n;function r(t,n){var r;void 0===n&&(n={});var a=Gh(r=e.call(this,n,[t])||this),o=Yu(),i={};a.useModulesParams(i),a.params=Fu(i,n);var s=a.params.el;if(!s)return a||Gh(r);var l=Hp(s);if(0===l.length)return a||Gh(r);if(l[0].f7Toggle)return l[0].f7Toggle||Gh(r);var u,c=l.children('input[type="checkbox"]');Fu(a,{app:t,$el:l,el:l[0],$inputEl:c,inputEl:c[0],disabled:l.hasClass("disabled")||c.hasClass("disabled")||c.attr("disabled")||c[0].disabled}),Object.defineProperty(a,"checked",{enumerable:!0,configurable:!0,set:function(e){a&&void 0!==a.$inputEl&&a.checked!==e&&(c[0].checked=e,a.$inputEl.trigger("change"))},get:function(){return c[0].checked}}),l[0].f7Toggle=a;var p,d,f,h,v,m={};function g(e){u||a.disabled||(m.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,m.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,d=0,u=!0,p=void 0,h=Mu(),v=a.checked,f=l[0].offsetWidth,_u((function(){u&&l.addClass("toggle-active-state")})))}function b(e){if(u&&!a.disabled){var n,r="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,o="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,i=t.rtl?-1:1;if(void 0===p&&(p=!!(p||Math.abs(o-m.y)>Math.abs(r-m.x))),p)u=!1;else e.preventDefault(),(d=r-m.x)*i<0&&Math.abs(d)>f/3&&v&&(n=!0),d*i>0&&Math.abs(d)>f/3&&!v&&(n=!0),n&&(m.x=r,a.checked=!v,v=!v)}}function y(){if(!u||a.disabled)return p&&l.removeClass("toggle-active-state"),void(u=!1);var e,n=t.rtl?-1:1;u=!1,l.removeClass("toggle-active-state"),Mu()-h<300&&(d*n<0&&v&&(e=!0),d*n>0&&!v&&(e=!0),e&&(a.checked=!v))}function w(){a.$el.trigger("toggle:change"),a.emit("local::change toggleChange",a)}return a.attachEvents=function(){var e=!!o.passiveListener&&{passive:!0};l.on(t.touchEvents.start,g,e),t.on("touchmove",b),t.on("touchend:passive",y),a.$inputEl.on("change",w)},a.detachEvents=function(){var e=!!o.passiveListener&&{passive:!0};l.off(t.touchEvents.start,g,e),t.off("touchmove",b),t.off("touchend:passive",y),a.$inputEl.off("change",w)},a.useModules(),a.init(),r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Xh(t,n);var a=r.prototype;return a.toggle=function(){this.checked=!this.checked},a.init=function(){this.attachEvents()},a.destroy=function(){var e=this;e.$el.trigger("toggle:beforedestroy"),e.emit("local::beforeDestroy toggleBeforeDestroy",e),delete e.$el[0].f7Toggle,e.detachEvents(),Iu(e),e=null},r}(nc),Kh=Yh,Jh={name:"toggle",create:function(){this.toggle=qp({defaultSelector:".toggle",constructor:Kh,app:this,domProp:"f7Toggle"})},static:{Toggle:Kh},on:{tabMounted:function(e){var t=this;Hp(e).find(".toggle-init").each((function(e){return t.toggle.create({el:e})}))},tabBeforeRemove:function(e){Hp(e).find(".toggle-init").each((function(e){e.f7Toggle&&e.f7Toggle.destroy()}))},pageInit:function(e){var t=this;e.$el.find(".toggle-init").each((function(e){return t.toggle.create({el:e})}))},pageBeforeRemove:function(e){e.$el.find(".toggle-init").each((function(e){e.f7Toggle&&e.f7Toggle.destroy()}))}},vnode:{"toggle-init":{insert:function(e){var t=e.elm;this.toggle.create({el:t})},destroy:function(e){var t=e.elm;t.f7Toggle&&t.f7Toggle.destroy()}}}};function Qh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zh(e,t){return Zh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Zh(e,t)}var ev=function(e){var t,n;function r(t,n){var r,a=Qh(r=e.call(this,n,[t])||this),o=Yu(),i={el:null,inputEl:null,dual:!1,step:1,label:!1,min:0,max:100,value:0,draggableBar:!0,vertical:!1,verticalReversed:!1,formatLabel:null,scale:!1,scaleSteps:5,scaleSubSteps:0,formatScaleLabel:null,limitKnobPosition:"ios"===t.theme};a.useModulesParams(i),a.params=Fu(i,n);var s=a.params.el;if(!s)return a||Qh(r);var l=Hp(s);if(0===l.length)return a||Qh(r);if(l[0].f7Range)return l[0].f7Range||Qh(r);var u,c=l.dataset();"step min max value scaleSteps scaleSubSteps".split(" ").forEach((function(e){void 0===n[e]&&void 0!==c[e]&&(a.params[e]=parseFloat(c[e]))})),"dual label vertical verticalReversed scale".split(" ").forEach((function(e){void 0===n[e]&&void 0!==c[e]&&(a.params[e]=c[e])})),a.params.value||(void 0!==c.value&&(a.params.value=c.value),void 0!==c.valueLeft&&void 0!==c.valueRight&&(a.params.value=[parseFloat(c.valueLeft),parseFloat(c.valueRight)])),a.params.dual||(a.params.inputEl?u=Hp(a.params.inputEl):l.find('input[type="range"]').length&&(u=l.find('input[type="range"]').eq(0)));var p=a.params,d=p.dual,f=p.step,h=p.label,v=p.min,m=p.max,g=p.value,b=p.vertical,y=p.verticalReversed,w=p.scale,x=p.scaleSteps,C=p.scaleSubSteps,E=p.limitKnobPosition;Fu(a,{app:t,$el:l,el:l[0],$inputEl:u,inputEl:u?u[0]:void 0,dual:d,step:f,label:h,min:v,max:m,value:g,previousValue:g,vertical:b,verticalReversed:y,scale:w,scaleSteps:x,scaleSubSteps:C,limitKnobPosition:E}),u&&("step min max".split(" ").forEach((function(e){!n[e]&&u.attr(e)&&(a.params[e]=parseFloat(u.attr(e)),a[e]=parseFloat(u.attr(e)))})),void 0!==u.val()&&(a.params.value=parseFloat(u.val()),a.value=parseFloat(u.val()))),a.dual&&l.addClass("range-slider-dual"),a.label&&l.addClass("range-slider-label"),a.vertical?(l.addClass("range-slider-vertical"),a.verticalReversed&&l.addClass("range-slider-vertical-reversed")):l.addClass("range-slider-horizontal");var k=Hp('<div class="range-bar"></div>'),S=Hp('<div class="range-bar-active"></div>');k.append(S);var T='\n      <div class="range-knob-wrap">\n        <div class="range-knob"></div>\n        '+(a.label?'<div class="range-knob-label"></div>':"")+"\n      </div>\n    ",O=[Hp(T)];a.dual&&O.push(Hp(T)),l.append(k),O.forEach((function(e){l.append(e)}));var I,N,A=[];a.label&&(A.push(O[0].find(".range-knob-label")),a.dual&&A.push(O[1].find(".range-knob-label"))),a.scale&&a.scaleSteps>=1&&(I=Hp('\n        <div class="range-scale">\n          '+a.renderScale()+"\n        </div>\n      "),l.append(I)),Fu(a,{knobs:O,labels:A,$barEl:k,$barActiveEl:S,$scaleEl:I}),l[0].f7Range=a;var _,R,M,P,D,B,L,z,F,$,V,j={};function H(){L=!0}function W(e){if(!N&&(a.params.draggableBar||0!==Hp(e.target).closest(".range-knob").length)){var t;L=!1,j.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,j.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,"touchstart"===e.type&&(z=e.targetTouches[0].identifier),N=!0,_=void 0,R=l.offset(),M=R.left,P=R.top,a.vertical?(t=(j.y-P)/a.rangeHeight,a.verticalReversed||(t=1-t)):t=a.app.rtl?(M+a.rangeWidth-j.x)/a.rangeWidth:(j.x-M)/a.rangeWidth;var n=t*(a.max-a.min)+a.min;a.dual?Math.abs(a.value[0]-n)<Math.abs(a.value[1]-n)?(B=0,D=a.knobs[0],n=[n,a.value[1]]):(B=1,D=a.knobs[1],n=[a.value[0],n]):(D=a.knobs[0],n=t*(a.max-a.min)+a.min),_u((function(){N&&D.addClass("range-knob-active-state")}),70),a.on("change",H),a.setValue(n,!0)}}function U(e){if(N){var t,n;if("touchmove"===e.type)for(var r=0;r<e.targetTouches.length;r+=1)e.targetTouches[r].identifier===z&&(t=e.targetTouches[r].pageX,n=e.targetTouches[r].pageY);else t=e.pageX,n=e.pageY;if(void 0!==t||void 0!==n)if(void 0!==_||a.vertical||(_=!!(_||Math.abs(n-j.y)>Math.abs(t-j.x))),_)N=!1;else{var o;e.preventDefault(),a.vertical?(o=(n-P)/a.rangeHeight,a.verticalReversed||(o=1-o)):o=a.app.rtl?(M+a.rangeWidth-t)/a.rangeWidth:(t-M)/a.rangeWidth;var i,s,l=o*(a.max-a.min)+a.min;if(a.dual)0===B?(i=l)>(s=a.value[1])&&(s=i):(s=l)<(i=a.value[0])&&(i=s),l=[i,s];a.setValue(l,!0)}}}function q(e){if("touchend"===e.type){for(var t,n=0;n<e.changedTouches.length;n+=1)e.changedTouches[n].identifier===z&&(t=!0);if(!t)return}if(!N)return _&&D.removeClass("range-knob-active-state"),void(N=!1);a.off("change",H),N=!1,D.removeClass("range-knob-active-state"),L&&a.$inputEl&&!a.dual&&a.$inputEl.trigger("change"),L=!1,void 0!==a.previousValue&&(a.dual&&(a.previousValue[0]!==a.value[0]||a.previousValue[1]!==a.value[1])||!a.dual&&a.previousValue!==a.value)&&(a.$el.trigger("range:changed",a.value),a.emit("local::changed rangeChanged",a,a.value))}function G(){a.calcSize(),a.layout()}return a.attachEvents=function(){var e=!!o.passiveListener&&{passive:!0};a.$el.on(t.touchEvents.start,W,e),t.on("touchmove",U),t.on("touchend:passive",q),t.on("tabShow",G),t.on("resize",G),(F=a.$el.parents(".sheet-modal, .actions-modal, .popup, .popover, .login-screen, .dialog, .toast")).on("modal:open",G),($=a.$el.parents(".panel")).on("panel:open panel:resize",G),(V=a.$el.parents(".page").eq(0)).on("page:reinit",G)},a.detachEvents=function(){var e=!!o.passiveListener&&{passive:!0};a.$el.off(t.touchEvents.start,W,e),t.off("touchmove",U),t.off("touchend:passive",q),t.off("tabShow",G),t.off("resize",G),F&&F.off("modal:open",G),$&&$.off("panel:open panel:resize",G),V&&V.off("page:reinit",G),F=null,$=null,V=null},a.useModules(),a.init(),a||Qh(r)}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Zh(t,n);var a=r.prototype;return a.calcSize=function(){var e=this;if(e.vertical){var t=e.$el.outerHeight();if(0===t)return;e.rangeHeight=t,e.knobHeight=e.knobs[0].outerHeight()}else{var n=e.$el.outerWidth();if(0===n)return;e.rangeWidth=n,e.knobWidth=e.knobs[0].outerWidth()}},a.layout=function(){var e=this,t=e.app,n=e.knobWidth,r=e.knobHeight,a=e.rangeWidth,o=e.rangeHeight,i=e.min,s=e.max,l=e.knobs,u=e.$barActiveEl,c=e.value,p=e.label,d=e.labels,f=e.vertical,h=e.verticalReversed,v=e.limitKnobPosition,m=f?r:n,g=f?o:a,b=f?h?"top":"bottom":t.rtl?"right":"left";if(e.dual){var y,w=[(c[0]-i)/(s-i),(c[1]-i)/(s-i)];u.css(((y={})[b]=100*w[0]+"%",y[f?"height":"width"]=100*(w[1]-w[0])+"%",y)),l.forEach((function(t,n){var r=g*w[n];if(v){var a=g*w[n]-m/2;a<0&&(r=m/2),a+m>g&&(r=g-m/2)}t.css(b,r+"px"),p&&d[n].text(e.formatLabel(c[n],d[n][0]))}))}else{var x=(c-i)/(s-i);u.css(f?"height":"width",100*x+"%");var C=g*x;if(v){var E=g*x-m/2;E<0&&(C=m/2),E+m>g&&(C=g-m/2)}l[0].css(b,C+"px"),p&&d[0].text(e.formatLabel(c,d[0][0]))}e.dual&&c.indexOf(i)>=0||!e.dual&&c===i?e.$el.addClass("range-slider-min"):e.$el.removeClass("range-slider-min"),e.dual&&c.indexOf(s)>=0||!e.dual&&c===s?e.$el.addClass("range-slider-max"):e.$el.removeClass("range-slider-max")},a.setValue=function(e,t){var n,r,a=this,o=a.step,i=a.min,s=a.max;if(a.dual){r=[a.value[0],a.value[1]];var l=e;if(Array.isArray(l)||(l=[e,e]),e[0]>e[1]&&(l=[l[0],l[0]]),l=l.map((function(e){return Math.max(Math.min(Math.round(e/o)*o,s),i)})),l[0]===a.value[0]&&l[1]===a.value[1])return a;l.forEach((function(e,t){a.value[t]=e})),n=r[0]!==l[0]||r[1]!==l[1],a.layout()}else{r=a.value;var u=Math.max(Math.min(Math.round(e/o)*o,s),i);a.value=u,a.layout(),n=r!==u}return n&&(a.previousValue=r),n?(a.$el.trigger("range:change",a.value),a.$inputEl&&!a.dual&&(a.$inputEl.val(a.value),t?a.$inputEl.trigger("input"):a.$inputEl.trigger("input change")),t||(a.$el.trigger("range:changed",a.value),a.emit("local::changed rangeChanged",a,a.value)),a.emit("local::change rangeChange",a,a.value),a):a},a.getValue=function(){return this.value},a.formatLabel=function(e,t){var n=this;return n.params.formatLabel?n.params.formatLabel.call(n,e,t):e},a.formatScaleLabel=function(e){var t=this;return t.params.formatScaleLabel?t.params.formatScaleLabel.call(t,e):e},a.renderScale=function(){var e=this,t=e.app,n=e.verticalReversed,r=e.vertical?n?"top":"bottom":t.rtl?"right":"left",a="";return Array.from({length:e.scaleSteps+1}).forEach((function(t,n){var o=(e.max-e.min)/e.scaleSteps,i=e.min+o*n,s=(i-e.min)/(e.max-e.min);a+='<div class="range-scale-step" style="'+r+": "+100*s+'%">'+e.formatScaleLabel(i)+"</div>",e.scaleSubSteps&&e.scaleSubSteps>1&&n<e.scaleSteps&&Array.from({length:e.scaleSubSteps-1}).forEach((function(t,n){var s=o/e.scaleSubSteps,l=(i+s*(n+1)-e.min)/(e.max-e.min);a+='<div class="range-scale-step range-scale-substep" style="'+r+": "+100*l+'%"></div>'}))})),a},a.updateScale=function(){var e=this;if(!e.scale||e.scaleSteps<1)return e.$scaleEl&&e.$scaleEl.remove(),void delete e.$scaleEl;e.$scaleEl||(e.$scaleEl=Hp('<div class="range-scale"></div>'),e.$el.append(e.$scaleEl)),e.$scaleEl.html(e.renderScale())},a.init=function(){var e=this;return e.calcSize(),e.layout(),e.attachEvents(),e},a.destroy=function(){var e=this;e.$el.trigger("range:beforedestroy"),e.emit("local::beforeDestroy rangeBeforeDestroy",e),delete e.$el[0].f7Range,e.detachEvents(),Iu(e),e=null},r}(nc),tv=ev,nv={name:"range",create:function(){var e=this;e.range=Fu(qp({defaultSelector:".range-slider",constructor:tv,app:e,domProp:"f7Range"}),{getValue:function(t){void 0===t&&(t=".range-slider");var n=e.range.get(t);if(n)return n.getValue()},setValue:function(t,n){void 0===t&&(t=".range-slider");var r=e.range.get(t);if(r)return r.setValue(n)}})},static:{Range:tv},on:{tabMounted:function(e){var t=this;Hp(e).find(".range-slider-init").each((function(e){return new tv(t,{el:e})}))},tabBeforeRemove:function(e){Hp(e).find(".range-slider-init").each((function(e){e.f7Range&&e.f7Range.destroy()}))},pageInit:function(e){var t=this;e.$el.find(".range-slider-init").each((function(e){return new tv(t,{el:e})}))},pageBeforeRemove:function(e){e.$el.find(".range-slider-init").each((function(e){e.f7Range&&e.f7Range.destroy()}))}},vnode:{"range-slider-init":{insert:function(e){var t=e.elm;this.range.create({el:t})},destroy:function(e){var t=e.elm;t.f7Range&&t.f7Range.destroy()}}}};function rv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function av(e,t){return av=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},av(e,t)}var ov=function(e){var t,n;function r(t,n){var r,a=rv(r=e.call(this,n,[t])||this),o={el:null,inputEl:null,valueEl:null,value:0,formatValue:null,step:1,min:0,max:100,watchInput:!0,autorepeat:!1,autorepeatDynamic:!1,wraps:!1,manualInputMode:!1,decimalPoint:4,buttonsEndInputMode:!0};a.useModulesParams(o),a.params=Fu(o,n),a.params.value<a.params.min&&(a.params.value=a.params.min),a.params.value>a.params.max&&(a.params.value=a.params.max);var i=a.params.el;if(!i)return a||rv(r);var s,l,u=Hp(i);if(0===u.length)return a||rv(r);if(u[0].f7Stepper)return u[0].f7Stepper||rv(r);if(a.params.inputEl?s=Hp(a.params.inputEl):u.find(".stepper-input-wrap").find("input, textarea").length&&(s=u.find(".stepper-input-wrap").find("input, textarea").eq(0)),s&&s.length){"step min max".split(" ").forEach((function(e){!n[e]&&s.attr(e)&&(a.params[e]=parseFloat(s.attr(e)))}));var c=parseInt(a.params.decimalPoint,10);Number.isNaN(c)?a.params.decimalPoint=0:a.params.decimalPoint=c;var p=parseFloat(s.val());void 0!==n.value||Number.isNaN(p)||!p&&0!==p||(a.params.value=p)}a.params.valueEl?l=Hp(a.params.valueEl):u.find(".stepper-value").length&&(l=u.find(".stepper-value").eq(0));var d=u.find(".stepper-button-plus"),f=u.find(".stepper-button-minus"),h=a.params,v=h.step,m=h.min,g=h.max,b=h.value,y=h.decimalPoint;Fu(a,{app:t,$el:u,el:u[0],$buttonPlusEl:d,buttonPlusEl:d[0],$buttonMinusEl:f,buttonMinusEl:f[0],$inputEl:s,inputEl:s?s[0]:void 0,$valueEl:l,valueEl:l?l[0]:void 0,step:v,min:m,max:g,value:b,decimalPoint:y,typeModeChanged:!1}),u[0].f7Stepper=a;var w,x,C,E,k,S={},T=null,O=!1,I=!1;function N(e,t,n,r,a,o){clearTimeout(k),k=setTimeout((function(){1===e&&(C=!0,O=!0),clearInterval(E),o(),E=setInterval((function(){o()}),a),e<t&&N(e+1,t,n,r,a/2,o)}),1===e?n:r)}function A(e){w||(I||(Hp(e.target).closest(d).length?T="increment":Hp(e.target).closest(f).length&&(T="decrement"),T&&(S.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,S.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,w=!0,x=void 0,N(1,a.params.autorepeatDynamic?4:1,500,1e3,300,(function(){a[T]()})))))}function _(e){if(w&&!I){var t="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,n="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;void 0!==x||O||(x=!!(x||Math.abs(n-S.y)>Math.abs(t-S.x)));var r=Math.pow(Math.pow(t-S.x,2)+Math.pow(n-S.y,2),.5);(x||r>20)&&(w=!1,clearTimeout(k),clearInterval(E))}}function R(){clearTimeout(k),clearInterval(E),T=null,O=!1,w=!1}function M(){I?a.params.buttonsEndInputMode&&(I=!1,a.endTypeMode(!0)):C?C=!1:a.decrement(!0)}function P(){I?a.params.buttonsEndInputMode&&(I=!1,a.endTypeMode(!0)):C?C=!1:a.increment(!0)}function D(e){!e.target.readOnly&&a.params.manualInputMode&&(I=!0,"number"==typeof e.target.selectionStart&&(e.target.selectionStart=e.target.value.length,e.target.selectionEnd=e.target.value.length))}function B(e){13!==e.keyCode&&13!==e.which||(e.preventDefault(),I=!1,a.endTypeMode())}function L(){I=!1,a.endTypeMode(!0)}function z(e){I?a.typeValue(e.target.value):e.detail&&e.detail.sentByF7Stepper||a.setValue(e.target.value,!0)}return a.attachEvents=function(){f.on("click",M),d.on("click",P),a.params.watchInput&&s&&s.length&&(s.on("input",z),s.on("click",D),s.on("blur",L),s.on("keyup",B)),a.params.autorepeat&&(t.on("touchstart:passive",A),t.on("touchmove:active",_),t.on("touchend:passive",R))},a.detachEvents=function(){f.off("click",M),d.off("click",P),a.params.watchInput&&s&&s.length&&(s.off("input",z),s.off("click",D),s.off("blur",L),s.off("keyup",B))},a.useModules(),a.init(),a||rv(r)}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,av(t,n);var a=r.prototype;return a.minus=function(){return this.decrement()},a.plus=function(){return this.increment()},a.decrement=function(){var e=this;return e.setValue(e.value-e.step,!1,!0)},a.increment=function(){var e=this;return e.setValue(e.value+e.step,!1,!0)},a.setValue=function(e,t,n){var r=this,a=r.step,o=r.min,i=r.max,s=r.value,l=Math.round(e/a)*a;if(r.params.wraps&&n?(l>i&&(l=o),l<o&&(l=i)):l=Math.max(Math.min(l,i),o),Number.isNaN(l)&&(l=s),r.value=l,!(s!==l)&&!t)return r;r.$el.trigger("stepper:change",r.value);var u=r.formatValue(r.value);return r.$inputEl&&r.$inputEl.length&&(r.$inputEl.val(u),r.$inputEl.trigger("input change",{sentByF7Stepper:!0})),r.$valueEl&&r.$valueEl.length&&r.$valueEl.html(u),r.emit("local::change stepperChange",r,r.value),r},a.endTypeMode=function(e){var t=this,n=t.min,r=t.max,a=parseFloat(t.value);if(Number.isNaN(a)&&(a=0),a=Math.max(Math.min(a,r),n),t.value=a,!t.typeModeChanged)return t.$inputEl&&t.$inputEl.length&&!e&&t.$inputEl.blur(),t;t.typeModeChanged=!1,t.$el.trigger("stepper:change",t.value);var o=t.formatValue(t.value);return t.$inputEl&&t.$inputEl.length&&(t.$inputEl.val(o),t.$inputEl.trigger("input change",{sentByF7Stepper:!0}),e||t.$inputEl.blur()),t.$valueEl&&t.$valueEl.length&&t.$valueEl.html(o),t.emit("local::change stepperChange",t,t.value),t},a.typeValue=function(e){var t=this;t.typeModeChanged=!0;var n=String(e);if(1===n.length&&"-"===n)return t;if(n.lastIndexOf(".")+1!==n.length&&n.lastIndexOf(",")+1!==n.length){var r=parseFloat(n.replace(",","."));if(0===r)return t.value=n.replace(",","."),t.$inputEl.val(t.value),t;if(Number.isNaN(r))return t.value=0,t.$inputEl.val(t.value),t;var a=Math.pow(10,t.params.decimalPoint);return r=Math.round(r*a).toFixed(t.params.decimalPoint+1)/a,t.value=parseFloat(String(r).replace(",",".")),t.$inputEl.val(t.value),t}return n.lastIndexOf(".")!==n.indexOf(".")||n.lastIndexOf(",")!==n.indexOf(",")?(n=n.slice(0,-1),t.value=n,t.$inputEl.val(t.value),t):(t.value=n,t.$inputEl.val(n),t)},a.getValue=function(){return this.value},a.formatValue=function(e){var t=this;return t.params.formatValue?t.params.formatValue.call(t,e):e},a.init=function(){var e=this;if(e.attachEvents(),e.$valueEl&&e.$valueEl.length){var t=e.formatValue(e.value);e.$valueEl.html(t)}return e},a.destroy=function(){var e=this;e.$el.trigger("stepper:beforedestroy"),e.emit("local::beforeDestroy stepperBeforeDestroy",e),delete e.$el[0].f7Stepper,e.detachEvents(),Iu(e),e=null},r}(nc),iv=ov,sv={name:"stepper",create:function(){var e=this;e.stepper=Fu(qp({defaultSelector:".stepper",constructor:iv,app:e,domProp:"f7Stepper"}),{getValue:function(t){void 0===t&&(t=".stepper");var n=e.stepper.get(t);if(n)return n.getValue()},setValue:function(t,n){void 0===t&&(t=".stepper");var r=e.stepper.get(t);if(r)return r.setValue(n)}})},static:{Stepper:iv},on:{tabMounted:function(e){var t=this;Hp(e).find(".stepper-init").each((function(e){var n=Hp(e).dataset();t.stepper.create(Fu({el:e},n||{}))}))},tabBeforeRemove:function(e){Hp(e).find(".stepper-init").each((function(e){e.f7Stepper&&e.f7Stepper.destroy()}))},pageInit:function(e){var t=this;e.$el.find(".stepper-init").each((function(e){var n=Hp(e).dataset();t.stepper.create(Fu({el:e},n||{}))}))},pageBeforeRemove:function(e){e.$el.find(".stepper-init").each((function(e){e.f7Stepper&&e.f7Stepper.destroy()}))}},vnode:{"stepper-init":{insert:function(e){var t=e.elm,n=Hp(t).dataset();this.stepper.create(Fu({el:t},n||{}))},destroy:function(e){var t=e.elm;t.f7Stepper&&t.f7Stepper.destroy()}}}};function lv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cv(e,t){return cv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},cv(e,t)}var pv=function(e){var t,n;function r(t,n){var r;void 0===n&&(n={});var a=uv(r=e.call(this,n,[t])||this),o=Fu({on:{}},t.params.smartSelect);void 0===o.searchbarDisableButton&&(o.searchbarDisableButton="aurora"!==t.theme),a.useModulesParams(o),a.params=Fu({},o,n),a.app=t;var i=Hp(a.params.el).eq(0);if(0===i.length)return a||uv(r);if(i[0].f7SmartSelect)return i[0].f7SmartSelect||uv(r);var s,l=i.find("select").eq(0);if(0===l.length)return a||uv(r);a.params.setValueText&&(0===(s=Hp(a.params.valueEl)).length&&(s=i.find(".item-after")),0===s.length&&(s=Hp('<div class="item-after"></div>')).insertAfter(i.find(".item-title")));var u=n.url;u||(i.attr("href")&&"#"!==i.attr("href")?u=i.attr("href"):l.attr("name")&&(u=l.attr("name").toLowerCase()+"-select/")),u||(u=a.params.url);var c=l[0].multiple,p=c?"checkbox":"radio",d=xu();function f(){a.open()}function h(){var e=a.$selectEl.val();a.$el.trigger("smartselect:change",e),a.emit("local::change smartSelectChange",a,e),a.vl&&a.vl.clearCache(),a.setValueText()}function v(){var e,t,n,r=this,o=r.value,i=[];if("checkbox"===r.type){for(var s=0;s<a.selectEl.options.length;s+=1)(e=a.selectEl.options[s]).value===o&&(e.selected=r.checked),e.selected&&(t=(n=e.dataset?e.dataset.displayAs:Hp(e).data("display-value-as"))&&void 0!==n?n:e.textContent,i.push(t.trim()));a.maxLength&&a.checkMaxLength()}else(e=a.$selectEl.find('option[value="'+o+'"]')[0])||(e=a.$selectEl.find("option").filter((function(e){return e.value===o}))[0]),i=[t=(n=e.dataset?e.dataset.displayAs:Hp(e).data("display-as"))&&void 0!==n?n:e.textContent],a.selectEl.value=o;a.$selectEl.trigger("change"),a.params.setValueText&&a.$valueEl.text(a.formatValueText(i)),a.params.closeOnSelect&&"radio"===a.inputType&&a.close()}return Fu(a,{$el:i,el:i[0],$selectEl:l,selectEl:l[0],$valueEl:s,valueEl:s&&s[0],url:u,multiple:c,inputType:p,id:d,inputName:p+"-"+d,selectName:l.attr("name"),maxLength:l.attr("maxlength")||n.maxLength}),i[0].f7SmartSelect=a,a.attachEvents=function(){i.on("click",f),i.on("change","select",h)},a.detachEvents=function(){i.off("click",f),i.off("change","select",h)},a.attachInputsEvents=function(){a.$containerEl.on("change",'input[type="checkbox"], input[type="radio"]',v)},a.detachInputsEvents=function(){a.$containerEl.off("change",'input[type="checkbox"], input[type="radio"]',v)},a.useModules(),a.init(),a||uv(r)}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,cv(t,n);var a,o,i,s=r.prototype;return s.setValue=function(e){var t,n,r,a=this,o=e,i=[];if(a.multiple){Array.isArray(o)||(o=[o]);for(var s=0;s<a.selectEl.options.length;s+=1)t=a.selectEl.options[s],o.indexOf(t.value)>=0?t.selected=!0:t.selected=!1,t.selected&&(r=(n=t.dataset?t.dataset.displayAs:Hp(t).data("display-value-as"))&&void 0!==n?n:t.textContent,i.push(r.trim()))}else(t=a.$selectEl.find('option[value="'+o+'"]')[0])&&(i=[r=(n=t.dataset?t.dataset.displayAs:Hp(t).data("display-as"))&&void 0!==n?n:t.textContent]),a.selectEl.value=o;return a.params.setValueText&&a.$valueEl.text(a.formatValueText(i)),a.$selectEl.trigger("change"),a},s.unsetValue=function(){var e=this;e.params.setValueText&&e.$valueEl.text(e.formatValueText([])),e.$selectEl.find("option").each((function(e){e.selected=!1,e.checked=!1})),e.$selectEl[0].value=null,e.$containerEl&&e.$containerEl.find('input[name="'+e.inputName+'"][type="checkbox"], input[name="'+e.inputName+'"][type="radio"]').prop("checked",!1),e.$selectEl.trigger("change")},s.getValue=function(){return this.$selectEl.val()},s.checkMaxLength=function(){var e=this,t=e.$containerEl;e.selectEl.selectedOptions.length>=e.maxLength?t.find('input[type="checkbox"]').each((function(e){e.checked?Hp(e).parents("li").removeClass("disabled"):Hp(e).parents("li").addClass("disabled")})):t.find(".disabled").removeClass("disabled")},s.formatValueText=function(e){var t=this;return t.params.formatValueText?t.params.formatValueText.call(t,e,t):e.join(", ")},s.setValueText=function(e){var t=this,n=[];void 0!==e?n=Array.isArray(e)?e:[e]:t.$selectEl.find("option").each((function(e){var t=Hp(e);if(e.selected){var r=e.dataset?e.dataset.displayAs:t.data("display-value-as");r&&void 0!==r?n.push(r):n.push(e.textContent.trim())}})),t.params.setValueText&&t.$valueEl.text(t.formatValueText(n))},s.getItemsData=function(){var e,t=this,n=t.app.theme,r=[];return t.$selectEl.find("option").each((function(a){var o=Hp(a),i=o.dataset(),s=i.optionImage||t.params.optionImage,l=i.optionIcon||t.params.optionIcon,u="ios"===n&&(i.optionIconIos||t.params.optionIconIos),c="md"===n&&(i.optionIconMd||t.params.optionIconMd),p="aurora"===n&&(i.optionIconAurora||t.params.optionIconAurora),d=s||l||u||c||p,f=i.optionColor,h=i.optionClass||"";o[0].disabled&&(h+=" disabled");var v=o.parent("optgroup")[0],m=v&&v.label,g=!1;v&&v!==e&&(g=!0,e=v,r.push({groupLabel:m,isLabel:g})),r.push({value:o[0].value,text:o[0].textContent.trim(),selected:o[0].selected,groupEl:v,groupLabel:m,image:s,icon:l,iconIos:u,iconMd:c,iconAurora:p,color:f,className:h,disabled:o[0].disabled,id:t.id,hasMedia:d,checkbox:"checkbox"===t.inputType,radio:"radio"===t.inputType,inputName:t.inputName,inputType:t.inputType})})),t.items=r,r},s.renderSearchbar=function(){var e=this;return e.params.renderSearchbar?e.params.renderSearchbar.call(e):Sf("form",{class:"searchbar"},Sf("div",{class:"searchbar-inner"},Sf("div",{class:"searchbar-input-wrap"},Sf("input",{type:"search",spellcheck:e.params.searchbarSpellcheck||"false",placeholder:e.params.searchbarPlaceholder}),Sf("i",{class:"searchbar-icon"}),Sf("span",{class:"input-clear-button"})),e.params.searchbarDisableButton&&Sf("span",{class:"searchbar-disable-button"},e.params.searchbarDisableText)))},s.renderItem=function(e,t){var n,r,a=this;if(a.params.renderItem)return a.params.renderItem.call(a,e,t);if(e.isLabel)n='<li class="item-divider">'+e.groupLabel+"</li>";else{var o,i=e.selected;if(a.params.virtualList){var s=a.getValue();i=a.multiple?s.indexOf(e.value)>=0:s===e.value,a.multiple&&(o=a.multiple&&!i&&s.length===parseInt(a.maxLength,10))}var l=e.icon,u=e.iconIos,c=e.iconMd,p=e.iconAurora,d=l||u||c||p,f=(void 0===(r=l||u||c||p||"")&&(r=""),r.indexOf(":")>=0?r.split(":")[1]:""),h=function(e){if(void 0===e&&(e=""),e.indexOf(":")>=0){var t=e.split(":")[0];return"f7"===t&&(t="f7-icons"),"material"===t&&(t="material-icons"),t}return e}(l||u||c||p||"");n=Sf("li",{class:(e.className||"")+(o?" disabled":"")},Sf("label",{class:"item-"+e.inputType+" item-content"},Sf("input",{type:e.inputType,name:e.inputName,value:e.value,_checked:i}),Sf("i",{class:"icon icon-"+e.inputType}),e.hasMedia&&Sf("div",{class:"item-media"},d&&Sf("i",{class:"icon "+h},f),e.image&&Sf("img",{src:e.image})),Sf("div",{class:"item-inner"},Sf("div",{class:"item-title"+(e.color?" text-color-"+e.color:"")},e.text))))}return n},s.renderItems=function(){var e=this;if(e.params.renderItems)return e.params.renderItems.call(e,e.items);var t="\n      "+e.items.map((function(t,n){return""+e.renderItem(t,n)})).join("")+"\n    ";return t},s.renderPage=function(){var e=this;if(e.params.renderPage)return e.params.renderPage.call(e,e.items);var t=e.params.pageTitle;if(void 0===t){var n=e.$el.find(".item-title");t=n.length?n.text().trim():""}var r=e.params.cssClass;return Sf("div",{class:"page smart-select-page "+r,"data-name":"smart-select-page","data-select-name":e.selectName},Sf("div",{class:"navbar "+(e.params.navbarColorTheme?"color-"+e.params.navbarColorTheme:"")},Sf("div",{class:"navbar-bg"}),Sf("div",{class:"navbar-inner sliding "+(e.params.navbarColorTheme?"color-"+e.params.navbarColorTheme:"")},Sf("div",{class:"left"},Sf("a",{class:"link back"},Sf("i",{class:"icon icon-back"}),Sf("span",{class:"if-not-md"},e.params.pageBackLinkText))),t&&Sf("div",{class:"title"},t),e.params.searchbar&&Sf("div",{class:"subnavbar"},e.renderSearchbar()))),e.params.searchbar&&Sf("div",{class:"searchbar-backdrop"}),Sf("div",{class:"page-content"},Sf("div",{class:"list smart-select-list-"+e.id+" "+(e.params.virtualList?" virtual-list":"")+" "+(e.params.formColorTheme?"color-"+e.params.formColorTheme:"")},Sf("ul",null,!e.params.virtualList&&e.renderItems(e.items)))))},s.renderPopup=function(){var e=this;if(e.params.renderPopup)return e.params.renderPopup.call(e,e.items);var t=e.params.pageTitle;if(void 0===t){var n=e.$el.find(".item-title");t=n.length?n.text().trim():""}var r=e.params.cssClass||"";return Sf("div",{class:"popup smart-select-popup "+r+" "+(e.params.popupTabletFullscreen?"popup-tablet-fullscreen":""),"data-select-name":e.selectName},Sf("div",{class:"view"},Sf("div",{class:"page smart-select-page "+(e.params.searchbar?"page-with-subnavbar":""),"data-name":"smart-select-page"},Sf("div",{class:"navbar "+(e.params.navbarColorTheme?"color-"+e.params.navbarColorTheme:"")},Sf("div",{class:"navbar-bg"}),Sf("div",{class:"navbar-inner sliding"},t&&Sf("div",{class:"title"},t),Sf("div",{class:"right"},Sf("a",{class:"link popup-close","data-popup":".smart-select-popup[data-select-name='"+e.selectName+"']"},e.params.popupCloseLinkText)),e.params.searchbar&&Sf("div",{class:"subnavbar"},e.renderSearchbar()))),e.params.searchbar&&Sf("div",{class:"searchbar-backdrop"}),Sf("div",{class:"page-content"},Sf("div",{class:"list smart-select-list-"+e.id+" "+(e.params.virtualList?" virtual-list":"")+" "+(e.params.formColorTheme?"color-"+e.params.formColorTheme:"")},Sf("ul",null,!e.params.virtualList&&e.renderItems(e.items)))))))},s.renderSheet=function(){var e=this;if(e.params.renderSheet)return e.params.renderSheet.call(e,e.items);var t=e.params.cssClass;return Sf("div",{class:"sheet-modal smart-select-sheet "+t,"data-select-name":e.selectName},Sf("div",{class:"toolbar toolbar-top "+(e.params.toolbarColorTheme?"color-"+e.params.toolbarColorTheme:"")},Sf("div",{class:"toolbar-inner"},Sf("div",{class:"left"}),Sf("div",{class:"right"},Sf("a",{class:"link sheet-close"},e.params.sheetCloseLinkText)))),Sf("div",{class:"sheet-modal-inner"},Sf("div",{class:"page-content"},Sf("div",{class:"list smart-select-list-"+e.id+" "+(e.params.virtualList?" virtual-list":"")+" "+(e.params.formColorTheme?"color-"+e.params.formColorTheme:"")},Sf("ul",null,!e.params.virtualList&&e.renderItems(e.items))))))},s.renderPopover=function(){var e=this;if(e.params.renderPopover)return e.params.renderPopover.call(e,e.items);var t=e.params.cssClass;return Sf("div",{class:"popover smart-select-popover "+t,"data-select-name":e.selectName},Sf("div",{class:"popover-inner"},Sf("div",{class:"list smart-select-list-"+e.id+" "+(e.params.virtualList?" virtual-list":"")+" "+(e.params.formColorTheme?"color-"+e.params.formColorTheme:"")},Sf("ul",null,!e.params.virtualList&&e.renderItems(e.items)))))},s.scrollToSelectedItem=function(){var e=this,t=e.params,n=e.$containerEl;if(!e.opened)return e;if(t.virtualList){var r;e.vl.items.forEach((function(e,t){void 0===r&&e.selected&&(r=t)})),void 0!==r&&e.vl.scrollToItem(r)}else{var a=n.find("input:checked").parents("li");if(!a.length)return e;var o=n.find(".page-content, .popover-inner");if(!o.length)return e;o.scrollTop(a.offset().top-o.offset().top-parseInt(o.css("padding-top"),10))}return e},s.onOpen=function(e,t){var n=this,r=n.app,a=Hp(t);if(n.$containerEl=a,n.openedIn=e,n.opened=!0,n.params.virtualList&&(n.vl=r.virtualList.create({el:a.find(".virtual-list"),items:n.items,renderItem:n.renderItem.bind(n),height:n.params.virtualListHeight,searchByItem:function(e,t){return!!(t.text&&t.text.toLowerCase().indexOf(e.trim().toLowerCase())>=0)}})),n.params.scrollToSelectedItem&&n.scrollToSelectedItem(),n.params.searchbar){var o=a.find(".searchbar");if("page"===e&&"ios"===r.theme&&(o=Hp(r.navbar.getElByPage(a)).find(".searchbar")),n.params.appendSearchbarNotFound&&("page"===e||"popup"===e)){var i=null;(i="string"==typeof n.params.appendSearchbarNotFound?Hp('<div class="block searchbar-not-found">'+n.params.appendSearchbarNotFound+"</div>"):"boolean"==typeof n.params.appendSearchbarNotFound?Hp('<div class="block searchbar-not-found">Nothing found</div>'):n.params.appendSearchbarNotFound)&&a.find(".page-content").append(i[0])}var s=Fu({el:o,backdropEl:a.find(".searchbar-backdrop"),searchContainer:".smart-select-list-"+n.id,searchIn:".item-title"},"object"==typeof n.params.searchbar?n.params.searchbar:{});n.searchbar=r.searchbar.create(s)}n.maxLength&&n.checkMaxLength(),n.params.closeOnSelect&&n.$containerEl.find('input[type="radio"][name="'+n.inputName+'"]:checked').parents("label").once("click",(function(){n.close()})),n.attachInputsEvents(),n.$el.trigger("smartselect:open"),n.emit("local::open smartSelectOpen",n)},s.onOpened=function(){var e=this;e.$el.trigger("smartselect:opened"),e.emit("local::opened smartSelectOpened",e)},s.onClose=function(){var e=this;e.destroyed||(e.vl&&e.vl.destroy&&(e.vl.destroy(),e.vl=null,delete e.vl),e.searchbar&&e.searchbar.destroy&&(e.searchbar.destroy(),e.searchbar=null,delete e.searchbar),e.detachInputsEvents(),e.$el.trigger("smartselect:close"),e.emit("local::close smartSelectClose",e))},s.onClosed=function(){var e=this;e.destroyed||(e.opened=!1,e.$containerEl=null,delete e.$containerEl,e.$el.trigger("smartselect:closed"),e.emit("local::closed smartSelectClosed",e))},s.openPage=function(){var e=this;if(e.opened)return e;e.getItemsData();var t=e.renderPage(e.items);return e.view.router.navigate({url:e.url,route:{content:t,path:e.url,on:{pageBeforeIn:function(t,n){e.onOpen("page",n.el)},pageAfterIn:function(t,n){e.onOpened("page",n.el)},pageBeforeOut:function(t,n){e.onClose("page",n.el)},pageAfterOut:function(t,n){e.onClosed("page",n.el)}}}}),e},s.openPopup=function(){var e=this;if(e.opened)return e;e.getItemsData();var t={content:e.renderPopup(e.items),push:e.params.popupPush,swipeToClose:e.params.popupSwipeToClose,on:{popupOpen:function(t){e.onOpen("popup",t.el)},popupOpened:function(t){e.onOpened("popup",t.el)},popupClose:function(t){e.onClose("popup",t.el)},popupClosed:function(t){e.onClosed("popup",t.el)}}};return e.params.routableModals&&e.view?e.view.router.navigate({url:e.url,route:{path:e.url,popup:t}}):e.modal=e.app.popup.create(t).open(),e},s.openSheet=function(){var e=this;if(e.opened)return e;e.getItemsData();var t={content:e.renderSheet(e.items),backdrop:e.params.sheetBackdrop,scrollToEl:e.$el,closeByOutsideClick:!0,push:e.params.sheetPush,swipeToClose:e.params.sheetSwipeToClose,on:{sheetOpen:function(t){e.onOpen("sheet",t.el)},sheetOpened:function(t){e.onOpened("sheet",t.el)},sheetClose:function(t){e.onClose("sheet",t.el)},sheetClosed:function(t){e.onClosed("sheet",t.el)}}};return e.params.routableModals&&e.view?e.view.router.navigate({url:e.url,route:{path:e.url,sheet:t}}):e.modal=e.app.sheet.create(t).open(),e},s.openPopover=function(){var e=this;if(e.opened)return e;e.getItemsData();var t={content:e.renderPopover(e.items),targetEl:e.$el,on:{popoverOpen:function(t){e.onOpen("popover",t.el)},popoverOpened:function(t){e.onOpened("popover",t.el)},popoverClose:function(t){e.onClose("popover",t.el)},popoverClosed:function(t){e.onClosed("popover",t.el)}}};return e.params.routableModals&&e.view?e.view.router.navigate({url:e.url,route:{path:e.url,popover:t}}):e.modal=e.app.popover.create(t).open(),e},s.open=function(e){var t=this;if(t.opened)return t;var n=!1;function r(){n=!0}return t.$el&&t.$el.trigger("smartselect:beforeopen",{prevent:r}),t.emit("local::beforeOpen smartSelectBeforeOpen",t,r),n||t["open"+(e||t.params.openIn).split("").map((function(e,t){return 0===t?e.toUpperCase():e})).join("")](),t},s.close=function(){var e=this;return e.opened?(e.params.routableModals&&e.view||"page"===e.openedIn?e.view.router.back():(e.modal.once("modalClosed",(function(){_u((function(){e.destroyed||(e.modal.destroy(),delete e.modal)}))})),e.modal.close()),e):e},s.init=function(){this.attachEvents(),this.setValueText()},s.destroy=function(){var e=this;e.emit("local::beforeDestroy smartSelectBeforeDestroy",e),e.$el.trigger("smartselect:beforedestroy"),e.detachEvents(),delete e.$el[0].f7SmartSelect,Iu(e),e.destroyed=!0},a=r,o=[{key:"view",get:function(){var e,t=this.params,n=this.$el;if(t.view&&(e=t.view),e||(e=n.parents(".view").length&&n.parents(".view")[0].f7View),!e&&"page"===t.openIn)throw Error("Smart Select requires initialized View");return e}}],o&&lv(a.prototype,o),i&&lv(a,i),r}(nc),dv=pv,fv={name:"smartSelect",params:{smartSelect:{el:void 0,valueEl:void 0,setValueText:!0,formatValueText:null,openIn:"page",popupPush:!1,popupSwipeToClose:void 0,sheetPush:!1,sheetSwipeToClose:void 0,sheetBackdrop:!1,pageTitle:void 0,pageBackLinkText:"Back",popupCloseLinkText:"Close",popupTabletFullscreen:!1,sheetCloseLinkText:"Done",searchbar:!1,searchbarPlaceholder:"Search",searchbarDisableText:"Cancel",searchbarDisableButton:void 0,searchbarSpellcheck:!1,closeOnSelect:!1,virtualList:!1,virtualListHeight:void 0,scrollToSelectedItem:!1,formColorTheme:void 0,navbarColorTheme:void 0,routableModals:!1,url:"select/",cssClass:"",renderPage:void 0,renderPopup:void 0,renderSheet:void 0,renderPopover:void 0,renderItems:void 0,renderItem:void 0,renderSearchbar:void 0}},static:{SmartSelect:dv},create:function(){var e=this;e.smartSelect=Fu(qp({defaultSelector:".smart-select",constructor:dv,app:e,domProp:"f7SmartSelect"}),{open:function(t){var n=e.smartSelect.get(t);if(n&&n.open)return n.open()},close:function(t){var n=e.smartSelect.get(t);if(n&&n.close)return n.close()}})},on:{tabMounted:function(e){var t=this;Hp(e).find(".smart-select-init").each((function(e){t.smartSelect.create(Fu({el:e},Hp(e).dataset()))}))},tabBeforeRemove:function(e){Hp(e).find(".smart-select-init").each((function(e){e.f7SmartSelect&&e.f7SmartSelect.destroy&&e.f7SmartSelect.destroy()}))},pageInit:function(e){var t=this;e.$el.find(".smart-select-init").each((function(e){t.smartSelect.create(Fu({el:e},Hp(e).dataset()))}))},pageBeforeRemove:function(e){e.$el.find(".smart-select-init").each((function(e){e.f7SmartSelect&&e.f7SmartSelect.destroy&&e.f7SmartSelect.destroy()}))}},clicks:{".smart-select":function(e,t){e[0].f7SmartSelect||this.smartSelect.create(Fu({el:e},t)).open()}},vnode:{"smart-select-init":{insert:function(e){var t=e.elm;this.smartSelect.create(Fu({el:t},Hp(t).dataset()))},destroy:function(e){var t=e.elm;t.f7SmartSelect&&t.f7SmartSelect.destroy&&t.f7SmartSelect.destroy()}}}};function hv(e,t){var n=t.css("min-"+e);return"auto"===n||"none"===n?n=0:n.indexOf("px")>=0?n=parseFloat(n):n.indexOf("%")>=0&&(n=t.parent()[0]["height"===e?"offsetHeight":"offsetWidth"]*parseFloat(n)/100),n}function vv(e,t){var n=t.css("max-"+e);return"auto"===n||"none"===n?n=null:n.indexOf("px")>=0?n=parseFloat(n):n.indexOf("%")>=0&&(n=t.parent()[0]["height"===e?"offsetHeight":"offsetWidth"]*parseFloat(n)/100),n}var mv={init:function(){var e,t,n,r,a,o,i,s,l,u,c,p,d,f,h,v,m,g=this;var b=mu();Hp(b).on(g.touchEvents.start,".col > .resize-handler, .row > .resize-handler",(function(s){e||t||(a=Hp(s.target).closest(".resize-handler"),n="touchstart"===s.type?s.targetTouches[0].pageX:s.pageX,r="touchstart"===s.type?s.targetTouches[0].pageY:s.pageY,e=!0,o=void 0,i=void 0,m=void 0)})),g.on("touchmove",(function(b){if(e){var y=1===a.parent(".row").length,w=y?"height":"width",x=y?"offsetHeight":"offsetWidth";t||(!(o=a.parent(y?".row":".col")).length||o.hasClass("resizable")&&!o.hasClass("resizable-fixed")||(o=o.prevAll(".resizable:not(.resizable-fixed)").eq(0)),!(i=o.next(y?".row":".col")).length||i.hasClass("resizable")&&!i.hasClass("resizable-fixed")||(i=i.nextAll(".resizable:not(.resizable-fixed)").eq(0)),o.length&&(s=o[0][x],l=hv(w,o),u=vv(w,o),f=o.parent()[0][x],h=o.parent().children(y?".row":'[class*="col-"], .col').length,v=parseFloat(o.css(y?"--f7-grid-row-gap":"--f7-grid-gap"))),i.length&&(c=i[0][x],p=hv(w,i),d=vv(w,i),o.length||(f=i.parent()[0][x],h=i.parent().children(y?".row":'[class*="col-"], .col').length,v=parseFloat(i.css(y?"--f7-grid-row-gap":"--f7-grid-gap"))))),t=!0;var C="touchmove"===b.type?b.targetTouches[0].pageX:b.pageX,E="touchmove"===b.type?b.targetTouches[0].pageY:b.pageY;if(void 0!==m||y||(m=!!(m||Math.abs(E-r)>Math.abs(C-n))),m)return e=!1,void(t=!1);var k=o.hasClass("resizable-absolute")||i.hasClass("resizable-absolute"),S=!y||y&&!k;if(S&&!i.length||!o.length)return e=!1,void(t=!1);b.preventDefault();var T,O,I=y?E-r:C-n;if(o.length&&((T=s+I)<l&&(I=(T=l)-s),u&&T>u&&(I=(T=u)-s)),i.length&&S&&((O=c-I)<p&&(T=s+(I=c-(O=p))),d&&O>d&&(T=s+(I=c-(O=d)))),k)return o[0].style[w]=T+"px",S&&(i[0].style[w]=O+"px"),o.trigger("grid:resize"),i.trigger("grid:resize"),g.emit("gridResize",o[0]),void g.emit("gridResize",i[0]);var N=(h-1)*v/h,A=y?h-1+" * var(--f7-grid-row-gap) / "+h:"(var(--f7-cols-per-row) - 1) * var(--f7-grid-gap) / var(--f7-cols-per-row)",_=T+N,R=O+N;o[0].style[w]="calc("+_/f*100+"% - "+A+")",i[0].style[w]="calc("+R/f*100+"% - "+A+")",o.trigger("grid:resize"),i.trigger("grid:resize"),g.emit("gridResize",o[0]),g.emit("gridResize",i[0])}})),g.on("touchend",(function(){e&&(t||(e=!1),e=!1,t=!1)}))}},gv={name:"grid",create:function(){Fu(this,{grid:{init:mv.init.bind(this)}})},on:{init:function(){this.grid.init()}}};function bv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wv(e,t){return wv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},wv(e,t)}var xv=function(e){var t,n;function r(t,n){var r;void 0===n&&(n={});var a,o,i=yv(r=e.call(this,n,[t])||this);if(i.params=Fu({},t.params.calendar,n),i.params.containerEl&&0===(a=Hp(i.params.containerEl)).length)return i||yv(r);i.params.inputEl&&(o=Hp(i.params.inputEl));var s="horizontal"===i.params.direction,l=1;s&&(l=t.rtl?-1:1),Fu(i,{app:t,$containerEl:a,containerEl:a&&a[0],inline:a&&a.length>0,$inputEl:o,inputEl:o&&o[0],initialized:!1,opened:!1,url:i.params.url,isHorizontal:s,inverter:l,animating:!1,allowTouchMove:!0,hasTimePicker:i.params.timePicker&&!i.params.rangePicker&&!i.params.multiple}),i.dayFormatter=function(e){return new Intl.DateTimeFormat(i.params.locale,{day:"numeric"}).format(e).replace(//,"")},i.monthFormatter=function(e){return new Intl.DateTimeFormat(i.params.locale,{month:"long"}).format(e)},i.yearFormatter=function(e){return new Intl.DateTimeFormat(i.params.locale,{year:"numeric"}).format(e)},i.timeSelectorFormatter=function(e){return new Intl.DateTimeFormat(i.params.locale,i.params.timePickerFormat).format(e)};var u=i.timeSelectorFormatter(new Date).toLowerCase();i.is12HoursFormat=u.indexOf("pm")>=0||u.indexOf("am")>=0;var c=i.params,p=c.monthNames,d=c.monthNamesShort,f=c.dayNames,h=c.dayNamesShort,v=i.getIntlNames(),m=v.monthNamesIntl,g=v.monthNamesShortIntl,b=v.dayNamesIntl,y=v.dayNamesShortIntl;function w(){i.open()}function x(e){e.preventDefault()}function C(){i.setValue([]),i.opened&&i.update()}function E(e){var t=Hp(e.target);!i.destroyed&&i.params&&(i.isPopover()||i.opened&&!i.closing&&(t.closest('[class*="backdrop"]').length||(o&&o.length>0?t[0]!==o[0]&&0===t.closest(".sheet-modal, .calendar-modal").length&&i.close():0===Hp(e.target).closest(".sheet-modal, .calendar-modal").length&&i.close())))}return"auto"===p&&(p=m),"auto"===d&&(d=g),"auto"===f&&(f=b),"auto"===h&&(h=y),Fu(i,{monthNames:p,monthNamesShort:d,dayNames:f,dayNamesShort:h}),Fu(i,{attachInputEvents:function(){i.$inputEl.on("click",w),i.$inputEl.on("input:clear",C),i.params.inputReadOnly&&(i.$inputEl.on("focus mousedown",x),i.$inputEl[0]&&(i.$inputEl[0].f7ValidateReadonly=!0))},detachInputEvents:function(){i.$inputEl.off("click",w),i.$inputEl.off("input:clear",C),i.params.inputReadOnly&&(i.$inputEl.off("focus mousedown",x),i.$inputEl[0]&&delete i.$inputEl[0].f7ValidateReadonly)},attachHtmlEvents:function(){t.on("click",E)},detachHtmlEvents:function(){t.off("click",E)}}),i.attachCalendarEvents=function(){var e,n,r,a,o,s,l,u,c,p,d,f,h,v=!0,m=i.$el,g=i.$wrapperEl;function b(t){n||e||(e=!0,r="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,o=r,a="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY,s=a,l=(new Date).getTime(),d=0,v=!0,h=void 0,u=i.monthsTranslate)}function y(t){if(e){var l=i.isHorizontal;o="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,s="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,void 0===h&&(h=!!(h||Math.abs(s-a)>Math.abs(o-r))),l&&h||!i.allowTouchMove?e=!1:(t.preventDefault(),i.animating?e=!1:(v=!1,n||(n=!0,c=g[0].offsetWidth,p=g[0].offsetHeight,g.transition(0)),d=(f=l?o-r:s-a)/(l?c:p),u=100*(i.monthsTranslate*i.inverter+d),g.transform("translate3d("+(l?u:0)+"%, "+(l?0:u)+"%, 0)")))}}function w(){if(!e||!n)return e=!1,void(n=!1);e=!1,n=!1,(new Date).getTime()-l<300?Math.abs(f)<10?i.resetMonth():f>=10?t.rtl?i.nextMonth():i.prevMonth():t.rtl?i.prevMonth():i.nextMonth():d<=-.5?t.rtl?i.prevMonth():i.nextMonth():d>=.5?t.rtl?i.nextMonth():i.prevMonth():i.resetMonth(),setTimeout((function(){v=!0}),100)}function x(e){if(v){var t=Hp(e.target).parents(".calendar-day");if(0===t.length&&Hp(e.target).hasClass("calendar-day")&&(t=Hp(e.target)),0!==t.length&&!t.hasClass("calendar-day-disabled")){i.params.rangePicker||(t.hasClass("calendar-day-next")&&i.nextMonth(),t.hasClass("calendar-day-prev")&&i.prevMonth());var n=parseInt(t.attr("data-year"),10),r=parseInt(t.attr("data-month"),10),a=parseInt(t.attr("data-day"),10);if(i.emit("local::dayClick calendarDayClick",i,t[0],n,r,a),!t.hasClass("calendar-day-selected")||i.params.multiple||i.params.rangePicker){var o=new Date(n,r,a,0,0,0);i.hasTimePicker&&(i.value&&i.value[0]?o.setHours(i.value[0].getHours(),i.value[0].getMinutes()):o.setHours((new Date).getHours(),(new Date).getMinutes())),i.addValue(o)}i.params.closeOnSelect&&(i.params.rangePicker&&2===i.value.length||!i.params.rangePicker)&&i.close()}}}function C(){i.nextMonth()}function E(){i.prevMonth()}function k(){i.nextYear()}function S(){i.prevYear()}function T(){m.append(i.renderMonthPicker())}function O(){var e=Hp(this);if(e.hasClass("calendar-month-picker-item-current"))m.find(".calendar-month-picker").remove();else{m.find(".calendar-month-picker-item-current").add(e).toggleClass("calendar-month-picker-item-current");var t=e.index()-(parseInt(i.$el.find(".calendar-month-current").attr("data-locale-month"),10)-i.currentMonth);i.setYearMonth(i.currentYear,t,0),setTimeout((function(){m.find(".calendar-month-picker").remove()}),200)}}function I(){m.append(i.renderYearPicker());var e=m.find(".calendar-year-picker-item-current"),t=m.find(".calendar-year-picker");e&&e.length&&t.scrollTop(e[0].offsetTop-t[0].offsetHeight/2+e[0].offsetHeight/2)}function N(){var e=Hp(this);if(e.hasClass("calendar-year-picker-item-current"))m.find(".calendar-year-picker").remove();else{m.find(".calendar-year-picker-item-current").add(e).toggleClass("calendar-year-picker-item-current");var t=parseInt(e.attr("data-year"),10);i.setYearMonth(t,void 0,0),setTimeout((function(){m.find(".calendar-year-picker").remove()}),200)}}function A(){i.openTimePicker()}function _(){i.closeTimePicker()}var R=!("touchstart"!==t.touchEvents.start||!Yu().passiveListener)&&{passive:!0,capture:!1};m.find(".calendar-prev-month-button").on("click",E),m.find(".calendar-next-month-button").on("click",C),m.find(".calendar-prev-year-button").on("click",S),m.find(".calendar-next-year-button").on("click",k),i.params.monthPicker&&(m.find(".current-month-value").on("click",T),m.on("click",".calendar-month-picker-item",O)),i.params.yearPicker&&(m.find(".current-year-value").on("click",I),m.on("click",".calendar-year-picker-item",N)),i.hasTimePicker&&(m.find(".calendar-time-selector a").on("click",A),m.on("click",".calendar-time-picker-close",_)),g.on("click",x),i.params.touchMove&&(g.on(t.touchEvents.start,b,R),t.on("touchmove:active",y),t.on("touchend:passive",w)),i.detachCalendarEvents=function(){m.find(".calendar-prev-month-button").off("click",E),m.find(".calendar-next-month-button").off("click",C),m.find(".calendar-prev-year-button").off("click",S),m.find(".calendar-next-year-button").off("click",k),i.params.monthPicker&&(m.find(".current-month-value").off("click",T),m.off("click",".calendar-month-picker-item",O)),i.params.yearPicker&&(m.find(".current-year-value").off("click",I),m.off("click",".calendar-year-picker-item",N)),i.hasTimePicker&&(m.find(".calendar-time-selector a").off("click",A),m.off("click",".calendar-time-picker-close",_)),g.off("click",x),i.params.touchMove&&(g.off(t.touchEvents.start,b,R),t.off("touchmove:active",y),t.off("touchend:passive",w))}},i.init(),i||yv(r)}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,wv(t,n);var a,o,i,s=r.prototype;return s.getIntlNames=function(){for(var e,t,n,r=this.params.locale,a=[],o=[],i=[],s=[],l=new Intl.DateTimeFormat(r,{month:"long"}),u=new Intl.DateTimeFormat(r,{month:"short"}),c=new Intl.DateTimeFormat(r,{weekday:"long"}),p=new Intl.DateTimeFormat(r,{weekday:"short"}),d=0;d<24;d+=1){var f=(new Date).setMonth(d,1),h=this.yearFormatter(f);e&&h!==e&&(t&&(n=!0),t=!0,e=h),e||(e=h),t&&e===h&&!n&&(a.push(l.format(f)),o.push(u.format(f)))}for(var v=(new Date).getDay(),m=0;m<7;m+=1){var g=(new Date).getTime()+24*(m-v)*60*60*1e3;i.push(c.format(g)),s.push(p.format(g))}return{monthNamesIntl:a,monthNamesShortIntl:o,dayNamesIntl:i,dayNamesShortIntl:s}},s.normalizeDate=function(e){var t=new Date(e);return this.hasTimePicker?new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes()):new Date(t.getFullYear(),t.getMonth(),t.getDate())},s.normalizeValues=function(e){var t=this,n=[];return e&&Array.isArray(e)&&(n=e.map((function(e){return t.normalizeDate(e)}))),n},s.initInput=function(){var e=this;e.$inputEl&&e.params.inputReadOnly&&e.$inputEl.prop("readOnly",!0)},s.isPopover=function(){var e=this,t=e.app,n=e.modal,r=e.params,a=Ku();if("sheet"===r.openIn)return!1;if(n&&"popover"!==n.type)return!1;if(!e.inline&&e.inputEl){if("popover"===r.openIn)return!0;if(a.ios)return!!a.ipad;if(t.width>=768)return!0;if(a.desktop&&"aurora"===t.theme)return!0}return!1},s.formatDate=function(e){var t=this,n=new Date(e),r=n.getFullYear(),a=n.getMonth(),o=a+1,i=n.getDate(),s=n.getDay(),l=t.monthNames,u=t.monthNamesShort,c=t.dayNames,p=t.dayNamesShort,d=t.params,f=d.dateFormat,h=d.locale;function v(e){return e<10?"0"+e:e}if("string"==typeof f){var m={yyyy:r,yy:String(r).substring(2),mm:v(o),m:o,MM:l[a],M:u[a],dd:v(i),d:i,DD:c[s],D:p[s]};if(t.params.timePicker){var g=n.getHours(),b=n.getMinutes(),y=n.getSeconds(),w=g;g>12&&(w=g-12),0===g&&(w=12);var x=g>=12&&0!==g?"pm":"am";Object.assign(m,{HH:v(g),H:g,hh:v(w),h:w,ss:v(y),s:y,":mm":v(b),":m":b,a:x,A:x.toUpperCase()})}var C=new RegExp(Object.keys(m).map((function(e){return"("+e+")"})).join("|"),"g");return f.replace(C,(function(e){return e in m?m[e]:e}))}return"function"==typeof f?f(n):new Intl.DateTimeFormat(h,f).format(n)},s.formatValue=function(){var e=this,t=e.value;return e.params.formatValue?e.params.formatValue.call(e,t):t.map((function(t){return e.formatDate(t)})).join(e.params.rangePicker?" - ":", ")},s.addValue=function(e){var t=this,n=t.params,r=n.multiple,a=n.rangePicker,o=n.rangePickerMinDays,i=n.rangePickerMaxDays;if(r){var s;t.value||(t.value=[]);for(var l=0;l<t.value.length;l+=1)new Date(e).getTime()===new Date(t.value[l]).getTime()&&(s=l);void 0===s?t.value.push(e):t.value.splice(s,1),t.updateValue()}else a?(t.value||(t.value=[]),2!==t.value.length&&0!==t.value.length||(t.value=[]),0===t.value.length||Math.abs(t.value[0].getTime()-e.getTime())>=60*(o-1)*60*24*1e3&&(0===i||Math.abs(t.value[0].getTime()-e.getTime())<=60*(i-1)*60*24*1e3)?t.value.push(e):t.value=[],t.value.sort((function(e,t){return e-t})),t.updateValue()):(t.value=[e],t.updateValue())},s.setValue=function(e){var t=this,n=t.value;if(Array.isArray(n)&&Array.isArray(e)&&n.length===e.length){var r=!0;if(n.forEach((function(t,n){t!==e[n]&&(r=!1)})),r)return}t.value=e,t.updateValue()},s.getValue=function(){return this.value},s.updateValue=function(e){var t,n,r=this,a=r.$el,o=r.$wrapperEl,i=r.$inputEl,s=r.value,l=r.params;if(a&&a.length>0)if(o.find(".calendar-day-selected").removeClass("calendar-day-selected calendar-day-selected-range calendar-day-selected-left calendar-day-selected-right"),l.rangePicker&&2===s.length){var u=new Date(s[0]).getTime(),c=new Date(s[1]).getTime();for(t=u;t<=c;t+=864e5){n=new Date(t);var p="calendar-day-selected";u!==c&&(t!==u&&t!==c&&(p+=" calendar-day-selected-range"),t===u&&(p+=" calendar-day-selected-left"),t===c&&(p+=" calendar-day-selected-right")),o.find('.calendar-day[data-date="'+n.getFullYear()+"-"+n.getMonth()+"-"+n.getDate()+'"]').addClass(p)}n=new Date(u),o.find('.calendar-day[data-date="'+n.getFullYear()+"-"+n.getMonth()+"-"+n.getDate()+'"]').removeClass("calendar-day-selected-range").addClass("calendar-day-selected calendar-day-selected-left"),n=new Date(c),o.find('.calendar-day[data-date="'+n.getFullYear()+"-"+n.getMonth()+"-"+n.getDate()+'"]').removeClass("calendar-day-selected-range").addClass("calendar-day-selected calendar-day-selected-right")}else for(t=0;t<r.value.length;t+=1)n=new Date(s[t]),o.find('.calendar-day[data-date="'+n.getFullYear()+"-"+n.getMonth()+"-"+n.getDate()+'"]').addClass("calendar-day-selected");if(e||r.emit("local::change calendarChange",r,s),a&&a.length>0&&r.hasTimePicker&&a.find(".calendar-time-selector a").text(s&&s.length?r.timeSelectorFormatter(s[0]):r.params.timePickerPlaceholder),i&&i.length||l.header){var d=r.formatValue(s);l.header&&a&&a.length&&a.find(".calendar-selected-date").text(d),i&&i.length&&!e&&(i.val(d),i.trigger("change"))}},s.updateCurrentMonthYear=function(e){var t,n,r=this,a=r.$months,o=r.$el,i=r.monthNames;void 0===e?(r.currentMonth=parseInt(a.eq(1).attr("data-month"),10),r.currentYear=parseInt(a.eq(1).attr("data-year"),10),t=a.eq(1).attr("data-locale-month"),n=a.eq(1).attr("data-locale-year")):(r.currentMonth=parseInt(a.eq("next"===e?a.length-1:0).attr("data-month"),10),r.currentYear=parseInt(a.eq("next"===e?a.length-1:0).attr("data-year"),10),t=a.eq("next"===e?a.length-1:0).attr("data-locale-month"),n=a.eq("next"===e?a.length-1:0).attr("data-locale-year")),o.find(".current-month-value").text(i[t]),o.find(".current-year-value").text(n)},s.update=function(){var e=this,t=e.currentYear,n=e.currentMonth,r=e.$wrapperEl,a=new Date(t,n),o=e.renderMonth(a,"prev"),i=e.renderMonth(a),s=e.renderMonth(a,"next");r.transition(0).html(""+o+i+s).transform("translate3d(0,0,0)"),e.$months=r.find(".calendar-month"),e.monthsTranslate=0,e.setMonthsTranslate(),e.$months.each((function(t){e.emit("local::monthAdd calendarMonthAdd",t)}))},s.onMonthChangeStart=function(e){var t=this,n=t.$months,r=t.currentYear,a=t.currentMonth;t.updateCurrentMonthYear(e),n.removeClass("calendar-month-current calendar-month-prev calendar-month-next");var o="next"===e?n.length-1:0;n.eq(o).addClass("calendar-month-current"),n.eq("next"===e?o-1:o+1).addClass("next"===e?"calendar-month-prev":"calendar-month-next"),t.emit("local::monthYearChangeStart calendarMonthYearChangeStart",t,r,a)},s.onMonthChangeEnd=function(e,t){var n,r,a,o=this,i=o.currentYear,s=o.currentMonth,l=o.$wrapperEl,u=o.monthsTranslate;o.animating=!1,l.find(".calendar-month:not(.calendar-month-prev):not(.calendar-month-current):not(.calendar-month-next)").remove(),void 0===e&&(e="next",t=!0),t?(l.find(".calendar-month-next, .calendar-month-prev").remove(),r=o.renderMonth(new Date(i,s),"prev"),n=o.renderMonth(new Date(i,s),"next")):a=o.renderMonth(new Date(i,s),e),("next"===e||t)&&l.append(a||n),("prev"===e||t)&&l.prepend(a||r);var c=l.find(".calendar-month");o.$months=c,o.setMonthsTranslate(u),o.emit("local::monthAdd calendarMonthAdd",o,"next"===e?c.eq(c.length-1)[0]:c.eq(0)[0]),o.emit("local::monthYearChangeEnd calendarMonthYearChangeEnd",o,i,s)},s.setMonthsTranslate=function(e){var t=this,n=t.$months,r=t.isHorizontal,a=t.inverter;e=e||t.monthsTranslate||0,void 0===t.monthsTranslate&&(t.monthsTranslate=e),n.removeClass("calendar-month-current calendar-month-prev calendar-month-next");var o=100*-(e+1)*a,i=100*-e*a,s=100*-(e-1)*a;n.eq(0).transform("translate3d("+(r?o:0)+"%, "+(r?0:o)+"%, 0)").addClass("calendar-month-prev"),n.eq(1).transform("translate3d("+(r?i:0)+"%, "+(r?0:i)+"%, 0)").addClass("calendar-month-current"),n.eq(2).transform("translate3d("+(r?s:0)+"%, "+(r?0:s)+"%, 0)").addClass("calendar-month-next")},s.nextMonth=function(e){var t=this,n=t.params,r=t.$wrapperEl,a=t.inverter,o=t.isHorizontal;void 0!==e&&"object"!=typeof e||(e="",n.animate||(e=0));var i=parseInt(t.$months.eq(t.$months.length-1).attr("data-month"),10),s=parseInt(t.$months.eq(t.$months.length-1).attr("data-year"),10),l=new Date(s,i).getTime(),u=!t.animating;if(n.maxDate&&l>new Date(n.maxDate).getTime())t.resetMonth();else{if(t.monthsTranslate-=1,i===t.currentMonth){var c=100*-t.monthsTranslate*a,p=Hp(t.renderMonth(l,"next")).transform("translate3d("+(o?c:0)+"%, "+(o?0:c)+"%, 0)").addClass("calendar-month-next");r.append(p[0]),t.$months=r.find(".calendar-month"),t.emit("local::monthAdd calendarMonthAdd",t.$months.eq(t.$months.length-1)[0])}t.animating=!0,t.onMonthChangeStart("next");var d=100*t.monthsTranslate*a;r.transition(e).transform("translate3d("+(o?d:0)+"%, "+(o?0:d)+"%, 0)"),u&&r.transitionEnd((function(){t.onMonthChangeEnd("next")})),n.animate||t.onMonthChangeEnd("next")}},s.prevMonth=function(e){var t=this,n=t.params,r=t.$wrapperEl,a=t.inverter,o=t.isHorizontal;void 0!==e&&"object"!=typeof e||(e="",n.animate||(e=0));var i=parseInt(t.$months.eq(0).attr("data-month"),10),s=parseInt(t.$months.eq(0).attr("data-year"),10),l=new Date(s,i+1,-1).getTime(),u=!t.animating;if(n.minDate){var c=new Date(n.minDate);if(l<(c=new Date(c.getFullYear(),c.getMonth(),1)).getTime())return void t.resetMonth()}if(t.monthsTranslate+=1,i===t.currentMonth){var p=100*-t.monthsTranslate*a,d=Hp(t.renderMonth(l,"prev")).transform("translate3d("+(o?p:0)+"%, "+(o?0:p)+"%, 0)").addClass("calendar-month-prev");r.prepend(d[0]),t.$months=r.find(".calendar-month"),t.emit("local::monthAdd calendarMonthAdd",t.$months.eq(0)[0])}t.animating=!0,t.onMonthChangeStart("prev");var f=100*t.monthsTranslate*a;r.transition(e).transform("translate3d("+(o?f:0)+"%, "+(o?0:f)+"%, 0)"),u&&r.transitionEnd((function(){t.onMonthChangeEnd("prev")})),n.animate||t.onMonthChangeEnd("prev")},s.resetMonth=function(e){void 0===e&&(e="");var t=this,n=t.$wrapperEl,r=t.inverter,a=t.isHorizontal,o=100*t.monthsTranslate*r;n.transition(e).transform("translate3d("+(a?o:0)+"%, "+(a?0:o)+"%, 0)")},s.setYearMonth=function(e,t,n){var r,a=this,o=a.params,i=a.isHorizontal,s=a.$wrapperEl,l=a.inverter;if(void 0===e&&(e=a.currentYear),void 0===t&&(t=a.currentMonth),void 0!==n&&"object"!=typeof n||(n="",o.animate||(n=0)),r=e<a.currentYear?new Date(e,t+1,-1).getTime():new Date(e,t).getTime(),o.maxDate&&r>new Date(o.maxDate).getTime())return!1;if(o.minDate){var u=new Date(o.minDate);if(r<(u=new Date(u.getFullYear(),u.getMonth(),1)).getTime())return!1}var c=new Date(a.currentYear,a.currentMonth).getTime(),p=r>c?"next":"prev",d=a.renderMonth(new Date(e,t));a.monthsTranslate=a.monthsTranslate||0;var f,h=a.monthsTranslate,v=!a.animating&&0!==n;r>c?(a.monthsTranslate-=1,a.animating||a.$months.eq(a.$months.length-1).remove(),s.append(d),a.$months=s.find(".calendar-month"),f=100*-(h-1)*l,a.$months.eq(a.$months.length-1).transform("translate3d("+(i?f:0)+"%, "+(i?0:f)+"%, 0)").addClass("calendar-month-next")):(a.monthsTranslate+=1,a.animating||a.$months.eq(0).remove(),s.prepend(d),a.$months=s.find(".calendar-month"),f=100*-(h+1)*l,a.$months.eq(0).transform("translate3d("+(i?f:0)+"%, "+(i?0:f)+"%, 0)").addClass("calendar-month-prev")),a.emit("local::monthAdd calendarMonthAdd","next"===p?a.$months.eq(a.$months.length-1)[0]:a.$months.eq(0)[0]),a.animating=!0,a.onMonthChangeStart(p);var m=100*a.monthsTranslate*l;s.transition(n).transform("translate3d("+(i?m:0)+"%, "+(i?0:m)+"%, 0)"),v&&s.transitionEnd((function(){a.onMonthChangeEnd(p,!0)})),o.animate&&0!==n||a.onMonthChangeEnd(p,!0)},s.nextYear=function(){this.setYearMonth(this.currentYear+1)},s.prevYear=function(){this.setYearMonth(this.currentYear-1)},s.dateInRange=function(e,t){var n,r=!1;if(!t)return!1;if(Array.isArray(t))for(n=0;n<t.length;n+=1)t[n].from||t[n].to?t[n].from&&t[n].to?e<=new Date(t[n].to).getTime()&&e>=new Date(t[n].from).getTime()&&(r=!0):t[n].from?e>=new Date(t[n].from).getTime()&&(r=!0):t[n].to&&e<=new Date(t[n].to).getTime()&&(r=!0):t[n].date?e===new Date(t[n].date).getTime()&&(r=!0):e===new Date(t[n]).getTime()&&(r=!0);else t.from||t.to?t.from&&t.to?e<=new Date(t.to).getTime()&&e>=new Date(t.from).getTime()&&(r=!0):t.from?e>=new Date(t.from).getTime()&&(r=!0):t.to&&e<=new Date(t.to).getTime()&&(r=!0):t.date?r=e===new Date(t.date).getTime():"function"==typeof t&&(r=t(new Date(e)));return r},s.daysInMonth=function(e){var t=new Date(e);return new Date(t.getFullYear(),t.getMonth()+1,0).getDate()},s.renderMonths=function(e){var t=this;return t.params.renderMonths?t.params.renderMonths.call(t,e):Sf("div",{class:"calendar-months-wrapper"},t.renderMonth(e,"prev"),t.renderMonth(e),t.renderMonth(e,"next"))},s.renderMonth=function(e,t){var n=this,r=n.params,a=n.value;if(r.renderMonth)return r.renderMonth.call(n,e,t);var o=new Date(e),i=o.getFullYear(),s=o.getMonth(),l=n.monthNames.indexOf(n.monthFormatter(o));l<0&&(l=s);var u=n.yearFormatter(o);"next"===t&&(o=11===s?new Date(i+1,0):new Date(i,s+1,1)),"prev"===t&&(o=0===s?new Date(i-1,11):new Date(i,s-1,1)),"next"!==t&&"prev"!==t||(s=o.getMonth(),i=o.getFullYear(),(l=n.monthNames.indexOf(n.monthFormatter(o)))<0&&(l=s),u=n.yearFormatter(o));var c,p,d=[],f=(new Date).setHours(0,0,0,0),h=r.minDate?new Date(r.minDate).getTime():null,v=r.maxDate?new Date(r.maxDate).getTime():null,m=n.daysInMonth(new Date(o.getFullYear(),o.getMonth()).getTime()-864e6),g=n.daysInMonth(o),b=6===r.firstDay?0:1,y="",w=r.firstDay-1+0,x=new Date(o.getFullYear(),o.getMonth()).getDay();if(0===x&&(x=7),a&&a.length)for(var C=0;C<a.length;C+=1)d.push(new Date(a[C]).setHours(0,0,0,0));for(var E=1;E<=6;E+=1){for(var k="",S=function(e){var t=void 0,a=(w+=1)-x,o="";1===E&&1===e&&a>b&&1!==r.firstDay&&(a=(w-=7)-x);var l=e-1+r.firstDay>6?e-1-7+r.firstDay:e-1+r.firstDay;a<0?(a=m+a+1,o+=" calendar-day-prev",t=new Date(s-1<0?i-1:i,s-1<0?11:s-1,a).getTime()):(a+=1)>g?(a-=g,o+=" calendar-day-next",t=new Date(s+1>11?i+1:i,s+1>11?0:s+1,a).getTime()):t=new Date(i,s,a).getTime(),t===f&&(o+=" calendar-day-today"),r.rangePicker&&2===d.length?(t>=d[0]&&t<=d[1]&&(o+=" calendar-day-selected"),d[0]!==d[1]&&(t>d[0]&&t<d[1]&&(o+=" calendar-day-selected-range"),t===d[0]&&(o+=" calendar-day-selected-left"),t===d[1]&&(o+=" calendar-day-selected-right"))):d.indexOf(t)>=0&&(o+=" calendar-day-selected"),r.weekendDays.indexOf(l)>=0&&(o+=" calendar-day-weekend");var u="";if(p=!1,r.events&&n.dateInRange(t,r.events)&&(p=!0),p&&(o+=" calendar-day-has-events",u='\n            <span class="calendar-day-events">\n              <span class="calendar-day-event"></span>\n            </span>\n          ',Array.isArray(r.events))){var y=[];r.events.forEach((function(e){var r=e.color||"";y.indexOf(r)<0&&n.dateInRange(t,e)&&y.push(r)})),u='\n              <span class="calendar-day-events">\n                '+y.map((function(e){return('\n                  <span class="calendar-day-event" style="'+(e?"background-color: "+e:"")+'"></span>\n                ').trim()})).join("")+"\n              </span>\n            "}if(r.rangesClasses)for(var C=0;C<r.rangesClasses.length;C+=1)n.dateInRange(t,r.rangesClasses[C].range)&&(o+=" "+r.rangesClasses[C].cssClass);c=!1,(h&&t<h||v&&t>v)&&(c=!0),r.disabled&&n.dateInRange(t,r.disabled)&&(c=!0),c&&(o+=" calendar-day-disabled");var S=(t=new Date(t)).getFullYear(),T=t.getMonth(),O=n.dayFormatter(t);k+=('\n          <div data-year="'+S+'" data-month="'+T+'" data-day="'+a+'" class="calendar-day'+o+'" data-date="'+S+"-"+T+"-"+a+'">\n            <span class="calendar-day-number">'+O+u+"</span>\n          </div>").trim()},T=1;T<=7;T+=1)S(T);y+='<div class="calendar-row">'+k+"</div>"}return y='<div class="calendar-month" data-year="'+i+'" data-month="'+s+'" data-locale-year="'+u+'" data-locale-month="'+l+'">'+y+"</div>"},s.renderWeekHeader=function(){var e=this;if(e.params.renderWeekHeader)return e.params.renderWeekHeader.call(e);for(var t=e.params,n="",r=0;r<7;r+=1){var a=r+t.firstDay>6?r-7+t.firstDay:r+t.firstDay;n+='<div class="calendar-week-day">'+e.dayNamesShort[a]+"</div>"}return Sf("div",{class:"calendar-week-header"},n)},s.renderMonthSelector=function(){var e=this;return e.params.renderMonthSelector?e.params.renderMonthSelector.call(e):Sf("div",{class:"calendar-month-selector"},Sf("a",{class:"link icon-only calendar-prev-month-button"},Sf("i",{class:"icon icon-prev"})),e.params.monthPicker?Sf("a",{class:"current-month-value link"}):Sf("span",{class:"current-month-value"}),Sf("a",{class:"link icon-only calendar-next-month-button"},Sf("i",{class:"icon icon-next"})))},s.renderMonthPicker=function(){var e=parseInt(this.$el.find(".calendar-month-current").attr("data-locale-month"),10);return Sf("div",{class:"calendar-month-picker"},this.monthNames.map((function(t,n){return Sf("div",{class:"calendar-month-picker-item "+(e===n?"calendar-month-picker-item-current":"")},Sf("span",null,t))})))},s.renderYearSelector=function(){var e=this;return e.params.renderYearSelector?e.params.renderYearSelector.call(e):Sf("div",{class:"calendar-year-selector"},Sf("a",{class:"link icon-only calendar-prev-year-button"},Sf("i",{class:"icon icon-prev"})),e.params.yearPicker?Sf("a",{class:"current-year-value link"}):Sf("span",{class:"current-year-value"}),Sf("a",{class:"link icon-only calendar-next-year-button"},Sf("i",{class:"icon icon-next"})))},s.renderYearPicker=function(){var e=this,t=e.currentYear,n=e.params.yearPickerMin||(new Date).getFullYear()-100;e.params.minDate&&(n=Math.max(n,new Date(e.params.minDate).getFullYear()));var r=e.params.yearPickerMax||(new Date).getFullYear()+100;e.params.maxDate&&(r=Math.min(r,new Date(e.params.maxDate).getFullYear()));for(var a=[],o=n;o<=r;o+=1)a.push(o);return Sf("div",{class:"calendar-year-picker"},a.map((function(n){return Sf("div",{"data-year":n,class:"calendar-year-picker-item "+(n===t?"calendar-year-picker-item-current":"")},Sf("span",null,e.yearFormatter((new Date).setFullYear(n))))})))},s.renderTimeSelector=function(){var e,t=this,n=t.value&&t.value[0];return n&&(e=t.timeSelectorFormatter(n)),Sf("div",{class:"calendar-time-selector"},Sf("a",{class:"link"},e||t.params.timePickerPlaceholder))},s.renderHeader=function(){var e=this;return e.params.renderHeader?e.params.renderHeader.call(e):Sf("div",{class:"calendar-header"},Sf("div",{class:"calendar-selected-date"},e.params.headerPlaceholder))},s.renderFooter=function(){var e=this,t=e.app;return e.params.renderFooter?e.params.renderFooter.call(e):Sf("div",{class:"calendar-footer"},Sf("a",{class:("md"===t.theme?"button":"link")+" calendar-close sheet-close popover-close"},e.params.toolbarCloseText))},s.renderToolbar=function(){var e=this;return e.params.renderToolbar?e.params.renderToolbar.call(e,e):Sf("div",{class:"toolbar toolbar-top no-shadow"},Sf("div",{class:"toolbar-inner"},e.params.monthSelector?e.renderMonthSelector():"",e.params.yearSelector?e.renderYearSelector():""))},s.renderInline=function(){var e=this,t=e.params,n=t.cssClass,r=t.toolbar,a=t.header,o=t.footer,i=t.rangePicker,s=t.weekHeader,l=e.value,u=e.hasTimePicker,c=l&&l.length?l[0]:(new Date).setHours(0,0,0);return Sf("div",{class:"calendar calendar-inline "+(i?"calendar-range":"")+" "+(n||"")},a&&e.renderHeader(),r&&e.renderToolbar(),s&&e.renderWeekHeader(),Sf("div",{class:"calendar-months"},e.renderMonths(c)),u&&e.renderTimeSelector(),o&&e.renderFooter())},s.renderCustomModal=function(){var e=this,t=e.params,n=t.cssClass,r=t.toolbar,a=t.header,o=t.footer,i=t.rangePicker,s=t.weekHeader,l=e.value,u=e.hasTimePicker,c=l&&l.length?l[0]:(new Date).setHours(0,0,0);return Sf("div",{class:"calendar calendar-modal "+(i?"calendar-range":"")+" "+(n||"")},a&&e.renderHeader(),r&&e.renderToolbar(),s&&e.renderWeekHeader(),Sf("div",{class:"calendar-months"},e.renderMonths(c)),u&&e.renderTimeSelector(),o&&e.renderFooter())},s.renderSheet=function(){var e=this,t=e.params,n=t.cssClass,r=t.toolbar,a=t.header,o=t.footer,i=t.rangePicker,s=t.weekHeader,l=e.value,u=e.hasTimePicker,c=l&&l.length?l[0]:(new Date).setHours(0,0,0);return Sf("div",{class:"sheet-modal calendar calendar-sheet "+(i?"calendar-range":"")+" "+(n||"")},a&&e.renderHeader(),r&&e.renderToolbar(),s&&e.renderWeekHeader(),Sf("div",{class:"sheet-modal-inner calendar-months"},e.renderMonths(c)),u&&e.renderTimeSelector(),o&&e.renderFooter())},s.renderPopover=function(){var e=this,t=e.params,n=t.cssClass,r=t.toolbar,a=t.header,o=t.footer,i=t.rangePicker,s=t.weekHeader,l=e.value,u=e.hasTimePicker,c=l&&l.length?l[0]:(new Date).setHours(0,0,0);return Sf("div",{class:"popover calendar-popover"},Sf("div",{class:"popover-inner"},Sf("div",{class:"calendar "+(i?"calendar-range":"")+" "+(n||"")},a&&e.renderHeader(),r&&e.renderToolbar(),s&&e.renderWeekHeader(),Sf("div",{class:"calendar-months"},e.renderMonths(c)),u&&e.renderTimeSelector(),o&&e.renderFooter())))},s.render=function(){var e=this,t=e.params;if(t.render)return t.render.call(e);if(!e.inline){var n=t.openIn;return"auto"===n&&(n=e.isPopover()?"popover":"sheet"),"popover"===n?e.renderPopover():"sheet"===n?e.renderSheet():e.renderCustomModal()}return e.renderInline()},s.openTimePicker=function(){var e=this,t=e.$el,n=e.app,r=e.is12HoursFormat;if(t&&t.length){t.append('<div class="calendar-time-picker"></div>');for(var a,o=[],i=[],s=r?12:23,l=r?1:0;l<=s;l+=1)o.push(l);for(var u=0;u<=59;u+=1)i.push(u);a=e.value&&e.value.length?[e.value[0].getHours(),e.value[0].getMinutes()]:[(new Date).getHours(),(new Date).getMinutes()],r&&(a.push(a[0]<12?"AM":"PM"),a[0]>12&&(a[0]-=12),0===a[0]&&(a[0]=12)),e.timePickerInstance=n.picker.create({containerEl:t.find(".calendar-time-picker"),value:a,toolbar:!0,rotateEffect:!1,toolbarCloseText:e.params.toolbarCloseText,cols:[{values:o},{divider:!0,content:":"},{values:i,displayValues:i.map((function(e){return e<10?"0"+e:e}))}].concat(r?[{values:["AM","PM"]}]:[])}),e.timePickerInstance.$el.find(".toolbar a").removeClass("sheet-close popover-close").addClass("calendar-time-picker-close")}},s.closeTimePicker=function(){var e=this,t=e.is12HoursFormat;if(e.timePickerInstance){var n=e.timePickerInstance.value,r=parseInt(n[0],10),a=parseInt(n[1],10),o=e.timePickerInstance.value[2];t&&("AM"===o&&12===r?r=0:"PM"===o&&12!==r&&(r+=12));var i=e.value&&e.value.length&&e.value[0];i?(i=new Date(i)).setHours(r,a):(i=new Date).setHours(r,a,0,0),e.setValue([i]),e.timePickerInstance.close(),e.timePickerInstance.destroy(),delete e.timePickerInstance}e.$el&&e.$el.length&&e.$el.find(".calendar-time-picker").remove()},s.onOpen=function(){var e=this,t=e.initialized,n=e.$el,r=e.app,a=e.$inputEl,o=e.inline,i=e.value,s=e.params;e.closing=!1,e.opened=!0,e.opening=!0,e.attachCalendarEvents();var l=!i&&s.value;t?i&&e.setValue(i,0):i?e.setValue(i,0):s.value&&e.setValue(e.normalizeValues(s.value),0),e.updateCurrentMonthYear(),e.monthsTranslate=0,e.setMonthsTranslate(),l?e.updateValue():s.header&&i&&e.updateValue(!0),!o&&a&&a.length&&"md"===r.theme&&a.trigger("focus"),e.initialized=!0,e.$months.each((function(t){e.emit("local::monthAdd calendarMonthAdd",t)})),n&&n.trigger("calendar:open"),a&&a.trigger("calendar:open"),e.emit("local::open calendarOpen",e)},s.onOpened=function(){var e=this;e.opening=!1,e.$el&&e.$el.trigger("calendar:opened"),e.$inputEl&&e.$inputEl.trigger("calendar:opened"),e.emit("local::opened calendarOpened",e)},s.onClose=function(){var e=this,t=e.app;if(e.opening=!1,e.closing=!0,e.$inputEl)if("md"===t.theme)e.$inputEl.trigger("blur");else{var n=e.$inputEl.attr("validate"),r=e.$inputEl.attr("required");n&&r&&t.input.validate(e.$inputEl)}e.detachCalendarEvents&&e.detachCalendarEvents(),e.$el&&e.$el.trigger("calendar:close"),e.$inputEl&&e.$inputEl.trigger("calendar:close"),e.emit("local::close calendarClose",e)},s.onClosed=function(){var e=this;e.opened=!1,e.closing=!1,e.inline||_u((function(){e.modal&&e.modal.el&&e.modal.destroy&&(e.params.routableModals||e.modal.destroy()),delete e.modal})),e.timePickerInstance&&(e.timePickerInstance.destroy&&e.timePickerInstance.destroy(),delete e.timePickerInstance),e.$el&&e.$el.trigger("calendar:closed"),e.$inputEl&&e.$inputEl.trigger("calendar:closed"),e.emit("local::closed calendarClosed",e)},s.open=function(){var e=this,t=e.app,n=e.opened,r=e.inline,a=e.$inputEl,o=e.params;if(!n){if(r)return e.$el=Hp(e.render()),e.$el[0].f7Calendar=e,e.$wrapperEl=e.$el.find(".calendar-months-wrapper"),e.$months=e.$wrapperEl.find(".calendar-month"),e.$containerEl.append(e.$el),e.onOpen(),void e.onOpened();var i=o.openIn;"auto"===i&&(i=e.isPopover()?"popover":"sheet");var s,l=e.render(),u={targetEl:a,scrollToEl:o.scrollToInput?a:void 0,content:l,backdrop:!0===o.backdrop||"popover"===i&&!1!==t.params.popover.backdrop&&!1!==o.backdrop,closeByBackdropClick:o.closeByBackdropClick,on:{open:function(){var t=this;e.modal=t,e.$el="popover"===i?t.$el.find(".calendar"):t.$el,e.$wrapperEl=e.$el.find(".calendar-months-wrapper"),e.$months=e.$wrapperEl.find(".calendar-month"),e.$el[0].f7Calendar=e,"customModal"===i&&Hp(e.$el).find(".calendar-close").once("click",(function(){e.close()})),e.onOpen()},opened:function(){e.onOpened()},close:function(){e.onClose()},closed:function(){e.onClosed()}}};if("sheet"===i&&(u.push=o.sheetPush,u.swipeToClose=o.sheetSwipeToClose),o.routableModals&&e.view)e.view.router.navigate({url:e.url,route:(s={path:e.url},s[i]=u,s)});else e.modal=t[i].create(u),e.modal.open()}},s.close=function(){var e=this,t=e.opened,n=e.inline;if(t)return n?(e.onClose(),void e.onClosed()):void(e.params.routableModals&&e.view?e.view.router.back():e.modal.close())},s.init=function(){var e=this;if(e.initInput(),e.inline)return e.open(),void e.emit("local::init calendarInit",e);!e.initialized&&e.params.value&&e.setValue(e.normalizeValues(e.params.value)),e.$inputEl&&e.attachInputEvents(),e.params.closeByOutsideClick&&e.attachHtmlEvents(),e.emit("local::init calendarInit",e)},s.destroy=function(){var e=this;if(!e.destroyed){var t=e.$el;e.emit("local::beforeDestroy calendarBeforeDestroy",e),t&&t.trigger("calendar:beforedestroy"),e.close(),e.$inputEl&&e.detachInputEvents(),e.params.closeByOutsideClick&&e.detachHtmlEvents(),e.timePickerInstance&&(e.timePickerInstance.destroy&&e.timePickerInstance.destroy(),delete e.timePickerInstance),t&&t.length&&delete e.$el[0].f7Calendar,Iu(e),e.destroyed=!0}},a=r,o=[{key:"view",get:function(){var e,t=this.$inputEl,n=this.app,r=this.params;return r.view?e=r.view:t&&(e=t.parents(".view").length&&t.parents(".view")[0].f7View),e||(e=n.views.main),e}}],o&&bv(a.prototype,o),i&&bv(a,i),r}(nc),Cv=xv,Ev={name:"calendar",static:{Calendar:Cv},create:function(){var e=this;e.calendar=qp({defaultSelector:".calendar",constructor:Cv,app:e,domProp:"f7Calendar"}),e.calendar.close=function(e){void 0===e&&(e=".calendar");var t=Hp(e);if(0!==t.length){var n=t[0].f7Calendar;!n||n&&!n.opened||n.close()}}},params:{calendar:{dateFormat:void 0,monthNames:"auto",monthNamesShort:"auto",dayNames:"auto",dayNamesShort:"auto",locale:void 0,firstDay:1,weekendDays:[0,6],multiple:!1,rangePicker:!1,rangePickerMinDays:1,rangePickerMaxDays:0,direction:"horizontal",minDate:null,maxDate:null,disabled:null,events:null,rangesClasses:null,touchMove:!0,animate:!0,closeOnSelect:!1,monthSelector:!0,monthPicker:!0,yearSelector:!0,yearPicker:!0,yearPickerMin:void 0,yearPickerMax:void 0,timePicker:!1,timePickerFormat:{hour:"numeric",minute:"numeric"},timePickerPlaceholder:"Select time",weekHeader:!0,value:null,containerEl:null,openIn:"auto",sheetPush:!1,sheetSwipeToClose:void 0,formatValue:null,inputEl:null,inputReadOnly:!0,closeByOutsideClick:!0,scrollToInput:!0,header:!1,headerPlaceholder:"Select date",toolbar:!0,toolbarCloseText:"Done",footer:!1,cssClass:null,routableModals:!1,view:null,url:"date/",backdrop:null,closeByBackdropClick:!0,renderWeekHeader:null,renderMonths:null,renderMonth:null,renderMonthSelector:null,renderYearSelector:null,renderHeader:null,renderFooter:null,renderToolbar:null,renderInline:null,renderPopover:null,renderSheet:null,render:null}}};function kv(e,t){var n=this,r=n.app,a=Hp(e),o=a.index(),i=n.cols[o];if(!i.divider){var s,l,u,c,p;i.$el=a,i.el=a[0],i.$itemsEl=i.$el.find(".picker-items"),i.items=i.$itemsEl.find(".picker-item"),i.replaceValues=function(e,t){i.detachEvents(),i.values=e,i.displayValues=t,i.$itemsEl.html(n.renderColumn(i,!0)),i.items=i.$itemsEl.find(".picker-item"),i.calcSize(),i.setValue(i.values[0],0,!0),i.attachEvents()},i.calcSize=function(){n.params.rotateEffect&&(i.$el.removeClass("picker-column-absolute"),i.width||i.$el.css({width:""}));var e=0,t=i.$el[0].offsetHeight;s=i.items[0].offsetHeight,l=s*i.items.length,u=t/2-l+s/2,c=t/2-s/2,i.width&&(e=i.width,parseInt(e,10)===e&&(e+="px"),i.$el.css({width:e})),n.params.rotateEffect&&(i.width||(i.items.each((function(t){var n=Hp(t).children("span");e=Math.max(e,n[0].offsetWidth)})),i.$el.css({width:e+2+"px"})),i.$el.addClass("picker-column-absolute"))},i.setValue=function(e,t,r){void 0===t&&(t="");var a=i.$itemsEl.find('.picker-item[data-picker-value="'+e+'"]').index();if(void 0!==a&&-1!==a){var o=-a*s+c;i.$itemsEl.transition(t),i.$itemsEl.transform("translate3d(0,"+o+"px,0)"),n.params.updateValuesOnMomentum&&i.activeIndex&&i.activeIndex!==a&&(cancelAnimationFrame(p),i.$itemsEl.transitionEnd((function(){cancelAnimationFrame(p)})),S()),i.updateItems(a,o,t,r)}},i.updateItems=function(e,t,r,a){void 0===t&&(t=Du(i.$itemsEl[0],"y")),void 0===e&&(e=-Math.round((t-c)/s)),e<0&&(e=0),e>=i.items.length&&(e=i.items.length-1);var o=i.activeIndex;i.activeIndex=e,i.$itemsEl.find(".picker-item-selected").removeClass("picker-item-selected"),i.items.transition(r);var l=i.items.eq(e).addClass("picker-item-selected").transform("");n.params.rotateEffect&&i.items.each((function(e){var r=Hp(e),a=(r.index()*s-(c-t))/s,o=Math.ceil(i.height/s/2)+1,l=-18*a;l>180&&(l=180),l<-180&&(l=-180),Math.abs(a)>o?r.addClass("picker-item-far"):r.removeClass("picker-item-far"),r.transform("translate3d(0, "+(-t+c)+"px, "+(n.needsOriginFix?-110:0)+"px) rotateX("+l+"deg)")})),(a||void 0===a)&&(i.value=l.attr("data-picker-value"),i.displayValue=i.displayValues?i.displayValues[e]:i.value,o!==e&&(i.onChange&&i.onChange(n,i.value,i.displayValue),n.updateValue()))};var d,f,h,v,m,g,b,y,w,x,C,E=!0,k=!!Yu().passiveListener&&{passive:!1,capture:!1};i.attachEvents=function(){i.$el.on(r.touchEvents.start,T,k),r.on("touchmove:active",O),r.on("touchend:passive",I),n.params.mousewheel&&i.$el.on("wheel",N),i.items.on("click",A)},i.detachEvents=function(){i.$el.off(r.touchEvents.start,T,k),r.off("touchmove:active",O),r.off("touchend:passive",I),n.params.mousewheel&&i.$el.off("wheel",N),i.items.off("click",A)},i.init=function(){i.calcSize(),i.$itemsEl.transform("translate3d(0,"+c+"px,0)").transition(0),0===o&&i.$el.addClass("picker-column-first"),o===n.cols.length-1&&i.$el.addClass("picker-column-last"),t&&i.updateItems(0,c,0),i.attachEvents()},i.destroy=function(){i.detachEvents()},i.init()}function S(){p=Nu((function(){i.updateItems(void 0,void 0,0),S()}))}function T(e){f||d||(e.preventDefault(),d=!0,h="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,v=h,m=(new Date).getTime(),E=!0,g=Du(i.$itemsEl[0],"y"),y=g)}function O(e){d&&(e.preventDefault(),E=!1,v="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,f||(cancelAnimationFrame(p),f=!0,g=Du(i.$itemsEl[0],"y"),y=g,i.$itemsEl.transition(0)),b=void 0,(y=g+(v-h))<u&&(y=u-Math.pow(u-y,.8),b="min"),y>c&&(y=c+Math.pow(y-c,.8),b="max"),i.$itemsEl.transform("translate3d(0,"+y+"px,0)"),i.updateItems(void 0,y,0,n.params.updateValuesOnTouchmove),x=y-w||y,w=y)}function I(){if(!d||!f)return d=!1,void(f=!1);var e;d=!1,f=!1,i.$itemsEl.transition(""),b&&("min"===b?i.$itemsEl.transform("translate3d(0,"+u+"px,0)"):i.$itemsEl.transform("translate3d(0,"+c+"px,0)")),e=(new Date).getTime()-m>300?y:y+x*n.params.momentumRatio,e=Math.max(Math.min(e,c),u);var t=Math.round(Math.abs((e-c)/s));n.params.freeMode||(e=-t*s+c),i.$itemsEl.transform("translate3d(0,"+parseInt(e,10)+"px,0)"),i.updateItems(t,e,"",!0),n.params.updateValuesOnMomentum&&(S(),i.$itemsEl.transitionEnd((function(){cancelAnimationFrame(p)}))),setTimeout((function(){E=!0}),100)}function N(e){var t=e.deltaX,r=e.deltaY;Math.abs(t)>Math.abs(r)||(clearTimeout(C),e.preventDefault(),cancelAnimationFrame(p),g=Du(i.$itemsEl[0],"y"),i.$itemsEl.transition(0),b=void 0,(y=g-r)<u&&(y=u,b="min"),y>c&&(y=c,b="max"),i.$itemsEl.transform("translate3d(0,"+y+"px,0)"),i.updateItems(void 0,y,0,n.params.updateValuesOnMousewheel),C=setTimeout((function(){i.$itemsEl.transition(""),b&&("min"===b?i.$itemsEl.transform("translate3d(0,"+u+"px,0)"):i.$itemsEl.transform("translate3d(0,"+c+"px,0)")),(new Date).getTime();var e=y;e=Math.max(Math.min(e,c),u);var t=Math.round(Math.abs((e-c)/s));n.params.freeMode||(e=-t*s+c),i.$itemsEl.transform("translate3d(0,"+parseInt(e,10)+"px,0)"),i.updateItems(t,e,"",!0)}),200))}function A(){if(E){cancelAnimationFrame(p);var e=Hp(this).attr("data-picker-value");i.setValue(e)}}}function Sv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ov(e,t){return Ov=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ov(e,t)}var Iv=function(e){var t,n;function r(t,n){var r;void 0===n&&(n={});var a,o,i=Tv(r=e.call(this,n,[t])||this),s=Ku(),l=bu();if(i.params=Fu({},t.params.picker,n),i.params.containerEl&&0===(a=Hp(i.params.containerEl)).length)return i||Tv(r);i.params.inputEl&&(o=Hp(i.params.inputEl));var u=i.params.scrollToInput?o:void 0;if(i.params.scrollToEl){var c=Hp(i.params.scrollToEl);c.length>0&&(u=c)}function p(){i.resizeCols()}function d(){i.open()}function f(e){e.preventDefault()}Fu(i,{app:t,$containerEl:a,containerEl:a&&a[0],inline:a&&a.length>0,needsOriginFix:s.ios||l.navigator.userAgent.toLowerCase().indexOf("safari")>=0&&l.navigator.userAgent.toLowerCase().indexOf("chrome")<0&&!s.android,cols:[],$inputEl:o,inputEl:o&&o[0],$scrollToEl:u,initialized:!1,opened:!1,url:i.params.url});var h=null;function v(e){h=e.target}function m(e){if(!i.destroyed&&i.params){var t=Hp(e.target);i.isPopover()||i.opened&&!i.closing&&(t.closest('[class*="backdrop"]').length||(o&&o.length>0?h===e.target&&t[0]!==o[0]&&0===t.closest(".sheet-modal").length&&i.close():0===Hp(e.target).closest(".sheet-modal").length&&i.close()))}}return Fu(i,{attachResizeEvent:function(){t.on("resize",p)},detachResizeEvent:function(){t.off("resize",p)},attachInputEvents:function(){i.$inputEl.on("click",d),i.params.inputReadOnly&&(i.$inputEl.on("focus mousedown",f),i.$inputEl[0]&&(i.$inputEl[0].f7ValidateReadonly=!0))},detachInputEvents:function(){i.$inputEl.off("click",d),i.params.inputReadOnly&&(i.$inputEl.off("focus mousedown",f),i.$inputEl[0]&&delete i.$inputEl[0].f7ValidateReadonly)},attachHtmlEvents:function(){t.on("click",m),t.on("touchstart",v)},detachHtmlEvents:function(){t.off("click",m),t.off("touchstart",v)}}),i.init(),i||Tv(r)}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Ov(t,n);var a,o,i,s=r.prototype;return s.initInput=function(){var e=this;e.$inputEl&&e.params.inputReadOnly&&e.$inputEl.prop("readOnly",!0)},s.resizeCols=function(){var e=this;if(e.opened)for(var t=0;t<e.cols.length;t+=1)e.cols[t].divider||(e.cols[t].calcSize(),e.cols[t].setValue(e.cols[t].value,0,!1))},s.isPopover=function(){var e=this,t=e.app,n=e.modal,r=e.params,a=Ku();if("sheet"===r.openIn)return!1;if(n&&"popover"!==n.type)return!1;if(!e.inline&&e.inputEl){if("popover"===r.openIn)return!0;if(a.ios)return!!a.ipad;if(t.width>=768)return!0;if(a.desktop&&"aurora"===t.theme)return!0}return!1},s.formatValue=function(){var e=this,t=e.value,n=e.displayValue;return e.params.formatValue?e.params.formatValue.call(e,t,n):t.join(" ")},s.setValue=function(e,t){var n=this,r=0;if(0===n.cols.length)return n.value=e,void n.updateValue(e);for(var a=0;a<n.cols.length;a+=1)n.cols[a]&&!n.cols[a].divider&&(n.cols[a].setValue(e[r],t),r+=1)},s.getValue=function(){return this.value},s.updateValue=function(e){var t,n=this,r=e||[],a=[];if(0===n.cols.length)for(var o=n.params.cols.filter((function(e){return!e.divider})),i=0;i<o.length;i+=1)void 0!==(t=o[i]).displayValues&&void 0!==t.values&&-1!==t.values.indexOf(r[i])?a.push(t.displayValues[t.values.indexOf(r[i])]):a.push(r[i]);else for(var s=0;s<n.cols.length;s+=1)n.cols[s].divider||(r.push(n.cols[s].value),a.push(n.cols[s].displayValue));r.indexOf(void 0)>=0||(n.value=r,n.displayValue=a,n.emit("local::change pickerChange",n,n.value,n.displayValue),n.inputEl&&(n.$inputEl.val(n.formatValue()),n.$inputEl.trigger("change")))},s.initColumn=function(e,t){kv.call(this,e,t)},s.destroyColumn=function(e){var t=this,n=Hp(e).index();t.cols[n]&&t.cols[n].destroy&&t.cols[n].destroy()},s.renderToolbar=function(){var e=this;return e.params.renderToolbar?e.params.renderToolbar.call(e,e):Sf("div",{class:"toolbar toolbar-top no-shadow"},Sf("div",{class:"toolbar-inner"},Sf("div",{class:"left"}),Sf("div",{class:"right"},Sf("a",{class:"link sheet-close popover-close"},e.params.toolbarCloseText))))},s.renderColumn=function(e,t){var n,r,a="picker-column "+(e.textAlign?"picker-column-"+e.textAlign:"")+" "+(e.cssClass||"");return e.divider?n='\n        <div class="'+a+' picker-column-divider">'+e.content+"</div>\n      ":(r=e.values.map((function(t,n){return'\n        <div class="picker-item" data-picker-value="'+t+'">\n          <span>'+(e.displayValues?e.displayValues[n]:t)+"</span>\n        </div>\n      "})).join(""),n='\n        <div class="'+a+'">\n          <div class="picker-items">'+r+"</div>\n        </div>\n      "),t?r.trim():n.trim()},s.renderInline=function(){var e=this,t=e.params,n=t.rotateEffect,r=t.cssClass,a=t.toolbar,o=Sf("div",{class:"picker picker-inline "+(n?"picker-3d":"")+" "+(r||"")},a&&e.renderToolbar(),Sf("div",{class:"picker-columns"},e.cols.map((function(t){return e.renderColumn(t)})),Sf("div",{class:"picker-center-highlight"})));return o},s.renderSheet=function(){var e=this,t=e.params,n=t.rotateEffect,r=t.cssClass,a=t.toolbar,o=Sf("div",{class:"sheet-modal picker picker-sheet "+(n?"picker-3d":"")+" "+(r||"")},a&&e.renderToolbar(),Sf("div",{class:"sheet-modal-inner picker-columns"},e.cols.map((function(t){return e.renderColumn(t)})),Sf("div",{class:"picker-center-highlight"})));return o},s.renderPopover=function(){var e=this,t=e.params,n=t.rotateEffect,r=t.cssClass,a=t.toolbar,o=Sf("div",{class:"popover picker-popover"},Sf("div",{class:"popover-inner"},Sf("div",{class:"picker "+(n?"picker-3d":"")+" "+(r||"")},a&&e.renderToolbar(),Sf("div",{class:"picker-columns"},e.cols.map((function(t){return e.renderColumn(t)})),Sf("div",{class:"picker-center-highlight"})))));return o},s.render=function(){var e=this;return e.params.render?e.params.render.call(e):e.inline?e.renderInline():e.isPopover()?e.renderPopover():e.renderSheet()},s.onOpen=function(){var e=this,t=e.initialized,n=e.$el,r=e.app,a=e.$inputEl,o=e.inline,i=e.value,s=e.params;e.opened=!0,e.closing=!1,e.opening=!0,e.attachResizeEvent(),n.find(".picker-column").each((function(n){var r=!0;(!t&&s.value||t&&i)&&(r=!1),e.initColumn(n,r)})),t?i&&e.setValue(i,0):i?e.setValue(i,0):s.value&&e.setValue(s.value,0),!o&&a&&a.length&&"md"===r.theme&&a.trigger("focus"),e.initialized=!0,n&&n.trigger("picker:open"),a&&a.trigger("picker:open"),e.emit("local::open pickerOpen",e)},s.onOpened=function(){var e=this;e.opening=!1,e.$el&&e.$el.trigger("picker:opened"),e.$inputEl&&e.$inputEl.trigger("picker:opened"),e.emit("local::opened pickerOpened",e)},s.onClose=function(){var e=this,t=e.app;if(e.opening=!1,e.closing=!0,e.detachResizeEvent(),e.cols.forEach((function(e){e.destroy&&e.destroy()})),e.$inputEl)if("md"===t.theme)e.$inputEl.trigger("blur");else{var n=e.$inputEl.attr("validate"),r=e.$inputEl.attr("required");n&&r&&t.input.validate(e.$inputEl)}e.$el&&e.$el.trigger("picker:close"),e.$inputEl&&e.$inputEl.trigger("picker:close"),e.emit("local::close pickerClose",e)},s.onClosed=function(){var e=this;e.opened=!1,e.closing=!1,e.inline||_u((function(){e.modal&&e.modal.el&&e.modal.destroy&&(e.params.routableModals||e.modal.destroy()),delete e.modal})),e.$el&&e.$el.trigger("picker:closed"),e.$inputEl&&e.$inputEl.trigger("picker:closed"),e.emit("local::closed pickerClosed",e)},s.open=function(){var e=this,t=e.app,n=e.opened,r=e.inline,a=e.$inputEl,o=e.$scrollToEl,i=e.params;if(!n){if(0===e.cols.length&&i.cols.length&&i.cols.forEach((function(t){e.cols.push(t)})),r)return e.$el=Hp(e.render()),e.$el[0].f7Picker=e,e.$containerEl.append(e.$el),e.onOpen(),void e.onOpened();var s,l=e.isPopover(),u=l?"popover":"sheet",c={targetEl:a,scrollToEl:o,content:e.render(),backdrop:void 0!==i.backdrop?i.backdrop:l,on:{open:function(){var t=this;e.modal=t,e.$el=l?t.$el.find(".picker"):t.$el,e.$el[0].f7Picker=e,e.onOpen()},opened:function(){e.onOpened()},close:function(){e.onClose()},closed:function(){e.onClosed()}}};if("sheet"===u&&(c.push=i.sheetPush,c.swipeToClose=i.sheetSwipeToClose),i.routableModals&&e.view)e.view.router.navigate({url:e.url,route:(s={path:e.url},s[u]=c,s)});else e.modal=t[u].create(c),e.modal.open()}},s.close=function(){var e=this,t=e.opened,n=e.inline;if(t)return n?(e.onClose(),void e.onClosed()):void(e.params.routableModals&&e.view?e.view.router.back():e.modal.close())},s.init=function(){var e=this;if(e.initInput(),e.inline)return e.open(),void e.emit("local::init pickerInit",e);!e.initialized&&e.params.value&&e.setValue(e.params.value),e.$inputEl&&e.attachInputEvents(),e.params.closeByOutsideClick&&e.attachHtmlEvents(),e.emit("local::init pickerInit",e)},s.destroy=function(){var e=this;if(!e.destroyed){var t=e.$el;e.emit("local::beforeDestroy pickerBeforeDestroy",e),t&&t.trigger("picker:beforedestroy"),e.close(),e.$inputEl&&e.detachInputEvents(),e.params.closeByOutsideClick&&e.detachHtmlEvents(),t&&t.length&&delete e.$el[0].f7Picker,Iu(e),e.destroyed=!0}},a=r,o=[{key:"view",get:function(){var e,t=this.app,n=this.params,r=this.$inputEl;return n.view?e=n.view:r&&(e=r.parents(".view").length&&r.parents(".view")[0].f7View),e||(e=t.views.main),e}}],o&&Sv(a.prototype,o),i&&Sv(a,i),r}(nc),Nv=Iv,Av={name:"picker",static:{Picker:Nv},create:function(){var e=this;e.picker=qp({defaultSelector:".picker",constructor:Nv,app:e,domProp:"f7Picker"}),e.picker.close=function(e){void 0===e&&(e=".picker");var t=Hp(e);if(0!==t.length){var n=t[0].f7Picker;!n||n&&!n.opened||n.close()}}},params:{picker:{updateValuesOnMomentum:!1,updateValuesOnTouchmove:!0,updateValuesOnMousewheel:!0,mousewheel:!0,rotateEffect:!1,momentumRatio:7,freeMode:!1,cols:[],containerEl:null,openIn:"auto",sheetPush:!1,sheetSwipeToClose:void 0,backdrop:void 0,formatValue:null,inputEl:null,inputReadOnly:!0,closeByOutsideClick:!0,scrollToInput:!0,scrollToEl:void 0,toolbar:!0,toolbarCloseText:"Done",cssClass:null,routableModals:!1,view:null,url:"select/",renderToolbar:null,render:null}}},_v={handle:function(e,t){var n,r=Hp(e),a=r[0].scrollTop,o=r[0].scrollHeight,i=r[0].offsetHeight,s=r[0].getAttribute("data-infinite-distance"),l=r.find(".virtual-list"),u=r.hasClass("infinite-scroll-top");if(s||(s=50),"string"==typeof s&&s.indexOf("%")>=0&&(s=parseInt(s,10)/100*i),s>i&&(s=i),u)a<s&&(r.trigger("infinite",t),this.emit("infinite",r[0],t));else if(a+i>=o-s){if(l.length>0&&(n=l.eq(-1)[0].f7VirtualList)&&!n.reachEnd&&!n.params.updatableScroll)return;r.trigger("infinite",t),this.emit("infinite",r[0],t)}},create:function(e){var t=Hp(e),n=this;function r(e){n.infiniteScroll.handle(this,e)}t.each((function(e){e.f7InfiniteScrollHandler=r,e.addEventListener("scroll",e.f7InfiniteScrollHandler)}))},destroy:function(e){Hp(e).each((function(e){e.removeEventListener("scroll",e.f7InfiniteScrollHandler),delete e.f7InfiniteScrollHandler}))}},Rv={name:"infiniteScroll",create:function(){Gu(this,{infiniteScroll:_v})},on:{tabMounted:function(e){var t=this,n=Hp(e),r=n.find(".infinite-scroll-content");n.is(".infinite-scroll-content")&&r.add(n),r.each((function(e){t.infiniteScroll.create(e)}))},tabBeforeRemove:function(e){var t=Hp(e),n=this,r=t.find(".infinite-scroll-content");t.is(".infinite-scroll-content")&&r.add(t),r.each((function(e){n.infiniteScroll.destroy(e)}))},pageInit:function(e){var t=this;e.$el.find(".infinite-scroll-content").each((function(e){t.infiniteScroll.create(e)}))},pageBeforeRemove:function(e){var t=this;e.$el.find(".infinite-scroll-content").each((function(e){t.infiniteScroll.destroy(e)}))}}};function Mv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pv(e,t){return Pv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Pv(e,t)}var Dv=function(e){var t,n;function r(t,n){var r,a=Mv(r=e.call(this,{},[t])||this),o=Ku(),i=Yu(),s=Hp(n),l=s.find(".ptr-preloader");a.$el=s,a.el=s[0],a.app=t,a.bottom=a.$el.hasClass("ptr-bottom"),a.useModulesParams({});var u,c,p,d="md"===t.theme,f="ios"===t.theme,h="aurora"===t.theme;a.done=function(){var e=d?l:s;return e.on("transitionend",(function t(n){Hp(n.target).closest(l).length||(s.removeClass("ptr-transitioning ptr-pull-up ptr-pull-down ptr-closing"),s.trigger("ptr:done"),a.emit("local::done ptrDone",s[0]),e.off("transitionend",t))})),s.removeClass("ptr-refreshing").addClass("ptr-transitioning ptr-closing"),a},a.refresh=function(){return s.hasClass("ptr-refreshing")||(s.addClass("ptr-transitioning ptr-refreshing"),s.trigger("ptr:refresh",a.done),a.emit("local::refresh ptrRefresh",s[0],a.done)),a},a.mousewheel="true"===s.attr("data-ptr-mousewheel");var v,m,g,b,y,w,x,C,E,k,S,T,O,I={},N=!1,A=!1,_=!1,R=0,M=!1,P=s.parents(".page");if((P.find(".navbar").length>0||P.parents(".view").children(".navbars").length>0)&&(M=!0),P.hasClass("no-navbar")&&(M=!1),!a.bottom){var D=t.navbar.getElByPage(P[0]);if(D){var B=Hp(D),L=B.hasClass("navbar-large-transparent")||B.hasClass("navbar-large")&&B.hasClass("navbar-transparent"),z=B.hasClass("navbar-transparent")&&!B.hasClass("navbar-large");L?s.addClass("ptr-with-navbar-large-transparent"):z&&s.addClass("ptr-with-navbar-transparent")}}function F(e){void 0===e&&(e=0);var t=l.find(".preloader-inner-line"),n=1/t.length;t.forEach((function(t,r){var a=(e-r*n)/n;t.style.opacity=.27*Math.max(Math.min(a,1),0)}))}function $(){l.find(".preloader-inner-line").css("opacity","")}function V(e){if(c){if("android"!==o.os)return;if("targetTouches"in e&&e.targetTouches.length>1)return}s.hasClass("ptr-refreshing")||Hp(e.target).closest(".sortable-handler, .ptr-ignore, .card-expandable.card-opened").length||(p=!1,C=!1,c=!0,v=void 0,y=void 0,"touchstart"===e.type&&(u=e.targetTouches[0].identifier),I.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,I.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY)}function j(e){if(c){var t,r,i;if("touchmove"===e.type){if(u&&e.touches)for(var h=0;h<e.touches.length;h+=1)e.touches[h].identifier===u&&(i=e.touches[h]);i||(i=e.targetTouches[0]),t=i.pageX,r=i.pageY}else t=e.pageX,r=e.pageY;if(t&&r)if(void 0===v&&(v=!!(v||Math.abs(r-I.y)>Math.abs(t-I.x))),v){if(b=s[0].scrollTop,!p){var T;if(s.removeClass("ptr-transitioning"),f&&F(0),E=s[0].scrollHeight,k=s[0].offsetHeight,a.bottom&&(S=E-k),b>E)return void(c=!1);var O=Hp(e.target).closest(".ptr-watch-scroll");if(O.length&&O.each((function(e){e!==n&&e.scrollHeight>e.offsetHeight&&"auto"===Hp(e).css("overflow")&&(!a.bottom&&e.scrollTop>0||a.bottom&&e.scrollTop<e.scrollHeight-e.offsetHeight)&&(T=!0)})),T)return void(c=!1);x&&(w=s.attr("data-ptr-distance")).indexOf("%")>=0&&(w=E*parseInt(w,10)/100),R=s.hasClass("ptr-refreshing")?w:0,A=!(E!==k&&"ios"===o.os&&!d),_=!1}if(p=!0,m=r-I.y,void 0===y&&(a.bottom?b!==S:0!==b)&&(y=!0),a.bottom?m<0&&b>=S||b>S:m>0&&b<=0||b<0)"ios"===o.os&&parseInt(o.osVersion.split(".")[0],10)>7&&(a.bottom||0!==b||y||(A=!0),a.bottom&&b===S&&!y&&(A=!0)),A||!a.bottom||d||(s.css("-webkit-overflow-scrolling","auto"),s.scrollTop(S),_=!0),A||_?(e.cancelable&&e.preventDefault(),g=(a.bottom?-1*Math.pow(Math.abs(m),.85):Math.pow(m,.85))+R,d?l.transform("translate3d(0,"+g+"px,0)").find(".ptr-arrow").transform("rotate("+(Math.abs(m)/66*180+100)+"deg)"):(a.bottom||f?s.children().transform("translate3d(0,"+g+"px,0)"):s.transform("translate3d(0,"+g+"px,0)"),f&&l.transform("translate3d(0,0px,0)"))):f&&!a.bottom&&l.transform("translate3d(0,"+b+"px,0)"),f&&!N&&F(A||_?Math.pow(Math.abs(m),.85)/w:Math.abs(m)/(2*w)),(A||_)&&Math.pow(Math.abs(m),.85)>w||!A&&Math.abs(m)>=2*w?(N=!0,s.addClass("ptr-pull-up").removeClass("ptr-pull-down"),$()):(N=!1,s.removeClass("ptr-pull-up").addClass("ptr-pull-down")),C||(s.trigger("ptr:pullstart"),a.emit("local::pullStart ptrPullStart",s[0]),C=!0),s.trigger("ptr:pullmove",{event:e,scrollTop:b,translate:g,touchesDiff:m}),a.emit("local::pullMove ptrPullMove",s[0],{event:e,scrollTop:b,translate:g,touchesDiff:m});else C=!1,s.removeClass("ptr-pull-up ptr-pull-down"),N=!1}else c=!1}}function H(e){return"touchend"===e.type&&e.changedTouches&&e.changedTouches.length>0&&u&&e.changedTouches[0].identifier!==u?(c=!1,v=!1,p=!1,void(u=null)):c&&p?(g&&(s.addClass("ptr-transitioning"),g=0),d?l.transform("").find(".ptr-arrow").transform(""):(l.transform(""),a.bottom||f?s.children().transform(""):s.transform("")),A||!a.bottom||d||s.css("-webkit-overflow-scrolling",""),N?(s.addClass("ptr-refreshing"),s.trigger("ptr:refresh",a.done),a.emit("local::refresh ptrRefresh",s[0],a.done)):s.removeClass("ptr-pull-down"),c=!1,p=!1,void(C&&(s.trigger("ptr:pullend"),a.emit("local::pullEnd ptrPullEnd",s[0])))):(c=!1,void(p=!1))}M||a.bottom||s.addClass("ptr-no-navbar"),s.attr("data-ptr-distance")?x=!0:d?w=66:f?w=44:h&&(w=38);var W=!0,U=0;function q(){W=!0,O=!1,U=0,g&&(s.addClass("ptr-transitioning"),g=0),d?l.transform("").find(".ptr-arrow").transform(""):(l.transform(""),a.bottom?s.children().transform(""):s.transform("")),N?(s.addClass("ptr-refreshing"),s.trigger("ptr:refresh",a.done),a.emit("local::refresh ptrRefresh",s[0],a.done)):s.removeClass("ptr-pull-down"),C&&(s.trigger("ptr:pullend"),a.emit("local::pullEnd ptrPullEnd",s[0]))}function G(e){if(W){var t=e.deltaX,r=e.deltaY;if(!(Math.abs(t)>Math.abs(r)||s.hasClass("ptr-refreshing")||Hp(e.target).closest(".sortable-handler, .ptr-ignore, .card-expandable.card-opened").length)){if(clearTimeout(T),b=s[0].scrollTop,!O){var o;if(s.removeClass("ptr-transitioning"),f&&F(0),E=s[0].scrollHeight,k=s[0].offsetHeight,a.bottom&&(S=E-k),b>E)return void(W=!1);var i=Hp(e.target).closest(".ptr-watch-scroll");if(i.length&&i.each((function(e){e!==n&&e.scrollHeight>e.offsetHeight&&"auto"===Hp(e).css("overflow")&&(!a.bottom&&e.scrollTop>0||a.bottom&&e.scrollTop<e.scrollHeight-e.offsetHeight)&&(o=!0)})),o)return void(W=!1);x&&(w=s.attr("data-ptr-distance")).indexOf("%")>=0&&(w=E*parseInt(w,10)/100)}if(p=!0,m=U-=r,void 0===y&&(a.bottom?b!==S:0!==b)&&(y=!0),a.bottom?m<0&&b>=S||b>S:m>0&&b<=0||b<0)e.cancelable&&e.preventDefault(),g=m,Math.abs(g)>w&&(g=w+Math.pow(Math.abs(g)-w,.7),a.bottom&&(g=-g)),d?l.transform("translate3d(0,"+g+"px,0)").find(".ptr-arrow").transform("rotate("+(Math.abs(m)/66*180+100)+"deg)"):a.bottom?s.children().transform("translate3d(0,"+g+"px,0)"):(s.transform("translate3d(0,"+g+"px,0)"),f&&l.transform("translate3d(0,"+-g+"px,0)")),f&&!N&&F(Math.abs(g)/w),Math.abs(g)>w?(N=!0,s.addClass("ptr-pull-up").removeClass("ptr-pull-down"),$()):(N=!1,s.removeClass("ptr-pull-up").addClass("ptr-pull-down")),C||(s.trigger("ptr:pullstart"),a.emit("local::pullStart ptrPullStart",s[0]),C=!0),s.trigger("ptr:pullmove",{event:e,scrollTop:b,translate:g,touchesDiff:m}),a.emit("local::pullMove ptrPullMove",s[0],{event:e,scrollTop:b,translate:g,touchesDiff:m});else C=!1,s.removeClass("ptr-pull-up ptr-pull-down"),N=!1;T=setTimeout(q,300)}}}return P.length&&s.length?(s[0].f7PullToRefresh=a,a.attachEvents=function(){var e=!!i.passiveListener&&{passive:!0};s.on(t.touchEvents.start,V,e),t.on("touchmove:active",j),t.on("touchend:passive",H),a.mousewheel&&!a.bottom&&s.on("wheel",G)},a.detachEvents=function(){var e=!!i.passiveListener&&{passive:!0};s.off(t.touchEvents.start,V,e),t.off("touchmove:active",j),t.off("touchend:passive",H),a.mousewheel&&!a.bottom&&s.off("wheel",G)},a.useModules(),a.init(),a||Mv(r)):a||Mv(r)}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Pv(t,n);var a=r.prototype;return a.init=function(){this.attachEvents()},a.destroy=function(){var e=this;e.emit("local::beforeDestroy ptrBeforeDestroy",e),e.$el.trigger("ptr:beforedestroy"),delete e.el.f7PullToRefresh,e.detachEvents(),Iu(e),e=null},r}(nc),Bv=Dv,Lv={name:"pullToRefresh",create:function(){var e=this;e.ptr=Fu(qp({defaultSelector:".ptr-content",constructor:Bv,app:e,domProp:"f7PullToRefresh"}),{done:function(t){var n=e.ptr.get(t);if(n)return n.done()},refresh:function(t){var n=e.ptr.get(t);if(n)return n.refresh()}})},static:{PullToRefresh:Bv},on:{tabMounted:function(e){var t=this,n=Hp(e),r=n.find(".ptr-content");n.is(".ptr-content")&&r.add(n),r.each((function(e){t.ptr.create(e)}))},tabBeforeRemove:function(e){var t=Hp(e),n=this,r=t.find(".ptr-content");t.is(".ptr-content")&&r.add(t),r.each((function(e){n.ptr.destroy(e)}))},pageInit:function(e){var t=this;e.$el.find(".ptr-content").each((function(e){t.ptr.create(e)}))},pageBeforeRemove:function(e){var t=this;e.$el.find(".ptr-content").each((function(e){t.ptr.destroy(e)}))}}},zv={destroy:function(e){var t=Hp(e).closest(".page");t.length&&t[0].f7LazyDestroy&&t[0].f7LazyDestroy()},create:function(e){var t=this,n=bu(),r=Yu(),a=Hp(e).closest(".page").eq(0),o=a.find(".lazy");if(0!==o.length||a.hasClass("lazy")){var i=t.params.lazy.placeholder;!1!==i&&o.each((function(e){Hp(e).attr("data-src")&&!Hp(e).attr("src")&&Hp(e).attr("src",i)}));var s=[],l=!1;if(t.params.lazy.observer&&r.intersectionObserver){var u=a[0].f7LazyObserver;return u||(u=new n.IntersectionObserver((function(e,n){e.forEach((function(e){if(e.isIntersecting){if(t.params.lazy.sequential&&l)return void(s.indexOf(e.target)<0&&s.push(e.target));l=!0,t.lazy.loadImage(e.target,c),n.unobserve(e.target)}}))}),{root:a[0]})),o.each((function(e){e.f7LazyObserverAdded||(e.f7LazyObserverAdded=!0,u.observe(e))})),void(a[0].f7LazyDestroy||(a[0].f7LazyDestroy=function(){u.disconnect(),delete a[0].f7LazyDestroy,delete a[0].f7LazyObserver}))}a[0].f7LazyDestroy||(a[0].f7LazyDestroy=function(){a[0].f7LazyAttached=!1,delete a[0].f7LazyAttached,a.off("lazy",p),a.off("scroll",p,!0),a.find(".tab").off("tab:mounted tab:show",p),t.off("resize",p)}),a[0].f7LazyAttached||(a[0].f7LazyAttached=!0,a.on("lazy",p),a.on("scroll",p,!0),a.find(".tab").on("tab:mounted tab:show",p),t.on("resize",p)),p()}function c(e){s.indexOf(e)>=0&&s.splice(s.indexOf(e),1),l=!1,t.params.lazy.sequential&&s.length>0&&(l=!0,t.lazy.loadImage(s[0],c))}function p(){t.lazy.load(a,(function(e){t.params.lazy.sequential&&l?s.indexOf(e)<0&&s.push(e):(l=!0,t.lazy.loadImage(e,c))}))}},isInViewport:function(e){var t=this,n=e.getBoundingClientRect(),r=t.params.lazy.threshold||0;return n.top>=0-r&&n.left>=0-r&&n.top<=t.height+r&&n.left<=t.width+r},loadImage:function(e,t){var n=this,r=bu(),a=Hp(e),o=a.attr("data-background"),i=o||a.attr("data-src");function s(){a.removeClass("lazy").addClass("lazy-loaded"),o?a.css("background-image","url("+i+")"):i&&a.attr("src",i),t&&t(e),a.trigger("lazy:loaded"),n.emit("lazyLoaded",a[0])}if(!i)return a.trigger("lazy:load"),n.emit("lazyLoad",a[0]),void s();var l=new r.Image;l.onload=s,l.onerror=function(){a.removeClass("lazy").addClass("lazy-loaded"),o?a.css("background-image","url("+(n.params.lazy.placeholder||"")+")"):a.attr("src",n.params.lazy.placeholder||""),t&&t(e),a.trigger("lazy:error"),n.emit("lazyError",a[0])},l.src=i,a.removeAttr("data-src").removeAttr("data-background"),a.trigger("lazy:load"),n.emit("lazyLoad",a[0])},load:function(e,t){var n=this,r=Hp(e);r.hasClass("page")||(r=r.parents(".page").eq(0)),0!==r.length&&r.find(".lazy").each((function(e){Hp(e).parents(".tab:not(.tab-active)").length>0||n.lazy.isInViewport(e)&&(t?t(e):n.lazy.loadImage(e))}))}},Fv={name:"lazy",params:{lazy:{placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEXCwsK592mkAAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",threshold:0,sequential:!0,observer:!0}},create:function(){Gu(this,{lazy:zv})},on:{pageInit:function(e){(e.$el.find(".lazy").length>0||e.$el.hasClass("lazy"))&&this.lazy.create(e.$el)},pageAfterIn:function(e){var t=Yu();this.params.lazy.observer&&t.intersectionObserver||(e.$el.find(".lazy").length>0||e.$el.hasClass("lazy"))&&this.lazy.create(e.$el)},pageBeforeRemove:function(e){(e.$el.find(".lazy").length>0||e.$el.hasClass("lazy"))&&this.lazy.destroy(e.$el)},tabMounted:function(e){var t=Hp(e);(t.find(".lazy").length>0||t.hasClass("lazy"))&&this.lazy.create(t)},tabBeforeRemove:function(e){var t=Yu();if(!this.params.lazy.observer||!t.intersectionObserver){var n=Hp(e);(n.find(".lazy").length>0||n.hasClass("lazy"))&&this.lazy.destroy(n)}}}};function $v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vv(e,t){return Vv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Vv(e,t)}var jv=function(e){var t,n;function r(t,n){var r;void 0===n&&(n={});var a=$v(r=e.call(this,n,[t])||this),o={};a.useModulesParams(o),a.params=Fu(o,n);var i=Hp(a.params.el);if(0===i.length)return $v(r);if(a.$el=i,a.el=i[0],a.$el[0].f7DataTable){var s=a.$el[0].f7DataTable;return a.destroy(),s||$v(r)}function l(e){if(!e.detail||!e.detail.sentByF7DataTable){var t=Hp(this),n=t[0].checked,r=t.parents("td,th").index();if(t.parents("thead").length>0)0===r&&i.find("tbody tr")[n?"addClass":"removeClass"]("data-table-row-selected"),i.find("tbody tr td:nth-child("+(r+1)+") input").prop("checked",n).trigger("change",{sentByF7DataTable:!0}),t.prop("indeterminate",!1);else{0===r&&t.parents("tr")[n?"addClass":"removeClass"]("data-table-row-selected");var o=i.find("tbody .checkbox-cell:nth-child("+(r+1)+') input[type="checkbox"]:checked').length,s=i.find("tbody tr").length,l=i.find("thead .checkbox-cell:nth-child("+(r+1)+') input[type="checkbox"]');n?o===s&&l.prop("checked",!0).trigger("change",{sentByF7DataTable:!0}):l.prop("checked",!1),l.prop("indeterminate",o>0&&o<s)}a.checkSelectedHeader()}}function u(){var e,t=Hp(this),n=t.hasClass("sortable-cell-active"),r=t.hasClass("sortable-desc")?"desc":"asc";n?(e="desc"===r?"asc":"desc",t.removeClass("sortable-desc sortable-asc").addClass("sortable-"+e)):(i.find("thead .sortable-cell-active").removeClass("sortable-cell-active"),t.addClass("sortable-cell-active"),e=r),t.trigger("datatable:sort",e),a.emit("local::sort dataTableSort",a,e)}return a.$el[0].f7DataTable=a,Fu(a,{collapsible:i.hasClass("data-table-collapsible"),$headerEl:i.find(".data-table-header"),$headerSelectedEl:i.find(".data-table-header-selected")}),a.attachEvents=function(){a.$el.on("change",'.checkbox-cell input[type="checkbox"]',l),a.$el.find("thead .sortable-cell").on("click",u)},a.detachEvents=function(){a.$el.off("change",'.checkbox-cell input[type="checkbox"]',l),a.$el.find("thead .sortable-cell").off("click",u)},a.useModules(),a.init(),a||$v(r)}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Vv(t,n);var a=r.prototype;return a.setCollapsibleLabels=function(){var e=this;e.collapsible&&e.$el.find("tbody td:not(.checkbox-cell)").each((function(t){var n=Hp(t),r=n.index(),a=n.attr("data-collapsible-title");a||""===a||n.attr("data-collapsible-title",e.$el.find("thead th").eq(r).text())}))},a.checkSelectedHeader=function(){var e=this;if(e.$headerEl.length>0&&e.$headerSelectedEl.length>0){var t=e.$el.find("tbody .checkbox-cell input:checked").length;e.$el[t>0?"addClass":"removeClass"]("data-table-has-checked"),e.$headerSelectedEl.find(".data-table-selected-count").text(t)}},a.init=function(){var e=this;e.attachEvents(),e.setCollapsibleLabels(),e.checkSelectedHeader()},a.destroy=function(){var e=this;e.$el.trigger("datatable:beforedestroy"),e.emit("local::beforeDestroy dataTableBeforeDestroy",e),e.attachEvents(),e.$el[0]&&(e.$el[0].f7DataTable=null,delete e.$el[0].f7DataTable),Iu(e),e=null},r}(nc),Hv=jv,Wv={name:"dataTable",static:{DataTable:Hv},create:function(){this.dataTable=qp({defaultSelector:".data-table",constructor:Hv,app:this,domProp:"f7DataTable"})},on:{tabBeforeRemove:function(e){var t=this;Hp(e).find(".data-table-init").each((function(e){t.dataTable.destroy(e)}))},tabMounted:function(e){var t=this;Hp(e).find(".data-table-init").each((function(e){t.dataTable.create({el:e})}))},pageBeforeRemove:function(e){var t=this;e.$el.find(".data-table-init").each((function(e){t.dataTable.destroy(e)}))},pageInit:function(e){var t=this;e.$el.find(".data-table-init").each((function(e){t.dataTable.create({el:e})}))}},vnode:{"data-table-init":{insert:function(e){var t=e.elm;this.dataTable.create({el:t})},destroy:function(e){var t=e.elm;this.dataTable.destroy(t)}}}};function Uv(){return Uv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uv.apply(this,arguments)}for(var qv={morphOpen:function(e,t){var n=this,r=Hp(e),a=Hp(t);if(0!==a.length){a.transition(0).addClass("fab-morph-target-visible");var o={width:a[0].offsetWidth,height:a[0].offsetHeight,offset:a.offset(),borderRadius:a.css("border-radius"),zIndex:a.css("z-index")},i={width:r[0].offsetWidth,height:r[0].offsetHeight,offset:r.offset(),translateX:Du(r[0],"x"),translateY:Du(r[0],"y")};r[0].f7FabMorphData={$targetEl:a,target:o,fab:i};var s=i.offset.left+i.width/2-(o.offset.left+o.width/2)-i.translateX,l=i.offset.top+i.height/2-(o.offset.top+o.height/2)-i.translateY,u=o.width/i.width,c=o.height/i.height,p=Math.ceil(parseInt(o.borderRadius,10)/Math.max(u,c));p>0&&(p+=2),r[0].f7FabMorphResizeHandler=function(){r.transition(0).transform(""),a.transition(0),o.width=a[0].offsetWidth,o.height=a[0].offsetHeight,o.offset=a.offset(),i.offset=r.offset();var e=i.offset.left+i.width/2-(o.offset.left+o.width/2)-i.translateX,t=i.offset.top+i.height/2-(o.offset.top+o.height/2)-i.translateY,n=o.width/i.width,s=o.height/i.height;r.transform("translate3d("+-e+"px, "+-t+"px, 0) scale("+n+", "+s+")")},a.css("opacity",0).transform("scale("+1/u+", "+1/c+")"),r.addClass("fab-opened").css("z-index",o.zIndex-1).transform("translate3d("+-s+"px, "+-l+"px, 0)"),r.transitionEnd((function(){a.transition(""),Ru((function(){a.css("opacity",1).transform("scale(1,1)"),r.transform("translate3d("+-s+"px, "+-l+"px, 0) scale("+u+", "+c+")").css("border-radius",p+"px").css("box-shadow","none").css("opacity","0")})),n.on("resize",r[0].f7FabMorphResizeHandler),a.parents(".page-content").length>0&&a.parents(".page-content").on("scroll",r[0].f7FabMorphResizeHandler)}))}},morphClose:function(e){var t=Hp(e),n=t[0].f7FabMorphData;if(n){var r=n.$targetEl,a=n.target,o=n.fab;if(0!==r.length){var i=o.offset.left+o.width/2-(a.offset.left+a.width/2)-o.translateX,s=o.offset.top+o.height/2-(a.offset.top+a.height/2)-o.translateY,l=a.width/o.width,u=a.height/o.height;this.off("resize",t[0].f7FabMorphResizeHandler),r.parents(".page-content").length>0&&r.parents(".page-content").off("scroll",t[0].f7FabMorphResizeHandler),r.css("opacity",0).transform("scale("+1/l+", "+1/u+")"),t.transition("").css("box-shadow","").css("border-radius","").css("opacity","1").transform("translate3d("+-i+"px, "+-s+"px, 0)"),t.transitionEnd((function(){t.css("z-index","").removeClass("fab-opened").transform(""),Ru((function(){t.transitionEnd((function(){r.removeClass("fab-morph-target-visible").css("opacity","").transform("").transition("")}))}))}))}}},open:function(e,t){var n=this,r=Hp(e).eq(0),a=r.find(".fab-buttons");if(r.length&&!r.hasClass("fab-opened")&&(a.length||r.hasClass("fab-morph"))){if(n.fab.openedEl){if(n.fab.openedEl===r[0])return;n.fab.close(n.fab.openedEl)}n.fab.openedEl=r[0],r.hasClass("fab-morph")?n.fab.morphOpen(r,t||r.attr("data-morph-to")):r.addClass("fab-opened"),r.siblings(".fab-backdrop").addClass("backdrop-in"),r.trigger("fab:open")}},close:function(e){void 0===e&&(e=".fab-opened");var t=Hp(e).eq(0),n=t.find(".fab-buttons");t.length&&t.hasClass("fab-opened")&&(n.length||t.hasClass("fab-morph"))&&(this.fab.openedEl=null,t.hasClass("fab-morph")?this.fab.morphClose(t):t.removeClass("fab-opened"),t.siblings(".fab-backdrop").removeClass("backdrop-in"),t.trigger("fab:close"))},toggle:function(e){Hp(e).hasClass("fab-opened")?this.fab.close(e):this.fab.open(e)}},Gv={name:"fab",create:function(){Gu(this,{fab:Uv({openedEl:null},qv)})},clicks:{".fab > a":function(e){this.fab.toggle(e.parents(".fab"))},".fab-open":function(e,t){void 0===t&&(t={});this.fab.open(t.fab)},".fab-close":function(e,t){void 0===t&&(t={});this.fab.close(t.fab)},".fab-backdrop":function(){this.fab.close()}}},Xv=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"OE",letters:""},{base:"oe",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],Yv={},Kv=0;Kv<Xv.length;Kv+=1)for(var Jv=Xv[Kv].letters,Qv=0;Qv<Jv.length;Qv+=1)Yv[Jv[Qv]]=Xv[Kv].base;var Zv=function(e){return e.replace(/[^\u0000-\u007E]/g,(function(e){return Yv[e]||e}))};function em(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tm(e,t){return tm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},tm(e,t)}var nm=function(e){var t,n;function r(t,n){var r;void 0===n&&(n={});var a=em(r=e.call(this,n,[t])||this),o={el:void 0,inputEl:void 0,inputEvents:"change input compositionend",disableButton:!0,disableButtonEl:void 0,backdropEl:void 0,searchContainer:void 0,searchItem:"li",searchIn:void 0,searchGroup:".list-group",searchGroupTitle:".item-divider, .list-group-title",ignore:".searchbar-ignore",foundEl:".searchbar-found",notFoundEl:".searchbar-not-found",hideOnEnableEl:".searchbar-hide-on-enable",hideOnSearchEl:".searchbar-hide-on-search",backdrop:void 0,removeDiacritics:!0,customSearch:!1,hideDividers:!0,hideGroups:!0,disableOnBackdropClick:!0,expandable:!1,inline:!1};a.useModulesParams(o),a.params=Fu(o,n);var i,s=Hp(a.params.el);if(0===s.length)return a||em(r);if(s[0].f7Searchbar)return s[0].f7Searchbar||em(r);s[0].f7Searchbar=a;var l,u,c,p,d=s.parents(".navbar");if(s.parents(".page").length>0)i=s.parents(".page");else if(d.length>0&&!(i=Hp(t.navbar.getPageByEl(d[0]))).length){var f=s.parents(".view").find(".page-current");f[0]&&f[0].f7Page&&f[0].f7Page.navbarEl===d[0]&&(i=f)}n.foundEl?l=Hp(n.foundEl):"string"==typeof a.params.foundEl&&i&&(l=i.find(a.params.foundEl)),n.notFoundEl?u=Hp(n.notFoundEl):"string"==typeof a.params.notFoundEl&&i&&(u=i.find(a.params.notFoundEl)),n.hideOnEnableEl?c=Hp(n.hideOnEnableEl):"string"==typeof a.params.hideOnEnableEl&&i&&(c=i.find(a.params.hideOnEnableEl)),n.hideOnSearchEl?p=Hp(n.hideOnSearchEl):"string"==typeof a.params.hideOnSearchEl&&i&&(p=i.find(a.params.hideOnSearchEl));var h,v,m,g,b=a.params.expandable||s.hasClass("searchbar-expandable"),y=a.params.inline||s.hasClass("searchbar-inline");function w(e){e.preventDefault()}function x(e){a.enable(e),a.$el.addClass("searchbar-focused")}function C(){a.$el.removeClass("searchbar-focused"),"aurora"!==t.theme||g&&g.length&&a.params.disableButton||a.query||a.disable()}function E(){var e=a.$inputEl.val().trim();(a.$searchContainer&&a.$searchContainer.length>0&&(a.params.searchIn||a.isVirtualList||a.params.searchIn===a.params.searchItem)||a.params.customSearch)&&a.search(e,!0)}function k(e,t){a.$el.trigger("searchbar:clear",t),a.emit("local::clear searchbarClear",a,t)}function S(e){a.disable(e)}function T(){!a||a&&!a.$el||a.enabled&&(a.$el.removeClass("searchbar-enabled"),a.expandable&&a.$el.parents(".navbar").removeClass("with-searchbar-expandable-enabled with-searchbar-expandable-enabled-no-transition"))}function O(){!a||a&&!a.$el||a.enabled&&(a.$el.addClass("searchbar-enabled"),a.expandable&&a.$el.parents(".navbar").addClass("with-searchbar-expandable-enabled-no-transition"))}return void 0===a.params.backdrop&&(a.params.backdrop=!y&&"aurora"!==t.theme),a.params.backdrop&&0===(h=a.params.backdropEl?Hp(a.params.backdropEl):i&&i.length>0?i.find(".searchbar-backdrop"):s.siblings(".searchbar-backdrop")).length&&(h=Hp('<div class="searchbar-backdrop"></div>'),i&&i.length?s.parents(i).length>0&&d&&0===s.parents(d).length?h.insertBefore(s):h.insertBefore(i.find(".page-content").eq(0)):h.insertBefore(s)),a.params.searchContainer&&(v=Hp(a.params.searchContainer)),m=a.params.inputEl?Hp(a.params.inputEl):s.find('input[type="search"]').eq(0),a.params.disableButton&&(g=a.params.disableButtonEl?Hp(a.params.disableButtonEl):s.find(".searchbar-disable-button")),Fu(a,{app:t,view:t.views.get(s.parents(".view")),$el:s,el:s[0],$backdropEl:h,backdropEl:h&&h[0],$searchContainer:v,searchContainer:v&&v[0],$inputEl:m,inputEl:m[0],$disableButtonEl:g,disableButtonEl:g&&g[0],disableButtonHasMargin:!1,$pageEl:i,pageEl:i&&i[0],$navbarEl:d,navbarEl:d&&d[0],$foundEl:l,foundEl:l&&l[0],$notFoundEl:u,notFoundEl:u&&u[0],$hideOnEnableEl:c,hideOnEnableEl:c&&c[0],$hideOnSearchEl:p,hideOnSearchEl:p&&p[0],previousQuery:"",query:"",isVirtualList:v&&v.hasClass("virtual-list"),virtualList:void 0,enabled:!1,expandable:b,inline:y}),a.attachEvents=function(){s.on("submit",w),a.params.disableButton&&a.$disableButtonEl.on("click",S),a.params.disableOnBackdropClick&&a.$backdropEl&&a.$backdropEl.on("click",S),a.expandable&&"ios"===t.theme&&a.view&&d.length&&a.$pageEl&&(a.$pageEl.on("page:beforeout",T),a.$pageEl.on("page:beforein",O)),a.$inputEl.on("focus",x),a.$inputEl.on("blur",C),a.$inputEl.on(a.params.inputEvents,E),a.$inputEl.on("input:clear",k)},a.detachEvents=function(){s.off("submit",w),a.params.disableButton&&a.$disableButtonEl.off("click",S),a.params.disableOnBackdropClick&&a.$backdropEl&&a.$backdropEl.off("click",S),a.expandable&&"ios"===t.theme&&a.view&&d.length&&a.$pageEl&&(a.$pageEl.off("page:beforeout",T),a.$pageEl.off("page:beforein",O)),a.$inputEl.off("focus",x),a.$inputEl.off("blur",C),a.$inputEl.off(a.params.inputEvents,E),a.$inputEl.off("input:clear",k)},a.useModules(),a.init(),a||em(r)}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,tm(t,n);var a=r.prototype;return a.clear=function(e){var t=this;if(!t.query&&e&&Hp(e.target).hasClass("searchbar-clear"))return t.disable(),t;var n=t.value;return t.$inputEl.val("").trigger("change").focus(),t.$el.trigger("searchbar:clear",n),t.emit("local::clear searchbarClear",t,n),t},a.setDisableButtonMargin=function(){var e=this;if(!e.expandable){var t=e.app;e.$disableButtonEl.transition(0).show(),e.$disableButtonEl.css("margin-"+(t.rtl?"left":"right"),-e.disableButtonEl.offsetWidth+"px"),e._clientLeft=e.$disableButtonEl[0].clientLeft,e.$disableButtonEl.transition(""),e.disableButtonHasMargin=!0}},a.enable=function(e){var t=this;if(t.enabled)return t;var n=t.app,r=mu(),a=Ku();function o(){if(t.$backdropEl&&(t.$searchContainer&&t.$searchContainer.length||t.params.customSearch)&&!t.$el.hasClass("searchbar-enabled")&&!t.query&&t.backdropShow(),t.$el.addClass("searchbar-enabled"),(!t.$disableButtonEl||t.$disableButtonEl&&0===t.$disableButtonEl.length)&&t.$el.addClass("searchbar-enabled-no-disable-button"),!t.expandable&&t.$disableButtonEl&&t.$disableButtonEl.length>0&&"md"!==n.theme&&(t.disableButtonHasMargin||t.setDisableButtonMargin(),t.$disableButtonEl.css("margin-"+(n.rtl?"left":"right"),"0px")),t.expandable){var e=t.$el.parents(".navbar");if(e.hasClass("navbar-large")&&t.$pageEl){var r=t.$pageEl.find(".page-content"),a=e.find(".title-large");r.addClass("with-searchbar-expandable-enabled"),e.hasClass("navbar-large")&&e.hasClass("navbar-large-collapsed")&&a.length&&r.length&&(r.transition(0),r[0].scrollTop-=a[0].offsetHeight,setTimeout((function(){r.transition("")}),200))}"md"===n.theme&&e.length?e.addClass("with-searchbar-expandable-enabled"):(e.addClass("with-searchbar-expandable-enabled"),e.hasClass("navbar-large")&&e.addClass("navbar-large-collapsed"))}t.$hideOnEnableEl&&t.$hideOnEnableEl.addClass("hidden-by-searchbar"),t.$el.trigger("searchbar:enable"),t.emit("local::enable searchbarEnable",t)}t.enabled=!0;var i=!1;return!0===e&&r.activeElement!==t.inputEl&&(i=!0),a.ios&&"ios"===n.theme?t.expandable?(i&&t.$inputEl.focus(),o()):(i&&t.$inputEl.focus(),!e||"focus"!==e.type&&!0!==e?o():_u((function(){o()}),400)):(i&&t.$inputEl.focus(),"md"===n.theme&&t.expandable&&t.$el.parents(".page, .view, .navbar-inner, .navbar").scrollLeft(n.rtl?100:0),o()),t},a.disable=function(){var e=this;if(!e.enabled)return e;var t=e.app;if(e.$inputEl.val("").trigger("change"),e.$el.removeClass("searchbar-enabled searchbar-focused searchbar-enabled-no-disable-button"),e.expandable){var n=e.$el.parents(".navbar"),r=e.$pageEl&&e.$pageEl.find(".page-content");if(n.hasClass("navbar-large")&&r.length){var a=n.find(".title-large");if(e.$el.transitionEnd((function(){r.removeClass("with-searchbar-expandable-closing")})),n.hasClass("navbar-large")&&n.hasClass("navbar-large-collapsed")&&a.length){var o=r[0].scrollTop,i=a[0].offsetHeight;o>i&&(r.transition(0),r[0].scrollTop=o+i,setTimeout((function(){r.transition("")}),200))}r.removeClass("with-searchbar-expandable-enabled").addClass("with-searchbar-expandable-closing")}"md"===t.theme&&n.length?(n.removeClass("with-searchbar-expandable-enabled with-searchbar-expandable-enabled-no-transition").addClass("with-searchbar-expandable-closing"),e.$el.transitionEnd((function(){n.removeClass("with-searchbar-expandable-closing")}))):(n.removeClass("with-searchbar-expandable-enabled with-searchbar-expandable-enabled-no-transition").addClass("with-searchbar-expandable-closing"),e.$el.transitionEnd((function(){n.removeClass("with-searchbar-expandable-closing")})),e.$pageEl&&e.$pageEl.find(".page-content").trigger("scroll"))}return!e.expandable&&e.$disableButtonEl&&e.$disableButtonEl.length>0&&"md"!==t.theme&&e.$disableButtonEl.css("margin-"+(t.rtl?"left":"right"),-e.disableButtonEl.offsetWidth+"px"),e.$backdropEl&&(e.$searchContainer&&e.$searchContainer.length||e.params.customSearch)&&e.backdropHide(),e.enabled=!1,e.$inputEl.blur(),e.$hideOnEnableEl&&e.$hideOnEnableEl.removeClass("hidden-by-searchbar"),e.$el.trigger("searchbar:disable"),e.emit("local::disable searchbarDisable",e),e},a.toggle=function(){var e=this;return e.enabled?e.disable():e.enable(!0),e},a.backdropShow=function(){var e=this;return e.$backdropEl&&e.$backdropEl.addClass("searchbar-backdrop-in"),e},a.backdropHide=function(){var e=this;return e.$backdropEl&&e.$backdropEl.removeClass("searchbar-backdrop-in"),e},a.search=function(e,t){var n=this;if(n.previousQuery=n.query||"",e===n.previousQuery)return n;t||(n.enabled||n.enable(),n.$inputEl.val(e),n.$inputEl.trigger("input")),n.query=e,n.value=e;var r=n.$searchContainer,a=n.$el,o=n.$foundEl,i=n.$notFoundEl,s=n.$hideOnSearchEl,l=n.isVirtualList;if(e.length>0&&s?s.addClass("hidden-by-searchbar"):s&&s.removeClass("hidden-by-searchbar"),(r&&r.length&&a.hasClass("searchbar-enabled")||n.params.customSearch&&a.hasClass("searchbar-enabled"))&&(0===e.length?n.backdropShow():n.backdropHide()),n.params.customSearch)return a.trigger("searchbar:search",{query:e,previousQuery:n.previousQuery}),n.emit("local::search searchbarSearch",n,e,n.previousQuery),n;var u,c=[];if(l){if(n.virtualList=r[0].f7VirtualList,""===e.trim())return n.virtualList.resetFilter(),i&&i.hide(),o&&o.show(),a.trigger("searchbar:search",{query:e,previousQuery:n.previousQuery}),n.emit("local::search searchbarSearch",n,e,n.previousQuery),n;if(u=n.params.removeDiacritics?Zv(e):e,n.virtualList.params.searchAll)c=n.virtualList.params.searchAll(u,n.virtualList.items)||[];else if(n.virtualList.params.searchByItem)for(var p=0;p<n.virtualList.items.length;p+=1)n.virtualList.params.searchByItem(u,n.virtualList.items[p],p)&&c.push(p)}else{var d;d=n.params.removeDiacritics?Zv(e.trim().toLowerCase()).split(" "):e.trim().toLowerCase().split(" "),r.find(n.params.searchItem).removeClass("hidden-by-searchbar").each((function(e){var t=Hp(e),r=[],a=n.params.searchIn?t.find(n.params.searchIn):t;n.params.searchIn===n.params.searchItem&&(a=t),a.each((function(e){var t=Hp(e).text().trim().toLowerCase();n.params.removeDiacritics&&(t=Zv(t)),r.push(t)})),r=r.join(" ");for(var o=0,i=0;i<d.length;i+=1)r.indexOf(d[i])>=0&&(o+=1);o===d.length||n.params.ignore&&t.is(n.params.ignore)?c.push(t[0]):t.addClass("hidden-by-searchbar")})),n.params.hideDividers&&r.find(n.params.searchGroupTitle).each((function(e){for(var t=Hp(e),r=t.nextAll(n.params.searchItem),a=!0,o=0;o<r.length;o+=1){var i=r.eq(o);if(i.is(n.params.searchGroupTitle))break;i.hasClass("hidden-by-searchbar")||(a=!1)}var s=n.params.ignore&&t.is(n.params.ignore);a&&!s?t.addClass("hidden-by-searchbar"):t.removeClass("hidden-by-searchbar")})),n.params.hideGroups&&r.find(n.params.searchGroup).each((function(e){var t=Hp(e),r=n.params.ignore&&t.is(n.params.ignore);0!==t.find(n.params.searchItem).filter((function(e){return!Hp(e).hasClass("hidden-by-searchbar")})).length||r?t.removeClass("hidden-by-searchbar"):t.addClass("hidden-by-searchbar")}))}return 0===c.length?(i&&i.show(),o&&o.hide()):(i&&i.hide(),o&&o.show()),l&&n.virtualList&&n.virtualList.filterItems(c),a.trigger("searchbar:search",{query:e,previousQuery:n.previousQuery,foundItems:c}),n.emit("local::search searchbarSearch",n,e,n.previousQuery,c),n},a.init=function(){var e=this;e.expandable&&e.$el&&e.$el.addClass("searchbar-expandable"),e.inline&&e.$el&&e.$el.addClass("searchbar-inline"),e.attachEvents()},a.destroy=function(){var e=this;e.emit("local::beforeDestroy searchbarBeforeDestroy",e),e.$el.trigger("searchbar:beforedestroy"),e.detachEvents(),e.$el[0]&&(e.$el[0].f7Searchbar=null,delete e.$el[0].f7Searchbar),Iu(e)},r}(nc),rm=nm,am={name:"searchbar",static:{Searchbar:rm},create:function(){this.searchbar=qp({defaultSelector:".searchbar",constructor:rm,app:this,domProp:"f7Searchbar",addMethods:"clear enable disable toggle search".split(" ")})},on:{tabMounted:function(e){var t=this;Hp(e).find(".searchbar-init").each((function(e){var n=Hp(e);t.searchbar.create(Fu(n.dataset(),{el:e}))}))},tabBeforeRemove:function(e){Hp(e).find(".searchbar-init").each((function(e){e.f7Searchbar&&e.f7Searchbar.destroy&&e.f7Searchbar.destroy()}))},pageInit:function(e){var t=this;e.$el.find(".searchbar-init").each((function(e){var n=Hp(e);t.searchbar.create(Fu(n.dataset(),{el:e}))})),"ios"===t.theme&&e.view&&e.view.router.dynamicNavbar&&e.$navbarEl&&e.$navbarEl.length>0&&e.$navbarEl.find(".searchbar-init").each((function(e){var n=Hp(e);t.searchbar.create(Fu(n.dataset(),{el:e}))}))},pageBeforeRemove:function(e){e.$el.find(".searchbar-init").each((function(e){e.f7Searchbar&&e.f7Searchbar.destroy&&e.f7Searchbar.destroy()})),"ios"===this.theme&&e.view&&e.view.router.dynamicNavbar&&e.$navbarEl&&e.$navbarEl.length>0&&e.$navbarEl.find(".searchbar-init").each((function(e){e.f7Searchbar&&e.f7Searchbar.destroy&&e.f7Searchbar.destroy()}))}},clicks:{".searchbar-clear":function(e,t){void 0===t&&(t={});var n=this.searchbar.get(t.searchbar);n&&n.clear()},".searchbar-enable":function(e,t){void 0===t&&(t={});var n=this.searchbar.get(t.searchbar);n&&n.enable(!0)},".searchbar-disable":function(e,t){void 0===t&&(t={});var n=this.searchbar.get(t.searchbar);n&&n.disable()},".searchbar-toggle":function(e,t){void 0===t&&(t={});var n=this.searchbar.get(t.searchbar);n&&n.toggle()}},vnode:{"searchbar-init":{insert:function(e){var t=e.elm,n=Hp(t);this.searchbar.create(Fu(n.dataset(),{el:t}))},destroy:function(e){var t=e.elm;t.f7Searchbar&&t.f7Searchbar.destroy&&t.f7Searchbar.destroy()}}}};function om(){return om=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},om.apply(this,arguments)}function im(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sm(e,t){return sm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},sm(e,t)}var lm=function(e){var t,n;function r(t,n){var r;void 0===n&&(n={});var a=im(r=e.call(this,n,[t])||this),o={autoLayout:!0,messages:[],newMessagesFirst:!1,scrollMessages:!0,scrollMessagesOnEdge:!0,firstMessageRule:void 0,lastMessageRule:void 0,tailMessageRule:void 0,sameNameMessageRule:void 0,sameHeaderMessageRule:void 0,sameFooterMessageRule:void 0,sameAvatarMessageRule:void 0,customClassMessageRule:void 0,renderMessage:void 0};a.useModulesParams(o),a.params=Fu(o,n);var i=Hp(n.el).eq(0);if(0===i.length)return a||im(r);if(i[0].f7Messages)return i[0].f7Messages||im(r);i[0].f7Messages=a;var s=i.closest(".page-content").eq(0);return Fu(a,{messages:a.params.messages,$el:i,el:i[0],$pageContentEl:s,pageContentEl:s[0]}),a.useModules(),a.init(),a||im(r)}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,sm(t,n);var a=r.prototype;return a.getMessageData=function(e){var t=Hp(e),n={name:t.find(".message-name").html(),header:t.find(".message-header").html(),textHeader:t.find(".message-text-header").html(),textFooter:t.find(".message-text-footer").html(),footer:t.find(".message-footer").html(),isTitle:t.hasClass("messages-title"),type:t.hasClass("message-sent")?"sent":"received",text:t.find(".message-text").html(),image:t.find(".message-image").html(),imageSrc:t.find(".message-image img").attr("src"),typing:t.hasClass("message-typing")};n.isTitle&&(n.text=t.html()),n.text&&n.textHeader&&(n.text=n.text.replace('<div class="message-text-header">'+n.textHeader+"</div>","")),n.text&&n.textFooter&&(n.text=n.text.replace('<div class="message-text-footer">'+n.textFooter+"</div>",""));var r=t.find(".message-avatar").css("background-image");return"none"!==r&&""!==r||(r=void 0),r=r&&"string"==typeof r?r.replace("url(","").replace(")","").replace(/"/g,"").replace(/'/g,""):void 0,n.avatar=r,n},a.getMessagesData=function(){var e=this,t=[];return e.$el.find(".message, .messages-title").each((function(n){t.push(e.getMessageData(n))})),t},a.renderMessage=function(e){var t=this,n=Fu({type:"sent",attrs:{}},e);return t.params.renderMessage?t.params.renderMessage.call(t,n):n.isTitle?'<div class="messages-title">'+n.text+"</div>":Sf("div",om({class:"message message-"+n.type+" "+(n.isTyping?"message-typing":"")+" "+(n.cssClass||"")},n.attrs),n.avatar&&Sf("div",{class:"message-avatar",style:"background-image:url("+n.avatar+")"}),Sf("div",{class:"message-content"},n.name&&Sf("div",{class:"message-name"},n.name),n.header&&Sf("div",{class:"message-header"},n.header),Sf("div",{class:"message-bubble"},n.textHeader&&Sf("div",{class:"message-text-header"},n.textHeader),n.image&&Sf("div",{class:"message-image"},n.image),n.imageSrc&&!n.image&&Sf("div",{class:"message-image"},Sf("img",{src:n.imageSrc})),(n.text||n.isTyping)&&Sf("div",{class:"message-text"},n.text||"",n.isTyping&&Sf("div",{class:"message-typing-indicator"},Sf("div",null),Sf("div",null),Sf("div",null))),n.textFooter&&Sf("div",{class:"message-text-footer"},n.textFooter)),n.footer&&Sf("div",{class:"message-footer"},n.footer)))},a.renderMessages=function(e,t){void 0===e&&(e=this.messages),void 0===t&&(t=this.params.newMessagesFirst?"prepend":"append");var n=this,r=e.map((function(e){return n.renderMessage(e)})).join("");n.$el[t](r)},a.isFirstMessage=function(){var e;return!!this.params.firstMessageRule&&(e=this.params).firstMessageRule.apply(e,arguments)},a.isLastMessage=function(){var e;return!!this.params.lastMessageRule&&(e=this.params).lastMessageRule.apply(e,arguments)},a.isTailMessage=function(){var e;return!!this.params.tailMessageRule&&(e=this.params).tailMessageRule.apply(e,arguments)},a.isSameNameMessage=function(){var e;return!!this.params.sameNameMessageRule&&(e=this.params).sameNameMessageRule.apply(e,arguments)},a.isSameHeaderMessage=function(){var e;return!!this.params.sameHeaderMessageRule&&(e=this.params).sameHeaderMessageRule.apply(e,arguments)},a.isSameFooterMessage=function(){var e;return!!this.params.sameFooterMessageRule&&(e=this.params).sameFooterMessageRule.apply(e,arguments)},a.isSameAvatarMessage=function(){var e;return!!this.params.sameAvatarMessageRule&&(e=this.params).sameAvatarMessageRule.apply(e,arguments)},a.isCustomClassMessage=function(){var e;if(this.params.customClassMessageRule)return(e=this.params).customClassMessageRule.apply(e,arguments)},a.layout=function(){var e=this;e.$el.find(".message, .messages-title").each((function(t,n){var r=Hp(t);e.messages||(e.messages=e.getMessagesData());var a=[],o=e.messages[n],i=e.messages[n-1],s=e.messages[n+1];e.isFirstMessage(o,i,s)&&a.push("message-first"),e.isLastMessage(o,i,s)&&a.push("message-last"),e.isTailMessage(o,i,s)&&a.push("message-tail"),e.isSameNameMessage(o,i,s)&&a.push("message-same-name"),e.isSameHeaderMessage(o,i,s)&&a.push("message-same-header"),e.isSameFooterMessage(o,i,s)&&a.push("message-same-footer"),e.isSameAvatarMessage(o,i,s)&&a.push("message-same-avatar");var l=e.isCustomClassMessage(o,i,s);l&&l.length&&("string"==typeof l&&(l=l.split(" ")),l.forEach((function(e){a.push(e)}))),r.removeClass("message-first message-last message-tail message-same-name message-same-header message-same-footer message-same-avatar"),a.forEach((function(e){r.addClass(e)}))}))},a.clear=function(){this.messages=[],this.$el.html("")},a.removeMessage=function(e,t){void 0===t&&(t=!0);var n,r,a=this;return"number"==typeof e?(n=e,r=a.$el.find(".message, .messages-title").eq(n)):a.messages&&a.messages.indexOf(e)>=0?(n=a.messages.indexOf(e),r=a.$el.children().eq(n)):n=(r=Hp(e)).index(),0===r.length||(r.remove(),a.messages.splice(n,1),a.params.autoLayout&&t&&a.layout()),a},a.removeMessages=function(e,t){void 0===t&&(t=!0);var n=this;if(Array.isArray(e)){var r=[];e.forEach((function(e){r.push(n.$el.find(".message, .messages-title").eq(e))})),r.forEach((function(e){n.removeMessage(e,!1)}))}else Hp(e).each((function(e){n.removeMessage(e,!1)}));return n.params.autoLayout&&t&&n.layout(),n},a.addMessage=function(){for(var e,t,n,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return"boolean"==typeof a[1]?(e=a[0],t=a[1],n=a[2]):(e=a[0],n=a[1],t=a[2]),void 0===t&&(t=!0),void 0===n&&(n=this.params.newMessagesFirst?"prepend":"append"),this.addMessages([e],t,n)},a.setScrollData=function(){var e=this,t=e.pageContentEl.scrollHeight,n=e.pageContentEl.offsetHeight,r=e.pageContentEl.scrollTop;return e.scrollData={scrollHeightBefore:t,heightBefore:n,scrollBefore:r},{scrollHeightBefore:t,heightBefore:n,scrollBefore:r}},a.addMessages=function(){for(var e,t,n,r=this,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];"boolean"==typeof o[1]?(e=o[0],t=o[1],n=o[2]):(e=o[0],n=o[1],t=o[2]),void 0===t&&(t=!0),void 0===n&&(n=r.params.newMessagesFirst?"prepend":"append");var s=r.setScrollData(),l=s.scrollHeightBefore,u=s.scrollBefore,c="",p=r.messages.filter((function(e){return e.isTyping}))[0];e.forEach((function(e){p?"append"===n?r.messages.splice(r.messages.indexOf(p),0,e):r.messages.splice(r.messages.indexOf(p)+1,0,e):r.messages["append"===n?"push":"unshift"](e),c+=r.renderMessage(e)}));var d=Hp(c);return t&&("append"!==n||r.params.newMessagesFirst||d.addClass("message-appear-from-bottom"),"prepend"===n&&r.params.newMessagesFirst&&d.addClass("message-appear-from-top")),p?"append"===n?d.insertBefore(r.$el.find(".message-typing")):d.insertAfter(r.$el.find(".message-typing")):r.$el[n](d),r.params.autoLayout&&r.layout(),"prepend"!==n||p||(r.pageContentEl.scrollTop=u+(r.pageContentEl.scrollHeight-l)),r.params.scrollMessages&&("append"===n&&!r.params.newMessagesFirst||"prepend"===n&&r.params.newMessagesFirst&&!p)&&r.scrollWithEdgeCheck(t),r},a.showTyping=function(e){void 0===e&&(e={});var t=this,n=t.messages.filter((function(e){return e.isTyping}))[0];return n&&t.removeMessage(t.messages.indexOf(n)),t.addMessage(Fu({type:"received",isTyping:!0},e)),t},a.hideTyping=function(){var e,t,n=this;if(n.messages.forEach((function(t,n){t.isTyping&&(e=n)})),void 0!==e&&n.$el.find(".message").eq(e).hasClass("message-typing")&&(t=!0,n.removeMessage(e)),!t){var r=n.$el.find(".message-typing");r.length&&n.removeMessage(r)}return n},a.scrollWithEdgeCheck=function(e){var t=this,n=t.scrollData,r=n.scrollBefore,a=n.scrollHeightBefore,o=n.heightBefore;if(t.params.scrollMessagesOnEdge){var i=!1;t.params.newMessagesFirst&&0===r&&(i=!0),!t.params.newMessagesFirst&&r-(a-o)>=-10&&(i=!0),i&&t.scroll(e?void 0:0)}else t.scroll(e?void 0:0)},a.scroll=function(e,t){void 0===e&&(e=300);var n,r=this,a=r.pageContentEl.scrollTop;if(void 0!==t)n=t;else if((n=r.params.newMessagesFirst?0:r.pageContentEl.scrollHeight-r.pageContentEl.offsetHeight)===a)return r;return r.$pageContentEl.scrollTop(n,e),r},a.init=function(){var e=this;e.messages&&0!==e.messages.length||(e.messages=e.getMessagesData()),e.params.messages&&e.params.messages.length&&e.renderMessages(),e.params.autoLayout&&e.layout(),e.params.scrollMessages&&e.scroll(0)},a.destroy=function(){var e=this;e.emit("local::beforeDestroy messagesBeforeDestroy",e),e.$el.trigger("messages:beforedestroy"),e.$el[0]&&(e.$el[0].f7Messages=null,delete e.$el[0].f7Messages),Iu(e)},r}(nc),um=lm,cm={name:"messages",static:{Messages:um},create:function(){this.messages=qp({defaultSelector:".messages",constructor:um,app:this,domProp:"f7Messages",addMethods:"renderMessages layout scroll clear removeMessage removeMessages addMessage addMessages".split(" ")})},on:{tabBeforeRemove:function(e){var t=this;Hp(e).find(".messages-init").each((function(e){t.messages.destroy(e)}))},tabMounted:function(e){var t=this;Hp(e).find(".messages-init").each((function(e){t.messages.create({el:e})}))},pageBeforeRemove:function(e){var t=this;e.$el.find(".messages-init").each((function(e){t.messages.destroy(e)}))},pageInit:function(e){var t=this;e.$el.find(".messages-init").each((function(e){t.messages.create({el:e})}))}},vnode:{"messages-init":{insert:function(e){var t=e.elm;this.messages.create({el:t})},destroy:function(e){var t=e.elm;this.messages.destroy(t)}}}};function pm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dm(e,t){return dm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},dm(e,t)}var fm=function(e){var t,n;function r(t,n){var r;void 0===n&&(n={});var a=pm(r=e.call(this,n,[t])||this),o={top:!1,topOffset:0,bottomOffset:0,attachments:[],renderAttachments:void 0,renderAttachment:void 0,maxHeight:null,resizePage:!0};a.useModulesParams(o),a.params=Fu(o,n);var i=Hp(a.params.el);if(0===i.length)return a||pm(r);if(i[0].f7Messagebar)return i[0].f7Messagebar||pm(r);i[0].f7Messagebar=a;var s,l=i.parents(".page").eq(0),u=l.find(".page-content").eq(0),c=i.find(".messagebar-area");s=a.params.textareaEl?Hp(a.params.textareaEl):i.find("textarea");var p=i.find(".messagebar-attachments"),d=i.find(".messagebar-sheet");function f(){a.params.resizePage&&a.resizePage()}function h(e){e.preventDefault()}function v(e){var t=Hp(this).index();Hp(e.target).closest(".messagebar-attachment-delete").length?(Hp(this).trigger("messagebar:attachmentdelete",t),a.emit("local::attachmentDelete messagebarAttachmentDelete",a,this,t)):(Hp(this).trigger("messagebar:attachmentclick",t),a.emit("local::attachmentClick messagebarAttachmentClick",a,this,t))}function m(){a.checkEmptyState(),a.$el.trigger("messagebar:change"),a.emit("local::change messagebarChange",a)}function g(){a.sheetHide(),a.$el.addClass("messagebar-focused"),a.$el.trigger("messagebar:focus"),a.emit("local::focus messagebarFocus",a)}function b(){a.$el.removeClass("messagebar-focused"),a.$el.trigger("messagebar:blur"),a.emit("local::blur messagebarBlur",a)}return a.params.top&&i.addClass("messagebar-top"),Fu(a,{$el:i,el:i[0],$areaEl:c,areaEl:c[0],$textareaEl:s,textareaEl:s[0],$attachmentsEl:p,attachmentsEl:p[0],attachmentsVisible:p.hasClass("messagebar-attachments-visible"),$sheetEl:d,sheetEl:d[0],sheetVisible:d.hasClass("messagebar-sheet-visible"),$pageEl:l,pageEl:l[0],$pageContentEl:u,pageContentEl:u,top:i.hasClass("messagebar-top")||a.params.top,attachments:[]}),a.attachEvents=function(){i.on("textarea:resize",f),i.on("submit",h),i.on("click",".messagebar-attachment",v),s.on("change input",m),s.on("focus",g),s.on("blur",b),t.on("resize",f)},a.detachEvents=function(){i.off("textarea:resize",f),i.off("submit",h),i.off("click",".messagebar-attachment",v),s.off("change input",m),s.off("focus",g),s.off("blur",b),t.off("resize",f)},a.useModules(),a.init(),a||pm(r)}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,dm(t,n);var a=r.prototype;return a.focus=function(){return this.$textareaEl.focus(),this},a.blur=function(){return this.$textareaEl.blur(),this},a.clear=function(){return this.$textareaEl.val("").trigger("change"),this},a.getValue=function(){return this.$textareaEl.val().trim()},a.setValue=function(e){return this.$textareaEl.val(e).trigger("change"),this},a.setPlaceholder=function(e){return this.$textareaEl.attr("placeholder",e),this},a.resizePage=function(){var e=this,t=e.params,n=e.$el,r=e.top,a=e.$pageEl,o=e.$pageContentEl,i=e.$areaEl,s=e.$textareaEl,l=e.$sheetEl,u=e.$attachmentsEl,c=n[0].offsetHeight,p=t.maxHeight;if(r);else{var d=parseInt(o.css("padding-bottom"),10),f=c+t.bottomOffset;if(f!==d&&o.length){var h=parseInt(o.css("padding-top"),10),v=o[0].scrollHeight,m=o[0].offsetHeight,g=o[0].scrollTop===v-m;p||(p=a[0].offsetHeight-h-l.outerHeight()-u.outerHeight()-parseInt(i.css("margin-top"),10)-parseInt(i.css("margin-bottom"),10)),s.css("max-height",p+"px"),o.css("padding-bottom",f+"px"),g&&o.scrollTop(o[0].scrollHeight-m),n.trigger("messagebar:resizepage"),e.emit("local::resizePage messagebarResizePage",e)}}},a.checkEmptyState=function(){var e=this.$el,t=this.$textareaEl.val().trim();t&&t.length?e.addClass("messagebar-with-value"):e.removeClass("messagebar-with-value")},a.attachmentsCreate=function(e){void 0===e&&(e="");var t=this,n=Hp('<div class="messagebar-attachments">'+e+"</div>");return n.insertBefore(t.$textareaEl),Fu(t,{$attachmentsEl:n,attachmentsEl:n[0]}),t},a.attachmentsShow=function(e){void 0===e&&(e="");var t=this;return t.$attachmentsEl=t.$el.find(".messagebar-attachments"),0===t.$attachmentsEl.length&&t.attachmentsCreate(e),t.$el.addClass("messagebar-attachments-visible"),t.attachmentsVisible=!0,t.params.resizePage&&t.resizePage(),t},a.attachmentsHide=function(){var e=this;return e.$el.removeClass("messagebar-attachments-visible"),e.attachmentsVisible=!1,e.params.resizePage&&e.resizePage(),e},a.attachmentsToggle=function(){var e=this;return e.attachmentsVisible?e.attachmentsHide():e.attachmentsShow(),e},a.renderAttachment=function(e){var t=this;return t.params.renderAttachment?t.params.renderAttachment.call(t,e):'\n      <div class="messagebar-attachment">\n        <img src="'+e+'">\n        <span class="messagebar-attachment-delete"></span>\n      </div>\n    '},a.renderAttachments=function(){var e,t=this;e=t.params.renderAttachments?t.params.renderAttachments.call(t,t.attachments):""+t.attachments.map((function(e){return t.renderAttachment(e)})).join(""),0===t.$attachmentsEl.length?t.attachmentsCreate(e):t.$attachmentsEl.html(e)},a.sheetCreate=function(e){void 0===e&&(e="");var t=this,n=Hp('<div class="messagebar-sheet">'+e+"</div>");return t.$el.append(n),Fu(t,{$sheetEl:n,sheetEl:n[0]}),t},a.sheetShow=function(e){void 0===e&&(e="");var t=this;return t.$sheetEl=t.$el.find(".messagebar-sheet"),0===t.$sheetEl.length&&t.sheetCreate(e),t.$el.addClass("messagebar-sheet-visible"),t.sheetVisible=!0,t.params.resizePage&&t.resizePage(),t},a.sheetHide=function(){var e=this;return e.$el.removeClass("messagebar-sheet-visible"),e.sheetVisible=!1,e.params.resizePage&&e.resizePage(),e},a.sheetToggle=function(){var e=this;return e.sheetVisible?e.sheetHide():e.sheetShow(),e},a.init=function(){var e=this;return e.attachEvents(),e.checkEmptyState(),e},a.destroy=function(){var e=this;e.emit("local::beforeDestroy messagebarBeforeDestroy",e),e.$el.trigger("messagebar:beforedestroy"),e.detachEvents(),e.$el[0]&&(e.$el[0].f7Messagebar=null,delete e.$el[0].f7Messagebar),Iu(e)},r}(nc),hm=fm,vm={name:"messagebar",static:{Messagebar:hm},create:function(){this.messagebar=qp({defaultSelector:".messagebar",constructor:hm,app:this,domProp:"f7Messagebar",addMethods:"clear getValue setValue setPlaceholder resizePage focus blur attachmentsCreate attachmentsShow attachmentsHide attachmentsToggle renderAttachments sheetCreate sheetShow sheetHide sheetToggle".split(" ")})},on:{tabBeforeRemove:function(e){var t=this;Hp(e).find(".messagebar-init").each((function(e){t.messagebar.destroy(e)}))},tabMounted:function(e){var t=this;Hp(e).find(".messagebar-init").each((function(e){t.messagebar.create(Fu({el:e},Hp(e).dataset()))}))},pageBeforeRemove:function(e){var t=this;e.$el.find(".messagebar-init").each((function(e){t.messagebar.destroy(e)}))},pageInit:function(e){var t=this;e.$el.find(".messagebar-init").each((function(e){t.messagebar.create(Fu({el:e},Hp(e).dataset()))}))}},vnode:{"messagebar-init":{insert:function(e){var t=e.elm;this.messagebar.create(Fu({el:t},Hp(t).dataset()))},destroy:function(e){var t=e.elm;this.messagebar.destroy(t)}}}},mm={addClass:pc,removeClass:dc,hasClass:hc,toggleClass:fc,attr:vc,removeAttr:mc,transform:Ec,transition:kc,on:Sc,off:Tc,trigger:Ic,transitionEnd:Nc,outerWidth:Rc,outerHeight:Pc,styles:zc,offset:Dc,css:Fc,each:$c,html:jc,text:Hc,is:Wc,index:Uc,eq:qc,append:Gc,prepend:Yc,next:Zc,nextAll:ep,prev:tp,prevAll:np,parent:ap,parents:op,closest:ip,find:sp,children:lp,filter:Vc,remove:up};Object.keys(mm).forEach((function(e){Object.defineProperty(cc.fn,e,{value:mm[e],writable:!0})}));var gm,bm,ym,wm=cc;function xm(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function Cm(){return Date.now()}function Em(e,t){void 0===t&&(t="x");var n,r,a,o=bu(),i=function(e){var t,n=bu();return n.getComputedStyle&&(t=n.getComputedStyle(e,null)),!t&&e.currentStyle&&(t=e.currentStyle),t||(t=e.style),t}(e);return o.WebKitCSSMatrix?((r=i.transform||i.webkitTransform).split(",").length>6&&(r=r.split(", ").map((function(e){return e.replace(",",".")})).join(", ")),a=new o.WebKitCSSMatrix("none"===r?"":r)):n=(a=i.MozTransform||i.OTransform||i.MsTransform||i.msTransform||i.transform||i.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===t&&(r=o.WebKitCSSMatrix?a.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===t&&(r=o.WebKitCSSMatrix?a.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),r||0}function km(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function Sm(){for(var e,t=Object(arguments.length<=0?void 0:arguments[0]),n=["__proto__","constructor","prototype"],r=1;r<arguments.length;r+=1){var a=r<0||arguments.length<=r?void 0:arguments[r];if(null!=a&&(e=a,!("undefined"!=typeof window&&void 0!==window.HTMLElement?e instanceof HTMLElement:e&&(1===e.nodeType||11===e.nodeType))))for(var o=Object.keys(Object(a)).filter((function(e){return n.indexOf(e)<0})),i=0,s=o.length;i<s;i+=1){var l=o[i],u=Object.getOwnPropertyDescriptor(a,l);void 0!==u&&u.enumerable&&(km(t[l])&&km(a[l])?a[l].__swiper__?t[l]=a[l]:Sm(t[l],a[l]):!km(t[l])&&km(a[l])?(t[l]={},a[l].__swiper__?t[l]=a[l]:Sm(t[l],a[l])):t[l]=a[l])}}return t}function Tm(e,t){Object.keys(t).forEach((function(n){km(t[n])&&Object.keys(t[n]).forEach((function(r){"function"==typeof t[n][r]&&(t[n][r]=t[n][r].bind(e))})),e[n]=t[n]}))}function Om(e){return void 0===e&&(e=""),"."+e.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}function Im(e,t,n,r){var a=mu();return n&&Object.keys(r).forEach((function(n){if(!t[n]&&!0===t.auto){var o=a.createElement("div");o.className=r[n],e.append(o),t[n]=o}})),t}function Nm(){return gm||(gm=function(){var e=bu(),t=mu();return{touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch),pointerEvents:!!e.PointerEvent&&"maxTouchPoints"in e.navigator&&e.navigator.maxTouchPoints>=0,observer:"MutationObserver"in e||"WebkitMutationObserver"in e,passiveListener:function(){var t=!1;try{var n=Object.defineProperty({},"passive",{get:function(){t=!0}});e.addEventListener("testPassiveListener",null,n)}catch(e){}return t}(),gestures:"ongesturestart"in e}}()),gm}function Am(e){return void 0===e&&(e={}),bm||(bm=function(e){var t=(void 0===e?{}:e).userAgent,n=Nm(),r=bu(),a=r.navigator.platform,o=t||r.navigator.userAgent,i={ios:!1,android:!1},s=r.screen.width,l=r.screen.height,u=o.match(/(Android);?[\s\/]+([\d.]+)?/),c=o.match(/(iPad).*OS\s([\d_]+)/),p=o.match(/(iPod)(.*OS\s([\d_]+))?/),d=!c&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),f="Win32"===a,h="MacIntel"===a;return!c&&h&&n.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(s+"x"+l)>=0&&((c=o.match(/(Version)\/([\d.]+)/))||(c=[0,1,"13_0_0"]),h=!1),u&&!f&&(i.os="android",i.android=!0),(c||d||p)&&(i.os="ios",i.ios=!0),i}(e)),bm}function _m(){return ym||(ym=function(){var e,t=bu();return{isEdge:!!t.navigator.userAgent.match(/Edge/g),isSafari:(e=t.navigator.userAgent.toLowerCase(),e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}()),ym}var Rm={name:"resize",create:function(){var e=this;Sm(e,{resize:{observer:null,createObserver:function(){e&&!e.destroyed&&e.initialized&&(e.resize.observer=new ResizeObserver((function(t){var n=e.width,r=e.height,a=n,o=r;t.forEach((function(t){var n=t.contentBoxSize,r=t.contentRect,i=t.target;i&&i!==e.el||(a=r?r.width:(n[0]||n).inlineSize,o=r?r.height:(n[0]||n).blockSize)})),a===n&&o===r||e.resize.resizeHandler()})),e.resize.observer.observe(e.el))},removeObserver:function(){e.resize.observer&&e.resize.observer.unobserve&&e.el&&(e.resize.observer.unobserve(e.el),e.resize.observer=null)},resizeHandler:function(){e&&!e.destroyed&&e.initialized&&(e.emit("beforeResize"),e.emit("resize"))},orientationChangeHandler:function(){e&&!e.destroyed&&e.initialized&&e.emit("orientationchange")}}})},on:{init:function(e){var t=bu();e.params.resizeObserver&&void 0!==bu().ResizeObserver?e.resize.createObserver():(t.addEventListener("resize",e.resize.resizeHandler),t.addEventListener("orientationchange",e.resize.orientationChangeHandler))},destroy:function(e){var t=bu();e.resize.removeObserver(),t.removeEventListener("resize",e.resize.resizeHandler),t.removeEventListener("orientationchange",e.resize.orientationChangeHandler)}}};function Mm(){return Mm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mm.apply(this,arguments)}var Pm={attach:function(e,t){void 0===t&&(t={});var n=bu(),r=this,a=new(n.MutationObserver||n.WebkitMutationObserver)((function(e){if(1!==e.length){var t=function(){r.emit("observerUpdate",e[0])};n.requestAnimationFrame?n.requestAnimationFrame(t):n.setTimeout(t,0)}else r.emit("observerUpdate",e[0])}));a.observe(e,{attributes:void 0===t.attributes||t.attributes,childList:void 0===t.childList||t.childList,characterData:void 0===t.characterData||t.characterData}),r.observer.observers.push(a)},init:function(){var e=this;if(e.support.observer&&e.params.observer){if(e.params.observeParents)for(var t=e.$el.parents(),n=0;n<t.length;n+=1)e.observer.attach(t[n]);e.observer.attach(e.$el[0],{childList:e.params.observeSlideChildren}),e.observer.attach(e.$wrapperEl[0],{attributes:!1})}},destroy:function(){this.observer.observers.forEach((function(e){e.disconnect()})),this.observer.observers=[]}},Dm={name:"observer",params:{observer:!1,observeParents:!1,observeSlideChildren:!1},create:function(){Tm(this,{observer:Mm({},Pm,{observers:[]})})},on:{init:function(e){e.observer.init()},destroy:function(e){e.observer.destroy()}}},Bm={on:function(e,t,n){var r=this;if("function"!=typeof t)return r;var a=n?"unshift":"push";return e.split(" ").forEach((function(e){r.eventsListeners[e]||(r.eventsListeners[e]=[]),r.eventsListeners[e][a](t)})),r},once:function(e,t,n){var r=this;if("function"!=typeof t)return r;function a(){r.off(e,a),a.__emitterProxy&&delete a.__emitterProxy;for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];t.apply(r,o)}return a.__emitterProxy=t,r.on(e,a,n)},onAny:function(e,t){var n=this;if("function"!=typeof e)return n;var r=t?"unshift":"push";return n.eventsAnyListeners.indexOf(e)<0&&n.eventsAnyListeners[r](e),n},offAny:function(e){var t=this;if(!t.eventsAnyListeners)return t;var n=t.eventsAnyListeners.indexOf(e);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off:function(e,t){var n=this;return n.eventsListeners?(e.split(" ").forEach((function(e){void 0===t?n.eventsListeners[e]=[]:n.eventsListeners[e]&&n.eventsListeners[e].forEach((function(r,a){(r===t||r.__emitterProxy&&r.__emitterProxy===t)&&n.eventsListeners[e].splice(a,1)}))})),n):n},emit:function(){var e,t,n,r=this;if(!r.eventsListeners)return r;for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return"string"==typeof o[0]||Array.isArray(o[0])?(e=o[0],t=o.slice(1,o.length),n=r):(e=o[0].events,t=o[0].data,n=o[0].context||r),t.unshift(n),(Array.isArray(e)?e:e.split(" ")).forEach((function(e){r.eventsAnyListeners&&r.eventsAnyListeners.length&&r.eventsAnyListeners.forEach((function(r){r.apply(n,[e].concat(t))})),r.eventsListeners&&r.eventsListeners[e]&&r.eventsListeners[e].forEach((function(e){e.apply(n,t)}))})),r}};var Lm={updateSize:function(){var e,t,n=this,r=n.$el;e=void 0!==n.params.width&&null!==n.params.width?n.params.width:r[0].clientWidth,t=void 0!==n.params.height&&null!==n.params.height?n.params.height:r[0].clientHeight,0===e&&n.isHorizontal()||0===t&&n.isVertical()||(e=e-parseInt(r.css("padding-left")||0,10)-parseInt(r.css("padding-right")||0,10),t=t-parseInt(r.css("padding-top")||0,10)-parseInt(r.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Sm(n,{width:e,height:t,size:n.isHorizontal()?e:t}))},updateSlides:function(){var e=this;function t(t){return e.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}function n(e,n){return parseFloat(e.getPropertyValue(t(n))||0)}var r=e.params,a=e.$wrapperEl,o=e.size,i=e.rtlTranslate,s=e.wrongRTL,l=e.virtual&&r.virtual.enabled,u=l?e.virtual.slides.length:e.slides.length,c=a.children("."+e.params.slideClass),p=l?e.virtual.slides.length:c.length,d=[],f=[],h=[],v=r.slidesOffsetBefore;"function"==typeof v&&(v=r.slidesOffsetBefore.call(e));var m=r.slidesOffsetAfter;"function"==typeof m&&(m=r.slidesOffsetAfter.call(e));var g=e.snapGrid.length,b=e.slidesGrid.length,y=r.spaceBetween,w=-v,x=0,C=0;if(void 0!==o){var E,k;"string"==typeof y&&y.indexOf("%")>=0&&(y=parseFloat(y.replace("%",""))/100*o),e.virtualSize=-y,i?c.css({marginLeft:"",marginBottom:"",marginTop:""}):c.css({marginRight:"",marginBottom:"",marginTop:""}),r.slidesPerColumn>1&&(E=Math.floor(p/r.slidesPerColumn)===p/e.params.slidesPerColumn?p:Math.ceil(p/r.slidesPerColumn)*r.slidesPerColumn,"auto"!==r.slidesPerView&&"row"===r.slidesPerColumnFill&&(E=Math.max(E,r.slidesPerView*r.slidesPerColumn)));for(var S,T,O,I=r.slidesPerColumn,N=E/I,A=Math.floor(p/r.slidesPerColumn),_=0;_<p;_+=1){k=0;var R=c.eq(_);if(r.slidesPerColumn>1){var M=void 0,P=void 0,D=void 0;if("row"===r.slidesPerColumnFill&&r.slidesPerGroup>1){var B=Math.floor(_/(r.slidesPerGroup*r.slidesPerColumn)),L=_-r.slidesPerColumn*r.slidesPerGroup*B,z=0===B?r.slidesPerGroup:Math.min(Math.ceil((p-B*I*r.slidesPerGroup)/I),r.slidesPerGroup);M=(P=L-(D=Math.floor(L/z))*z+B*r.slidesPerGroup)+D*E/I,R.css({"-webkit-box-ordinal-group":M,"-moz-box-ordinal-group":M,"-ms-flex-order":M,"-webkit-order":M,order:M})}else"column"===r.slidesPerColumnFill?(D=_-(P=Math.floor(_/I))*I,(P>A||P===A&&D===I-1)&&(D+=1)>=I&&(D=0,P+=1)):P=_-(D=Math.floor(_/N))*N;R.css(t("margin-top"),0!==D?r.spaceBetween&&r.spaceBetween+"px":"")}if("none"!==R.css("display")){if("auto"===r.slidesPerView){var F=getComputedStyle(R[0]),$=R[0].style.transform,V=R[0].style.webkitTransform;if($&&(R[0].style.transform="none"),V&&(R[0].style.webkitTransform="none"),r.roundLengths)k=e.isHorizontal()?R.outerWidth(!0):R.outerHeight(!0);else{var j=n(F,"width"),H=n(F,"padding-left"),W=n(F,"padding-right"),U=n(F,"margin-left"),q=n(F,"margin-right"),G=F.getPropertyValue("box-sizing");if(G&&"border-box"===G)k=j+U+q;else{var X=R[0],Y=X.clientWidth;k=j+H+W+U+q+(X.offsetWidth-Y)}}$&&(R[0].style.transform=$),V&&(R[0].style.webkitTransform=V),r.roundLengths&&(k=Math.floor(k))}else k=(o-(r.slidesPerView-1)*y)/r.slidesPerView,r.roundLengths&&(k=Math.floor(k)),c[_]&&(c[_].style[t("width")]=k+"px");c[_]&&(c[_].swiperSlideSize=k),h.push(k),r.centeredSlides?(w=w+k/2+x/2+y,0===x&&0!==_&&(w=w-o/2-y),0===_&&(w=w-o/2-y),Math.abs(w)<.001&&(w=0),r.roundLengths&&(w=Math.floor(w)),C%r.slidesPerGroup==0&&d.push(w),f.push(w)):(r.roundLengths&&(w=Math.floor(w)),(C-Math.min(e.params.slidesPerGroupSkip,C))%e.params.slidesPerGroup==0&&d.push(w),f.push(w),w=w+k+y),e.virtualSize+=k+y,x=k,C+=1}}if(e.virtualSize=Math.max(e.virtualSize,o)+m,i&&s&&("slide"===r.effect||"coverflow"===r.effect)&&a.css({width:e.virtualSize+r.spaceBetween+"px"}),r.setWrapperSize)a.css(((T={})[t("width")]=e.virtualSize+r.spaceBetween+"px",T));if(r.slidesPerColumn>1)if(e.virtualSize=(k+r.spaceBetween)*E,e.virtualSize=Math.ceil(e.virtualSize/r.slidesPerColumn)-r.spaceBetween,a.css(((O={})[t("width")]=e.virtualSize+r.spaceBetween+"px",O)),r.centeredSlides){S=[];for(var K=0;K<d.length;K+=1){var J=d[K];r.roundLengths&&(J=Math.floor(J)),d[K]<e.virtualSize+d[0]&&S.push(J)}d=S}if(!r.centeredSlides){S=[];for(var Q=0;Q<d.length;Q+=1){var Z=d[Q];r.roundLengths&&(Z=Math.floor(Z)),d[Q]<=e.virtualSize-o&&S.push(Z)}d=S,Math.floor(e.virtualSize-o)-Math.floor(d[d.length-1])>1&&d.push(e.virtualSize-o)}if(0===d.length&&(d=[0]),0!==r.spaceBetween){var ee,te=e.isHorizontal()&&i?"marginLeft":t("marginRight");c.filter((function(e,t){return!r.cssMode||t!==c.length-1})).css(((ee={})[te]=y+"px",ee))}if(r.centeredSlides&&r.centeredSlidesBounds){var ne=0;h.forEach((function(e){ne+=e+(r.spaceBetween?r.spaceBetween:0)}));var re=(ne-=r.spaceBetween)-o;d=d.map((function(e){return e<0?-v:e>re?re+m:e}))}if(r.centerInsufficientSlides){var ae=0;if(h.forEach((function(e){ae+=e+(r.spaceBetween?r.spaceBetween:0)})),(ae-=r.spaceBetween)<o){var oe=(o-ae)/2;d.forEach((function(e,t){d[t]=e-oe})),f.forEach((function(e,t){f[t]=e+oe}))}}Sm(e,{slides:c,snapGrid:d,slidesGrid:f,slidesSizesGrid:h}),p!==u&&e.emit("slidesLengthChange"),d.length!==g&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),f.length!==b&&e.emit("slidesGridLengthChange"),(r.watchSlidesProgress||r.watchSlidesVisibility)&&e.updateSlidesOffset()}},updateAutoHeight:function(e){var t,n=this,r=[],a=n.virtual&&n.params.virtual.enabled,o=0;"number"==typeof e?n.setTransition(e):!0===e&&n.setTransition(n.params.speed);var i=function(e){return a?n.slides.filter((function(t){return parseInt(t.getAttribute("data-swiper-slide-index"),10)===e}))[0]:n.slides.eq(e)[0]};if("auto"!==n.params.slidesPerView&&n.params.slidesPerView>1)if(n.params.centeredSlides)n.visibleSlides.each((function(e){r.push(e)}));else for(t=0;t<Math.ceil(n.params.slidesPerView);t+=1){var s=n.activeIndex+t;if(s>n.slides.length&&!a)break;r.push(i(s))}else r.push(i(n.activeIndex));for(t=0;t<r.length;t+=1)if(void 0!==r[t]){var l=r[t].offsetHeight;o=l>o?l:o}o&&n.$wrapperEl.css("height",o+"px")},updateSlidesOffset:function(){for(var e=this.slides,t=0;t<e.length;t+=1)e[t].swiperSlideOffset=this.isHorizontal()?e[t].offsetLeft:e[t].offsetTop},updateSlidesProgress:function(e){void 0===e&&(e=this&&this.translate||0);var t=this,n=t.params,r=t.slides,a=t.rtlTranslate;if(0!==r.length){void 0===r[0].swiperSlideOffset&&t.updateSlidesOffset();var o=-e;a&&(o=e),r.removeClass(n.slideVisibleClass),t.visibleSlidesIndexes=[],t.visibleSlides=[];for(var i=0;i<r.length;i+=1){var s=r[i],l=(o+(n.centeredSlides?t.minTranslate():0)-s.swiperSlideOffset)/(s.swiperSlideSize+n.spaceBetween);if(n.watchSlidesVisibility||n.centeredSlides&&n.autoHeight){var u=-(o-s.swiperSlideOffset),c=u+t.slidesSizesGrid[i];(u>=0&&u<t.size-1||c>1&&c<=t.size||u<=0&&c>=t.size)&&(t.visibleSlides.push(s),t.visibleSlidesIndexes.push(i),r.eq(i).addClass(n.slideVisibleClass))}s.progress=a?-l:l}t.visibleSlides=wm(t.visibleSlides)}},updateProgress:function(e){var t=this;if(void 0===e){var n=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*n||0}var r=t.params,a=t.maxTranslate()-t.minTranslate(),o=t.progress,i=t.isBeginning,s=t.isEnd,l=i,u=s;0===a?(o=0,i=!0,s=!0):(i=(o=(e-t.minTranslate())/a)<=0,s=o>=1),Sm(t,{progress:o,isBeginning:i,isEnd:s}),(r.watchSlidesProgress||r.watchSlidesVisibility||r.centeredSlides&&r.autoHeight)&&t.updateSlidesProgress(e),i&&!l&&t.emit("reachBeginning toEdge"),s&&!u&&t.emit("reachEnd toEdge"),(l&&!i||u&&!s)&&t.emit("fromEdge"),t.emit("progress",o)},updateSlidesClasses:function(){var e,t=this,n=t.slides,r=t.params,a=t.$wrapperEl,o=t.activeIndex,i=t.realIndex,s=t.virtual&&r.virtual.enabled;n.removeClass(r.slideActiveClass+" "+r.slideNextClass+" "+r.slidePrevClass+" "+r.slideDuplicateActiveClass+" "+r.slideDuplicateNextClass+" "+r.slideDuplicatePrevClass),(e=s?t.$wrapperEl.find("."+r.slideClass+'[data-swiper-slide-index="'+o+'"]'):n.eq(o)).addClass(r.slideActiveClass),r.loop&&(e.hasClass(r.slideDuplicateClass)?a.children("."+r.slideClass+":not(."+r.slideDuplicateClass+')[data-swiper-slide-index="'+i+'"]').addClass(r.slideDuplicateActiveClass):a.children("."+r.slideClass+"."+r.slideDuplicateClass+'[data-swiper-slide-index="'+i+'"]').addClass(r.slideDuplicateActiveClass));var l=e.nextAll("."+r.slideClass).eq(0).addClass(r.slideNextClass);r.loop&&0===l.length&&(l=n.eq(0)).addClass(r.slideNextClass);var u=e.prevAll("."+r.slideClass).eq(0).addClass(r.slidePrevClass);r.loop&&0===u.length&&(u=n.eq(-1)).addClass(r.slidePrevClass),r.loop&&(l.hasClass(r.slideDuplicateClass)?a.children("."+r.slideClass+":not(."+r.slideDuplicateClass+')[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(r.slideDuplicateNextClass):a.children("."+r.slideClass+"."+r.slideDuplicateClass+'[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(r.slideDuplicateNextClass),u.hasClass(r.slideDuplicateClass)?a.children("."+r.slideClass+":not(."+r.slideDuplicateClass+')[data-swiper-slide-index="'+u.attr("data-swiper-slide-index")+'"]').addClass(r.slideDuplicatePrevClass):a.children("."+r.slideClass+"."+r.slideDuplicateClass+'[data-swiper-slide-index="'+u.attr("data-swiper-slide-index")+'"]').addClass(r.slideDuplicatePrevClass)),t.emitSlidesClasses()},updateActiveIndex:function(e){var t,n=this,r=n.rtlTranslate?n.translate:-n.translate,a=n.slidesGrid,o=n.snapGrid,i=n.params,s=n.activeIndex,l=n.realIndex,u=n.snapIndex,c=e;if(void 0===c){for(var p=0;p<a.length;p+=1)void 0!==a[p+1]?r>=a[p]&&r<a[p+1]-(a[p+1]-a[p])/2?c=p:r>=a[p]&&r<a[p+1]&&(c=p+1):r>=a[p]&&(c=p);i.normalizeSlideIndex&&(c<0||void 0===c)&&(c=0)}if(o.indexOf(r)>=0)t=o.indexOf(r);else{var d=Math.min(i.slidesPerGroupSkip,c);t=d+Math.floor((c-d)/i.slidesPerGroup)}if(t>=o.length&&(t=o.length-1),c!==s){var f=parseInt(n.slides.eq(c).attr("data-swiper-slide-index")||c,10);Sm(n,{snapIndex:t,realIndex:f,previousIndex:s,activeIndex:c}),n.emit("activeIndexChange"),n.emit("snapIndexChange"),l!==f&&n.emit("realIndexChange"),(n.initialized||n.params.runCallbacksOnInit)&&n.emit("slideChange")}else t!==u&&(n.snapIndex=t,n.emit("snapIndexChange"))},updateClickedSlide:function(e){var t,n=this,r=n.params,a=wm(e.target).closest("."+r.slideClass)[0],o=!1;if(a)for(var i=0;i<n.slides.length;i+=1)if(n.slides[i]===a){o=!0,t=i;break}if(!a||!o)return n.clickedSlide=void 0,void(n.clickedIndex=void 0);n.clickedSlide=a,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(wm(a).attr("data-swiper-slide-index"),10):n.clickedIndex=t,r.slideToClickedSlide&&void 0!==n.clickedIndex&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}};var zm={getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");var t=this,n=t.params,r=t.rtlTranslate,a=t.translate,o=t.$wrapperEl;if(n.virtualTranslate)return r?-a:a;if(n.cssMode)return a;var i=Em(o[0],e);return r&&(i=-i),i||0},setTranslate:function(e,t){var n=this,r=n.rtlTranslate,a=n.params,o=n.$wrapperEl,i=n.wrapperEl,s=n.progress,l=0,u=0;n.isHorizontal()?l=r?-e:e:u=e,a.roundLengths&&(l=Math.floor(l),u=Math.floor(u)),a.cssMode?i[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-u:a.virtualTranslate||o.transform("translate3d("+l+"px, "+u+"px, 0px)"),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:u;var c=n.maxTranslate()-n.minTranslate();(0===c?0:(e-n.minTranslate())/c)!==s&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e,t,n,r,a){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0),void 0===r&&(r=!0);var o=this,i=o.params,s=o.wrapperEl;if(o.animating&&i.preventInteractionOnTransition)return!1;var l,u=o.minTranslate(),c=o.maxTranslate();if(l=r&&e>u?u:r&&e<c?c:e,o.updateProgress(l),i.cssMode){var p,d=o.isHorizontal();if(0===t)s[d?"scrollLeft":"scrollTop"]=-l;else if(s.scrollTo)s.scrollTo(((p={})[d?"left":"top"]=-l,p.behavior="smooth",p));else s[d?"scrollLeft":"scrollTop"]=-l;return!0}return 0===t?(o.setTransition(0),o.setTranslate(l),n&&(o.emit("beforeTransitionStart",t,a),o.emit("transitionEnd"))):(o.setTransition(t),o.setTranslate(l),n&&(o.emit("beforeTransitionStart",t,a),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(e){o&&!o.destroyed&&e.target===this&&(o.$wrapperEl[0].removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.$wrapperEl[0].removeEventListener("webkitTransitionEnd",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,n&&o.emit("transitionEnd"))}),o.$wrapperEl[0].addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.$wrapperEl[0].addEventListener("webkitTransitionEnd",o.onTranslateToWrapperTransitionEnd))),!0}};var Fm={setTransition:function(e,t){var n=this;n.params.cssMode||n.$wrapperEl.transition(e),n.emit("setTransition",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);var n=this,r=n.activeIndex,a=n.params,o=n.previousIndex;if(!a.cssMode){a.autoHeight&&n.updateAutoHeight();var i=t;if(i||(i=r>o?"next":r<o?"prev":"reset"),n.emit("transitionStart"),e&&r!==o){if("reset"===i)return void n.emit("slideResetTransitionStart");n.emit("slideChangeTransitionStart"),"next"===i?n.emit("slideNextTransitionStart"):n.emit("slidePrevTransitionStart")}}},transitionEnd:function(e,t){void 0===e&&(e=!0);var n=this,r=n.activeIndex,a=n.previousIndex,o=n.params;if(n.animating=!1,!o.cssMode){n.setTransition(0);var i=t;if(i||(i=r>a?"next":r<a?"prev":"reset"),n.emit("transitionEnd"),e&&r!==a){if("reset"===i)return void n.emit("slideResetTransitionEnd");n.emit("slideChangeTransitionEnd"),"next"===i?n.emit("slideNextTransitionEnd"):n.emit("slidePrevTransitionEnd")}}}};var $m={slideTo:function(e,t,n,r,a){if(void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0),"number"!=typeof e&&"string"!=typeof e)throw new Error("The 'index' argument cannot have type other than 'number' or 'string'. ["+typeof e+"] given.");if("string"==typeof e){var o=parseInt(e,10);if(!isFinite(o))throw new Error("The passed-in 'index' (string) couldn't be converted to 'number'. ["+e+"] given.");e=o}var i=this,s=e;s<0&&(s=0);var l=i.params,u=i.snapGrid,c=i.slidesGrid,p=i.previousIndex,d=i.activeIndex,f=i.rtlTranslate,h=i.wrapperEl,v=i.enabled;if(i.animating&&l.preventInteractionOnTransition||!v&&!r&&!a)return!1;var m=Math.min(i.params.slidesPerGroupSkip,s),g=m+Math.floor((s-m)/i.params.slidesPerGroup);g>=u.length&&(g=u.length-1),(d||l.initialSlide||0)===(p||0)&&n&&i.emit("beforeSlideChangeStart");var b,y=-u[g];if(i.updateProgress(y),l.normalizeSlideIndex)for(var w=0;w<c.length;w+=1){var x=-Math.floor(100*y),C=Math.floor(100*c[w]),E=Math.floor(100*c[w+1]);void 0!==c[w+1]?x>=C&&x<E-(E-C)/2?s=w:x>=C&&x<E&&(s=w+1):x>=C&&(s=w)}if(i.initialized&&s!==d){if(!i.allowSlideNext&&y<i.translate&&y<i.minTranslate())return!1;if(!i.allowSlidePrev&&y>i.translate&&y>i.maxTranslate()&&(d||0)!==s)return!1}if(b=s>d?"next":s<d?"prev":"reset",f&&-y===i.translate||!f&&y===i.translate)return i.updateActiveIndex(s),l.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),"slide"!==l.effect&&i.setTranslate(y),"reset"!==b&&(i.transitionStart(n,b),i.transitionEnd(n,b)),!1;if(l.cssMode){var k,S=i.isHorizontal(),T=-y;if(f&&(T=h.scrollWidth-h.offsetWidth-T),0===t)h[S?"scrollLeft":"scrollTop"]=T;else if(h.scrollTo)h.scrollTo(((k={})[S?"left":"top"]=T,k.behavior="smooth",k));else h[S?"scrollLeft":"scrollTop"]=T;return!0}return 0===t?(i.setTransition(0),i.setTranslate(y),i.updateActiveIndex(s),i.updateSlidesClasses(),i.emit("beforeTransitionStart",t,r),i.transitionStart(n,b),i.transitionEnd(n,b)):(i.setTransition(t),i.setTranslate(y),i.updateActiveIndex(s),i.updateSlidesClasses(),i.emit("beforeTransitionStart",t,r),i.transitionStart(n,b),i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(e){i&&!i.destroyed&&e.target===this&&(i.$wrapperEl[0].removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.$wrapperEl[0].removeEventListener("webkitTransitionEnd",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(n,b))}),i.$wrapperEl[0].addEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.$wrapperEl[0].addEventListener("webkitTransitionEnd",i.onSlideToWrapperTransitionEnd))),!0},slideToLoop:function(e,t,n,r){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0);var a=this,o=e;return a.params.loop&&(o+=a.loopedSlides),a.slideTo(o,t,n,r)},slideNext:function(e,t,n){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var r=this,a=r.params,o=r.animating;if(!r.enabled)return r;var i=r.activeIndex<a.slidesPerGroupSkip?1:a.slidesPerGroup;if(a.loop){if(o&&a.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}return r.slideTo(r.activeIndex+i,e,t,n)},slidePrev:function(e,t,n){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var r=this,a=r.params,o=r.animating,i=r.snapGrid,s=r.slidesGrid,l=r.rtlTranslate;if(!r.enabled)return r;if(a.loop){if(o&&a.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}function u(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}var c,p=u(l?r.translate:-r.translate),d=i.map((function(e){return u(e)})),f=i[d.indexOf(p)-1];return void 0===f&&a.cssMode&&i.forEach((function(e){!f&&p>=e&&(f=e)})),void 0!==f&&(c=s.indexOf(f))<0&&(c=r.activeIndex-1),r.slideTo(c,e,t,n)},slideReset:function(e,t,n){return void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),this.slideTo(this.activeIndex,e,t,n)},slideToClosest:function(e,t,n,r){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),void 0===r&&(r=.5);var a=this,o=a.activeIndex,i=Math.min(a.params.slidesPerGroupSkip,o),s=i+Math.floor((o-i)/a.params.slidesPerGroup),l=a.rtlTranslate?a.translate:-a.translate;if(l>=a.snapGrid[s]){var u=a.snapGrid[s];l-u>(a.snapGrid[s+1]-u)*r&&(o+=a.params.slidesPerGroup)}else{var c=a.snapGrid[s-1];l-c<=(a.snapGrid[s]-c)*r&&(o-=a.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,a.slidesGrid.length-1),a.slideTo(o,e,t,n)},slideToClickedSlide:function(){var e,t=this,n=t.params,r=t.$wrapperEl,a="auto"===n.slidesPerView?t.slidesPerViewDynamic():n.slidesPerView,o=t.clickedIndex;if(n.loop){if(t.animating)return;e=parseInt(wm(t.clickedSlide).attr("data-swiper-slide-index"),10),n.centeredSlides?o<t.loopedSlides-a/2||o>t.slides.length-t.loopedSlides+a/2?(t.loopFix(),o=r.children("."+n.slideClass+'[data-swiper-slide-index="'+e+'"]:not(.'+n.slideDuplicateClass+")").eq(0).index(),xm((function(){t.slideTo(o)}))):t.slideTo(o):o>t.slides.length-a?(t.loopFix(),o=r.children("."+n.slideClass+'[data-swiper-slide-index="'+e+'"]:not(.'+n.slideDuplicateClass+")").eq(0).index(),xm((function(){t.slideTo(o)}))):t.slideTo(o)}else t.slideTo(o)}};var Vm={loopCreate:function(){var e=this,t=mu(),n=e.params,r=e.$wrapperEl;r.children("."+n.slideClass+"."+n.slideDuplicateClass).remove();var a=r.children("."+n.slideClass);if(n.loopFillGroupWithBlank){var o=n.slidesPerGroup-a.length%n.slidesPerGroup;if(o!==n.slidesPerGroup){for(var i=0;i<o;i+=1){var s=wm(t.createElement("div")).addClass(n.slideClass+" "+n.slideBlankClass);r.append(s)}a=r.children("."+n.slideClass)}}"auto"!==n.slidesPerView||n.loopedSlides||(n.loopedSlides=a.length),e.loopedSlides=Math.ceil(parseFloat(n.loopedSlides||n.slidesPerView,10)),e.loopedSlides+=n.loopAdditionalSlides,e.loopedSlides>a.length&&(e.loopedSlides=a.length);var l=[],u=[];a.each((function(t,n){var r=wm(t);n<e.loopedSlides&&u.push(t),n<a.length&&n>=a.length-e.loopedSlides&&l.push(t),r.attr("data-swiper-slide-index",n)}));for(var c=0;c<u.length;c+=1)r.append(wm(u[c].cloneNode(!0)).addClass(n.slideDuplicateClass));for(var p=l.length-1;p>=0;p-=1)r.prepend(wm(l[p].cloneNode(!0)).addClass(n.slideDuplicateClass))},loopFix:function(){var e=this;e.emit("beforeLoopFix");var t,n=e.activeIndex,r=e.slides,a=e.loopedSlides,o=e.allowSlidePrev,i=e.allowSlideNext,s=e.snapGrid,l=e.rtlTranslate;e.allowSlidePrev=!0,e.allowSlideNext=!0;var u=-s[n]-e.getTranslate();if(n<a)t=r.length-3*a+n,t+=a,e.slideTo(t,0,!1,!0)&&0!==u&&e.setTranslate((l?-e.translate:e.translate)-u);else if(n>=r.length-a){t=-r.length+n+a,t+=a,e.slideTo(t,0,!1,!0)&&0!==u&&e.setTranslate((l?-e.translate:e.translate)-u)}e.allowSlidePrev=o,e.allowSlideNext=i,e.emit("loopFix")},loopDestroy:function(){var e=this,t=e.$wrapperEl,n=e.params,r=e.slides;t.children("."+n.slideClass+"."+n.slideDuplicateClass+",."+n.slideClass+"."+n.slideBlankClass).remove(),r.removeAttr("data-swiper-slide-index")}};var jm={setGrabCursor:function(e){var t=this;if(!(t.support.touch||!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)){var n=t.el;n.style.cursor="move",n.style.cursor=e?"-webkit-grabbing":"-webkit-grab",n.style.cursor=e?"-moz-grabbin":"-moz-grab",n.style.cursor=e?"grabbing":"grab"}},unsetGrabCursor:function(){var e=this;e.support.touch||e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.el.style.cursor="")}};var Hm={appendSlide:function(e){var t=this,n=t.$wrapperEl,r=t.params;if(r.loop&&t.loopDestroy(),"object"==typeof e&&"length"in e)for(var a=0;a<e.length;a+=1)e[a]&&n.append(e[a]);else n.append(e);r.loop&&t.loopCreate(),r.observer&&t.support.observer||t.update()},prependSlide:function(e){var t=this,n=t.params,r=t.$wrapperEl,a=t.activeIndex;n.loop&&t.loopDestroy();var o=a+1;if("object"==typeof e&&"length"in e){for(var i=0;i<e.length;i+=1)e[i]&&r.prepend(e[i]);o=a+e.length}else r.prepend(e);n.loop&&t.loopCreate(),n.observer&&t.support.observer||t.update(),t.slideTo(o,0,!1)},addSlide:function(e,t){var n=this,r=n.$wrapperEl,a=n.params,o=n.activeIndex;a.loop&&(o-=n.loopedSlides,n.loopDestroy(),n.slides=r.children("."+a.slideClass));var i=n.slides.length;if(e<=0)n.prependSlide(t);else if(e>=i)n.appendSlide(t);else{for(var s=o>e?o+1:o,l=[],u=i-1;u>=e;u-=1){var c=n.slides.eq(u);c.remove(),l.unshift(c)}if("object"==typeof t&&"length"in t){for(var p=0;p<t.length;p+=1)t[p]&&r.append(t[p]);s=o>e?o+t.length:o}else r.append(t);for(var d=0;d<l.length;d+=1)r.append(l[d]);a.loop&&n.loopCreate(),a.observer&&n.support.observer||n.update(),a.loop?n.slideTo(s+n.loopedSlides,0,!1):n.slideTo(s,0,!1)}},removeSlide:function(e){var t=this,n=t.params,r=t.$wrapperEl,a=t.activeIndex;n.loop&&(a-=t.loopedSlides,t.loopDestroy(),t.slides=r.children("."+n.slideClass));var o,i=a;if("object"==typeof e&&"length"in e){for(var s=0;s<e.length;s+=1)o=e[s],t.slides[o]&&t.slides.eq(o).remove(),o<i&&(i-=1);i=Math.max(i,0)}else o=e,t.slides[o]&&t.slides.eq(o).remove(),o<i&&(i-=1),i=Math.max(i,0);n.loop&&t.loopCreate(),n.observer&&t.support.observer||t.update(),n.loop?t.slideTo(i+t.loopedSlides,0,!1):t.slideTo(i,0,!1)},removeAllSlides:function(){for(var e=[],t=0;t<this.slides.length;t+=1)e.push(t);this.removeSlide(e)}};function Wm(e){var t=this,n=mu(),r=bu(),a=t.touchEventsData,o=t.params,i=t.touches;if(t.enabled&&(!t.animating||!o.preventInteractionOnTransition)){var s=e;s.originalEvent&&(s=s.originalEvent);var l=wm(s.target);if(("wrapper"!==o.touchEventsTarget||l.closest(t.wrapperEl).length)&&(a.isTouchEvent="touchstart"===s.type,(a.isTouchEvent||!("which"in s)||3!==s.which)&&!(!a.isTouchEvent&&"button"in s&&s.button>0||a.isTouched&&a.isMoved))){!!o.noSwipingClass&&""!==o.noSwipingClass&&s.target&&s.target.shadowRoot&&e.path&&e.path[0]&&(l=wm(e.path[0]));var u=o.noSwipingSelector?o.noSwipingSelector:"."+o.noSwipingClass,c=!(!s.target||!s.target.shadowRoot);if(o.noSwiping&&(c?function(e,t){return void 0===t&&(t=this),function t(n){return n&&n!==mu()&&n!==bu()?(n.assignedSlot&&(n=n.assignedSlot),n.closest(e)||t(n.getRootNode().host)):null}(t)}(u,s.target):l.closest(u)[0]))t.allowClick=!0;else if(!o.swipeHandler||l.closest(o.swipeHandler)[0]){i.currentX="touchstart"===s.type?s.targetTouches[0].pageX:s.pageX,i.currentY="touchstart"===s.type?s.targetTouches[0].pageY:s.pageY;var p=i.currentX,d=i.currentY,f=o.edgeSwipeDetection||o.iOSEdgeSwipeDetection,h=o.edgeSwipeThreshold||o.iOSEdgeSwipeThreshold;if(f&&(p<=h||p>=r.innerWidth-h)){if("prevent"!==f)return;e.preventDefault()}if(Sm(a,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),i.startX=p,i.startY=d,a.touchStartTime=Cm(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,o.threshold>0&&(a.allowThresholdMove=!1),"touchstart"!==s.type){var v=!0;l.is(a.focusableElements)&&(v=!1),n.activeElement&&wm(n.activeElement).is(a.focusableElements)&&n.activeElement!==l[0]&&n.activeElement.blur();var m=v&&t.allowTouchMove&&o.touchStartPreventDefault;!o.touchStartForcePreventDefault&&!m||l[0].isContentEditable||s.preventDefault()}t.emit("touchStart",s)}}}}function Um(e){var t=mu(),n=this,r=n.touchEventsData,a=n.params,o=n.touches,i=n.rtlTranslate;if(n.enabled){var s=e;if(s.originalEvent&&(s=s.originalEvent),r.isTouched){if(!r.isTouchEvent||"touchmove"===s.type){var l="touchmove"===s.type&&s.targetTouches&&(s.targetTouches[0]||s.changedTouches[0]),u="touchmove"===s.type?l.pageX:s.pageX,c="touchmove"===s.type?l.pageY:s.pageY;if(s.preventedByNestedSwiper)return o.startX=u,void(o.startY=c);if(!n.allowTouchMove)return n.allowClick=!1,void(r.isTouched&&(Sm(o,{startX:u,startY:c,currentX:u,currentY:c}),r.touchStartTime=Cm()));if(r.isTouchEvent&&a.touchReleaseOnEdges&&!a.loop)if(n.isVertical()){if(c<o.startY&&n.translate<=n.maxTranslate()||c>o.startY&&n.translate>=n.minTranslate())return r.isTouched=!1,void(r.isMoved=!1)}else if(u<o.startX&&n.translate<=n.maxTranslate()||u>o.startX&&n.translate>=n.minTranslate())return;if(r.isTouchEvent&&t.activeElement&&s.target===t.activeElement&&wm(s.target).is(r.focusableElements))return r.isMoved=!0,void(n.allowClick=!1);if(r.allowTouchCallbacks&&n.emit("touchMove",s),!(s.targetTouches&&s.targetTouches.length>1)){o.currentX=u,o.currentY=c;var p=o.currentX-o.startX,d=o.currentY-o.startY;if(!(n.params.threshold&&Math.sqrt(Math.pow(p,2)+Math.pow(d,2))<n.params.threshold)){var f;if(void 0===r.isScrolling)n.isHorizontal()&&o.currentY===o.startY||n.isVertical()&&o.currentX===o.startX?r.isScrolling=!1:p*p+d*d>=25&&(f=180*Math.atan2(Math.abs(d),Math.abs(p))/Math.PI,r.isScrolling=n.isHorizontal()?f>a.touchAngle:90-f>a.touchAngle);if(r.isScrolling&&n.emit("touchMoveOpposite",s),void 0===r.startMoving&&(o.currentX===o.startX&&o.currentY===o.startY||(r.startMoving=!0)),r.isScrolling)r.isTouched=!1;else if(r.startMoving){n.allowClick=!1,!a.cssMode&&s.cancelable&&s.preventDefault(),a.touchMoveStopPropagation&&!a.nested&&s.stopPropagation(),r.isMoved||(a.loop&&n.loopFix(),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating&&n.$wrapperEl.trigger("webkitTransitionEnd transitionend"),r.allowMomentumBounce=!1,!a.grabCursor||!0!==n.allowSlideNext&&!0!==n.allowSlidePrev||n.setGrabCursor(!0),n.emit("sliderFirstMove",s)),n.emit("sliderMove",s),r.isMoved=!0;var h=n.isHorizontal()?p:d;o.diff=h,h*=a.touchRatio,i&&(h=-h),n.swipeDirection=h>0?"prev":"next",r.currentTranslate=h+r.startTranslate;var v=!0,m=a.resistanceRatio;if(a.touchReleaseOnEdges&&(m=0),h>0&&r.currentTranslate>n.minTranslate()?(v=!1,a.resistance&&(r.currentTranslate=n.minTranslate()-1+Math.pow(-n.minTranslate()+r.startTranslate+h,m))):h<0&&r.currentTranslate<n.maxTranslate()&&(v=!1,a.resistance&&(r.currentTranslate=n.maxTranslate()+1-Math.pow(n.maxTranslate()-r.startTranslate-h,m))),v&&(s.preventedByNestedSwiper=!0),!n.allowSlideNext&&"next"===n.swipeDirection&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&"prev"===n.swipeDirection&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),n.allowSlidePrev||n.allowSlideNext||(r.currentTranslate=r.startTranslate),a.threshold>0){if(!(Math.abs(h)>a.threshold||r.allowThresholdMove))return void(r.currentTranslate=r.startTranslate);if(!r.allowThresholdMove)return r.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,r.currentTranslate=r.startTranslate,void(o.diff=n.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY)}a.followFinger&&!a.cssMode&&((a.freeMode||a.watchSlidesProgress||a.watchSlidesVisibility)&&(n.updateActiveIndex(),n.updateSlidesClasses()),a.freeMode&&(0===r.velocities.length&&r.velocities.push({position:o[n.isHorizontal()?"startX":"startY"],time:r.touchStartTime}),r.velocities.push({position:o[n.isHorizontal()?"currentX":"currentY"],time:Cm()})),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}}}}}else r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",s)}}function qm(e){var t=this,n=t.touchEventsData,r=t.params,a=t.touches,o=t.rtlTranslate,i=t.$wrapperEl,s=t.slidesGrid,l=t.snapGrid;if(t.enabled){var u=e;if(u.originalEvent&&(u=u.originalEvent),n.allowTouchCallbacks&&t.emit("touchEnd",u),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&r.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);r.grabCursor&&n.isMoved&&n.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);var c,p=Cm(),d=p-n.touchStartTime;if(t.allowClick&&(t.updateClickedSlide(u),t.emit("tap click",u),d<300&&p-n.lastClickTime<300&&t.emit("doubleTap doubleClick",u)),n.lastClickTime=Cm(),xm((function(){t.destroyed||(t.allowClick=!0)})),!n.isTouched||!n.isMoved||!t.swipeDirection||0===a.diff||n.currentTranslate===n.startTranslate)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,c=r.followFinger?o?t.translate:-t.translate:-n.currentTranslate,!r.cssMode)if(r.freeMode){if(c<-t.minTranslate())return void t.slideTo(t.activeIndex);if(c>-t.maxTranslate())return void(t.slides.length<l.length?t.slideTo(l.length-1):t.slideTo(t.slides.length-1));if(r.freeModeMomentum){if(n.velocities.length>1){var f=n.velocities.pop(),h=n.velocities.pop(),v=f.position-h.position,m=f.time-h.time;t.velocity=v/m,t.velocity/=2,Math.abs(t.velocity)<r.freeModeMinimumVelocity&&(t.velocity=0),(m>150||Cm()-f.time>300)&&(t.velocity=0)}else t.velocity=0;t.velocity*=r.freeModeMomentumVelocityRatio,n.velocities.length=0;var g=1e3*r.freeModeMomentumRatio,b=t.velocity*g,y=t.translate+b;o&&(y=-y);var w,x,C=!1,E=20*Math.abs(t.velocity)*r.freeModeMomentumBounceRatio;if(y<t.maxTranslate())r.freeModeMomentumBounce?(y+t.maxTranslate()<-E&&(y=t.maxTranslate()-E),w=t.maxTranslate(),C=!0,n.allowMomentumBounce=!0):y=t.maxTranslate(),r.loop&&r.centeredSlides&&(x=!0);else if(y>t.minTranslate())r.freeModeMomentumBounce?(y-t.minTranslate()>E&&(y=t.minTranslate()+E),w=t.minTranslate(),C=!0,n.allowMomentumBounce=!0):y=t.minTranslate(),r.loop&&r.centeredSlides&&(x=!0);else if(r.freeModeSticky){for(var k,S=0;S<l.length;S+=1)if(l[S]>-y){k=S;break}y=-(y=Math.abs(l[k]-y)<Math.abs(l[k-1]-y)||"next"===t.swipeDirection?l[k]:l[k-1])}if(x&&t.once("transitionEnd",(function(){t.loopFix()})),0!==t.velocity){if(g=o?Math.abs((-y-t.translate)/t.velocity):Math.abs((y-t.translate)/t.velocity),r.freeModeSticky){var T=Math.abs((o?-y:y)-t.translate),O=t.slidesSizesGrid[t.activeIndex];g=T<O?r.speed:T<2*O?1.5*r.speed:2.5*r.speed}}else if(r.freeModeSticky)return void t.slideToClosest();r.freeModeMomentumBounce&&C?(t.updateProgress(w),t.setTransition(g),t.setTranslate(y),t.transitionStart(!0,t.swipeDirection),t.animating=!0,i.transitionEnd((function(){t&&!t.destroyed&&n.allowMomentumBounce&&(t.emit("momentumBounce"),t.setTransition(r.speed),setTimeout((function(){t.setTranslate(w),i.transitionEnd((function(){t&&!t.destroyed&&t.transitionEnd()}))}),0))}))):t.velocity?(t.updateProgress(y),t.setTransition(g),t.setTranslate(y),t.transitionStart(!0,t.swipeDirection),t.animating||(t.animating=!0,i.transitionEnd((function(){t&&!t.destroyed&&t.transitionEnd()})))):(t.emit("_freeModeNoMomentumRelease"),t.updateProgress(y)),t.updateActiveIndex(),t.updateSlidesClasses()}else{if(r.freeModeSticky)return void t.slideToClosest();r.freeMode&&t.emit("_freeModeNoMomentumRelease")}(!r.freeModeMomentum||d>=r.longSwipesMs)&&(t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses())}else{for(var I=0,N=t.slidesSizesGrid[0],A=0;A<s.length;A+=A<r.slidesPerGroupSkip?1:r.slidesPerGroup){var _=A<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;void 0!==s[A+_]?c>=s[A]&&c<s[A+_]&&(I=A,N=s[A+_]-s[A]):c>=s[A]&&(I=A,N=s[s.length-1]-s[s.length-2])}var R=(c-s[I])/N,M=I<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(d>r.longSwipesMs){if(!r.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(R>=r.longSwipesRatio?t.slideTo(I+M):t.slideTo(I)),"prev"===t.swipeDirection&&(R>1-r.longSwipesRatio?t.slideTo(I+M):t.slideTo(I))}else{if(!r.shortSwipes)return void t.slideTo(t.activeIndex);t.navigation&&(u.target===t.navigation.nextEl||u.target===t.navigation.prevEl)?u.target===t.navigation.nextEl?t.slideTo(I+M):t.slideTo(I):("next"===t.swipeDirection&&t.slideTo(I+M),"prev"===t.swipeDirection&&t.slideTo(I))}}}}function Gm(){var e=this,t=e.params,n=e.el;if(!n||0!==n.offsetWidth){t.breakpoints&&e.setBreakpoint();var r=e.allowSlideNext,a=e.allowSlidePrev,o=e.snapGrid;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses(),("auto"===t.slidesPerView||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.run(),e.allowSlidePrev=a,e.allowSlideNext=r,e.params.watchOverflow&&o!==e.snapGrid&&e.checkOverflow()}}function Xm(e){var t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function Ym(){var e=this,t=e.wrapperEl,n=e.rtlTranslate;if(e.enabled){e.previousTranslate=e.translate,e.isHorizontal()?e.translate=n?t.scrollWidth-t.offsetWidth-t.scrollLeft:-t.scrollLeft:e.translate=-t.scrollTop,-0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();var r=e.maxTranslate()-e.minTranslate();(0===r?0:(e.translate-e.minTranslate())/r)!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}}var Km=!1;function Jm(){}var Qm={attachEvents:function(){var e=this,t=mu(),n=e.params,r=e.touchEvents,a=e.el,o=e.wrapperEl,i=e.device,s=e.support;e.onTouchStart=Wm.bind(e),e.onTouchMove=Um.bind(e),e.onTouchEnd=qm.bind(e),n.cssMode&&(e.onScroll=Ym.bind(e)),e.onClick=Xm.bind(e);var l=!!n.nested;if(!s.touch&&s.pointerEvents)a.addEventListener(r.start,e.onTouchStart,!1),t.addEventListener(r.move,e.onTouchMove,l),t.addEventListener(r.end,e.onTouchEnd,!1);else{if(s.touch){var u=!("touchstart"!==r.start||!s.passiveListener||!n.passiveListeners)&&{passive:!0,capture:!1};a.addEventListener(r.start,e.onTouchStart,u),a.addEventListener(r.move,e.onTouchMove,s.passiveListener?{passive:!1,capture:l}:l),a.addEventListener(r.end,e.onTouchEnd,u),r.cancel&&a.addEventListener(r.cancel,e.onTouchEnd,u),Km||(t.addEventListener("touchstart",Jm),Km=!0)}(n.simulateTouch&&!i.ios&&!i.android||n.simulateTouch&&!s.touch&&i.ios)&&(a.addEventListener("mousedown",e.onTouchStart,!1),t.addEventListener("mousemove",e.onTouchMove,l),t.addEventListener("mouseup",e.onTouchEnd,!1))}(n.preventClicks||n.preventClicksPropagation)&&a.addEventListener("click",e.onClick,!0),n.cssMode&&o.addEventListener("scroll",e.onScroll),n.updateOnWindowResize?e.on(i.ios||i.android?"resize orientationchange observerUpdate":"resize observerUpdate",Gm,!0):e.on("observerUpdate",Gm,!0)},detachEvents:function(){var e=this,t=mu(),n=e.params,r=e.touchEvents,a=e.el,o=e.wrapperEl,i=e.device,s=e.support,l=!!n.nested;if(!s.touch&&s.pointerEvents)a.removeEventListener(r.start,e.onTouchStart,!1),t.removeEventListener(r.move,e.onTouchMove,l),t.removeEventListener(r.end,e.onTouchEnd,!1);else{if(s.touch){var u=!("onTouchStart"!==r.start||!s.passiveListener||!n.passiveListeners)&&{passive:!0,capture:!1};a.removeEventListener(r.start,e.onTouchStart,u),a.removeEventListener(r.move,e.onTouchMove,l),a.removeEventListener(r.end,e.onTouchEnd,u),r.cancel&&a.removeEventListener(r.cancel,e.onTouchEnd,u)}(n.simulateTouch&&!i.ios&&!i.android||n.simulateTouch&&!s.touch&&i.ios)&&(a.removeEventListener("mousedown",e.onTouchStart,!1),t.removeEventListener("mousemove",e.onTouchMove,l),t.removeEventListener("mouseup",e.onTouchEnd,!1))}(n.preventClicks||n.preventClicksPropagation)&&a.removeEventListener("click",e.onClick,!0),n.cssMode&&o.removeEventListener("scroll",e.onScroll),e.off(i.ios||i.android?"resize orientationchange observerUpdate":"resize observerUpdate",Gm)}};var Zm={setBreakpoint:function(){var e=this,t=e.activeIndex,n=e.initialized,r=e.loopedSlides,a=void 0===r?0:r,o=e.params,i=e.$el,s=o.breakpoints;if(s&&(!s||0!==Object.keys(s).length)){var l=e.getBreakpoint(s,e.params.breakpointsBase,e.el);if(l&&e.currentBreakpoint!==l){var u=l in s?s[l]:void 0;u&&["slidesPerView","spaceBetween","slidesPerGroup","slidesPerGroupSkip","slidesPerColumn"].forEach((function(e){var t=u[e];void 0!==t&&(u[e]="slidesPerView"!==e||"AUTO"!==t&&"auto"!==t?"slidesPerView"===e?parseFloat(t):parseInt(t,10):"auto")}));var c=u||e.originalParams,p=o.slidesPerColumn>1,d=c.slidesPerColumn>1,f=o.enabled;p&&!d?(i.removeClass(o.containerModifierClass+"multirow "+o.containerModifierClass+"multirow-column"),e.emitContainerClasses()):!p&&d&&(i.addClass(o.containerModifierClass+"multirow"),(c.slidesPerColumnFill&&"column"===c.slidesPerColumnFill||!c.slidesPerColumnFill&&"column"===o.slidesPerColumnFill)&&i.addClass(o.containerModifierClass+"multirow-column"),e.emitContainerClasses());var h=c.direction&&c.direction!==o.direction,v=o.loop&&(c.slidesPerView!==o.slidesPerView||h);h&&n&&e.changeDirection(),Sm(e.params,c);var m=e.params.enabled;Sm(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),f&&!m?e.disable():!f&&m&&e.enable(),e.currentBreakpoint=l,e.emit("_beforeBreakpoint",c),v&&n&&(e.loopDestroy(),e.loopCreate(),e.updateSlides(),e.slideTo(t-a+e.loopedSlides,0,!1)),e.emit("breakpoint",c)}}},getBreakpoint:function(e,t,n){if(void 0===t&&(t="window"),e&&("container"!==t||n)){var r=!1,a=bu(),o="window"===t?a.innerHeight:n.clientHeight,i=Object.keys(e).map((function(e){if("string"==typeof e&&0===e.indexOf("@")){var t=parseFloat(e.substr(1));return{value:o*t,point:e}}return{value:e,point:e}}));i.sort((function(e,t){return parseInt(e.value,10)-parseInt(t.value,10)}));for(var s=0;s<i.length;s+=1){var l=i[s],u=l.point,c=l.value;"window"===t?a.matchMedia("(min-width: "+c+"px)").matches&&(r=u):c<=n.clientWidth&&(r=u)}return r||"max"}}};var eg={addClasses:function(){var e,t,n,r=this,a=r.classNames,o=r.params,i=r.rtl,s=r.$el,l=r.device,u=r.support,c=(e=["initialized",o.direction,{"pointer-events":u.pointerEvents&&!u.touch},{"free-mode":o.freeMode},{autoheight:o.autoHeight},{rtl:i},{multirow:o.slidesPerColumn>1},{"multirow-column":o.slidesPerColumn>1&&"column"===o.slidesPerColumnFill},{android:l.android},{ios:l.ios},{"css-mode":o.cssMode}],t=o.containerModifierClass,n=[],e.forEach((function(e){"object"==typeof e?Object.keys(e).forEach((function(r){e[r]&&n.push(t+r)})):"string"==typeof e&&n.push(t+e)})),n);a.push.apply(a,c),s.addClass([].concat(a).join(" ")),r.emitContainerClasses()},removeClasses:function(){var e=this,t=e.$el,n=e.classNames;t.removeClass(n.join(" ")),e.emitContainerClasses()}};var tg={loadImage:function(e,t,n,r,a,o){var i,s=bu();function l(){o&&o()}wm(e).parent("picture")[0]||e.complete&&a?l():t?((i=new s.Image).onload=l,i.onerror=l,r&&(i.sizes=r),n&&(i.srcset=n),t&&(i.src=t)):l()},preloadImages:function(){var e=this;function t(){null!=e&&e&&!e.destroyed&&(void 0!==e.imagesLoaded&&(e.imagesLoaded+=1),e.imagesLoaded===e.imagesToLoad.length&&(e.params.updateOnImagesReady&&e.update(),e.emit("imagesReady")))}e.imagesToLoad=e.$el.find("img");for(var n=0;n<e.imagesToLoad.length;n+=1){var r=e.imagesToLoad[n];e.loadImage(r,r.currentSrc||r.getAttribute("src"),r.srcset||r.getAttribute("srcset"),r.sizes||r.getAttribute("sizes"),!0,t)}}};var ng={checkOverflow:function(){var e=this,t=e.params,n=e.isLocked,r=e.slides.length>0&&t.slidesOffsetBefore+t.spaceBetween*(e.slides.length-1)+e.slides[0].offsetWidth*e.slides.length;t.slidesOffsetBefore&&t.slidesOffsetAfter&&r?e.isLocked=r<=e.size:e.isLocked=1===e.snapGrid.length,e.allowSlideNext=!e.isLocked,e.allowSlidePrev=!e.isLocked,n!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock"),n&&n!==e.isLocked&&(e.isEnd=!1,e.navigation&&e.navigation.update())}},rg={init:!0,direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!1,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,slidesPerGroupSkip:0,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!1,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function ag(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var og={modular:{useParams:function(e){var t=this;t.modules&&Object.keys(t.modules).forEach((function(n){var r=t.modules[n];r.params&&Sm(e,r.params)}))},useModules:function(e){void 0===e&&(e={});var t=this;t.modules&&Object.keys(t.modules).forEach((function(n){var r=t.modules[n],a=e[n]||{};r.on&&t.on&&Object.keys(r.on).forEach((function(e){t.on(e,r.on[e])})),r.create&&r.create.bind(t)(a)}))}},eventsEmitter:Bm,update:Lm,translate:zm,transition:Fm,slide:$m,loop:Vm,grabCursor:jm,manipulation:Hm,events:Qm,breakpoints:Zm,checkOverflow:ng,classes:eg,images:tg},ig={},sg=function(){function e(){for(var t,n,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];if(1===a.length&&a[0].constructor&&"Object"===Object.prototype.toString.call(a[0]).slice(8,-1)?n=a[0]:(t=a[0],n=a[1]),n||(n={}),n=Sm({},n),t&&!n.el&&(n.el=t),n.el&&wm(n.el).length>1){var i=[];return wm(n.el).each((function(t){var r=Sm({},n,{el:t});i.push(new e(r))})),i}var s=this;s.__swiper__=!0,s.support=Nm(),s.device=Am({userAgent:n.userAgent}),s.browser=_m(),s.eventsListeners={},s.eventsAnyListeners=[],void 0===s.modules&&(s.modules={}),Object.keys(s.modules).forEach((function(e){var t=s.modules[e];if(t.params){var r=Object.keys(t.params)[0],a=t.params[r];if("object"!=typeof a||null===a)return;if(["navigation","pagination","scrollbar"].indexOf(r)>=0&&!0===n[r]&&(n[r]={auto:!0}),!(r in n)||!("enabled"in a))return;!0===n[r]&&(n[r]={enabled:!0}),"object"!=typeof n[r]||"enabled"in n[r]||(n[r].enabled=!0),n[r]||(n[r]={enabled:!1})}}));var l=Sm({},rg);return s.useParams(l),s.params=Sm({},l,ig,n),s.originalParams=Sm({},s.params),s.passedParams=Sm({},n),s.params&&s.params.on&&Object.keys(s.params.on).forEach((function(e){s.on(e,s.params.on[e])})),s.params&&s.params.onAny&&s.onAny(s.params.onAny),s.$=wm,Sm(s,{enabled:s.params.enabled,el:t,classNames:[],slides:wm(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===s.params.direction},isVertical:function(){return"vertical"===s.params.direction},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev,touchEvents:function(){var e=["touchstart","touchmove","touchend","touchcancel"],t=["mousedown","mousemove","mouseup"];return s.support.pointerEvents&&(t=["pointerdown","pointermove","pointerup"]),s.touchEventsTouch={start:e[0],move:e[1],end:e[2],cancel:e[3]},s.touchEventsDesktop={start:t[0],move:t[1],end:t[2]},s.support.touch||!s.params.simulateTouch?s.touchEventsTouch:s.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:s.params.focusableElements,lastClickTime:Cm(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:s.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),s.useModules(),s.emit("_swiper"),s.params.init&&s.init(),s}var t,n,r,a=e.prototype;return a.enable=function(){var e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))},a.disable=function(){var e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))},a.setProgress=function(e,t){var n=this;e=Math.min(Math.max(e,0),1);var r=n.minTranslate(),a=(n.maxTranslate()-r)*e+r;n.translateTo(a,void 0===t?0:t),n.updateActiveIndex(),n.updateSlidesClasses()},a.emitContainerClasses=function(){var e=this;if(e.params._emitClasses&&e.el){var t=e.el.className.split(" ").filter((function(t){return 0===t.indexOf("swiper-container")||0===t.indexOf(e.params.containerModifierClass)}));e.emit("_containerClasses",t.join(" "))}},a.getSlideClasses=function(e){var t=this;return e.className.split(" ").filter((function(e){return 0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass)})).join(" ")},a.emitSlidesClasses=function(){var e=this;if(e.params._emitClasses&&e.el){var t=[];e.slides.each((function(n){var r=e.getSlideClasses(n);t.push({slideEl:n,classNames:r}),e.emit("_slideClass",n,r)})),e.emit("_slideClasses",t)}},a.slidesPerViewDynamic=function(){var e=this,t=e.params,n=e.slides,r=e.slidesGrid,a=e.size,o=e.activeIndex,i=1;if(t.centeredSlides){for(var s,l=n[o].swiperSlideSize,u=o+1;u<n.length;u+=1)n[u]&&!s&&(i+=1,(l+=n[u].swiperSlideSize)>a&&(s=!0));for(var c=o-1;c>=0;c-=1)n[c]&&!s&&(i+=1,(l+=n[c].swiperSlideSize)>a&&(s=!0))}else for(var p=o+1;p<n.length;p+=1)r[p]-r[o]<a&&(i+=1);return i},a.update=function(){var e=this;if(e&&!e.destroyed){var t=e.snapGrid,n=e.params;n.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode?(r(),e.params.autoHeight&&e.updateAutoHeight()):(("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0))||r(),n.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}function r(){var t=e.rtlTranslate?-1*e.translate:e.translate,n=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(n),e.updateActiveIndex(),e.updateSlidesClasses()}},a.changeDirection=function(e,t){void 0===t&&(t=!0);var n=this,r=n.params.direction;return e||(e="horizontal"===r?"vertical":"horizontal"),e===r||"horizontal"!==e&&"vertical"!==e||(n.$el.removeClass(""+n.params.containerModifierClass+r).addClass(""+n.params.containerModifierClass+e),n.emitContainerClasses(),n.params.direction=e,n.slides.each((function(t){"vertical"===e?t.style.width="":t.style.height=""})),n.emit("changeDirection"),t&&n.update()),n},a.mount=function(e){var t=this;if(t.mounted)return!0;var n=wm(e||t.params.el);if(!(e=n[0]))return!1;e.swiper=t;var r=function(){return"."+(t.params.wrapperClass||"").trim().split(" ").join(".")},a=function(){if(e&&e.shadowRoot&&e.shadowRoot.querySelector){var t=wm(e.shadowRoot.querySelector(r()));return t.children=function(e){return n.children(e)},t}return n.children(r())}();if(0===a.length&&t.params.createElements){var o=mu().createElement("div");a=wm(o),o.className=t.params.wrapperClass,n.append(o),n.children("."+t.params.slideClass).each((function(e){a.append(e)}))}return Sm(t,{$el:n,el:e,$wrapperEl:a,wrapperEl:a[0],mounted:!0,rtl:"rtl"===e.dir.toLowerCase()||"rtl"===n.css("direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===e.dir.toLowerCase()||"rtl"===n.css("direction")),wrongRTL:"-webkit-box"===a.css("display")}),!0},a.init=function(e){var t=this;return t.initialized||!1===t.mount(e)||(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.params.loop&&t.loopCreate(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.preloadImages&&t.preloadImages(),t.params.loop?t.slideTo(t.params.initialSlide+t.loopedSlides,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.attachEvents(),t.initialized=!0,t.emit("init"),t.emit("afterInit")),t},a.destroy=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);var n,r=this,a=r.params,o=r.$el,i=r.$wrapperEl,s=r.slides;return void 0===r.params||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),a.loop&&r.loopDestroy(),t&&(r.removeClasses(),o.removeAttr("style"),i.removeAttr("style"),s&&s.length&&s.removeClass([a.slideVisibleClass,a.slideActiveClass,a.slideNextClass,a.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),r.emit("destroy"),Object.keys(r.eventsListeners).forEach((function(e){r.off(e)})),!1!==e&&(r.$el[0].swiper=null,n=r,Object.keys(n).forEach((function(e){try{n[e]=null}catch(e){}try{delete n[e]}catch(e){}}))),r.destroyed=!0),null},e.extendDefaults=function(e){Sm(ig,e)},e.installModule=function(t){e.prototype.modules||(e.prototype.modules={});var n=t.name||Object.keys(e.prototype.modules).length+"_"+Cm();e.prototype.modules[n]=t},e.use=function(t){return Array.isArray(t)?(t.forEach((function(t){return e.installModule(t)})),e):(e.installModule(t),e)},t=e,r=[{key:"extendedDefaults",get:function(){return ig}},{key:"defaults",get:function(){return rg}}],(n=null)&&ag(t.prototype,n),r&&ag(t,r),e}();Object.keys(og).forEach((function(e){Object.keys(og[e]).forEach((function(t){sg.prototype[t]=og[e][t]}))})),sg.use([Rm,Dm]);var lg=sg;function ug(){return ug=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ug.apply(this,arguments)}var cg={update:function(e){var t=this,n=t.params,r=n.slidesPerView,a=n.slidesPerGroup,o=n.centeredSlides,i=t.params.virtual,s=i.addSlidesBefore,l=i.addSlidesAfter,u=t.virtual,c=u.from,p=u.to,d=u.slides,f=u.slidesGrid,h=u.renderSlide,v=u.offset;t.updateActiveIndex();var m,g,b,y=t.activeIndex||0;m=t.rtlTranslate?"right":t.isHorizontal()?"left":"top",o?(g=Math.floor(r/2)+a+l,b=Math.floor(r/2)+a+s):(g=r+(a-1)+l,b=a+s);var w=Math.max((y||0)-b,0),x=Math.min((y||0)+g,d.length-1),C=(t.slidesGrid[w]||0)-(t.slidesGrid[0]||0);function E(){t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.lazy&&t.params.lazy.enabled&&t.lazy.load()}if(Sm(t.virtual,{from:w,to:x,offset:C,slidesGrid:t.slidesGrid}),c===w&&p===x&&!e)return t.slidesGrid!==f&&C!==v&&t.slides.css(m,C+"px"),void t.updateProgress();if(t.params.virtual.renderExternal)return t.params.virtual.renderExternal.call(t,{offset:C,from:w,to:x,slides:function(){for(var e=[],t=w;t<=x;t+=1)e.push(d[t]);return e}()}),void(t.params.virtual.renderExternalUpdate&&E());var k=[],S=[];if(e)t.$wrapperEl.find("."+t.params.slideClass).remove();else for(var T=c;T<=p;T+=1)(T<w||T>x)&&t.$wrapperEl.find("."+t.params.slideClass+'[data-swiper-slide-index="'+T+'"]').remove();for(var O=0;O<d.length;O+=1)O>=w&&O<=x&&(void 0===p||e?S.push(O):(O>p&&S.push(O),O<c&&k.push(O)));S.forEach((function(e){t.$wrapperEl.append(h(d[e],e))})),k.sort((function(e,t){return t-e})).forEach((function(e){t.$wrapperEl.prepend(h(d[e],e))})),t.$wrapperEl.children(".swiper-slide").css(m,C+"px"),E()},renderSlide:function(e,t){var n=this,r=n.params.virtual;if(r.cache&&n.virtual.cache[t])return n.virtual.cache[t];var a=r.renderSlide?wm(r.renderSlide.call(n,e,t)):wm('<div class="'+n.params.slideClass+'" data-swiper-slide-index="'+t+'">'+e+"</div>");return a.attr("data-swiper-slide-index")||a.attr("data-swiper-slide-index",t),r.cache&&(n.virtual.cache[t]=a),a},appendSlide:function(e){var t=this;if("object"==typeof e&&"length"in e)for(var n=0;n<e.length;n+=1)e[n]&&t.virtual.slides.push(e[n]);else t.virtual.slides.push(e);t.virtual.update(!0)},prependSlide:function(e){var t=this,n=t.activeIndex,r=n+1,a=1;if(Array.isArray(e)){for(var o=0;o<e.length;o+=1)e[o]&&t.virtual.slides.unshift(e[o]);r=n+e.length,a=e.length}else t.virtual.slides.unshift(e);if(t.params.virtual.cache){var i=t.virtual.cache,s={};Object.keys(i).forEach((function(e){var t=i[e],n=t.attr("data-swiper-slide-index");n&&t.attr("data-swiper-slide-index",parseInt(n,10)+1),s[parseInt(e,10)+a]=t})),t.virtual.cache=s}t.virtual.update(!0),t.slideTo(r,0)},removeSlide:function(e){var t=this;if(null!=e){var n=t.activeIndex;if(Array.isArray(e))for(var r=e.length-1;r>=0;r-=1)t.virtual.slides.splice(e[r],1),t.params.virtual.cache&&delete t.virtual.cache[e[r]],e[r]<n&&(n-=1),n=Math.max(n,0);else t.virtual.slides.splice(e,1),t.params.virtual.cache&&delete t.virtual.cache[e],e<n&&(n-=1),n=Math.max(n,0);t.virtual.update(!0),t.slideTo(n,0)}},removeAllSlides:function(){var e=this;e.virtual.slides=[],e.params.virtual.cache&&(e.virtual.cache={}),e.virtual.update(!0),e.slideTo(0,0)}},pg={name:"virtual",params:{virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}},create:function(){Tm(this,{virtual:ug({},cg,{slides:this.params.virtual.slides,cache:{}})})},on:{beforeInit:function(e){if(e.params.virtual.enabled){e.classNames.push(e.params.containerModifierClass+"virtual");var t={watchSlidesProgress:!0};Sm(e.params,t),Sm(e.originalParams,t),e.params.initialSlide||e.virtual.update()}},setTranslate:function(e){e.params.virtual.enabled&&e.virtual.update()}}};function dg(){return dg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dg.apply(this,arguments)}var fg={handle:function(e){var t=this;if(t.enabled){var n=bu(),r=mu(),a=t.rtlTranslate,o=e;o.originalEvent&&(o=o.originalEvent);var i=o.keyCode||o.charCode,s=t.params.keyboard.pageUpDown,l=s&&33===i,u=s&&34===i,c=37===i,p=39===i,d=38===i,f=40===i;if(!t.allowSlideNext&&(t.isHorizontal()&&p||t.isVertical()&&f||u))return!1;if(!t.allowSlidePrev&&(t.isHorizontal()&&c||t.isVertical()&&d||l))return!1;if(!(o.shiftKey||o.altKey||o.ctrlKey||o.metaKey||r.activeElement&&r.activeElement.nodeName&&("input"===r.activeElement.nodeName.toLowerCase()||"textarea"===r.activeElement.nodeName.toLowerCase()))){if(t.params.keyboard.onlyInViewport&&(l||u||c||p||d||f)){var h=!1;if(t.$el.parents("."+t.params.slideClass).length>0&&0===t.$el.parents("."+t.params.slideActiveClass).length)return;var v=t.$el,m=v[0].clientWidth,g=v[0].clientHeight,b=n.innerWidth,y=n.innerHeight,w=t.$el.offset();a&&(w.left-=t.$el[0].scrollLeft);for(var x=[[w.left,w.top],[w.left+m,w.top],[w.left,w.top+g],[w.left+m,w.top+g]],C=0;C<x.length;C+=1){var E=x[C];if(E[0]>=0&&E[0]<=b&&E[1]>=0&&E[1]<=y){if(0===E[0]&&0===E[1])continue;h=!0}}if(!h)return}t.isHorizontal()?((l||u||c||p)&&(o.preventDefault?o.preventDefault():o.returnValue=!1),((u||p)&&!a||(l||c)&&a)&&t.slideNext(),((l||c)&&!a||(u||p)&&a)&&t.slidePrev()):((l||u||d||f)&&(o.preventDefault?o.preventDefault():o.returnValue=!1),(u||f)&&t.slideNext(),(l||d)&&t.slidePrev()),t.emit("keyPress",i)}}},enable:function(){var e=this,t=mu();e.keyboard.enabled||(wm(t).on("keydown",e.keyboard.handle),e.keyboard.enabled=!0)},disable:function(){var e=this,t=mu();e.keyboard.enabled&&(wm(t).off("keydown",e.keyboard.handle),e.keyboard.enabled=!1)}},hg={name:"keyboard",params:{keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}},create:function(){Tm(this,{keyboard:dg({enabled:!1},fg)})},on:{init:function(e){e.params.keyboard.enabled&&e.keyboard.enable()},destroy:function(e){e.keyboard.enabled&&e.keyboard.disable()}}};var vg={lastScrollTime:Cm(),lastEventBeforeSnap:void 0,recentWheelEvents:[],event:function(){return bu().navigator.userAgent.indexOf("firefox")>-1?"DOMMouseScroll":function(){var e=mu(),t="onwheel",n=t in e;if(!n){var r=e.createElement("div");r.setAttribute(t,"return;"),n="function"==typeof r[t]}return!n&&e.implementation&&e.implementation.hasFeature&&!0!==e.implementation.hasFeature("","")&&(n=e.implementation.hasFeature("Events.wheel","3.0")),n}()?"wheel":"mousewheel"},normalize:function(e){var t=0,n=0,r=0,a=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=10*t,a=10*n,"deltaY"in e&&(a=e.deltaY),"deltaX"in e&&(r=e.deltaX),e.shiftKey&&!r&&(r=a,a=0),(r||a)&&e.deltaMode&&(1===e.deltaMode?(r*=40,a*=40):(r*=800,a*=800)),r&&!t&&(t=r<1?-1:1),a&&!n&&(n=a<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:a}},handleMouseEnter:function(){this.enabled&&(this.mouseEntered=!0)},handleMouseLeave:function(){this.enabled&&(this.mouseEntered=!1)},handle:function(e){var t=e,n=this;if(n.enabled){var r=n.params.mousewheel;n.params.cssMode&&t.preventDefault();var a=n.$el;if("container"!==n.params.mousewheel.eventsTarget&&(a=wm(n.params.mousewheel.eventsTarget)),!n.mouseEntered&&!a[0].contains(t.target)&&!r.releaseOnEdges)return!0;t.originalEvent&&(t=t.originalEvent);var o=0,i=n.rtlTranslate?-1:1,s=vg.normalize(t);if(r.forceToAxis)if(n.isHorizontal()){if(!(Math.abs(s.pixelX)>Math.abs(s.pixelY)))return!0;o=-s.pixelX*i}else{if(!(Math.abs(s.pixelY)>Math.abs(s.pixelX)))return!0;o=-s.pixelY}else o=Math.abs(s.pixelX)>Math.abs(s.pixelY)?-s.pixelX*i:-s.pixelY;if(0===o)return!0;r.invert&&(o=-o);var l=n.getTranslate()+o*r.sensitivity;if(l>=n.minTranslate()&&(l=n.minTranslate()),l<=n.maxTranslate()&&(l=n.maxTranslate()),(!!n.params.loop||!(l===n.minTranslate()||l===n.maxTranslate()))&&n.params.nested&&t.stopPropagation(),n.params.freeMode){var u={time:Cm(),delta:Math.abs(o),direction:Math.sign(o)},c=n.mousewheel.lastEventBeforeSnap,p=c&&u.time<c.time+500&&u.delta<=c.delta&&u.direction===c.direction;if(!p){n.mousewheel.lastEventBeforeSnap=void 0,n.params.loop&&n.loopFix();var d=n.getTranslate()+o*r.sensitivity,f=n.isBeginning,h=n.isEnd;if(d>=n.minTranslate()&&(d=n.minTranslate()),d<=n.maxTranslate()&&(d=n.maxTranslate()),n.setTransition(0),n.setTranslate(d),n.updateProgress(),n.updateActiveIndex(),n.updateSlidesClasses(),(!f&&n.isBeginning||!h&&n.isEnd)&&n.updateSlidesClasses(),n.params.freeModeSticky){clearTimeout(n.mousewheel.timeout),n.mousewheel.timeout=void 0;var v=n.mousewheel.recentWheelEvents;v.length>=15&&v.shift();var m=v.length?v[v.length-1]:void 0,g=v[0];if(v.push(u),m&&(u.delta>m.delta||u.direction!==m.direction))v.splice(0);else if(v.length>=15&&u.time-g.time<500&&g.delta-u.delta>=1&&u.delta<=6){var b=o>0?.8:.2;n.mousewheel.lastEventBeforeSnap=u,v.splice(0),n.mousewheel.timeout=xm((function(){n.slideToClosest(n.params.speed,!0,void 0,b)}),0)}n.mousewheel.timeout||(n.mousewheel.timeout=xm((function(){n.mousewheel.lastEventBeforeSnap=u,v.splice(0),n.slideToClosest(n.params.speed,!0,void 0,.5)}),500))}if(p||n.emit("scroll",t),n.params.autoplay&&n.params.autoplayDisableOnInteraction&&n.autoplay.stop(),d===n.minTranslate()||d===n.maxTranslate())return!0}}else{var y={time:Cm(),delta:Math.abs(o),direction:Math.sign(o),raw:e},w=n.mousewheel.recentWheelEvents;w.length>=2&&w.shift();var x=w.length?w[w.length-1]:void 0;if(w.push(y),x?(y.direction!==x.direction||y.delta>x.delta||y.time>x.time+150)&&n.mousewheel.animateSlider(y):n.mousewheel.animateSlider(y),n.mousewheel.releaseScroll(y))return!0}return t.preventDefault?t.preventDefault():t.returnValue=!1,!1}},animateSlider:function(e){var t=this,n=bu();return!(this.params.mousewheel.thresholdDelta&&e.delta<this.params.mousewheel.thresholdDelta)&&(!(this.params.mousewheel.thresholdTime&&Cm()-t.mousewheel.lastScrollTime<this.params.mousewheel.thresholdTime)&&(e.delta>=6&&Cm()-t.mousewheel.lastScrollTime<60||(e.direction<0?t.isEnd&&!t.params.loop||t.animating||(t.slideNext(),t.emit("scroll",e.raw)):t.isBeginning&&!t.params.loop||t.animating||(t.slidePrev(),t.emit("scroll",e.raw)),t.mousewheel.lastScrollTime=(new n.Date).getTime(),!1)))},releaseScroll:function(e){var t=this,n=t.params.mousewheel;if(e.direction<0){if(t.isEnd&&!t.params.loop&&n.releaseOnEdges)return!0}else if(t.isBeginning&&!t.params.loop&&n.releaseOnEdges)return!0;return!1},enable:function(){var e=this,t=vg.event();if(e.params.cssMode)return e.wrapperEl.removeEventListener(t,e.mousewheel.handle),!0;if(!t)return!1;if(e.mousewheel.enabled)return!1;var n=e.$el;return"container"!==e.params.mousewheel.eventsTarget&&(n=wm(e.params.mousewheel.eventsTarget)),n.on("mouseenter",e.mousewheel.handleMouseEnter),n.on("mouseleave",e.mousewheel.handleMouseLeave),n.on(t,e.mousewheel.handle),e.mousewheel.enabled=!0,!0},disable:function(){var e=this,t=vg.event();if(e.params.cssMode)return e.wrapperEl.addEventListener(t,e.mousewheel.handle),!0;if(!t)return!1;if(!e.mousewheel.enabled)return!1;var n=e.$el;return"container"!==e.params.mousewheel.eventsTarget&&(n=wm(e.params.mousewheel.eventsTarget)),n.off(t,e.mousewheel.handle),e.mousewheel.enabled=!1,!0}},mg={name:"mousewheel",params:{mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null}},create:function(){Tm(this,{mousewheel:{enabled:!1,lastScrollTime:Cm(),lastEventBeforeSnap:void 0,recentWheelEvents:[],enable:vg.enable,disable:vg.disable,handle:vg.handle,handleMouseEnter:vg.handleMouseEnter,handleMouseLeave:vg.handleMouseLeave,animateSlider:vg.animateSlider,releaseScroll:vg.releaseScroll}})},on:{init:function(e){!e.params.mousewheel.enabled&&e.params.cssMode&&e.mousewheel.disable(),e.params.mousewheel.enabled&&e.mousewheel.enable()},destroy:function(e){e.params.cssMode&&e.mousewheel.enable(),e.mousewheel.enabled&&e.mousewheel.disable()}}};function gg(){return gg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gg.apply(this,arguments)}var bg={toggleEl:function(e,t){e[t?"addClass":"removeClass"](this.params.navigation.disabledClass),e[0]&&"BUTTON"===e[0].tagName&&(e[0].disabled=t)},update:function(){var e=this,t=e.params.navigation,n=e.navigation.toggleEl;if(!e.params.loop){var r=e.navigation,a=r.$nextEl,o=r.$prevEl;o&&o.length>0&&(e.isBeginning?n(o,!0):n(o,!1),e.params.watchOverflow&&e.enabled&&o[e.isLocked?"addClass":"removeClass"](t.lockClass)),a&&a.length>0&&(e.isEnd?n(a,!0):n(a,!1),e.params.watchOverflow&&e.enabled&&a[e.isLocked?"addClass":"removeClass"](t.lockClass))}},onPrevClick:function(e){var t=this;e.preventDefault(),t.isBeginning&&!t.params.loop||t.slidePrev()},onNextClick:function(e){var t=this;e.preventDefault(),t.isEnd&&!t.params.loop||t.slideNext()},init:function(){var e,t,n=this,r=n.params.navigation;(n.params.navigation=Im(n.$el,n.params.navigation,n.params.createElements,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),r.nextEl||r.prevEl)&&(r.nextEl&&(e=wm(r.nextEl),n.params.uniqueNavElements&&"string"==typeof r.nextEl&&e.length>1&&1===n.$el.find(r.nextEl).length&&(e=n.$el.find(r.nextEl))),r.prevEl&&(t=wm(r.prevEl),n.params.uniqueNavElements&&"string"==typeof r.prevEl&&t.length>1&&1===n.$el.find(r.prevEl).length&&(t=n.$el.find(r.prevEl))),e&&e.length>0&&e.on("click",n.navigation.onNextClick),t&&t.length>0&&t.on("click",n.navigation.onPrevClick),Sm(n.navigation,{$nextEl:e,nextEl:e&&e[0],$prevEl:t,prevEl:t&&t[0]}),n.enabled||(e&&e.addClass(r.lockClass),t&&t.addClass(r.lockClass)))},destroy:function(){var e=this,t=e.navigation,n=t.$nextEl,r=t.$prevEl;n&&n.length&&(n.off("click",e.navigation.onNextClick),n.removeClass(e.params.navigation.disabledClass)),r&&r.length&&(r.off("click",e.navigation.onPrevClick),r.removeClass(e.params.navigation.disabledClass))}},yg={name:"navigation",params:{navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}},create:function(){Tm(this,{navigation:gg({},bg)})},on:{init:function(e){e.navigation.init(),e.navigation.update()},toEdge:function(e){e.navigation.update()},fromEdge:function(e){e.navigation.update()},destroy:function(e){e.navigation.destroy()},"enable disable":function(e){var t=e.navigation,n=t.$nextEl,r=t.$prevEl;n&&n[e.enabled?"removeClass":"addClass"](e.params.navigation.lockClass),r&&r[e.enabled?"removeClass":"addClass"](e.params.navigation.lockClass)},click:function(e,t){var n=e.navigation,r=n.$nextEl,a=n.$prevEl,o=t.target;if(e.params.navigation.hideOnClick&&!wm(o).is(a)&&!wm(o).is(r)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===o||e.pagination.el.contains(o)))return;var i;r?i=r.hasClass(e.params.navigation.hiddenClass):a&&(i=a.hasClass(e.params.navigation.hiddenClass)),!0===i?e.emit("navigationShow"):e.emit("navigationHide"),r&&r.toggleClass(e.params.navigation.hiddenClass),a&&a.toggleClass(e.params.navigation.hiddenClass)}}}};function wg(){return wg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wg.apply(this,arguments)}var xg={update:function(){var e=this,t=e.rtl,n=e.params.pagination;if(n.el&&e.pagination.el&&e.pagination.$el&&0!==e.pagination.$el.length){var r,a=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,o=e.pagination.$el,i=e.params.loop?Math.ceil((a-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?((r=Math.ceil((e.activeIndex-e.loopedSlides)/e.params.slidesPerGroup))>a-1-2*e.loopedSlides&&(r-=a-2*e.loopedSlides),r>i-1&&(r-=i),r<0&&"bullets"!==e.params.paginationType&&(r=i+r)):r=void 0!==e.snapIndex?e.snapIndex:e.activeIndex||0,"bullets"===n.type&&e.pagination.bullets&&e.pagination.bullets.length>0){var s,l,u,c=e.pagination.bullets;if(n.dynamicBullets&&(e.pagination.bulletSize=c.eq(0)[e.isHorizontal()?"outerWidth":"outerHeight"](!0),o.css(e.isHorizontal()?"width":"height",e.pagination.bulletSize*(n.dynamicMainBullets+4)+"px"),n.dynamicMainBullets>1&&void 0!==e.previousIndex&&(e.pagination.dynamicBulletIndex+=r-e.previousIndex,e.pagination.dynamicBulletIndex>n.dynamicMainBullets-1?e.pagination.dynamicBulletIndex=n.dynamicMainBullets-1:e.pagination.dynamicBulletIndex<0&&(e.pagination.dynamicBulletIndex=0)),s=r-e.pagination.dynamicBulletIndex,u=((l=s+(Math.min(c.length,n.dynamicMainBullets)-1))+s)/2),c.removeClass(n.bulletActiveClass+" "+n.bulletActiveClass+"-next "+n.bulletActiveClass+"-next-next "+n.bulletActiveClass+"-prev "+n.bulletActiveClass+"-prev-prev "+n.bulletActiveClass+"-main"),o.length>1)c.each((function(e){var t=wm(e),a=t.index();a===r&&t.addClass(n.bulletActiveClass),n.dynamicBullets&&(a>=s&&a<=l&&t.addClass(n.bulletActiveClass+"-main"),a===s&&t.prev().addClass(n.bulletActiveClass+"-prev").prev().addClass(n.bulletActiveClass+"-prev-prev"),a===l&&t.next().addClass(n.bulletActiveClass+"-next").next().addClass(n.bulletActiveClass+"-next-next"))}));else{var p=c.eq(r),d=p.index();if(p.addClass(n.bulletActiveClass),n.dynamicBullets){for(var f=c.eq(s),h=c.eq(l),v=s;v<=l;v+=1)c.eq(v).addClass(n.bulletActiveClass+"-main");if(e.params.loop)if(d>=c.length-n.dynamicMainBullets){for(var m=n.dynamicMainBullets;m>=0;m-=1)c.eq(c.length-m).addClass(n.bulletActiveClass+"-main");c.eq(c.length-n.dynamicMainBullets-1).addClass(n.bulletActiveClass+"-prev")}else f.prev().addClass(n.bulletActiveClass+"-prev").prev().addClass(n.bulletActiveClass+"-prev-prev"),h.next().addClass(n.bulletActiveClass+"-next").next().addClass(n.bulletActiveClass+"-next-next");else f.prev().addClass(n.bulletActiveClass+"-prev").prev().addClass(n.bulletActiveClass+"-prev-prev"),h.next().addClass(n.bulletActiveClass+"-next").next().addClass(n.bulletActiveClass+"-next-next")}}if(n.dynamicBullets){var g=Math.min(c.length,n.dynamicMainBullets+4),b=(e.pagination.bulletSize*g-e.pagination.bulletSize)/2-u*e.pagination.bulletSize,y=t?"right":"left";c.css(e.isHorizontal()?y:"top",b+"px")}}if("fraction"===n.type&&(o.find(Om(n.currentClass)).text(n.formatFractionCurrent(r+1)),o.find(Om(n.totalClass)).text(n.formatFractionTotal(i))),"progressbar"===n.type){var w;w=n.progressbarOpposite?e.isHorizontal()?"vertical":"horizontal":e.isHorizontal()?"horizontal":"vertical";var x=(r+1)/i,C=1,E=1;"horizontal"===w?C=x:E=x,o.find(Om(n.progressbarFillClass)).transform("translate3d(0,0,0) scaleX("+C+") scaleY("+E+")").transition(e.params.speed)}"custom"===n.type&&n.renderCustom?(o.html(n.renderCustom(e,r+1,i)),e.emit("paginationRender",o[0])):e.emit("paginationUpdate",o[0]),e.params.watchOverflow&&e.enabled&&o[e.isLocked?"addClass":"removeClass"](n.lockClass)}},render:function(){var e=this,t=e.params.pagination;if(t.el&&e.pagination.el&&e.pagination.$el&&0!==e.pagination.$el.length){var n=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,r=e.pagination.$el,a="";if("bullets"===t.type){var o=e.params.loop?Math.ceil((n-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&!e.params.loop&&o>n&&(o=n);for(var i=0;i<o;i+=1)t.renderBullet?a+=t.renderBullet.call(e,i,t.bulletClass):a+="<"+t.bulletElement+' class="'+t.bulletClass+'"></'+t.bulletElement+">";r.html(a),e.pagination.bullets=r.find(Om(t.bulletClass))}"fraction"===t.type&&(a=t.renderFraction?t.renderFraction.call(e,t.currentClass,t.totalClass):'<span class="'+t.currentClass+'"></span> / <span class="'+t.totalClass+'"></span>',r.html(a)),"progressbar"===t.type&&(a=t.renderProgressbar?t.renderProgressbar.call(e,t.progressbarFillClass):'<span class="'+t.progressbarFillClass+'"></span>',r.html(a)),"custom"!==t.type&&e.emit("paginationRender",e.pagination.$el[0])}},init:function(){var e=this;e.params.pagination=Im(e.$el,e.params.pagination,e.params.createElements,{el:"swiper-pagination"});var t=e.params.pagination;if(t.el){var n=wm(t.el);0!==n.length&&(e.params.uniqueNavElements&&"string"==typeof t.el&&n.length>1&&(n=e.$el.find(t.el)),"bullets"===t.type&&t.clickable&&n.addClass(t.clickableClass),n.addClass(t.modifierClass+t.type),"bullets"===t.type&&t.dynamicBullets&&(n.addClass(""+t.modifierClass+t.type+"-dynamic"),e.pagination.dynamicBulletIndex=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),"progressbar"===t.type&&t.progressbarOpposite&&n.addClass(t.progressbarOppositeClass),t.clickable&&n.on("click",Om(t.bulletClass),(function(t){t.preventDefault();var n=wm(this).index()*e.params.slidesPerGroup;e.params.loop&&(n+=e.loopedSlides),e.slideTo(n)})),Sm(e.pagination,{$el:n,el:n[0]}),e.enabled||n.addClass(t.lockClass))}},destroy:function(){var e=this,t=e.params.pagination;if(t.el&&e.pagination.el&&e.pagination.$el&&0!==e.pagination.$el.length){var n=e.pagination.$el;n.removeClass(t.hiddenClass),n.removeClass(t.modifierClass+t.type),e.pagination.bullets&&e.pagination.bullets.removeClass(t.bulletActiveClass),t.clickable&&n.off("click",Om(t.bulletClass))}}},Cg={name:"pagination",params:{pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:function(e){return e},formatFractionTotal:function(e){return e},bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",modifierClass:"swiper-pagination-",currentClass:"swiper-pagination-current",totalClass:"swiper-pagination-total",hiddenClass:"swiper-pagination-hidden",progressbarFillClass:"swiper-pagination-progressbar-fill",progressbarOppositeClass:"swiper-pagination-progressbar-opposite",clickableClass:"swiper-pagination-clickable",lockClass:"swiper-pagination-lock"}},create:function(){Tm(this,{pagination:wg({dynamicBulletIndex:0},xg)})},on:{init:function(e){e.pagination.init(),e.pagination.render(),e.pagination.update()},activeIndexChange:function(e){(e.params.loop||void 0===e.snapIndex)&&e.pagination.update()},snapIndexChange:function(e){e.params.loop||e.pagination.update()},slidesLengthChange:function(e){e.params.loop&&(e.pagination.render(),e.pagination.update())},snapGridLengthChange:function(e){e.params.loop||(e.pagination.render(),e.pagination.update())},destroy:function(e){e.pagination.destroy()},"enable disable":function(e){var t=e.pagination.$el;t&&t[e.enabled?"removeClass":"addClass"](e.params.pagination.lockClass)},click:function(e,t){var n=t.target;if(e.params.pagination.el&&e.params.pagination.hideOnClick&&e.pagination.$el.length>0&&!wm(n).hasClass(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&n===e.navigation.nextEl||e.navigation.prevEl&&n===e.navigation.prevEl))return;!0===e.pagination.$el.hasClass(e.params.pagination.hiddenClass)?e.emit("paginationShow"):e.emit("paginationHide"),e.pagination.$el.toggleClass(e.params.pagination.hiddenClass)}}}};function Eg(){return Eg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Eg.apply(this,arguments)}var kg={setTranslate:function(){var e=this;if(e.params.scrollbar.el&&e.scrollbar.el){var t=e.scrollbar,n=e.rtlTranslate,r=e.progress,a=t.dragSize,o=t.trackSize,i=t.$dragEl,s=t.$el,l=e.params.scrollbar,u=a,c=(o-a)*r;n?(c=-c)>0?(u=a-c,c=0):-c+a>o&&(u=o+c):c<0?(u=a+c,c=0):c+a>o&&(u=o-c),e.isHorizontal()?(i.transform("translate3d("+c+"px, 0, 0)"),i[0].style.width=u+"px"):(i.transform("translate3d(0px, "+c+"px, 0)"),i[0].style.height=u+"px"),l.hide&&(clearTimeout(e.scrollbar.timeout),s[0].style.opacity=1,e.scrollbar.timeout=setTimeout((function(){s[0].style.opacity=0,s.transition(400)}),1e3))}},setTransition:function(e){var t=this;t.params.scrollbar.el&&t.scrollbar.el&&t.scrollbar.$dragEl.transition(e)},updateSize:function(){var e=this;if(e.params.scrollbar.el&&e.scrollbar.el){var t=e.scrollbar,n=t.$dragEl,r=t.$el;n[0].style.width="",n[0].style.height="";var a,o=e.isHorizontal()?r[0].offsetWidth:r[0].offsetHeight,i=e.size/e.virtualSize,s=i*(o/e.size);a="auto"===e.params.scrollbar.dragSize?o*i:parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?n[0].style.width=a+"px":n[0].style.height=a+"px",r[0].style.display=i>=1?"none":"",e.params.scrollbar.hide&&(r[0].style.opacity=0),Sm(t,{trackSize:o,divider:i,moveDivider:s,dragSize:a}),e.params.watchOverflow&&e.enabled&&t.$el[e.isLocked?"addClass":"removeClass"](e.params.scrollbar.lockClass)}},getPointerPosition:function(e){return this.isHorizontal()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].clientX:e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].clientY:e.clientY},setDragPosition:function(e){var t,n=this,r=n.scrollbar,a=n.rtlTranslate,o=r.$el,i=r.dragSize,s=r.trackSize,l=r.dragStartPos;t=(r.getPointerPosition(e)-o.offset()[n.isHorizontal()?"left":"top"]-(null!==l?l:i/2))/(s-i),t=Math.max(Math.min(t,1),0),a&&(t=1-t);var u=n.minTranslate()+(n.maxTranslate()-n.minTranslate())*t;n.updateProgress(u),n.setTranslate(u),n.updateActiveIndex(),n.updateSlidesClasses()},onDragStart:function(e){var t=this,n=t.params.scrollbar,r=t.scrollbar,a=t.$wrapperEl,o=r.$el,i=r.$dragEl;t.scrollbar.isTouched=!0,t.scrollbar.dragStartPos=e.target===i[0]||e.target===i?r.getPointerPosition(e)-e.target.getBoundingClientRect()[t.isHorizontal()?"left":"top"]:null,e.preventDefault(),e.stopPropagation(),a.transition(100),i.transition(100),r.setDragPosition(e),clearTimeout(t.scrollbar.dragTimeout),o.transition(0),n.hide&&o.css("opacity",1),t.params.cssMode&&t.$wrapperEl.css("scroll-snap-type","none"),t.emit("scrollbarDragStart",e)},onDragMove:function(e){var t=this,n=t.scrollbar,r=t.$wrapperEl,a=n.$el,o=n.$dragEl;t.scrollbar.isTouched&&(e.preventDefault?e.preventDefault():e.returnValue=!1,n.setDragPosition(e),r.transition(0),a.transition(0),o.transition(0),t.emit("scrollbarDragMove",e))},onDragEnd:function(e){var t=this,n=t.params.scrollbar,r=t.scrollbar,a=t.$wrapperEl,o=r.$el;t.scrollbar.isTouched&&(t.scrollbar.isTouched=!1,t.params.cssMode&&(t.$wrapperEl.css("scroll-snap-type",""),a.transition("")),n.hide&&(clearTimeout(t.scrollbar.dragTimeout),t.scrollbar.dragTimeout=xm((function(){o.css("opacity",0),o.transition(400)}),1e3)),t.emit("scrollbarDragEnd",e),n.snapOnRelease&&t.slideToClosest())},enableDraggable:function(){var e=this;if(e.params.scrollbar.el){var t=mu(),n=e.scrollbar,r=e.touchEventsTouch,a=e.touchEventsDesktop,o=e.params,i=e.support,s=n.$el[0],l=!(!i.passiveListener||!o.passiveListeners)&&{passive:!1,capture:!1},u=!(!i.passiveListener||!o.passiveListeners)&&{passive:!0,capture:!1};s&&(i.touch?(s.addEventListener(r.start,e.scrollbar.onDragStart,l),s.addEventListener(r.move,e.scrollbar.onDragMove,l),s.addEventListener(r.end,e.scrollbar.onDragEnd,u)):(s.addEventListener(a.start,e.scrollbar.onDragStart,l),t.addEventListener(a.move,e.scrollbar.onDragMove,l),t.addEventListener(a.end,e.scrollbar.onDragEnd,u)))}},disableDraggable:function(){var e=this;if(e.params.scrollbar.el){var t=mu(),n=e.scrollbar,r=e.touchEventsTouch,a=e.touchEventsDesktop,o=e.params,i=e.support,s=n.$el[0],l=!(!i.passiveListener||!o.passiveListeners)&&{passive:!1,capture:!1},u=!(!i.passiveListener||!o.passiveListeners)&&{passive:!0,capture:!1};s&&(i.touch?(s.removeEventListener(r.start,e.scrollbar.onDragStart,l),s.removeEventListener(r.move,e.scrollbar.onDragMove,l),s.removeEventListener(r.end,e.scrollbar.onDragEnd,u)):(s.removeEventListener(a.start,e.scrollbar.onDragStart,l),t.removeEventListener(a.move,e.scrollbar.onDragMove,l),t.removeEventListener(a.end,e.scrollbar.onDragEnd,u)))}},init:function(){var e=this,t=e.scrollbar,n=e.$el;e.params.scrollbar=Im(n,e.params.scrollbar,e.params.createElements,{el:"swiper-scrollbar"});var r=e.params.scrollbar;if(r.el){var a=wm(r.el);e.params.uniqueNavElements&&"string"==typeof r.el&&a.length>1&&1===n.find(r.el).length&&(a=n.find(r.el));var o=a.find("."+e.params.scrollbar.dragClass);0===o.length&&(o=wm('<div class="'+e.params.scrollbar.dragClass+'"></div>'),a.append(o)),Sm(t,{$el:a,el:a[0],$dragEl:o,dragEl:o[0]}),r.draggable&&t.enableDraggable(),a&&a[e.enabled?"removeClass":"addClass"](e.params.scrollbar.lockClass)}},destroy:function(){this.scrollbar.disableDraggable()}},Sg={name:"scrollbar",params:{scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag"}},create:function(){Tm(this,{scrollbar:Eg({isTouched:!1,timeout:null,dragTimeout:null},kg)})},on:{init:function(e){e.scrollbar.init(),e.scrollbar.updateSize(),e.scrollbar.setTranslate()},update:function(e){e.scrollbar.updateSize()},resize:function(e){e.scrollbar.updateSize()},observerUpdate:function(e){e.scrollbar.updateSize()},setTranslate:function(e){e.scrollbar.setTranslate()},setTransition:function(e,t){e.scrollbar.setTransition(t)},"enable disable":function(e){var t=e.scrollbar.$el;t&&t[e.enabled?"removeClass":"addClass"](e.params.scrollbar.lockClass)},destroy:function(e){e.scrollbar.destroy()}}};function Tg(){return Tg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tg.apply(this,arguments)}var Og={setTransform:function(e,t){var n=this.rtl,r=wm(e),a=n?-1:1,o=r.attr("data-swiper-parallax")||"0",i=r.attr("data-swiper-parallax-x"),s=r.attr("data-swiper-parallax-y"),l=r.attr("data-swiper-parallax-scale"),u=r.attr("data-swiper-parallax-opacity");if(i||s?(i=i||"0",s=s||"0"):this.isHorizontal()?(i=o,s="0"):(s=o,i="0"),i=i.indexOf("%")>=0?parseInt(i,10)*t*a+"%":i*t*a+"px",s=s.indexOf("%")>=0?parseInt(s,10)*t+"%":s*t+"px",null!=u){var c=u-(u-1)*(1-Math.abs(t));r[0].style.opacity=c}if(null==l)r.transform("translate3d("+i+", "+s+", 0px)");else{var p=l-(l-1)*(1-Math.abs(t));r.transform("translate3d("+i+", "+s+", 0px) scale("+p+")")}},setTranslate:function(){var e=this,t=e.$el,n=e.slides,r=e.progress,a=e.snapGrid;t.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each((function(t){e.parallax.setTransform(t,r)})),n.each((function(t,n){var o=t.progress;e.params.slidesPerGroup>1&&"auto"!==e.params.slidesPerView&&(o+=Math.ceil(n/2)-r*(a.length-1)),o=Math.min(Math.max(o,-1),1),wm(t).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each((function(t){e.parallax.setTransform(t,o)}))}))},setTransition:function(e){void 0===e&&(e=this.params.speed);this.$el.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each((function(t){var n=wm(t),r=parseInt(n.attr("data-swiper-parallax-duration"),10)||e;0===e&&(r=0),n.transition(r)}))}},Ig={name:"parallax",params:{parallax:{enabled:!1}},create:function(){Tm(this,{parallax:Tg({},Og)})},on:{beforeInit:function(e){e.params.parallax.enabled&&(e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)},init:function(e){e.params.parallax.enabled&&e.parallax.setTranslate()},setTranslate:function(e){e.params.parallax.enabled&&e.parallax.setTranslate()},setTransition:function(e,t){e.params.parallax.enabled&&e.parallax.setTransition(t)}}};function Ng(){return Ng=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ng.apply(this,arguments)}var Ag={getDistanceBetweenTouches:function(e){if(e.targetTouches.length<2)return 1;var t=e.targetTouches[0].pageX,n=e.targetTouches[0].pageY,r=e.targetTouches[1].pageX,a=e.targetTouches[1].pageY;return Math.sqrt(Math.pow(r-t,2)+Math.pow(a-n,2))},onGestureStart:function(e){var t=this,n=t.support,r=t.params.zoom,a=t.zoom,o=a.gesture;if(a.fakeGestureTouched=!1,a.fakeGestureMoved=!1,!n.gestures){if("touchstart"!==e.type||"touchstart"===e.type&&e.targetTouches.length<2)return;a.fakeGestureTouched=!0,o.scaleStart=Ag.getDistanceBetweenTouches(e)}o.$slideEl&&o.$slideEl.length||(o.$slideEl=wm(e.target).closest("."+t.params.slideClass),0===o.$slideEl.length&&(o.$slideEl=t.slides.eq(t.activeIndex)),o.$imageEl=o.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),o.$imageWrapEl=o.$imageEl.parent("."+r.containerClass),o.maxRatio=o.$imageWrapEl.attr("data-swiper-zoom")||r.maxRatio,0!==o.$imageWrapEl.length)?(o.$imageEl&&o.$imageEl.transition(0),t.zoom.isScaling=!0):o.$imageEl=void 0},onGestureChange:function(e){var t=this,n=t.support,r=t.params.zoom,a=t.zoom,o=a.gesture;if(!n.gestures){if("touchmove"!==e.type||"touchmove"===e.type&&e.targetTouches.length<2)return;a.fakeGestureMoved=!0,o.scaleMove=Ag.getDistanceBetweenTouches(e)}o.$imageEl&&0!==o.$imageEl.length?(n.gestures?a.scale=e.scale*a.currentScale:a.scale=o.scaleMove/o.scaleStart*a.currentScale,a.scale>o.maxRatio&&(a.scale=o.maxRatio-1+Math.pow(a.scale-o.maxRatio+1,.5)),a.scale<r.minRatio&&(a.scale=r.minRatio+1-Math.pow(r.minRatio-a.scale+1,.5)),o.$imageEl.transform("translate3d(0,0,0) scale("+a.scale+")")):"gesturechange"===e.type&&a.onGestureStart(e)},onGestureEnd:function(e){var t=this,n=t.device,r=t.support,a=t.params.zoom,o=t.zoom,i=o.gesture;if(!r.gestures){if(!o.fakeGestureTouched||!o.fakeGestureMoved)return;if("touchend"!==e.type||"touchend"===e.type&&e.changedTouches.length<2&&!n.android)return;o.fakeGestureTouched=!1,o.fakeGestureMoved=!1}i.$imageEl&&0!==i.$imageEl.length&&(o.scale=Math.max(Math.min(o.scale,i.maxRatio),a.minRatio),i.$imageEl.transition(t.params.speed).transform("translate3d(0,0,0) scale("+o.scale+")"),o.currentScale=o.scale,o.isScaling=!1,1===o.scale&&(i.$slideEl=void 0))},onTouchStart:function(e){var t=this.device,n=this.zoom,r=n.gesture,a=n.image;r.$imageEl&&0!==r.$imageEl.length&&(a.isTouched||(t.android&&e.cancelable&&e.preventDefault(),a.isTouched=!0,a.touchesStart.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,a.touchesStart.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY))},onTouchMove:function(e){var t=this,n=t.zoom,r=n.gesture,a=n.image,o=n.velocity;if(r.$imageEl&&0!==r.$imageEl.length&&(t.allowClick=!1,a.isTouched&&r.$slideEl)){a.isMoved||(a.width=r.$imageEl[0].offsetWidth,a.height=r.$imageEl[0].offsetHeight,a.startX=Em(r.$imageWrapEl[0],"x")||0,a.startY=Em(r.$imageWrapEl[0],"y")||0,r.slideWidth=r.$slideEl[0].offsetWidth,r.slideHeight=r.$slideEl[0].offsetHeight,r.$imageWrapEl.transition(0));var i=a.width*n.scale,s=a.height*n.scale;if(!(i<r.slideWidth&&s<r.slideHeight)){if(a.minX=Math.min(r.slideWidth/2-i/2,0),a.maxX=-a.minX,a.minY=Math.min(r.slideHeight/2-s/2,0),a.maxY=-a.minY,a.touchesCurrent.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,a.touchesCurrent.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,!a.isMoved&&!n.isScaling){if(t.isHorizontal()&&(Math.floor(a.minX)===Math.floor(a.startX)&&a.touchesCurrent.x<a.touchesStart.x||Math.floor(a.maxX)===Math.floor(a.startX)&&a.touchesCurrent.x>a.touchesStart.x))return void(a.isTouched=!1);if(!t.isHorizontal()&&(Math.floor(a.minY)===Math.floor(a.startY)&&a.touchesCurrent.y<a.touchesStart.y||Math.floor(a.maxY)===Math.floor(a.startY)&&a.touchesCurrent.y>a.touchesStart.y))return void(a.isTouched=!1)}e.cancelable&&e.preventDefault(),e.stopPropagation(),a.isMoved=!0,a.currentX=a.touchesCurrent.x-a.touchesStart.x+a.startX,a.currentY=a.touchesCurrent.y-a.touchesStart.y+a.startY,a.currentX<a.minX&&(a.currentX=a.minX+1-Math.pow(a.minX-a.currentX+1,.8)),a.currentX>a.maxX&&(a.currentX=a.maxX-1+Math.pow(a.currentX-a.maxX+1,.8)),a.currentY<a.minY&&(a.currentY=a.minY+1-Math.pow(a.minY-a.currentY+1,.8)),a.currentY>a.maxY&&(a.currentY=a.maxY-1+Math.pow(a.currentY-a.maxY+1,.8)),o.prevPositionX||(o.prevPositionX=a.touchesCurrent.x),o.prevPositionY||(o.prevPositionY=a.touchesCurrent.y),o.prevTime||(o.prevTime=Date.now()),o.x=(a.touchesCurrent.x-o.prevPositionX)/(Date.now()-o.prevTime)/2,o.y=(a.touchesCurrent.y-o.prevPositionY)/(Date.now()-o.prevTime)/2,Math.abs(a.touchesCurrent.x-o.prevPositionX)<2&&(o.x=0),Math.abs(a.touchesCurrent.y-o.prevPositionY)<2&&(o.y=0),o.prevPositionX=a.touchesCurrent.x,o.prevPositionY=a.touchesCurrent.y,o.prevTime=Date.now(),r.$imageWrapEl.transform("translate3d("+a.currentX+"px, "+a.currentY+"px,0)")}}},onTouchEnd:function(){var e=this.zoom,t=e.gesture,n=e.image,r=e.velocity;if(t.$imageEl&&0!==t.$imageEl.length){if(!n.isTouched||!n.isMoved)return n.isTouched=!1,void(n.isMoved=!1);n.isTouched=!1,n.isMoved=!1;var a=300,o=300,i=r.x*a,s=n.currentX+i,l=r.y*o,u=n.currentY+l;0!==r.x&&(a=Math.abs((s-n.currentX)/r.x)),0!==r.y&&(o=Math.abs((u-n.currentY)/r.y));var c=Math.max(a,o);n.currentX=s,n.currentY=u;var p=n.width*e.scale,d=n.height*e.scale;n.minX=Math.min(t.slideWidth/2-p/2,0),n.maxX=-n.minX,n.minY=Math.min(t.slideHeight/2-d/2,0),n.maxY=-n.minY,n.currentX=Math.max(Math.min(n.currentX,n.maxX),n.minX),n.currentY=Math.max(Math.min(n.currentY,n.maxY),n.minY),t.$imageWrapEl.transition(c).transform("translate3d("+n.currentX+"px, "+n.currentY+"px,0)")}},onTransitionEnd:function(){var e=this,t=e.zoom,n=t.gesture;n.$slideEl&&e.previousIndex!==e.activeIndex&&(n.$imageEl&&n.$imageEl.transform("translate3d(0,0,0) scale(1)"),n.$imageWrapEl&&n.$imageWrapEl.transform("translate3d(0,0,0)"),t.scale=1,t.currentScale=1,n.$slideEl=void 0,n.$imageEl=void 0,n.$imageWrapEl=void 0)},toggle:function(e){var t=this.zoom;t.scale&&1!==t.scale?t.out():t.in(e)},in:function(e){var t,n,r,a,o,i,s,l,u,c,p,d,f,h,v,m,g=this,b=bu(),y=g.zoom,w=g.params.zoom,x=y.gesture,C=y.image;(x.$slideEl||(e&&e.target&&(x.$slideEl=wm(e.target).closest("."+g.params.slideClass)),x.$slideEl||(g.params.virtual&&g.params.virtual.enabled&&g.virtual?x.$slideEl=g.$wrapperEl.children("."+g.params.slideActiveClass):x.$slideEl=g.slides.eq(g.activeIndex)),x.$imageEl=x.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),x.$imageWrapEl=x.$imageEl.parent("."+w.containerClass)),x.$imageEl&&0!==x.$imageEl.length&&x.$imageWrapEl&&0!==x.$imageWrapEl.length)&&(x.$slideEl.addClass(""+w.zoomedSlideClass),void 0===C.touchesStart.x&&e?(t="touchend"===e.type?e.changedTouches[0].pageX:e.pageX,n="touchend"===e.type?e.changedTouches[0].pageY:e.pageY):(t=C.touchesStart.x,n=C.touchesStart.y),y.scale=x.$imageWrapEl.attr("data-swiper-zoom")||w.maxRatio,y.currentScale=x.$imageWrapEl.attr("data-swiper-zoom")||w.maxRatio,e?(v=x.$slideEl[0].offsetWidth,m=x.$slideEl[0].offsetHeight,r=x.$slideEl.offset().left+b.scrollX+v/2-t,a=x.$slideEl.offset().top+b.scrollY+m/2-n,s=x.$imageEl[0].offsetWidth,l=x.$imageEl[0].offsetHeight,u=s*y.scale,c=l*y.scale,f=-(p=Math.min(v/2-u/2,0)),h=-(d=Math.min(m/2-c/2,0)),(o=r*y.scale)<p&&(o=p),o>f&&(o=f),(i=a*y.scale)<d&&(i=d),i>h&&(i=h)):(o=0,i=0),x.$imageWrapEl.transition(300).transform("translate3d("+o+"px, "+i+"px,0)"),x.$imageEl.transition(300).transform("translate3d(0,0,0) scale("+y.scale+")"))},out:function(){var e=this,t=e.zoom,n=e.params.zoom,r=t.gesture;r.$slideEl||(e.params.virtual&&e.params.virtual.enabled&&e.virtual?r.$slideEl=e.$wrapperEl.children("."+e.params.slideActiveClass):r.$slideEl=e.slides.eq(e.activeIndex),r.$imageEl=r.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),r.$imageWrapEl=r.$imageEl.parent("."+n.containerClass)),r.$imageEl&&0!==r.$imageEl.length&&r.$imageWrapEl&&0!==r.$imageWrapEl.length&&(t.scale=1,t.currentScale=1,r.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),r.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),r.$slideEl.removeClass(""+n.zoomedSlideClass),r.$slideEl=void 0)},toggleGestures:function(e){var t=this,n=t.zoom,r=n.slideSelector,a=n.passiveListener;t.$wrapperEl[e]("gesturestart",r,n.onGestureStart,a),t.$wrapperEl[e]("gesturechange",r,n.onGestureChange,a),t.$wrapperEl[e]("gestureend",r,n.onGestureEnd,a)},enableGestures:function(){this.zoom.gesturesEnabled||(this.zoom.gesturesEnabled=!0,this.zoom.toggleGestures("on"))},disableGestures:function(){this.zoom.gesturesEnabled&&(this.zoom.gesturesEnabled=!1,this.zoom.toggleGestures("off"))},enable:function(){var e=this,t=e.support,n=e.zoom;if(!n.enabled){n.enabled=!0;var r=!("touchstart"!==e.touchEvents.start||!t.passiveListener||!e.params.passiveListeners)&&{passive:!0,capture:!1},a=!t.passiveListener||{passive:!1,capture:!0},o="."+e.params.slideClass;e.zoom.passiveListener=r,e.zoom.slideSelector=o,t.gestures?(e.$wrapperEl.on(e.touchEvents.start,e.zoom.enableGestures,r),e.$wrapperEl.on(e.touchEvents.end,e.zoom.disableGestures,r)):"touchstart"===e.touchEvents.start&&(e.$wrapperEl.on(e.touchEvents.start,o,n.onGestureStart,r),e.$wrapperEl.on(e.touchEvents.move,o,n.onGestureChange,a),e.$wrapperEl.on(e.touchEvents.end,o,n.onGestureEnd,r),e.touchEvents.cancel&&e.$wrapperEl.on(e.touchEvents.cancel,o,n.onGestureEnd,r)),e.$wrapperEl.on(e.touchEvents.move,"."+e.params.zoom.containerClass,n.onTouchMove,a)}},disable:function(){var e=this,t=e.zoom;if(t.enabled){var n=e.support;e.zoom.enabled=!1;var r=!("touchstart"!==e.touchEvents.start||!n.passiveListener||!e.params.passiveListeners)&&{passive:!0,capture:!1},a=!n.passiveListener||{passive:!1,capture:!0},o="."+e.params.slideClass;n.gestures?(e.$wrapperEl.off(e.touchEvents.start,e.zoom.enableGestures,r),e.$wrapperEl.off(e.touchEvents.end,e.zoom.disableGestures,r)):"touchstart"===e.touchEvents.start&&(e.$wrapperEl.off(e.touchEvents.start,o,t.onGestureStart,r),e.$wrapperEl.off(e.touchEvents.move,o,t.onGestureChange,a),e.$wrapperEl.off(e.touchEvents.end,o,t.onGestureEnd,r),e.touchEvents.cancel&&e.$wrapperEl.off(e.touchEvents.cancel,o,t.onGestureEnd,r)),e.$wrapperEl.off(e.touchEvents.move,"."+e.params.zoom.containerClass,t.onTouchMove,a)}}},_g={name:"zoom",params:{zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}},create:function(){var e=this;Tm(e,{zoom:Ng({enabled:!1,scale:1,currentScale:1,isScaling:!1,gesture:{$slideEl:void 0,slideWidth:void 0,slideHeight:void 0,$imageEl:void 0,$imageWrapEl:void 0,maxRatio:3},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0}},Ag)});var t=1;Object.defineProperty(e.zoom,"scale",{get:function(){return t},set:function(n){if(t!==n){var r=e.zoom.gesture.$imageEl?e.zoom.gesture.$imageEl[0]:void 0,a=e.zoom.gesture.$slideEl?e.zoom.gesture.$slideEl[0]:void 0;e.emit("zoomChange",n,r,a)}t=n}})},on:{init:function(e){e.params.zoom.enabled&&e.zoom.enable()},destroy:function(e){e.zoom.disable()},touchStart:function(e,t){e.zoom.enabled&&e.zoom.onTouchStart(t)},touchEnd:function(e,t){e.zoom.enabled&&e.zoom.onTouchEnd(t)},doubleTap:function(e,t){!e.animating&&e.params.zoom.enabled&&e.zoom.enabled&&e.params.zoom.toggle&&e.zoom.toggle(t)},transitionEnd:function(e){e.zoom.enabled&&e.params.zoom.enabled&&e.zoom.onTransitionEnd()},slideChange:function(e){e.zoom.enabled&&e.params.zoom.enabled&&e.params.cssMode&&e.zoom.onTransitionEnd()}}};function Rg(){return Rg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rg.apply(this,arguments)}var Mg={loadInSlide:function(e,t){void 0===t&&(t=!0);var n=this,r=n.params.lazy;if(void 0!==e&&0!==n.slides.length){var a=n.virtual&&n.params.virtual.enabled?n.$wrapperEl.children("."+n.params.slideClass+'[data-swiper-slide-index="'+e+'"]'):n.slides.eq(e),o=a.find("."+r.elementClass+":not(."+r.loadedClass+"):not(."+r.loadingClass+")");!a.hasClass(r.elementClass)||a.hasClass(r.loadedClass)||a.hasClass(r.loadingClass)||o.push(a[0]),0!==o.length&&o.each((function(e){var o=wm(e);o.addClass(r.loadingClass);var i=o.attr("data-background"),s=o.attr("data-src"),l=o.attr("data-srcset"),u=o.attr("data-sizes"),c=o.parent("picture");n.loadImage(o[0],s||i,l,u,!1,(function(){if(null!=n&&n&&(!n||n.params)&&!n.destroyed){if(i?(o.css("background-image",'url("'+i+'")'),o.removeAttr("data-background")):(l&&(o.attr("srcset",l),o.removeAttr("data-srcset")),u&&(o.attr("sizes",u),o.removeAttr("data-sizes")),c.length&&c.children("source").each((function(e){var t=wm(e);t.attr("data-srcset")&&(t.attr("srcset",t.attr("data-srcset")),t.removeAttr("data-srcset"))})),s&&(o.attr("src",s),o.removeAttr("data-src"))),o.addClass(r.loadedClass).removeClass(r.loadingClass),a.find("."+r.preloaderClass).remove(),n.params.loop&&t){var e=a.attr("data-swiper-slide-index");if(a.hasClass(n.params.slideDuplicateClass)){var p=n.$wrapperEl.children('[data-swiper-slide-index="'+e+'"]:not(.'+n.params.slideDuplicateClass+")");n.lazy.loadInSlide(p.index(),!1)}else{var d=n.$wrapperEl.children("."+n.params.slideDuplicateClass+'[data-swiper-slide-index="'+e+'"]');n.lazy.loadInSlide(d.index(),!1)}}n.emit("lazyImageReady",a[0],o[0]),n.params.autoHeight&&n.updateAutoHeight()}})),n.emit("lazyImageLoad",a[0],o[0])}))}},load:function(){var e=this,t=e.$wrapperEl,n=e.params,r=e.slides,a=e.activeIndex,o=e.virtual&&n.virtual.enabled,i=n.lazy,s=n.slidesPerView;function l(e){if(o){if(t.children("."+n.slideClass+'[data-swiper-slide-index="'+e+'"]').length)return!0}else if(r[e])return!0;return!1}function u(e){return o?wm(e).attr("data-swiper-slide-index"):wm(e).index()}if("auto"===s&&(s=0),e.lazy.initialImageLoaded||(e.lazy.initialImageLoaded=!0),e.params.watchSlidesVisibility)t.children("."+n.slideVisibleClass).each((function(t){var n=o?wm(t).attr("data-swiper-slide-index"):wm(t).index();e.lazy.loadInSlide(n)}));else if(s>1)for(var c=a;c<a+s;c+=1)l(c)&&e.lazy.loadInSlide(c);else e.lazy.loadInSlide(a);if(i.loadPrevNext)if(s>1||i.loadPrevNextAmount&&i.loadPrevNextAmount>1){for(var p=i.loadPrevNextAmount,d=s,f=Math.min(a+d+Math.max(p,d),r.length),h=Math.max(a-Math.max(d,p),0),v=a+s;v<f;v+=1)l(v)&&e.lazy.loadInSlide(v);for(var m=h;m<a;m+=1)l(m)&&e.lazy.loadInSlide(m)}else{var g=t.children("."+n.slideNextClass);g.length>0&&e.lazy.loadInSlide(u(g));var b=t.children("."+n.slidePrevClass);b.length>0&&e.lazy.loadInSlide(u(b))}},checkInViewOnLoad:function(){var e=bu(),t=this;if(t&&!t.destroyed){var n=t.params.lazy.scrollingElement?wm(t.params.lazy.scrollingElement):wm(e),r=n[0]===e,a=r?e.innerWidth:n[0].offsetWidth,o=r?e.innerHeight:n[0].offsetHeight,i=t.$el.offset(),s=!1;t.rtlTranslate&&(i.left-=t.$el[0].scrollLeft);for(var l=[[i.left,i.top],[i.left+t.width,i.top],[i.left,i.top+t.height],[i.left+t.width,i.top+t.height]],u=0;u<l.length;u+=1){var c=l[u];if(c[0]>=0&&c[0]<=a&&c[1]>=0&&c[1]<=o){if(0===c[0]&&0===c[1])continue;s=!0}}var p=!("touchstart"!==t.touchEvents.start||!t.support.passiveListener||!t.params.passiveListeners)&&{passive:!0,capture:!1};s?(t.lazy.load(),n.off("scroll",t.lazy.checkInViewOnLoad,p)):t.lazy.scrollHandlerAttached||(t.lazy.scrollHandlerAttached=!0,n.on("scroll",t.lazy.checkInViewOnLoad,p))}}},Pg={name:"lazy",params:{lazy:{checkInView:!1,enabled:!1,loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,scrollingElement:"",elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"}},create:function(){Tm(this,{lazy:Rg({initialImageLoaded:!1},Mg)})},on:{beforeInit:function(e){e.params.lazy.enabled&&e.params.preloadImages&&(e.params.preloadImages=!1)},init:function(e){e.params.lazy.enabled&&!e.params.loop&&0===e.params.initialSlide&&(e.params.lazy.checkInView?e.lazy.checkInViewOnLoad():e.lazy.load())},scroll:function(e){e.params.freeMode&&!e.params.freeModeSticky&&e.lazy.load()},"scrollbarDragMove resize _freeModeNoMomentumRelease":function(e){e.params.lazy.enabled&&e.lazy.load()},transitionStart:function(e){e.params.lazy.enabled&&(e.params.lazy.loadOnTransitionStart||!e.params.lazy.loadOnTransitionStart&&!e.lazy.initialImageLoaded)&&e.lazy.load()},transitionEnd:function(e){e.params.lazy.enabled&&!e.params.lazy.loadOnTransitionStart&&e.lazy.load()},slideChange:function(e){var t=e.params,n=t.lazy,r=t.cssMode,a=t.watchSlidesVisibility,o=t.watchSlidesProgress,i=t.touchReleaseOnEdges,s=t.resistanceRatio;n.enabled&&(r||(a||o)&&(i||0===s))&&e.lazy.load()}}};function Dg(){return Dg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dg.apply(this,arguments)}var Bg={LinearSpline:function(e,t){var n,r,a,o,i,s=function(e,t){for(r=-1,n=e.length;n-r>1;)e[a=n+r>>1]<=t?r=a:n=a;return n};return this.x=e,this.y=t,this.lastIndex=e.length-1,this.interpolate=function(e){return e?(i=s(this.x,e),o=i-1,(e-this.x[o])*(this.y[i]-this.y[o])/(this.x[i]-this.x[o])+this.y[o]):0},this},getInterpolateFunction:function(e){var t=this;t.controller.spline||(t.controller.spline=t.params.loop?new Bg.LinearSpline(t.slidesGrid,e.slidesGrid):new Bg.LinearSpline(t.snapGrid,e.snapGrid))},setTranslate:function(e,t){var n,r,a=this,o=a.controller.control,i=a.constructor;function s(e){var t=a.rtlTranslate?-a.translate:a.translate;"slide"===a.params.controller.by&&(a.controller.getInterpolateFunction(e),r=-a.controller.spline.interpolate(-t)),r&&"container"!==a.params.controller.by||(n=(e.maxTranslate()-e.minTranslate())/(a.maxTranslate()-a.minTranslate()),r=(t-a.minTranslate())*n+e.minTranslate()),a.params.controller.inverse&&(r=e.maxTranslate()-r),e.updateProgress(r),e.setTranslate(r,a),e.updateActiveIndex(),e.updateSlidesClasses()}if(Array.isArray(o))for(var l=0;l<o.length;l+=1)o[l]!==t&&o[l]instanceof i&&s(o[l]);else o instanceof i&&t!==o&&s(o)},setTransition:function(e,t){var n,r=this,a=r.constructor,o=r.controller.control;function i(t){t.setTransition(e,r),0!==e&&(t.transitionStart(),t.params.autoHeight&&xm((function(){t.updateAutoHeight()})),t.$wrapperEl.transitionEnd((function(){o&&(t.params.loop&&"slide"===r.params.controller.by&&t.loopFix(),t.transitionEnd())})))}if(Array.isArray(o))for(n=0;n<o.length;n+=1)o[n]!==t&&o[n]instanceof a&&i(o[n]);else o instanceof a&&t!==o&&i(o)}},Lg={name:"controller",params:{controller:{control:void 0,inverse:!1,by:"slide"}},create:function(){Tm(this,{controller:Dg({control:this.params.controller.control},Bg)})},on:{update:function(e){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)},resize:function(e){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)},observerUpdate:function(e){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)},setTranslate:function(e,t,n){e.controller.control&&e.controller.setTranslate(t,n)},setTransition:function(e,t,n){e.controller.control&&e.controller.setTransition(t,n)}}};function zg(){return zg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zg.apply(this,arguments)}var Fg={getRandomNumber:function(e){void 0===e&&(e=16);return"x".repeat(e).replace(/x/g,(function(){return Math.round(16*Math.random()).toString(16)}))},makeElFocusable:function(e){return e.attr("tabIndex","0"),e},makeElNotFocusable:function(e){return e.attr("tabIndex","-1"),e},addElRole:function(e,t){return e.attr("role",t),e},addElRoleDescription:function(e,t){return e.attr("aria-roledescription",t),e},addElControls:function(e,t){return e.attr("aria-controls",t),e},addElLabel:function(e,t){return e.attr("aria-label",t),e},addElId:function(e,t){return e.attr("id",t),e},addElLive:function(e,t){return e.attr("aria-live",t),e},disableEl:function(e){return e.attr("aria-disabled",!0),e},enableEl:function(e){return e.attr("aria-disabled",!1),e},onEnterOrSpaceKey:function(e){if(13===e.keyCode||32===e.keyCode){var t=this,n=t.params.a11y,r=wm(e.target);t.navigation&&t.navigation.$nextEl&&r.is(t.navigation.$nextEl)&&(t.isEnd&&!t.params.loop||t.slideNext(),t.isEnd?t.a11y.notify(n.lastSlideMessage):t.a11y.notify(n.nextSlideMessage)),t.navigation&&t.navigation.$prevEl&&r.is(t.navigation.$prevEl)&&(t.isBeginning&&!t.params.loop||t.slidePrev(),t.isBeginning?t.a11y.notify(n.firstSlideMessage):t.a11y.notify(n.prevSlideMessage)),t.pagination&&r.is(Om(t.params.pagination.bulletClass))&&r[0].click()}},notify:function(e){var t=this.a11y.liveRegion;0!==t.length&&(t.html(""),t.html(e))},updateNavigation:function(){var e=this;if(!e.params.loop&&e.navigation){var t=e.navigation,n=t.$nextEl,r=t.$prevEl;r&&r.length>0&&(e.isBeginning?(e.a11y.disableEl(r),e.a11y.makeElNotFocusable(r)):(e.a11y.enableEl(r),e.a11y.makeElFocusable(r))),n&&n.length>0&&(e.isEnd?(e.a11y.disableEl(n),e.a11y.makeElNotFocusable(n)):(e.a11y.enableEl(n),e.a11y.makeElFocusable(n)))}},updatePagination:function(){var e=this,t=e.params.a11y;e.pagination&&e.params.pagination.clickable&&e.pagination.bullets&&e.pagination.bullets.length&&e.pagination.bullets.each((function(n){var r=wm(n);e.a11y.makeElFocusable(r),e.params.pagination.renderBullet||(e.a11y.addElRole(r,"button"),e.a11y.addElLabel(r,t.paginationBulletMessage.replace(/\{\{index\}\}/,r.index()+1)))}))},init:function(){var e=this,t=e.params.a11y;e.$el.append(e.a11y.liveRegion);var n=e.$el;t.containerRoleDescriptionMessage&&e.a11y.addElRoleDescription(n,t.containerRoleDescriptionMessage),t.containerMessage&&e.a11y.addElLabel(n,t.containerMessage);var r=e.$wrapperEl,a=r.attr("id")||"swiper-wrapper-"+e.a11y.getRandomNumber(16),o=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";e.a11y.addElId(r,a),e.a11y.addElLive(r,o),t.itemRoleDescriptionMessage&&e.a11y.addElRoleDescription(wm(e.slides),t.itemRoleDescriptionMessage),e.a11y.addElRole(wm(e.slides),t.slideRole);var i,s,l=e.params.loop?e.slides.filter((function(t){return!t.classList.contains(e.params.slideDuplicateClass)})).length:e.slides.length;e.slides.each((function(n,r){var a=wm(n),o=e.params.loop?parseInt(a.attr("data-swiper-slide-index"),10):r,i=t.slideLabelMessage.replace(/\{\{index\}\}/,o+1).replace(/\{\{slidesLength\}\}/,l);e.a11y.addElLabel(a,i)})),e.navigation&&e.navigation.$nextEl&&(i=e.navigation.$nextEl),e.navigation&&e.navigation.$prevEl&&(s=e.navigation.$prevEl),i&&i.length&&(e.a11y.makeElFocusable(i),"BUTTON"!==i[0].tagName&&(e.a11y.addElRole(i,"button"),i.on("keydown",e.a11y.onEnterOrSpaceKey)),e.a11y.addElLabel(i,t.nextSlideMessage),e.a11y.addElControls(i,a)),s&&s.length&&(e.a11y.makeElFocusable(s),"BUTTON"!==s[0].tagName&&(e.a11y.addElRole(s,"button"),s.on("keydown",e.a11y.onEnterOrSpaceKey)),e.a11y.addElLabel(s,t.prevSlideMessage),e.a11y.addElControls(s,a)),e.pagination&&e.params.pagination.clickable&&e.pagination.bullets&&e.pagination.bullets.length&&e.pagination.$el.on("keydown",Om(e.params.pagination.bulletClass),e.a11y.onEnterOrSpaceKey)},destroy:function(){var e,t,n=this;n.a11y.liveRegion&&n.a11y.liveRegion.length>0&&n.a11y.liveRegion.remove(),n.navigation&&n.navigation.$nextEl&&(e=n.navigation.$nextEl),n.navigation&&n.navigation.$prevEl&&(t=n.navigation.$prevEl),e&&e.off("keydown",n.a11y.onEnterOrSpaceKey),t&&t.off("keydown",n.a11y.onEnterOrSpaceKey),n.pagination&&n.params.pagination.clickable&&n.pagination.bullets&&n.pagination.bullets.length&&n.pagination.$el.off("keydown",Om(n.params.pagination.bulletClass),n.a11y.onEnterOrSpaceKey)}},$g={name:"a11y",params:{a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group"}},create:function(){Tm(this,{a11y:zg({},Fg,{liveRegion:wm('<span class="'+this.params.a11y.notificationClass+'" aria-live="assertive" aria-atomic="true"></span>')})})},on:{afterInit:function(e){e.params.a11y.enabled&&(e.a11y.init(),e.a11y.updateNavigation())},toEdge:function(e){e.params.a11y.enabled&&e.a11y.updateNavigation()},fromEdge:function(e){e.params.a11y.enabled&&e.a11y.updateNavigation()},paginationUpdate:function(e){e.params.a11y.enabled&&e.a11y.updatePagination()},destroy:function(e){e.params.a11y.enabled&&e.a11y.destroy()}}};function Vg(){return Vg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vg.apply(this,arguments)}var jg={init:function(){var e=this,t=bu();if(e.params.history){if(!t.history||!t.history.pushState)return e.params.history.enabled=!1,void(e.params.hashNavigation.enabled=!0);var n=e.history;n.initialized=!0,n.paths=jg.getPathValues(e.params.url),(n.paths.key||n.paths.value)&&(n.scrollToSlide(0,n.paths.value,e.params.runCallbacksOnInit),e.params.history.replaceState||t.addEventListener("popstate",e.history.setHistoryPopState))}},destroy:function(){var e=bu();this.params.history.replaceState||e.removeEventListener("popstate",this.history.setHistoryPopState)},setHistoryPopState:function(){var e=this;e.history.paths=jg.getPathValues(e.params.url),e.history.scrollToSlide(e.params.speed,e.history.paths.value,!1)},getPathValues:function(e){var t=bu(),n=(e?new URL(e):t.location).pathname.slice(1).split("/").filter((function(e){return""!==e})),r=n.length;return{key:n[r-2],value:n[r-1]}},setHistory:function(e,t){var n=this,r=bu();if(n.history.initialized&&n.params.history.enabled){var a;a=n.params.url?new URL(n.params.url):r.location;var o=n.slides.eq(t),i=jg.slugify(o.attr("data-history"));if(n.params.history.root.length>0){var s=n.params.history.root;"/"===s[s.length-1]&&(s=s.slice(0,s.length-1)),i=s+"/"+e+"/"+i}else a.pathname.includes(e)||(i=e+"/"+i);var l=r.history.state;l&&l.value===i||(n.params.history.replaceState?r.history.replaceState({value:i},null,i):r.history.pushState({value:i},null,i))}},slugify:function(e){return e.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},scrollToSlide:function(e,t,n){var r=this;if(t)for(var a=0,o=r.slides.length;a<o;a+=1){var i=r.slides.eq(a);if(jg.slugify(i.attr("data-history"))===t&&!i.hasClass(r.params.slideDuplicateClass)){var s=i.index();r.slideTo(s,e,n)}}else r.slideTo(0,e,n)}},Hg={name:"history",params:{history:{enabled:!1,root:"",replaceState:!1,key:"slides"}},create:function(){Tm(this,{history:Vg({},jg)})},on:{init:function(e){e.params.history.enabled&&e.history.init()},destroy:function(e){e.params.history.enabled&&e.history.destroy()},"transitionEnd _freeModeNoMomentumRelease":function(e){e.history.initialized&&e.history.setHistory(e.params.history.key,e.activeIndex)},slideChange:function(e){e.history.initialized&&e.params.cssMode&&e.history.setHistory(e.params.history.key,e.activeIndex)}}};function Wg(){return Wg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wg.apply(this,arguments)}var Ug={onHashChange:function(){var e=this,t=mu();e.emit("hashChange");var n=t.location.hash.replace("#","");if(n!==e.slides.eq(e.activeIndex).attr("data-hash")){var r=e.$wrapperEl.children("."+e.params.slideClass+'[data-hash="'+n+'"]').index();if(void 0===r)return;e.slideTo(r)}},setHash:function(){var e=this,t=bu(),n=mu();if(e.hashNavigation.initialized&&e.params.hashNavigation.enabled)if(e.params.hashNavigation.replaceState&&t.history&&t.history.replaceState)t.history.replaceState(null,null,"#"+e.slides.eq(e.activeIndex).attr("data-hash")||0),e.emit("hashSet");else{var r=e.slides.eq(e.activeIndex),a=r.attr("data-hash")||r.attr("data-history");n.location.hash=a||"",e.emit("hashSet")}},init:function(){var e=this,t=mu(),n=bu();if(!(!e.params.hashNavigation.enabled||e.params.history&&e.params.history.enabled)){e.hashNavigation.initialized=!0;var r=t.location.hash.replace("#","");if(r)for(var a=0,o=e.slides.length;a<o;a+=1){var i=e.slides.eq(a);if((i.attr("data-hash")||i.attr("data-history"))===r&&!i.hasClass(e.params.slideDuplicateClass)){var s=i.index();e.slideTo(s,0,e.params.runCallbacksOnInit,!0)}}e.params.hashNavigation.watchState&&wm(n).on("hashchange",e.hashNavigation.onHashChange)}},destroy:function(){var e=bu();this.params.hashNavigation.watchState&&wm(e).off("hashchange",this.hashNavigation.onHashChange)}},qg={name:"hash-navigation",params:{hashNavigation:{enabled:!1,replaceState:!1,watchState:!1}},create:function(){Tm(this,{hashNavigation:Wg({initialized:!1},Ug)})},on:{init:function(e){e.params.hashNavigation.enabled&&e.hashNavigation.init()},destroy:function(e){e.params.hashNavigation.enabled&&e.hashNavigation.destroy()},"transitionEnd _freeModeNoMomentumRelease":function(e){e.hashNavigation.initialized&&e.hashNavigation.setHash()},slideChange:function(e){e.hashNavigation.initialized&&e.params.cssMode&&e.hashNavigation.setHash()}}};function Gg(){return Gg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gg.apply(this,arguments)}var Xg={run:function(){var e=this,t=e.slides.eq(e.activeIndex),n=e.params.autoplay.delay;t.attr("data-swiper-autoplay")&&(n=t.attr("data-swiper-autoplay")||e.params.autoplay.delay),clearTimeout(e.autoplay.timeout),e.autoplay.timeout=xm((function(){var t;e.params.autoplay.reverseDirection?e.params.loop?(e.loopFix(),t=e.slidePrev(e.params.speed,!0,!0),e.emit("autoplay")):e.isBeginning?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(t=e.slideTo(e.slides.length-1,e.params.speed,!0,!0),e.emit("autoplay")):(t=e.slidePrev(e.params.speed,!0,!0),e.emit("autoplay")):e.params.loop?(e.loopFix(),t=e.slideNext(e.params.speed,!0,!0),e.emit("autoplay")):e.isEnd?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(t=e.slideTo(0,e.params.speed,!0,!0),e.emit("autoplay")):(t=e.slideNext(e.params.speed,!0,!0),e.emit("autoplay")),(e.params.cssMode&&e.autoplay.running||!1===t)&&e.autoplay.run()}),n)},start:function(){var e=this;return void 0===e.autoplay.timeout&&(!e.autoplay.running&&(e.autoplay.running=!0,e.emit("autoplayStart"),e.autoplay.run(),!0))},stop:function(){var e=this;return!!e.autoplay.running&&(void 0!==e.autoplay.timeout&&(e.autoplay.timeout&&(clearTimeout(e.autoplay.timeout),e.autoplay.timeout=void 0),e.autoplay.running=!1,e.emit("autoplayStop"),!0))},pause:function(e){var t=this;t.autoplay.running&&(t.autoplay.paused||(t.autoplay.timeout&&clearTimeout(t.autoplay.timeout),t.autoplay.paused=!0,0!==e&&t.params.autoplay.waitForTransition?["transitionend","webkitTransitionEnd"].forEach((function(e){t.$wrapperEl[0].addEventListener(e,t.autoplay.onTransitionEnd)})):(t.autoplay.paused=!1,t.autoplay.run())))},onVisibilityChange:function(){var e=this,t=mu();"hidden"===t.visibilityState&&e.autoplay.running&&e.autoplay.pause(),"visible"===t.visibilityState&&e.autoplay.paused&&(e.autoplay.run(),e.autoplay.paused=!1)},onTransitionEnd:function(e){var t=this;t&&!t.destroyed&&t.$wrapperEl&&e.target===t.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach((function(e){t.$wrapperEl[0].removeEventListener(e,t.autoplay.onTransitionEnd)})),t.autoplay.paused=!1,t.autoplay.running?t.autoplay.run():t.autoplay.stop())},onMouseEnter:function(){var e=this;e.params.autoplay.disableOnInteraction?e.autoplay.stop():e.autoplay.pause(),["transitionend","webkitTransitionEnd"].forEach((function(t){e.$wrapperEl[0].removeEventListener(t,e.autoplay.onTransitionEnd)}))},onMouseLeave:function(){var e=this;e.params.autoplay.disableOnInteraction||(e.autoplay.paused=!1,e.autoplay.run())},attachMouseEvents:function(){var e=this;e.params.autoplay.pauseOnMouseEnter&&(e.$el.on("mouseenter",e.autoplay.onMouseEnter),e.$el.on("mouseleave",e.autoplay.onMouseLeave))},detachMouseEvents:function(){var e=this;e.$el.off("mouseenter",e.autoplay.onMouseEnter),e.$el.off("mouseleave",e.autoplay.onMouseLeave)}},Yg={name:"autoplay",params:{autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}},create:function(){Tm(this,{autoplay:Gg({},Xg,{running:!1,paused:!1})})},on:{init:function(e){e.params.autoplay.enabled&&(e.autoplay.start(),mu().addEventListener("visibilitychange",e.autoplay.onVisibilityChange),e.autoplay.attachMouseEvents())},beforeTransitionStart:function(e,t,n){e.autoplay.running&&(n||!e.params.autoplay.disableOnInteraction?e.autoplay.pause(t):e.autoplay.stop())},sliderFirstMove:function(e){e.autoplay.running&&(e.params.autoplay.disableOnInteraction?e.autoplay.stop():e.autoplay.pause())},touchEnd:function(e){e.params.cssMode&&e.autoplay.paused&&!e.params.autoplay.disableOnInteraction&&e.autoplay.run()},destroy:function(e){e.autoplay.detachMouseEvents(),e.autoplay.running&&e.autoplay.stop(),mu().removeEventListener("visibilitychange",e.autoplay.onVisibilityChange)}}};function Kg(){return Kg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kg.apply(this,arguments)}var Jg={setTranslate:function(){for(var e=this,t=e.slides,n=0;n<t.length;n+=1){var r=e.slides.eq(n),a=-r[0].swiperSlideOffset;e.params.virtualTranslate||(a-=e.translate);var o=0;e.isHorizontal()||(o=a,a=0);var i=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(r[0].progress),0):1+Math.min(Math.max(r[0].progress,-1),0);r.css({opacity:i}).transform("translate3d("+a+"px, "+o+"px, 0px)")}},setTransition:function(e){var t=this,n=t.slides,r=t.$wrapperEl;if(n.transition(e),t.params.virtualTranslate&&0!==e){var a=!1;n.transitionEnd((function(){if(!a&&t&&!t.destroyed){a=!0,t.animating=!1;for(var e=["webkitTransitionEnd","transitionend"],n=0;n<e.length;n+=1)r.trigger(e[n])}}))}}},Qg={name:"effect-fade",params:{fadeEffect:{crossFade:!1}},create:function(){Tm(this,{fadeEffect:Kg({},Jg)})},on:{beforeInit:function(e){if("fade"===e.params.effect){e.classNames.push(e.params.containerModifierClass+"fade");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};Sm(e.params,t),Sm(e.originalParams,t)}},setTranslate:function(e){"fade"===e.params.effect&&e.fadeEffect.setTranslate()},setTransition:function(e,t){"fade"===e.params.effect&&e.fadeEffect.setTransition(t)}}};function Zg(){return Zg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zg.apply(this,arguments)}var eb={setTranslate:function(){var e,t=this,n=t.$el,r=t.$wrapperEl,a=t.slides,o=t.width,i=t.height,s=t.rtlTranslate,l=t.size,u=t.browser,c=t.params.cubeEffect,p=t.isHorizontal(),d=t.virtual&&t.params.virtual.enabled,f=0;c.shadow&&(p?(0===(e=r.find(".swiper-cube-shadow")).length&&(e=wm('<div class="swiper-cube-shadow"></div>'),r.append(e)),e.css({height:o+"px"})):0===(e=n.find(".swiper-cube-shadow")).length&&(e=wm('<div class="swiper-cube-shadow"></div>'),n.append(e)));for(var h=0;h<a.length;h+=1){var v=a.eq(h),m=h;d&&(m=parseInt(v.attr("data-swiper-slide-index"),10));var g=90*m,b=Math.floor(g/360);s&&(g=-g,b=Math.floor(-g/360));var y=Math.max(Math.min(v[0].progress,1),-1),w=0,x=0,C=0;m%4==0?(w=4*-b*l,C=0):(m-1)%4==0?(w=0,C=4*-b*l):(m-2)%4==0?(w=l+4*b*l,C=l):(m-3)%4==0&&(w=-l,C=3*l+4*l*b),s&&(w=-w),p||(x=w,w=0);var E="rotateX("+(p?0:-g)+"deg) rotateY("+(p?g:0)+"deg) translate3d("+w+"px, "+x+"px, "+C+"px)";if(y<=1&&y>-1&&(f=90*m+90*y,s&&(f=90*-m-90*y)),v.transform(E),c.slideShadows){var k=p?v.find(".swiper-slide-shadow-left"):v.find(".swiper-slide-shadow-top"),S=p?v.find(".swiper-slide-shadow-right"):v.find(".swiper-slide-shadow-bottom");0===k.length&&(k=wm('<div class="swiper-slide-shadow-'+(p?"left":"top")+'"></div>'),v.append(k)),0===S.length&&(S=wm('<div class="swiper-slide-shadow-'+(p?"right":"bottom")+'"></div>'),v.append(S)),k.length&&(k[0].style.opacity=Math.max(-y,0)),S.length&&(S[0].style.opacity=Math.max(y,0))}}if(r.css({"-webkit-transform-origin":"50% 50% -"+l/2+"px","-moz-transform-origin":"50% 50% -"+l/2+"px","-ms-transform-origin":"50% 50% -"+l/2+"px","transform-origin":"50% 50% -"+l/2+"px"}),c.shadow)if(p)e.transform("translate3d(0px, "+(o/2+c.shadowOffset)+"px, "+-o/2+"px) rotateX(90deg) rotateZ(0deg) scale("+c.shadowScale+")");else{var T=Math.abs(f)-90*Math.floor(Math.abs(f)/90),O=1.5-(Math.sin(2*T*Math.PI/360)/2+Math.cos(2*T*Math.PI/360)/2),I=c.shadowScale,N=c.shadowScale/O,A=c.shadowOffset;e.transform("scale3d("+I+", 1, "+N+") translate3d(0px, "+(i/2+A)+"px, "+-i/2/N+"px) rotateX(-90deg)")}var _=u.isSafari||u.isWebView?-l/2:0;r.transform("translate3d(0px,0,"+_+"px) rotateX("+(t.isHorizontal()?0:f)+"deg) rotateY("+(t.isHorizontal()?-f:0)+"deg)")},setTransition:function(e){var t=this,n=t.$el;t.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),t.params.cubeEffect.shadow&&!t.isHorizontal()&&n.find(".swiper-cube-shadow").transition(e)}},tb={name:"effect-cube",params:{cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}},create:function(){Tm(this,{cubeEffect:Zg({},eb)})},on:{beforeInit:function(e){if("cube"===e.params.effect){e.classNames.push(e.params.containerModifierClass+"cube"),e.classNames.push(e.params.containerModifierClass+"3d");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0};Sm(e.params,t),Sm(e.originalParams,t)}},setTranslate:function(e){"cube"===e.params.effect&&e.cubeEffect.setTranslate()},setTransition:function(e,t){"cube"===e.params.effect&&e.cubeEffect.setTransition(t)}}};function nb(){return nb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nb.apply(this,arguments)}var rb={setTranslate:function(){for(var e=this,t=e.slides,n=e.rtlTranslate,r=0;r<t.length;r+=1){var a=t.eq(r),o=a[0].progress;e.params.flipEffect.limitRotation&&(o=Math.max(Math.min(a[0].progress,1),-1));var i=-180*o,s=0,l=-a[0].swiperSlideOffset,u=0;if(e.isHorizontal()?n&&(i=-i):(u=l,l=0,s=-i,i=0),a[0].style.zIndex=-Math.abs(Math.round(o))+t.length,e.params.flipEffect.slideShadows){var c=e.isHorizontal()?a.find(".swiper-slide-shadow-left"):a.find(".swiper-slide-shadow-top"),p=e.isHorizontal()?a.find(".swiper-slide-shadow-right"):a.find(".swiper-slide-shadow-bottom");0===c.length&&(c=wm('<div class="swiper-slide-shadow-'+(e.isHorizontal()?"left":"top")+'"></div>'),a.append(c)),0===p.length&&(p=wm('<div class="swiper-slide-shadow-'+(e.isHorizontal()?"right":"bottom")+'"></div>'),a.append(p)),c.length&&(c[0].style.opacity=Math.max(-o,0)),p.length&&(p[0].style.opacity=Math.max(o,0))}a.transform("translate3d("+l+"px, "+u+"px, 0px) rotateX("+s+"deg) rotateY("+i+"deg)")}},setTransition:function(e){var t=this,n=t.slides,r=t.activeIndex,a=t.$wrapperEl;if(n.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),t.params.virtualTranslate&&0!==e){var o=!1;n.eq(r).transitionEnd((function(){if(!o&&t&&!t.destroyed){o=!0,t.animating=!1;for(var e=["webkitTransitionEnd","transitionend"],n=0;n<e.length;n+=1)a.trigger(e[n])}}))}}},ab={name:"effect-flip",params:{flipEffect:{slideShadows:!0,limitRotation:!0}},create:function(){Tm(this,{flipEffect:nb({},rb)})},on:{beforeInit:function(e){if("flip"===e.params.effect){e.classNames.push(e.params.containerModifierClass+"flip"),e.classNames.push(e.params.containerModifierClass+"3d");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};Sm(e.params,t),Sm(e.originalParams,t)}},setTranslate:function(e){"flip"===e.params.effect&&e.flipEffect.setTranslate()},setTransition:function(e,t){"flip"===e.params.effect&&e.flipEffect.setTransition(t)}}};function ob(){return ob=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ob.apply(this,arguments)}var ib={setTranslate:function(){for(var e=this,t=e.width,n=e.height,r=e.slides,a=e.slidesSizesGrid,o=e.params.coverflowEffect,i=e.isHorizontal(),s=e.translate,l=i?t/2-s:n/2-s,u=i?o.rotate:-o.rotate,c=o.depth,p=0,d=r.length;p<d;p+=1){var f=r.eq(p),h=a[p],v=(l-f[0].swiperSlideOffset-h/2)/h*o.modifier,m=i?u*v:0,g=i?0:u*v,b=-c*Math.abs(v),y=o.stretch;"string"==typeof y&&-1!==y.indexOf("%")&&(y=parseFloat(o.stretch)/100*h);var w=i?0:y*v,x=i?y*v:0,C=1-(1-o.scale)*Math.abs(v);Math.abs(x)<.001&&(x=0),Math.abs(w)<.001&&(w=0),Math.abs(b)<.001&&(b=0),Math.abs(m)<.001&&(m=0),Math.abs(g)<.001&&(g=0),Math.abs(C)<.001&&(C=0);var E="translate3d("+x+"px,"+w+"px,"+b+"px)  rotateX("+g+"deg) rotateY("+m+"deg) scale("+C+")";if(f.transform(E),f[0].style.zIndex=1-Math.abs(Math.round(v)),o.slideShadows){var k=i?f.find(".swiper-slide-shadow-left"):f.find(".swiper-slide-shadow-top"),S=i?f.find(".swiper-slide-shadow-right"):f.find(".swiper-slide-shadow-bottom");0===k.length&&(k=wm('<div class="swiper-slide-shadow-'+(i?"left":"top")+'"></div>'),f.append(k)),0===S.length&&(S=wm('<div class="swiper-slide-shadow-'+(i?"right":"bottom")+'"></div>'),f.append(S)),k.length&&(k[0].style.opacity=v>0?v:0),S.length&&(S[0].style.opacity=-v>0?-v:0)}}},setTransition:function(e){this.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}},sb={name:"effect-coverflow",params:{coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}},create:function(){Tm(this,{coverflowEffect:ob({},ib)})},on:{beforeInit:function(e){"coverflow"===e.params.effect&&(e.classNames.push(e.params.containerModifierClass+"coverflow"),e.classNames.push(e.params.containerModifierClass+"3d"),e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)},setTranslate:function(e){"coverflow"===e.params.effect&&e.coverflowEffect.setTranslate()},setTransition:function(e,t){"coverflow"===e.params.effect&&e.coverflowEffect.setTransition(t)}}};function lb(){return lb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lb.apply(this,arguments)}var ub={init:function(){var e=this,t=e.params.thumbs;if(e.thumbs.initialized)return!1;e.thumbs.initialized=!0;var n=e.constructor;return t.swiper instanceof n?(e.thumbs.swiper=t.swiper,Sm(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Sm(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1})):km(t.swiper)&&(e.thumbs.swiper=new n(Sm({},t.swiper,{watchSlidesVisibility:!0,watchSlidesProgress:!0,slideToClickedSlide:!1})),e.thumbs.swiperCreated=!0),e.thumbs.swiper.$el.addClass(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",e.thumbs.onThumbClick),!0},onThumbClick:function(){var e=this,t=e.thumbs.swiper;if(t){var n=t.clickedIndex,r=t.clickedSlide;if(!(r&&wm(r).hasClass(e.params.thumbs.slideThumbActiveClass)||null==n)){var a;if(a=t.params.loop?parseInt(wm(t.clickedSlide).attr("data-swiper-slide-index"),10):n,e.params.loop){var o=e.activeIndex;e.slides.eq(o).hasClass(e.params.slideDuplicateClass)&&(e.loopFix(),e._clientLeft=e.$wrapperEl[0].clientLeft,o=e.activeIndex);var i=e.slides.eq(o).prevAll('[data-swiper-slide-index="'+a+'"]').eq(0).index(),s=e.slides.eq(o).nextAll('[data-swiper-slide-index="'+a+'"]').eq(0).index();a=void 0===i?s:void 0===s?i:s-o<o-i?s:i}e.slideTo(a)}}},update:function(e){var t=this,n=t.thumbs.swiper;if(n){var r="auto"===n.params.slidesPerView?n.slidesPerViewDynamic():n.params.slidesPerView,a=t.params.thumbs.autoScrollOffset,o=a&&!n.params.loop;if(t.realIndex!==n.realIndex||o){var i,s,l=n.activeIndex;if(n.params.loop){n.slides.eq(l).hasClass(n.params.slideDuplicateClass)&&(n.loopFix(),n._clientLeft=n.$wrapperEl[0].clientLeft,l=n.activeIndex);var u=n.slides.eq(l).prevAll('[data-swiper-slide-index="'+t.realIndex+'"]').eq(0).index(),c=n.slides.eq(l).nextAll('[data-swiper-slide-index="'+t.realIndex+'"]').eq(0).index();i=void 0===u?c:void 0===c?u:c-l==l-u?n.params.slidesPerGroup>1?c:l:c-l<l-u?c:u,s=t.activeIndex>t.previousIndex?"next":"prev"}else s=(i=t.realIndex)>t.previousIndex?"next":"prev";o&&(i+="next"===s?a:-1*a),n.visibleSlidesIndexes&&n.visibleSlidesIndexes.indexOf(i)<0&&(n.params.centeredSlides?i=i>l?i-Math.floor(r/2)+1:i+Math.floor(r/2)-1:i>l&&n.params.slidesPerGroup,n.slideTo(i,e?0:void 0))}var p=1,d=t.params.thumbs.slideThumbActiveClass;if(t.params.slidesPerView>1&&!t.params.centeredSlides&&(p=t.params.slidesPerView),t.params.thumbs.multipleActiveThumbs||(p=1),p=Math.floor(p),n.slides.removeClass(d),n.params.loop||n.params.virtual&&n.params.virtual.enabled)for(var f=0;f<p;f+=1)n.$wrapperEl.children('[data-swiper-slide-index="'+(t.realIndex+f)+'"]').addClass(d);else for(var h=0;h<p;h+=1)n.slides.eq(t.realIndex+h).addClass(d)}}},cb={name:"thumbs",params:{thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-container-thumbs"}},create:function(){Tm(this,{thumbs:lb({swiper:null,initialized:!1},ub)})},on:{beforeInit:function(e){var t=e.params.thumbs;t&&t.swiper&&(e.thumbs.init(),e.thumbs.update(!0))},slideChange:function(e){e.thumbs.swiper&&e.thumbs.update()},update:function(e){e.thumbs.swiper&&e.thumbs.update()},resize:function(e){e.thumbs.swiper&&e.thumbs.update()},observerUpdate:function(e){e.thumbs.swiper&&e.thumbs.update()},setTransition:function(e,t){var n=e.thumbs.swiper;n&&n.setTransition(t)},beforeDestroy:function(e){var t=e.thumbs.swiper;t&&e.thumbs.swiperCreated&&t&&t.destroy()}}},pb=[pg,hg,mg,yg,Cg,Sg,Ig,_g,Pg,Lg,$g,Hg,qg,Yg,Qg,tb,ab,sb,cb];function db(e){var t=this,n=Hp(e);if(0!==n.length&&!n[0].swiper){var r,a,o,i={};n.hasClass("tabs-swipeable-wrap")&&(n.addClass("swiper-container").children(".tabs").addClass("swiper-wrapper").children(".tab").addClass("swiper-slide"),r=n.children(".tabs").children(".tab-active").index(),a=!0,o=n.find(".tabs-routable").length>0),n.attr("data-swiper")?i=JSON.parse(n.attr("data-swiper")):n[0].f7SwiperParams?i=n[0].f7SwiperParams:(i=n.dataset(),Object.keys(i).forEach((function(e){var t=i[e];if("string"==typeof t&&0===t.indexOf("{")&&t.indexOf("}")>0)try{i[e]=JSON.parse(t)}catch(e){}}))),void 0===i.initialSlide&&void 0!==r&&(i.initialSlide=r);var s=t.swiper.create(n[0],i),l=n.parents(".tab").filter((function(e){return 0===Hp(e).parent(".tabs").parent(".tabs-animated-wrap, .tabs-swipeable-wrap").length})).eq(0);n.parents(".popup, .login-screen, .sheet-modal, .popover").on("modal:open",u),n.parents(".panel").on("panel:open",u),l&&l.length&&l.on("tab:show",u),s.on("beforeDestroy",(function(){n.parents(".popup, .login-screen, .sheet-modal, .popover").off("modal:open",u),n.parents(".panel").off("panel:open",u),l&&l.length&&l.off("tab:show",u)})),a&&s.on("slideChange",(function(){if(o){var e=t.views.get(n.parents(".view"));e||(e=t.views.main);var r=e.router,a=r.findTabRouteUrl(s.slides.eq(s.activeIndex)[0]);a&&setTimeout((function(){r.navigate(a)}),0)}else t.tab.show({tabEl:s.slides.eq(s.activeIndex)})}))}function u(){s.update()}}lg.use(pb);var fb={name:"swiper",static:{Swiper:lg},create:function(){this.swiper=qp({defaultSelector:".swiper-container",constructor:lg,domProp:"swiper"})},on:{pageBeforeRemove:function(e){var t=this;e.$el.find(".swiper-init, .tabs-swipeable-wrap").each((function(e){t.swiper.destroy(e)}))},pageMounted:function(e){var t=this;e.$el.find(".tabs-swipeable-wrap").each((function(e){db.call(t,e)}))},pageInit:function(e){var t=this;e.$el.find(".swiper-init, .tabs-swipeable-wrap").each((function(e){db.call(t,e)}))},pageReinit:function(e){var t=this;e.$el.find(".swiper-init, .tabs-swipeable-wrap").each((function(e){var n=t.swiper.get(e);n&&n.update&&n.update()}))},tabMounted:function(e){var t=this;Hp(e).find(".swiper-init, .tabs-swipeable-wrap").each((function(e){db.call(t,e)}))},tabShow:function(e){var t=this;Hp(e).find(".swiper-init, .tabs-swipeable-wrap").each((function(e){var n=t.swiper.get(e);n&&n.update&&n.update()}))},tabBeforeRemove:function(e){var t=this;Hp(e).find(".swiper-init, .tabs-swipeable-wrap").each((function(e){t.swiper.destroy(e)}))}},vnode:{"swiper-init":{insert:function(e){var t=e.elm;db.call(this,t)},destroy:function(e){var t=e.elm;this.swiper.destroy(t)}},"tabs-swipeable-wrap":{insert:function(e){var t=e.elm;db.call(this,t)},destroy:function(e){var t=e.elm;this.swiper.destroy(t)}}}};function hb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vb(e,t){return vb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},vb(e,t)}var mb=function(e){var t,n;function r(t,n){var r;void 0===n&&(n={});var a=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r=e.call(this,n,[t])||this);a.app=t;var o=Fu({on:{}},t.params.photoBrowser);return a.useModulesParams(o),a.params=Fu(o,n),Fu(a,{exposed:!1,opened:!1,activeIndex:a.params.swiper.initialSlide,url:a.params.url,swipeToClose:{allow:!0,isTouched:!1,diff:void 0,start:void 0,current:void 0,started:!1,activeSlide:void 0,timeStart:void 0}}),a.useModules(),a.init(),r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,vb(t,n);var a,o,i,s=r.prototype;return s.onSlideChange=function(e){var t=this;t.activeIndex=e.activeIndex;var n=e.activeIndex+1,r=t.params.virtualSlides?t.params.photos.length:e.slides.length;e.params.loop&&(r-=2,(n-=e.loopedSlides)<1&&(n=r+n),n>r&&(n-=r));var a,o=t.params.virtualSlides?e.$wrapperEl.find('.swiper-slide[data-swiper-slide-index="'+e.activeIndex+'"]'):e.slides.eq(e.activeIndex),i=t.params.virtualSlides?e.$wrapperEl.find('.swiper-slide[data-swiper-slide-index="'+e.previousIndex+'"]'):e.slides.eq(e.previousIndex),s=t.$el.find(".photo-browser-current"),l=t.$el.find(".photo-browser-total");if("page"===t.params.type&&t.params.navbar&&0===s.length&&"ios"===t.app.theme&&(a=t.app.navbar.getElByPage(t.$el))&&(s=Hp(a).find(".photo-browser-current"),l=Hp(a).find(".photo-browser-total")),s.length&&l.length&&(s.text(n),l.text(r),a||(a=s.parents(".navbar")[0]),a&&t.app.navbar.size(a)),t.captions.length>0){var u=e.params.loop?o.attr("data-swiper-slide-index"):t.activeIndex;t.$captionsContainerEl.find(".photo-browser-caption-active").removeClass("photo-browser-caption-active"),t.$captionsContainerEl.find('[data-caption-index="'+u+'"]').addClass("photo-browser-caption-active")}var c=i.find("video");c.length>0&&"pause"in c[0]&&c[0].pause()},s.onTouchStart=function(){var e=this.swipeToClose;e.allow&&(e.isTouched=!0)},s.onTouchMove=function(e){var t=this,n=t.swipeToClose;n.isTouched&&(n.started||(n.started=!0,n.start="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,t.params.virtualSlides?n.activeSlide=t.swiper.$wrapperEl.children(".swiper-slide-active"):n.activeSlide=t.swiper.slides.eq(t.swiper.activeIndex),n.timeStart=Mu()),e.preventDefault(),n.current="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,n.diff=n.start-n.current,t.$el.transition(0).transform("translate3d(0,"+-n.diff+"px,0)"))},s.onTouchEnd=function(){var e=this,t=e.swipeToClose;if(t.isTouched=!1,t.started){t.started=!1,t.allow=!1;var n=Math.abs(t.diff),r=(new Date).getTime()-t.timeStart;r<300&&n>20||r>=300&&n>100?_u((function(){e.$el&&(t.diff<0?e.$el.addClass("swipe-close-to-bottom"):e.$el.addClass("swipe-close-to-top")),e.emit("local::swipeToClose",e),e.$el.transform("").transition(""),e.close(),t.allow=!0})):(0!==n?e.$el.addClass("photo-browser-transitioning").transitionEnd((function(){t.allow=!0,e.$el.removeClass("photo-browser-transitioning")})):t.allow=!0,_u((function(){e.$el.transform("").transition("")})))}else t.started=!1},s.renderNavbar=function(){var e=this;if(e.params.renderNavbar)return e.params.renderNavbar.call(e);var t=e.params.iconsColor;e.params.iconsColor||"dark"!==e.params.theme||(t="white");var n="ios"!==e.app.theme&&"aurora"!==e.app.theme||!e.params.pageBackLinkText?"":e.params.pageBackLinkText,r=void 0===e.params.navbarShowCount?e.params.photos.length>1:e.params.navbarShowCount,a="page"!==e.params.type;return Sf("div",{class:"navbar navbar-photo-browser "+("dark"===e.params.theme?"navbar-photo-browser-dark":"")},Sf("div",{class:"navbar-bg"}),Sf("div",{class:"navbar-inner navbar-inner-centered-title sliding"},!a&&Sf("div",{class:"left"},Sf("a",{class:"link "+(n?"":"icon-only")+" back"},Sf("i",{class:"icon icon-back "+(t?"color-"+t:"")}),n&&Sf("span",null,n))),r&&Sf("div",{class:"title"},Sf("span",{class:"photo-browser-current"}),Sf("span",{class:"photo-browser-of"},e.params.navbarOfText),Sf("span",{class:"photo-browser-total"})),a&&Sf("div",{class:"right"},Sf("a",{class:"link popup-close","data-popup":".photo-browser-popup"},Sf("span",null,e.params.popupCloseLinkText)))))},s.renderToolbar=function(){var e=this;if(e.params.renderToolbar)return e.params.renderToolbar.call(e);var t=e.params.iconsColor;return e.params.iconsColor||"dark"!==e.params.theme||(t="white"),Sf("div",{class:"toolbar toolbar-bottom tabbar"},Sf("div",{class:"toolbar-inner"},Sf("a",{class:"link photo-browser-prev"},Sf("i",{class:"icon icon-back "+(t?"color-"+t:"")})),Sf("a",{class:"link photo-browser-next"},Sf("i",{class:"icon icon-forward "+(t?"color-"+t:"")}))))},s.renderCaption=function(e,t){var n=this;return n.params.renderCaption?n.params.renderCaption.call(n,e,t):Sf("div",{class:"photo-browser-caption","data-caption-index":t},e)},s.renderObject=function(e,t){var n=this;return n.params.renderObject?n.params.renderObject.call(n,e,t):Sf("div",{class:"photo-browser-slide photo-browser-object-slide swiper-slide","data-swiper-slide-index":t},e.html?e.html:e)},s.renderLazyPhoto=function(e,t){var n=this;return n.params.renderLazyPhoto?n.params.renderLazyPhoto.call(n,e,t):Sf("div",{class:"photo-browser-slide photo-browser-slide-lazy swiper-slide","data-swiper-slide-index":t},Sf("div",{class:"swiper-lazy-preloader"}),Sf("span",{class:"swiper-zoom-container"},Sf("img",{"data-src":e.url?e.url:e,class:"swiper-lazy"})))},s.renderPhoto=function(e,t){var n=this;return n.params.renderPhoto?n.params.renderPhoto.call(n,e,t):Sf("div",{class:"photo-browser-slide swiper-slide","data-swiper-slide-index":t},Sf("span",{class:"swiper-zoom-container"},Sf("img",{src:e.url?e.url:e})))},s.render=function(){var e=this;return e.params.render?e.params.render.call(e,e.params):Sf("div",{class:"photo-browser photo-browser-"+e.params.theme},Sf("div",{class:"view"},Sf("div",{class:"page photo-browser-page photo-browser-page-"+e.params.theme+" no-toolbar "+(e.params.navbar?"":"no-navbar"),"data-name":"photo-browser-page"},e.params.navbar&&e.renderNavbar(),e.params.toolbar&&e.renderToolbar(),Sf("div",{class:"photo-browser-captions photo-browser-captions-"+(e.params.captionsTheme||e.params.theme)},e.params.photos.map((function(t,n){return t.caption?e.renderCaption(t.caption,n):""}))),Sf("div",{class:"photo-browser-swiper-container swiper-container"},Sf("div",{class:"photo-browser-swiper-wrapper swiper-wrapper"},!e.params.virtualSlides&&e.params.photos.map((function(t,n){return t.html||("string"==typeof t||t instanceof String)&&t.indexOf("<")>=0&&t.indexOf(">")>=0?e.renderObject(t,n):!0===e.params.swiper.lazy||e.params.swiper.lazy&&e.params.swiper.lazy.enabled?e.renderLazyPhoto(t,n):e.renderPhoto(t,n)})))))))},s.renderStandalone=function(){var e=this;return e.params.renderStandalone?e.params.renderStandalone.call(e):'<div class="popup photo-browser-popup photo-browser-standalone popup-tablet-fullscreen">'+e.render()+"</div>"},s.renderPage=function(){var e=this;return e.params.renderPage?e.params.renderPage.call(e):e.render()},s.renderPopup=function(){var e=this;return e.params.renderPopup?e.params.renderPopup.call(e):'<div class="popup photo-browser-popup">'+e.render()+"</div>"},s.onOpen=function(e,t){var n,r=this,a=r.app,o=Hp(t);o[0].f7PhotoBrowser=r,r.$el=o,r.el=o[0],r.openedIn=e,r.opened=!0,r.$swiperContainerEl=r.$el.find(".photo-browser-swiper-container"),r.$swiperWrapperEl=r.$el.find(".photo-browser-swiper-wrapper"),r.slides=r.$el.find(".photo-browser-slide"),r.$captionsContainerEl=r.$el.find(".photo-browser-captions"),r.captions=r.$el.find(".photo-browser-caption");var i=Fu({},r.params.swiper,{initialSlide:r.activeIndex,on:{click:function(e){clearTimeout(n),r.params.exposition&&(n=setTimeout((function(){r.expositionToggle()}),350)),r.emit("local::tap",e),r.emit("local::click",e)},doubleClick:function(e){clearTimeout(n),r.emit("local::doubleTap",e),r.emit("local::doubleClick",e)},slideChange:function(){r.onSlideChange(this);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.emit.apply(r,["local::slideChange"].concat(t))},transitionStart:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.emit.apply(r,["local::transitionStart"].concat(t))},transitionEnd:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.emit.apply(r,["local::transitionEnd"].concat(t))},slideChangeTransitionStart:function(){r.onSlideChange(this);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.emit.apply(r,["local::slideChangeTransitionStart"].concat(t))},slideChangeTransitionEnd:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.emit.apply(r,["local::slideChangeTransitionEnd"].concat(t))},lazyImageLoad:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.emit.apply(r,["local::lazyImageLoad"].concat(t))},lazyImageReady:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[0];Hp(a).removeClass("photo-browser-slide-lazy"),r.emit.apply(r,["local::lazyImageReady"].concat(t))}}});r.params.swipeToClose&&"page"!==r.params.type&&Fu(i.on,{touchStart:function(e,t){r.onTouchStart(t),r.emit("local::touchStart",t)},touchMoveOpposite:function(e,t){r.onTouchMove(t),r.emit("local::touchMoveOpposite",t)},touchEnd:function(e,t){r.onTouchEnd(t),r.emit("local::touchEnd",t)}}),r.params.virtualSlides&&Fu(i,{virtual:{slides:r.params.photos,renderSlide:function(e,t){return e.html||("string"==typeof e||e instanceof String)&&e.indexOf("<")>=0&&e.indexOf(">")>=0?r.renderObject(e,t):!0===r.params.swiper.lazy||r.params.swiper.lazy&&r.params.swiper.lazy.enabled?r.renderLazyPhoto(e,t):r.renderPhoto(e,t)}}});var s=bu();r.swiper=a.swiper?a.swiper.create(r.$swiperContainerEl,i):new s.Swiper(r.$swiperContainerEl,i),0===r.activeIndex&&r.onSlideChange(r.swiper),r.$el&&r.$el.trigger("photobrowser:open"),r.emit("local::open photoBrowserOpen",r)},s.onOpened=function(){var e=this;e.$el&&"standalone"===e.params.type&&e.$el.css("animation","none"),e.$el&&e.$el.trigger("photobrowser:opened"),e.emit("local::opened photoBrowserOpened",e)},s.onClose=function(){var e=this;e.destroyed||(e.swiper&&e.swiper.destroy&&(e.swiper.destroy(!0,!1),e.swiper=null,delete e.swiper),e.$el&&e.$el.trigger("photobrowser:close"),e.emit("local::close photoBrowserClose",e))},s.onClosed=function(){var e=this;e.destroyed||(e.opened=!1,e.$el=null,e.el=null,delete e.$el,delete e.el,e.$el&&e.$el.trigger("photobrowser:closed"),e.emit("local::closed photoBrowserClosed",e))},s.openPage=function(){var e=this;if(e.opened)return e;var t=e.renderPage();return e.view.router.navigate({url:e.url,route:{content:t,path:e.url,on:{pageBeforeIn:function(t,n){e.view.$el.addClass("with-photo-browser-page with-photo-browser-page-"+e.params.theme),e.onOpen("page",n.el)},pageAfterIn:function(t,n){e.onOpened("page",n.el)},pageBeforeOut:function(t,n){e.view.$el.removeClass("with-photo-browser-page with-photo-browser-page-exposed with-photo-browser-page-"+e.params.theme),e.onClose("page",n.el)},pageAfterOut:function(t,n){e.onClosed("page",n.el)}}}}),e},s.openStandalone=function(){var e=this;if(e.opened)return e;var t={backdrop:!1,content:e.renderStandalone(),on:{popupOpen:function(t){e.onOpen("popup",t.el)},popupOpened:function(t){e.onOpened("popup",t.el)},popupClose:function(t){e.onClose("popup",t.el)},popupClosed:function(t){e.onClosed("popup",t.el)}}};return e.params.routableModals&&e.view?e.view.router.navigate({url:e.url,route:{path:e.url,popup:t}}):e.modal=e.app.popup.create(t).open(),e},s.openPopup=function(){var e=this;if(e.opened)return e;var t={content:e.renderPopup(),push:e.params.popupPush,on:{popupOpen:function(t){e.onOpen("popup",t.el)},popupOpened:function(t){e.onOpened("popup",t.el)},popupClose:function(t){e.onClose("popup",t.el)},popupClosed:function(t){e.onClosed("popup",t.el)}}};return e.params.routableModals&&e.view?e.view.router.navigate({url:e.url,route:{path:e.url,popup:t}}):e.modal=e.app.popup.create(t).open(),e},s.expositionEnable=function(){var e=this;return"page"===e.params.type&&e.view.$el.addClass("with-photo-browser-page-exposed"),e.$el&&e.$el.addClass("photo-browser-exposed"),e.params.expositionHideCaptions&&e.$captionsContainerEl.addClass("photo-browser-captions-exposed"),e.exposed=!0,e},s.expositionDisable=function(){var e=this;return"page"===e.params.type&&e.view.$el.removeClass("with-photo-browser-page-exposed"),e.$el&&e.$el.removeClass("photo-browser-exposed"),e.params.expositionHideCaptions&&e.$captionsContainerEl.removeClass("photo-browser-captions-exposed"),e.exposed=!1,e},s.expositionToggle=function(){var e=this;return"page"===e.params.type&&e.view.$el.toggleClass("with-photo-browser-page-exposed"),e.$el&&e.$el.toggleClass("photo-browser-exposed"),e.params.expositionHideCaptions&&e.$captionsContainerEl.toggleClass("photo-browser-captions-exposed"),e.exposed=!e.exposed,e},s.open=function(e){var t=this,n=t.params.type;return t.opened?(t.swiper&&void 0!==e&&t.swiper.slideTo(parseInt(e,10)),t):(void 0!==e&&(t.activeIndex=e),"standalone"===n&&t.openStandalone(),"page"===n&&t.openPage(),"popup"===n&&t.openPopup(),t)},s.close=function(){var e=this;return e.opened?(e.params.routableModals&&e.view||"page"===e.openedIn?e.view.router.back():(e.modal.once("modalClosed",(function(){_u((function(){e.destroyed||(e.modal.destroy(),delete e.modal)}))})),e.modal.close()),e):e},s.init=function(){},s.destroy=function(){var e=this;e.emit("local::beforeDestroy photoBrowserBeforeDestroy",e),e.$el&&(e.$el.trigger("photobrowser:beforedestroy"),e.$el[0].f7PhotoBrowser=null,delete e.$el[0].f7PhotoBrowser),Iu(e),e.destroyed=!0,e=null},a=r,o=[{key:"view",get:function(){var e=this.params,t=this.app;return e.view||t.views.main}}],o&&hb(a.prototype,o),i&&hb(a,i),r}(nc),gb=mb,bb={name:"photoBrowser",params:{photoBrowser:{photos:[],exposition:!0,expositionHideCaptions:!1,type:"standalone",navbar:!0,toolbar:!0,theme:"light",captionsTheme:void 0,iconsColor:void 0,popupPush:!1,swipeToClose:!0,pageBackLinkText:"Back",popupCloseLinkText:"Close",navbarOfText:"of",navbarShowCount:void 0,view:void 0,url:"photos/",routableModals:!1,virtualSlides:!0,renderNavbar:void 0,renderToolbar:void 0,renderCaption:void 0,renderObject:void 0,renderLazyPhoto:void 0,renderPhoto:void 0,renderPage:void 0,renderPopup:void 0,renderStandalone:void 0,swiper:{initialSlide:0,spaceBetween:20,speed:300,loop:!1,preloadImages:!0,navigation:{nextEl:".photo-browser-next",prevEl:".photo-browser-prev"},zoom:{enabled:!0,maxRatio:3,minRatio:1},lazy:{enabled:!0}}}},create:function(){this.photoBrowser=qp({defaultSelector:".photo-browser-popup, .photo-browser-page",constructor:gb,app:this,domProp:"f7PhotoBrowser"})},static:{PhotoBrowser:gb}};function yb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wb(e,t){return wb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},wb(e,t)}var xb=function(e){var t,n;function r(t,n){var r,a=Fu({on:{}},t.params.notification,n),o=yb(r=e.call(this,t,a)||this);o.app=t,o.params=a;var i,s,l,u,c,p,d,f=o.params,h=f.icon,v=f.title,m=f.titleRightText,g=f.subtitle,b=f.text,y=f.closeButton,w=f.closeTimeout,x=f.cssClass,C=f.closeOnClick;if(o.params.el)i=Hp(o.params.el);else{var E=o.render({icon:h,title:v,titleRightText:m,subtitle:g,text:b,closeButton:y,cssClass:x});i=Hp(E)}if(i&&i.length>0&&i[0].f7Modal)return i[0].f7Modal||yb(r);if(0===i.length)return o.destroy()||yb(r);Fu(o,{$el:i,el:i[0],type:"notification"}),i[0].f7Modal=o,y&&i.find(".notification-close-button").on("click",(function(){o.close()})),i.on("click",(function(e){y&&Hp(e.target).closest(".notification-close-button").length||(o.emit("local::click notificationClick",o),C&&o.close())})),o.on("beforeDestroy",(function(){i.off("click")}));var k,S={};function T(e){s||(s=!0,l=!1,u=void 0,p=Mu(),S.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,S.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY)}function O(e){if(s){var t="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,n="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;if(void 0===u&&(u=!!(u||Math.abs(n-S.y)<Math.abs(t-S.x))),u)s=!1;else{e.preventDefault(),l||(o.$el.removeClass("notification-transitioning"),o.$el.transition(0),d=o.$el[0].offsetHeight/2),l=!0;var r=c=n-S.y;c>0&&(r=Math.pow(c,.8)),o.$el.transform("translate3d(0, "+r+"px, 0)")}}}function I(){if(!s||!l)return s=!1,void(l=!1);if(s=!1,l=!1,0!==c){var e=Mu()-p;o.$el.transition(""),o.$el.addClass("notification-transitioning"),o.$el.transform(""),(c<-10&&e<300||-c>=d/1)&&o.close()}}function N(){k=_u((function(){s&&l?N():o.close()}),w)}return o.on("open",(function(){o.params.swipeToClose&&(o.$el.on(t.touchEvents.start,T,{passive:!0}),t.on("touchmove:active",O),t.on("touchend:passive",I)),Hp(".notification.modal-in").each((function(e){var n=t.notification.get(e);e!==o.el&&n&&n.close()})),w&&N()})),o.on("close beforeDestroy",(function(){o.params.swipeToClose&&(o.$el.off(t.touchEvents.start,T,{passive:!0}),t.off("touchmove:active",O),t.off("touchend:passive",I)),clearTimeout(k)})),o||yb(r)}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,wb(t,n),r.prototype.render=function(){var e=this;if(e.params.render)return e.params.render.call(e,e);var t=e.params,n=t.icon,r=t.title,a=t.titleRightText,o=t.subtitle,i=t.text,s=t.closeButton,l=t.cssClass;return Sf("div",{class:"notification "+(l||"")},Sf("div",{class:"notification-header"},n&&Sf("div",{class:"notification-icon"},n),r&&Sf("div",{class:"notification-title"},r),a&&Sf("div",{class:"notification-title-right-text"},a),s&&Sf("span",{class:"notification-close-button"})),Sf("div",{class:"notification-content"},o&&Sf("div",{class:"notification-subtitle"},o),i&&Sf("div",{class:"notification-text"},i)))},r}(yf),Cb=xb,Eb={name:"notification",static:{Notification:Cb},create:function(){this.notification=Fu({},Xp({app:this,constructor:Cb,defaultSelector:".notification.modal-in"}))},params:{notification:{icon:null,title:null,titleRightText:null,subtitle:null,text:null,closeButton:!1,closeTimeout:null,closeOnClick:!1,swipeToClose:!0,cssClass:null,render:null,containerEl:null}}};function kb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tb(e,t){return Tb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Tb(e,t)}var Ob=function(e){var t,n;function r(t,n){var r;void 0===n&&(n={});var a=Sb(r=e.call(this,n,[t])||this);a.app=t;var o,i,s=Ku(),l=Fu({on:{}},t.params.autocomplete);void 0===l.searchbarDisableButton&&(l.searchbarDisableButton="aurora"!==t.theme),a.useModulesParams(l),a.params=Fu(l,n),a.params.openerEl&&(o=Hp(a.params.openerEl)).length&&(o[0].f7Autocomplete=a),a.params.inputEl&&(i=Hp(a.params.inputEl)).length&&(i[0].f7Autocomplete=a);var u=xu(),c=n.url;!c&&o&&o.length&&(o.attr("href")?c=o.attr("href"):o.find("a").length>0&&(c=o.find("a").attr("href"))),c&&"#"!==c&&""!==c||(c=a.params.url);var p=a.params.multiple?"checkbox":"radio";Fu(a,{$openerEl:o,openerEl:o&&o[0],$inputEl:i,inputEl:i&&i[0],id:u,url:c,value:a.params.value||[],inputType:p,inputName:p+"-"+u,$modalEl:void 0,$dropdownEl:void 0});var d="";function f(){var e=a.$inputEl.val().trim();a.params.source&&a.params.source.call(a,e,(function(t){var n,r,o,s="",l=a.params.limit?Math.min(a.params.limit,t.length):t.length;a.items=t,a.params.highlightMatches&&(e=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),n=new RegExp("("+e+")","i"));for(var u=0;u<l;u+=1){var c="object"==typeof t[u]?t[u][a.params.valueProperty]:t[u],p="object"==typeof t[u]?t[u][a.params.textProperty]:t[u];0===u&&(r=c,o=a.items[u]),s+=a.renderItem({value:c,text:a.params.highlightMatches?p.replace(n,"<b>$1</b>"):p},u)}if(""===s&&""===e&&a.params.dropdownPlaceholderText&&(s+=a.renderItem({placeholder:!0,text:a.params.dropdownPlaceholderText})),a.$dropdownEl.find("ul").html(s),a.params.typeahead){if(!r||!o)return;if(0!==r.toLowerCase().indexOf(e.toLowerCase()))return;if(d.toLowerCase()===e.toLowerCase())return void(a.value=[]);if(0===d.toLowerCase().indexOf(e.toLowerCase()))return d=e,void(a.value=[]);i.val(r),i[0].setSelectionRange(e.length,r.length);var f="object"==typeof a.value[0]?a.value[0][a.params.valueProperty]:a.value[0];f&&r.toLowerCase()===f.toLowerCase()||(a.value=[o],a.emit("local::change autocompleteChange",[o]))}d=e}))}function h(){var e,t,n,r=this,o=r.value;if(Hp(r).parents(".autocomplete-values").length>0){if("checkbox"===a.inputType&&!r.checked){for(var i=0;i<a.value.length;i+=1)(n="string"==typeof a.value[i]?a.value[i]:a.value[i][a.params.valueProperty])!==o&&1*n!=1*o||a.value.splice(i,1);a.updateValues(),a.emit("local::change autocompleteChange",a.value)}}else{for(var s=0;s<a.items.length;s+=1)(t="object"==typeof a.items[s]?a.items[s][a.params.valueProperty]:a.items[s])!==o&&1*t!=1*o||(e=a.items[s]);if("radio"===a.inputType)a.value=[e];else if(r.checked)a.value.push(e);else for(var l=0;l<a.value.length;l+=1)(n="object"==typeof a.value[l]?a.value[l][a.params.valueProperty]:a.value[l])!==o&&1*n!=1*o||a.value.splice(l,1);a.updateValues(),("radio"===a.inputType&&r.checked||"checkbox"===a.inputType)&&a.emit("local::change autocompleteChange",a.value)}}function v(e){var t=Hp(e.target);t.is(a.$inputEl[0])||a.$dropdownEl&&t.closest(a.$dropdownEl[0]).length||a.close()}function m(){a.open()}function g(){a.open()}function b(){a.$dropdownEl.find("label.active-state").length>0||setTimeout((function(){a.close()}),0)}function y(){a.positionDropdown()}function w(e){if(a.opened){if(27===e.keyCode)return e.preventDefault(),void a.$inputEl.blur();if(13===e.keyCode){var t=a.$dropdownEl.find(".autocomplete-dropdown-selected label");return t.length?(e.preventDefault(),t.trigger("click"),void a.$inputEl.blur()):void(a.params.typeahead&&(e.preventDefault(),a.$inputEl.blur()))}if(40===e.keyCode||38===e.keyCode){e.preventDefault();var n,r=a.$dropdownEl.find(".autocomplete-dropdown-selected");r.length&&(n=r[40===e.keyCode?"next":"prev"]("li")).length||(n=a.$dropdownEl.find("li").eq(40===e.keyCode?0:a.$dropdownEl.find("li").length-1)),n.hasClass("autocomplete-dropdown-placeholder")||(r.removeClass("autocomplete-dropdown-selected"),n.addClass("autocomplete-dropdown-selected"))}}}function x(){for(var e,t=Hp(this),n=0;n<a.items.length;n+=1){var r="object"==typeof a.items[n]?a.items[n][a.params.valueProperty]:a.items[n],o=t.attr("data-value");r!==o&&1*r!=1*o||(e=a.items[n])}a.params.updateInputValueOnSelect&&(a.$inputEl.val("object"==typeof e?e[a.params.valueProperty]:e),a.$inputEl.trigger("input change")),a.value=[e],a.emit("local::change autocompleteChange",[e]),a.close()}return a.attachEvents=function(){"dropdown"!==a.params.openIn&&a.$openerEl&&a.$openerEl.on("click",m),"dropdown"===a.params.openIn&&a.$inputEl&&(a.$inputEl.on("focus",g),a.$inputEl.on(a.params.inputEvents,f),s.android?Hp("html").on("click",v):a.$inputEl.on("blur",b),a.$inputEl.on("keydown",w))},a.detachEvents=function(){"dropdown"!==a.params.openIn&&a.$openerEl&&a.$openerEl.off("click",m),"dropdown"===a.params.openIn&&a.$inputEl&&(a.$inputEl.off("focus",g),a.$inputEl.off(a.params.inputEvents,f),s.android?Hp("html").off("click",v):a.$inputEl.off("blur",b),a.$inputEl.off("keydown",w))},a.attachDropdownEvents=function(){a.$dropdownEl.on("click","label",x),t.on("resize",y)},a.detachDropdownEvents=function(){a.$dropdownEl.off("click","label",x),t.off("resize",y)},a.attachPageEvents=function(){a.$el.on("change",'input[type="radio"], input[type="checkbox"]',h),a.params.closeOnSelect&&!a.params.multiple&&a.$el.once("click",".list label",(function(){_u((function(){a.close()}))}))},a.detachPageEvents=function(){a.$el.off("change",'input[type="radio"], input[type="checkbox"]',h)},a.useModules(),a.init(),a||Sb(r)}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Tb(t,n);var a,o,i,s=r.prototype;return s.positionDropdown=function(){var e,t=this,n=t.$inputEl,r=t.app,a=t.$dropdownEl,o=n.parents(".page-content");if(0!==o.length){var i,s=n.offset(),l=n[0].offsetWidth,u=n[0].offsetHeight,c=n.parents(".list");c.parents().each((function(e){if(!i){var t=Hp(e);t.parent(o).length&&(i=t)}}));var p,d=c.offset(),f=parseInt(o.css("padding-bottom"),10),h=c.length>0?d.left-o.offset().left:0,v=s.left-(c.length>0?d.left:0)-(r.rtl,0),m=s.top-(o.offset().top-o[0].scrollTop),g=o[0].scrollHeight-f-(m+o[0].scrollTop)-n[0].offsetHeight,b=r.rtl?"padding-right":"padding-left";c.length&&!t.params.expandInput&&(p=(r.rtl?c[0].offsetWidth-v-l:v)-("md"===r.theme?16:15)),a.css({left:(c.length>0?h:v)+"px",top:m+o[0].scrollTop+u+"px",width:(c.length>0?c[0].offsetWidth:l)+"px"}),a.children(".autocomplete-dropdown-inner").css(((e={maxHeight:g+"px"})[b]=c.length>0&&!t.params.expandInput?p+"px":"",e))}},s.focus=function(){this.$el.find("input[type=search]").focus()},s.source=function(e){var t=this;if(t.params.source){var n=t.$el;t.params.source.call(t,e,(function(r){var a="",o=t.params.limit?Math.min(t.params.limit,r.length):r.length;t.items=r;for(var i=0;i<o;i+=1){for(var s=!1,l="object"==typeof r[i]?r[i][t.params.valueProperty]:r[i],u=0;u<t.value.length;u+=1){var c="object"==typeof t.value[u]?t.value[u][t.params.valueProperty]:t.value[u];c!==l&&1*c!=1*l||(s=!0)}a+=t.renderItem({value:l,text:"object"==typeof r[i]?r[i][t.params.textProperty]:r[i],inputType:t.inputType,id:t.id,inputName:t.inputName,selected:s},i)}n.find(".autocomplete-found ul").html(a),0===r.length?0!==e.length?(n.find(".autocomplete-not-found").show(),n.find(".autocomplete-found, .autocomplete-values").hide()):(n.find(".autocomplete-values").show(),n.find(".autocomplete-found, .autocomplete-not-found").hide()):(n.find(".autocomplete-found").show(),n.find(".autocomplete-not-found, .autocomplete-values").hide())}))}},s.updateValues=function(){for(var e=this,t="",n=0;n<e.value.length;n+=1)t+=e.renderItem({value:"object"==typeof e.value[n]?e.value[n][e.params.valueProperty]:e.value[n],text:"object"==typeof e.value[n]?e.value[n][e.params.textProperty]:e.value[n],inputType:e.inputType,id:e.id,inputName:e.inputName+"-checked}",selected:!0},n);e.$el.find(".autocomplete-values ul").html(t)},s.preloaderHide=function(){var e=this;"dropdown"===e.params.openIn&&e.$dropdownEl?e.$dropdownEl.find(".autocomplete-preloader").removeClass("autocomplete-preloader-visible"):Hp(".autocomplete-preloader").removeClass("autocomplete-preloader-visible")},s.preloaderShow=function(){var e=this;"dropdown"===e.params.openIn&&e.$dropdownEl?e.$dropdownEl.find(".autocomplete-preloader").addClass("autocomplete-preloader-visible"):Hp(".autocomplete-preloader").addClass("autocomplete-preloader-visible")},s.renderPreloader=function(){var e=this,t={iosPreloaderContent:Su,mdPreloaderContent:ku,auroraPreloaderContent:Tu};return Sf("div",{class:"autocomplete-preloader preloader "+(e.params.preloaderColor?"color-"+e.params.preloaderColor:"")},t[e.app.theme+"PreloaderContent"]||"")},s.renderSearchbar=function(){var e=this;return e.params.renderSearchbar?e.params.renderSearchbar.call(e):Sf("form",{class:"searchbar"},Sf("div",{class:"searchbar-inner"},Sf("div",{class:"searchbar-input-wrap"},Sf("input",{type:"search",spellcheck:e.params.searchbarSpellcheck||"false",placeholder:e.params.searchbarPlaceholder}),Sf("i",{class:"searchbar-icon"}),Sf("span",{class:"input-clear-button"})),e.params.searchbarDisableButton&&Sf("span",{class:"searchbar-disable-button"},e.params.searchbarDisableText)))},s.renderItem=function(e,t){var n=this;if(n.params.renderItem)return n.params.renderItem.call(n,e,t);var r=e.value&&"string"==typeof e.value?e.value.replace(/"/g,"&quot;"):e.value;return"dropdown"!==n.params.openIn?Sf("li",null,Sf("label",{class:"item-"+e.inputType+" item-content"},Sf("input",{type:e.inputType,name:e.inputName,value:r,_checked:e.selected}),Sf("i",{class:"icon icon-"+e.inputType}),Sf("div",{class:"item-inner"},Sf("div",{class:"item-title"},e.text)))):e.placeholder?Sf("li",{class:"autocomplete-dropdown-placeholder"},Sf("label",{class:"item-content"},Sf("div",{class:"item-inner"},Sf("div",{class:"item-title"},e.text)))):Sf("li",null,Sf("label",{class:"item-radio item-content","data-value":r},Sf("div",{class:"item-inner"},Sf("div",{class:"item-title"},e.text))))},s.renderNavbar=function(){var e=this;if(e.params.renderNavbar)return e.params.renderNavbar.call(e);var t=e.params.pageTitle;void 0===t&&e.$openerEl&&e.$openerEl.length&&(t=e.$openerEl.find(".item-title").text().trim());var n="popup"===e.params.openIn,r=n?e.params.preloader&&Sf("div",{class:"left"},e.renderPreloader()):Sf("div",{class:"left sliding"},Sf("a",{class:"link back"},Sf("i",{class:"icon icon-back"}),Sf("span",{class:"if-not-md"},e.params.pageBackLinkText))),a=n?Sf("div",{class:"right"},Sf("a",{class:"link popup-close","data-popup":".autocomplete-popup"},e.params.popupCloseLinkText)):e.params.preloader&&Sf("div",{class:"right"},e.renderPreloader());return Sf("div",{class:"navbar "+(e.params.navbarColorTheme?"color-"+e.params.navbarColorTheme:"")},Sf("div",{class:"navbar-bg"}),Sf("div",{class:"navbar-inner "+(e.params.navbarColorTheme?"color-"+e.params.navbarColorTheme:"")},r,t&&Sf("div",{class:"title sliding"},t),a,Sf("div",{class:"subnavbar sliding"},e.renderSearchbar())))},s.renderDropdown=function(){var e=this;return e.params.renderDropdown?e.params.renderDropdown.call(e,e.items):Sf("div",{class:"autocomplete-dropdown"},Sf("div",{class:"autocomplete-dropdown-inner"},Sf("div",{class:"list "+(e.params.expandInput?"":"no-safe-areas")},Sf("ul",null))),e.params.preloader&&e.renderPreloader())},s.renderPage=function(e){var t=this;return t.params.renderPage?t.params.renderPage.call(t,t.items):Sf("div",{class:"page page-with-subnavbar autocomplete-page","data-name":"autocomplete-page"},t.renderNavbar(e),Sf("div",{class:"searchbar-backdrop"}),Sf("div",{class:"page-content"},Sf("div",{class:"list autocomplete-list autocomplete-found autocomplete-list-"+t.id+" "+(t.params.formColorTheme?"color-"+t.params.formColorTheme:"")},Sf("ul",null)),Sf("div",{class:"list autocomplete-not-found"},Sf("ul",null,Sf("li",{class:"item-content"},Sf("div",{class:"item-inner"},Sf("div",{class:"item-title"},t.params.notFoundText))))),Sf("div",{class:"list autocomplete-values"},Sf("ul",null))))},s.renderPopup=function(){var e=this;return e.params.renderPopup?e.params.renderPopup.call(e,e.items):Sf("div",{class:"popup autocomplete-popup"},Sf("div",{class:"view"},e.renderPage(!0),";"))},s.onOpen=function(e,t){var n=this,r=n.app,a=Hp(t);if(n.$el=a,n.el=a[0],n.openedIn=e,n.opened=!0,"dropdown"===n.params.openIn)n.attachDropdownEvents(),n.$dropdownEl.addClass("autocomplete-dropdown-in"),n.$inputEl.trigger("input");else{var o=a.find(".searchbar");"page"===n.params.openIn&&"ios"===r.theme&&0===o.length&&(o=Hp(r.navbar.getElByPage(a)).find(".searchbar")),n.searchbar=r.searchbar.create({el:o,backdropEl:a.find(".searchbar-backdrop"),customSearch:!0,on:{search:function(e,t){0===t.length&&n.searchbar.enabled?n.searchbar.backdropShow():n.searchbar.backdropHide(),n.source(t)}}}),n.attachPageEvents(),n.updateValues(),n.params.requestSourceOnOpen&&n.source("")}n.emit("local::open autocompleteOpen",n)},s.autoFocus=function(){var e=this;return e.searchbar&&e.searchbar.$inputEl&&e.searchbar.$inputEl.focus(),e},s.onOpened=function(){var e=this;"dropdown"!==e.params.openIn&&e.params.autoFocus&&e.autoFocus(),e.emit("local::opened autocompleteOpened",e)},s.onClose=function(){var e=this;e.destroyed||(e.searchbar&&e.searchbar.destroy&&(e.searchbar.destroy(),e.searchbar=null,delete e.searchbar),"dropdown"===e.params.openIn?(e.detachDropdownEvents(),e.$dropdownEl.removeClass("autocomplete-dropdown-in").remove(),e.$inputEl.parents(".item-content-dropdown-expanded").removeClass("item-content-dropdown-expanded")):e.detachPageEvents(),e.emit("local::close autocompleteClose",e))},s.onClosed=function(){var e=this;e.destroyed||(e.opened=!1,e.$el=null,e.el=null,delete e.$el,delete e.el,e.emit("local::closed autocompleteClosed",e))},s.openPage=function(){var e=this;if(e.opened)return e;var t=e.renderPage();return e.view.router.navigate({url:e.url,route:{content:t,path:e.url,on:{pageBeforeIn:function(t,n){e.onOpen("page",n.el)},pageAfterIn:function(t,n){e.onOpened("page",n.el)},pageBeforeOut:function(t,n){e.onClose("page",n.el)},pageAfterOut:function(t,n){e.onClosed("page",n.el)}},options:{animate:e.params.animate}}}),e},s.openPopup=function(){var e=this;if(e.opened)return e;var t={content:e.renderPopup(),animate:e.params.animate,push:e.params.popupPush,swipeToClose:e.params.popupSwipeToClose,on:{popupOpen:function(t){e.onOpen("popup",t.el)},popupOpened:function(t){e.onOpened("popup",t.el)},popupClose:function(t){e.onClose("popup",t.el)},popupClosed:function(t){e.onClosed("popup",t.el)}}};return e.params.routableModals&&e.view?e.view.router.navigate({url:e.url,route:{path:e.url,popup:t}}):e.modal=e.app.popup.create(t).open(e.params.animate),e},s.openDropdown=function(){var e=this;e.$dropdownEl||(e.$dropdownEl=Hp(e.renderDropdown())),e.$inputEl.parents(".list").length&&e.$inputEl.parents(".item-content").length>0&&e.params.expandInput&&e.$inputEl.parents(".item-content").addClass("item-content-dropdown-expanded");var t=e.$inputEl.parents(".page-content");e.params.dropdownContainerEl?Hp(e.params.dropdownContainerEl).append(e.$dropdownEl):0===t.length?e.$dropdownEl.insertAfter(e.$inputEl):(e.positionDropdown(),t.append(e.$dropdownEl)),e.onOpen("dropdown",e.$dropdownEl),e.onOpened("dropdown",e.$dropdownEl)},s.open=function(){var e=this;return e.opened||e["open"+e.params.openIn.split("").map((function(e,t){return 0===t?e.toUpperCase():e})).join("")](),e},s.close=function(){var e=this;return e.opened?("dropdown"===e.params.openIn?(e.onClose(),e.onClosed()):e.params.routableModals&&e.view||"page"===e.openedIn?e.view.router.back({animate:e.params.animate}):(e.modal.once("modalClosed",(function(){_u((function(){e.destroyed||(e.modal.destroy(),delete e.modal)}))})),e.modal.close()),e):e},s.init=function(){this.attachEvents()},s.destroy=function(){var e=this;e.emit("local::beforeDestroy autocompleteBeforeDestroy",e),e.detachEvents(),e.$inputEl&&e.$inputEl[0]&&delete e.$inputEl[0].f7Autocomplete,e.$openerEl&&e.$openerEl[0]&&delete e.$openerEl[0].f7Autocomplete,Iu(e),e.destroyed=!0},a=r,o=[{key:"view",get:function(){var e,t=this,n=t.$openerEl,r=t.$inputEl,a=t.app;if(t.params.view)e=t.params.view;else if(n||r){var o=n||r;e=o.closest(".view").length&&o.closest(".view")[0].f7View}return e||(e=a.views.main),e}}],o&&kb(a.prototype,o),i&&kb(a,i),r}(nc),Ib=Ob,Nb={name:"autocomplete",params:{autocomplete:{openerEl:void 0,inputEl:void 0,view:void 0,dropdownContainerEl:void 0,dropdownPlaceholderText:void 0,typeahead:!1,highlightMatches:!0,expandInput:!1,updateInputValueOnSelect:!0,inputEvents:"input",value:void 0,multiple:!1,source:void 0,limit:void 0,valueProperty:"id",textProperty:"text",openIn:"page",pageBackLinkText:"Back",popupCloseLinkText:"Close",pageTitle:void 0,searchbarPlaceholder:"Search...",searchbarDisableText:"Cancel",searchbarDisableButton:void 0,searchbarSpellcheck:!1,popupPush:!1,popupSwipeToClose:void 0,animate:!0,autoFocus:!1,closeOnSelect:!1,notFoundText:"Nothing found",requestSourceOnOpen:!1,preloaderColor:void 0,preloader:!1,formColorTheme:void 0,navbarColorTheme:void 0,routableModals:!1,url:"select/",renderDropdown:void 0,renderPage:void 0,renderPopup:void 0,renderItem:void 0,renderSearchbar:void 0,renderNavbar:void 0}},static:{Autocomplete:Ib},create:function(){var e=this;e.autocomplete=Fu(qp({defaultSelector:void 0,constructor:Ib,app:e,domProp:"f7Autocomplete"}),{open:function(t){var n=e.autocomplete.get(t);if(n&&n.open)return n.open()},close:function(t){var n=e.autocomplete.get(t);if(n&&n.close)return n.close()}})}};function Ab(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _b(e,t){return _b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_b(e,t)}var Rb=function(e){var t,n;function r(t,n){var r;void 0===n&&(n={});var a=Ab(r=e.call(this,n,[t])||this),o=Yu(),i=Fu({},t.params.tooltip),s=mu();a.useModulesParams(i),a.params=Fu(i,n),void 0===n.offset&&o.touch&&"hover"===a.params.trigger&&(a.params.offset=10);var l=a.params,u=l.targetEl,c=l.containerEl;if(!u&&!a.params.delegated)return a||Ab(r);var p=Hp(u);if(0===p.length&&!a.params.delegated)return a||Ab(r);if(p[0]&&p[0].f7Tooltip&&!a.params.delegated)return p[0].f7Tooltip||Ab(r);var d=Hp(c||t.$el).eq(0);0===d.length&&(d=t.$el);var f=Hp(a.render()).eq(0);Fu(a,{app:t,$targetEl:p,targetEl:p&&p[0],$containerEl:d,containerEl:d&&d[0],$el:f,el:f&&f[0],text:a.params.text||"",visible:!1,opened:!1}),p[0]&&(p[0].f7Tooltip=a);var h,v={};function m(){a.opened?a.hide():a.show(this)}function g(e){a.opened&&(Hp(e.target).closest(p).length||Hp(e.target).closest(a.$el).length)||a.hide()}function b(e){h||(h=!0,v.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,v.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,a.show(this))}function y(e){if(h){var t="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,n="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;Math.pow(Math.pow(t-v.x,2)+Math.pow(n-v.y,2),.5)>50&&(h=!1,a.hide())}}function w(){h&&(h=!1,a.hide())}function x(){a.show(this)}function C(){a.hide()}function E(){f.hasClass("tooltip-in")||f.removeClass("tooltip-out").remove()}return a.attachEvents=function(){if(f.on("transitionend",E),"click"===a.params.trigger)return a.params.delegated?Hp(s).on("click",a.params.targetEl,m):a.$targetEl.on("click",m),void Hp("html").on("click",g);if("manual"!==a.params.trigger)if(o.touch){var e=!!o.passiveListener&&{passive:!0};a.params.delegated?Hp(s).on(t.touchEvents.start,a.params.targetEl,b,e):a.$targetEl.on(t.touchEvents.start,b,e),t.on("touchmove",y),t.on("touchend:passive",w)}else a.params.delegated?(Hp(s).on(o.pointerEvents?"pointerenter":"mouseenter",a.params.targetEl,x,!0),Hp(s).on(o.pointerEvents?"pointerleave":"mouseleave",a.params.targetEl,C,!0)):(a.$targetEl.on(o.pointerEvents?"pointerenter":"mouseenter",x),a.$targetEl.on(o.pointerEvents?"pointerleave":"mouseleave",C))},a.detachEvents=function(){if(f.off("transitionend",E),"click"===a.params.trigger)return a.params.delegated?Hp(s).on("click",a.params.targetEl,m):a.$targetEl.off("click",m),void Hp("html").off("click",g);if("manual"!==a.params.trigger)if(o.touch){var e=!!o.passiveListener&&{passive:!0};a.params.delegated?Hp(s).off(t.touchEvents.start,a.params.targetEl,b,e):a.$targetEl.off(t.touchEvents.start,b,e),t.off("touchmove",y),t.off("touchend:passive",w)}else a.params.delegated?(Hp(s).off(o.pointerEvents?"pointerenter":"mouseenter",a.params.targetEl,x,!0),Hp(s).off(o.pointerEvents?"pointerleave":"mouseleave",a.params.targetEl,C,!0)):(a.$targetEl.off(o.pointerEvents?"pointerenter":"mouseenter",x),a.$targetEl.off(o.pointerEvents?"pointerleave":"mouseleave",C))},a.useModules(),a.init(),a||Ab(r)}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,_b(t,n);var a=r.prototype;return a.setTargetEl=function(e){var t=this;return t.detachEvents(),t.$targetEl=Hp(e),t.targetEl=t.$targetEl[0],t.attachEvents(),t},a.position=function(e){var t=this,n=t.$el,r=t.app,a=t.$containerEl,o=!!t.params.containerEl,i=t.params.offset||0;n.css({left:"",top:""});var s,l,u,c,p=Hp(e||t.targetEl),d=[n.width(),n.height()],f=d[0],h=d[1];n.css({left:"",top:""});var v=o&&a.length?a[0].getBoundingClientRect():r;if(p&&p.length>0){if(s=p.outerWidth(),l=p.outerHeight(),void 0===s&&void 0===l){var m=p[0].getBoundingClientRect();s=m.width,l=m.height}var g=p.offset();u=g.left-v.left,c=g.top-v.top;var b=p.parents(".page");b.length>0&&(c-=b[0].scrollTop)}var y=[0,0,0],w=y[0],x=y[1],C="top";h+i<c?x=c-h-i:h<v.height-c-l?(C="bottom",x=c+l+i):(C="middle",(x=l/2+c-h/2)<=0?x=8:x+h>=v.height&&(x=v.height-h-8)),"top"===C||"bottom"===C?((w=s/2+u-f/2)<8&&(w=8),w+f>v.width&&(w=v.width-f-8),w<0&&(w=0)):"middle"===C&&((w=u-f)<8||w+f>v.width)&&(w<8&&(w=u+s),w+f>v.width&&(w=v.width-f-8)),n.css({top:x+"px",left:w+"px"})},a.show=function(e){var t=this,n=t.$el,r=t.$targetEl,a=t.$containerEl;a[0]&&n[0]&&!a[0].contains(n[0])&&a.append(n),t.position(e);var o=Hp(e);return t.visible=!0,t.opened=!0,r.trigger("tooltip:show"),n.trigger("tooltip:show"),o.length&&o[0]!==r[0]&&o.trigger("tooltip:show"),t.emit("local::show tooltipShow",t),n.removeClass("tooltip-out").addClass("tooltip-in"),t},a.hide=function(){var e=this,t=e.$el,n=e.$targetEl;return e.visible=!1,e.opened=!1,n.trigger("tooltip:hide"),t.trigger("tooltip:hide"),e.emit("local::hide tooltipHide",e),t.addClass("tooltip-out").removeClass("tooltip-in"),e},a.render=function(){var e=this;if(e.params.render)return e.params.render.call(e,e);var t=e.params;return('\n      <div class="tooltip '+(t.cssClass||"")+'">\n        <div class="tooltip-content">'+(t.text||"")+"</div>\n      </div>\n    ").trim()},a.setText=function(e){var t=this;return void 0===e||(t.params.text=e,t.text=e,t.$el&&t.$el.children(".tooltip-content").html(e),t.opened&&t.position()),t},a.init=function(){this.attachEvents()},a.destroy=function(){var e=this;e.$targetEl&&!e.destroyed&&(e.$targetEl.trigger("tooltip:beforedestroy"),e.emit("local::beforeDestroy tooltipBeforeDestroy",e),e.$el.remove(),e.$targetEl[0]&&delete e.$targetEl[0].f7Tooltip,e.detachEvents(),Iu(e),e.destroyed=!0)},r}(nc),Mb=Rb,Pb={name:"tooltip",static:{Tooltip:Mb},create:function(){var e=this;e.tooltip=qp({defaultSelector:".tooltip",constructor:Mb,app:e,domProp:"f7Tooltip"}),e.tooltip.show=function(e){var t=Hp(e);if(0!==t.length){var n=t[0].f7Tooltip;if(n)return n.show(t[0]),n}},e.tooltip.hide=function(e){var t=Hp(e);if(0!==t.length){var n=t[0].f7Tooltip;if(n)return n.hide(),n}},e.tooltip.setText=function(e,t){var n=Hp(e);if(0!==n.length){var r=n[0].f7Tooltip;if(r)return r.setText(t),r}}},params:{tooltip:{targetEl:null,delegated:!1,text:null,cssClass:null,render:null,offset:0,trigger:"hover",containerEl:void 0}},on:{tabMounted:function(e){var t=this;Hp(e).find(".tooltip-init").each((function(e){var n=Hp(e).attr("data-tooltip");n&&t.tooltip.create({targetEl:e,text:n})}))},tabBeforeRemove:function(e){Hp(e).find(".tooltip-init").each((function(e){e.f7Tooltip&&e.f7Tooltip.destroy()}))},pageInit:function(e){var t=this;e.$el.find(".tooltip-init").each((function(e){var n=Hp(e).attr("data-tooltip");n&&t.tooltip.create({targetEl:e,text:n})})),"ios"===t.theme&&e.view&&e.view.router.dynamicNavbar&&e.$navbarEl&&e.$navbarEl.length>0&&e.$navbarEl.find(".tooltip-init").each((function(e){var n=Hp(e).attr("data-tooltip");n&&t.tooltip.create({targetEl:e,text:n})}))},pageBeforeRemove:function(e){e.$el.find(".tooltip-init").each((function(e){e.f7Tooltip&&e.f7Tooltip.destroy()})),"ios"===this.theme&&e.view&&e.view.router.dynamicNavbar&&e.$navbarEl&&e.$navbarEl.length>0&&e.$navbarEl.find(".tooltip-init").each((function(e){e.f7Tooltip&&e.f7Tooltip.destroy()}))}},vnode:{"tooltip-init":{insert:function(e){var t=e.elm,n=Hp(t).attr("data-tooltip");n&&this.tooltip.create({targetEl:t,text:n})},update:function(e){var t=e.elm;t.f7Tooltip&&e&&e.data&&e.data.attrs&&e.data.attrs["data-tooltip"]&&t.f7Tooltip.setText(e.data.attrs["data-tooltip"])},destroy:function(e){var t=e.elm;t.f7Tooltip&&t.f7Tooltip.destroy()}}}},Db={open:function(e){void 0===e&&(e=".menu-item-dropdown");if(e){var t=Hp(e).closest(".menu-item-dropdown");if(t.length){var n=t.closest(".menu").eq(0);if(n.length){var r=n.css("z-index"),a=n[0].style.zIndex;n.css("z-index",parseInt(r||0,10)+1),n[0].f7MenuZIndex=a}t.eq(0).addClass("menu-item-dropdown-opened").trigger("menu:opened"),this.emit("menuOpened",t.eq(0)[0])}}},close:function(e){void 0===e&&(e=".menu-item-dropdown-opened");if(e){var t=Hp(e).closest(".menu-item-dropdown-opened");if(t.length){var n=t.closest(".menu").eq(0);if(n.length){var r=n[0].f7MenuZIndex;n.css("z-index",r),delete n[0].f7MenuZIndex}t.eq(0).removeClass("menu-item-dropdown-opened").trigger("menu:closed"),this.emit("menuClosed",t.eq(0)[0])}}}},Bb={name:"menu",create:function(){Gu(this,{menu:Db})},on:{click:function(e){var t=this,n=Hp(".menu-item-dropdown-opened");n.length&&n.each((function(n){Hp(e.target).closest(".menu-item-dropdown-opened").length||t.menu.close(n)}))}},clicks:{".menu-item-dropdown":function(e,t,n){if(e.hasClass("menu-item-dropdown-opened")){if(Hp(n.target).closest(".menu-dropdown").length)return;this.menu.close(e)}else this.menu.open(e)},".menu-close":function(){this.menu.close()}}},Lb={render:function(e){var t=e.params,n=t.sliderLabel,r=t.sliderValue,a=t.sliderValueEditable,o=t.alphaLabelText;return Sf("div",{class:"color-picker-module color-picker-module-alpha-slider"},Sf("div",{class:"color-picker-slider-wrap"},n&&Sf("div",{class:"color-picker-slider-label"},o),Sf("div",{class:"range-slider color-picker-slider color-picker-slider-alpha"}),r&&Sf("div",{class:"color-picker-slider-value"},a?Sf("input",{type:"number",step:"0.01",min:"0",max:"1",class:"color-picker-value-alpha"}):Sf("span",{class:"color-picker-value-alpha"}))))},init:function(e){function t(t){var n=e.value.alpha,r=parseFloat(t.target.value);Number.isNaN(r)?t.target.value=n:(r=Math.max(0,Math.min(1,r)),e.setValue({alpha:r}))}e.alphaRangeSlider=e.app.range.create({el:e.$el.find(".color-picker-slider-alpha"),min:0,max:1,step:.01,value:1,on:{change:function(t,n){var r=Math.floor(100*n)/100;e.setValue({alpha:r})}}}),e.$el.on("change",".color-picker-module-alpha-slider input",t),e.destroyAlphaSliderEvents=function(){e.$el.off("change",".color-picker-module-alpha-slider input",t)}},update:function(e){var t=e.value,n=e.params,r=n.sliderValue,a=n.sliderValueEditable,o=t.alpha;e.alphaRangeSlider.value=o,e.alphaRangeSlider.layout(),r&&a?e.$el.find("input.color-picker-value-alpha").val(o):e.$el.find("span.color-picker-value-alpha").text(o)},destroy:function(e){e.alphaRangeSlider&&e.alphaRangeSlider.destroy&&e.alphaRangeSlider.destroy(),delete e.alphaRangeSlider,e.destroyAlphaSliderEvents&&e.destroyAlphaSliderEvents(),delete e.destroyAlphaSliderEvents}},zb={render:function(){return Sf("div",{class:"color-picker-module color-picker-module-current-color"},Sf("div",{class:"color-picker-current-color"}))},update:function(e){e.$el.find(".color-picker-module-current-color .color-picker-current-color").css("background-color",e.value.hex)}},Fb={render:function(e){var t=e.params,n=t.hexLabel,r=t.hexLabelText,a=t.hexValueEditable;return Sf("div",{class:"color-picker-module color-picker-module-hex"},Sf("div",{class:"color-picker-hex-wrap"},n&&Sf("div",{class:"color-picker-hex-label"},r),Sf("div",{class:"color-picker-hex-value"},a?Sf("input",{type:"text",class:"color-picker-value-hex"}):Sf("span",{class:"color-picker-value-hex"}))))},init:function(e){function t(t){var n=e.value.hex,r=t.target.value.replace(/#/g,"");if(Number.isNaN(r)||!r||3!==r.length&&6!==r.length)t.target.value=n;else{var a=parseInt(r,16);a>parseInt("ffffff",16)&&(r="fff"),a<0&&(r="000"),e.setValue({hex:r})}}e.$el.on("change",".color-picker-module-hex input",t),e.destroyHexEvents=function(){e.$el.off("change",".color-picker-module-hex input",t)}},update:function(e){var t=e.value,n=e.params.hexValueEditable,r=t.hex;n?e.$el.find("input.color-picker-value-hex").val(r):e.$el.find("span.color-picker-value-hex").text(r)},destroy:function(e){e.destroyHexEvents&&e.destroyHexEvents(),delete e.destroyHexEvents}},$b={render:function(e){var t=e.params,n=t.sliderLabel,r=t.sliderValue,a=t.sliderValueEditable,o=t.hueLabelText,i=t.saturationLabelText,s=t.brightnessLabelText;return Sf("div",{class:"color-picker-module color-picker-module-hsb-sliders"},Sf("div",{class:"color-picker-slider-wrap"},n&&Sf("div",{class:"color-picker-slider-label"},o),Sf("div",{class:"range-slider color-picker-slider color-picker-slider-hue"}),r&&Sf("div",{class:"color-picker-slider-value"},a?Sf("input",{type:"number",step:"0.1",min:"0",max:"360",class:"color-picker-value-hue","data-color-index":"0"}):Sf("span",{class:"color-picker-value-hue"}))),Sf("div",{class:"color-picker-slider-wrap"},n&&Sf("div",{class:"color-picker-slider-label"},i),Sf("div",{class:"range-slider color-picker-slider color-picker-slider-saturation"}),r&&Sf("div",{class:"color-picker-slider-value"},a?Sf("input",{type:"number",step:"0.1",min:"0",max:"100",class:"color-picker-value-saturation","data-color-index":"1"}):Sf("span",{class:"color-picker-value-saturation"}))),Sf("div",{class:"color-picker-slider-wrap"},n&&Sf("div",{class:"color-picker-slider-label"},s),Sf("div",{class:"range-slider color-picker-slider color-picker-slider-brightness"}),r&&Sf("div",{class:"color-picker-slider-value"},a?Sf("input",{type:"number",step:"0.1",min:"0",max:"100",class:"color-picker-value-brightness","data-color-index":"2"}):Sf("span",{class:"color-picker-value-brightness"}))))},init:function(e){function t(t){var n=[].concat(e.value.hsb),r=parseInt(Hp(t.target).attr("data-color-index"),10),a=parseFloat(t.target.value);Number.isNaN(a)?t.target.value=n[r]:(a=0===r?Math.max(0,Math.min(360,a)):Math.max(0,Math.min(100,a))/100,n[r]=a,e.setValue({hsb:n}))}e.hueRangeSlider=e.app.range.create({el:e.$el.find(".color-picker-slider-hue"),min:0,max:360,step:.1,value:0,on:{change:function(t,n){e.setValue({hue:n})}}}),e.saturationRangeSlider=e.app.range.create({el:e.$el.find(".color-picker-slider-saturation"),min:0,max:1,step:.001,value:0,on:{change:function(t,n){var r=Math.floor(1e3*n)/1e3;e.setValue({hsb:[e.value.hsb[0],r,e.value.hsb[2]]})}}}),e.brightnessRangeSlider=e.app.range.create({el:e.$el.find(".color-picker-slider-brightness"),min:0,max:1,step:.001,value:0,on:{change:function(t,n){var r=Math.floor(1e3*n)/1e3;e.setValue({hsb:[e.value.hsb[0],e.value.hsb[1],r]})}}}),e.$el.on("change",".color-picker-module-hsb-sliders input",t),e.destroyHsbSlidersEvents=function(){e.$el.off("change",".color-picker-module-hsb-sliders input",t)}},update:function(e){var t=e.app,n=e.value,r=e.params,a=r.sliderValue,o=r.sliderValueEditable,i=n.hsb,s=n.hue;e.hueRangeSlider.value=s,e.saturationRangeSlider.value=i[1],e.brightnessRangeSlider.value=i[2],e.hueRangeSlider.layout(),e.saturationRangeSlider.layout(),e.brightnessRangeSlider.layout();var l=Wu(i[0],i[1],1),u=Wu(i[0],0,1),c=Wu(i[0],1,1),p=i[2];e.hueRangeSlider.$el[0].style.setProperty("--f7-range-knob-color","hsl("+s+", 100%, 50%)"),e.saturationRangeSlider.$el[0].style.setProperty("--f7-range-knob-color","hsl("+l[0]+", "+100*l[1]+"%, "+100*l[2]+"%)"),e.brightnessRangeSlider.$el[0].style.setProperty("--f7-range-knob-color","rgb("+255*p+", "+255*p+", "+255*p+")"),e.saturationRangeSlider.$el.find(".range-bar").css("background-image","linear-gradient("+(t.rtl?"to left":"to right")+", hsl("+u[0]+", "+100*u[1]+"%, "+100*u[2]+"%), hsl("+c[0]+", "+100*c[1]+"%, "+100*c[2]+"%))"),a&&o?(e.$el.find("input.color-picker-value-hue").val(""+s),e.$el.find("input.color-picker-value-saturation").val(""+1e3*i[1]/10),e.$el.find("input.color-picker-value-brightness").val(""+1e3*i[2]/10)):a&&(e.$el.find("span.color-picker-value-hue").text(""+s),e.$el.find("span.color-picker-value-saturation").text(""+1e3*i[1]/10),e.$el.find("span.color-picker-value-brightness").text(""+1e3*i[2]/10))},destroy:function(e){e.hueRangeSlider&&e.hueRangeSlider.destroy&&e.hueRangeSlider.destroy(),e.saturationRangeSlider&&e.saturationRangeSlider.destroy&&e.saturationRangeSlider.destroy(),e.brightnessRangeSlider&&e.brightnessRangeSlider.destroy&&e.brightnessRangeSlider.destroy(),delete e.hueRangeSlider,delete e.saturationRangeSlider,delete e.brightnessRangeSlider,e.destroyHsbSlidersEvents&&e.destroyHsbSlidersEvents(),delete e.destroyHsbSlidersEvents}},Vb={render:function(e){var t=e.params,n=t.sliderLabel,r=t.sliderValue,a=t.sliderValueEditable,o=t.hueLabelText;return Sf("div",{class:"color-picker-module color-picker-module-hue-slider"},Sf("div",{class:"color-picker-slider-wrap"},n&&Sf("div",{class:"color-picker-slider-label"},o),Sf("div",{class:"range-slider color-picker-slider color-picker-slider-hue"}),r&&Sf("div",{class:"color-picker-slider-value"},a?Sf("input",{type:"number",step:"0.1",min:"0",max:"360",class:"color-picker-value-hue"}):Sf("span",{class:"color-picker-value-hue"}))))},init:function(e){e.hueRangeSlider=e.app.range.create({el:e.$el.find(".color-picker-slider-hue"),min:0,max:360,step:.1,value:0,on:{change:function(t,n){e.setValue({hue:n})}}})},update:function(e){var t=e.value,n=e.params,r=n.sliderValue,a=n.sliderValueEditable,o=t.hue;e.hueRangeSlider.value=o,e.hueRangeSlider.layout(),e.hueRangeSlider.$el[0].style.setProperty("--f7-range-knob-color","hsl("+o+", 100%, 50%)"),r&&a?e.$el.find("input.color-picker-value-hue").val(""+o):r&&e.$el.find("span.color-picker-value-hue").text(""+o)},destroy:function(e){e.hueRangeSlider&&e.hueRangeSlider.destroy&&e.hueRangeSlider.destroy(),delete e.hueRangeSlider}},jb={render:function(e){var t=e.params,n=t.sliderLabel,r=t.sliderValue,a=t.sliderValueEditable,o=t.brightnessLabelText;return Sf("div",{class:"color-picker-module color-picker-module-brightness-slider"},Sf("div",{class:"color-picker-slider-wrap"},n&&Sf("div",{class:"color-picker-slider-label"},o),Sf("div",{class:"range-slider color-picker-slider color-picker-slider-brightness"}),r&&Sf("div",{class:"color-picker-slider-value"},a?Sf("input",{type:"number",step:"0.1",min:"0",max:"100",class:"color-picker-value-brightness"}):Sf("span",{class:"color-picker-value-brightness"}))))},init:function(e){e.brightnessRangeSlider=e.app.range.create({el:e.$el.find(".color-picker-slider-brightness"),min:0,max:1,step:.001,value:0,on:{change:function(t,n){var r=Math.floor(1e3*n)/1e3;e.setValue({hsb:[e.value.hsb[0],e.value.hsb[1],r]})}}})},update:function(e){var t=e.value,n=e.app,r=e.params,a=r.sliderValue,o=r.sliderValueEditable,i=t.hsb;e.brightnessRangeSlider.value=i[2],e.brightnessRangeSlider.layout();var s=Wu(i[0],i[1],i[2]),l=Wu(i[0],i[1],0),u=Wu(i[0],i[1],1);e.brightnessRangeSlider.$el[0].style.setProperty("--f7-range-knob-color","hsl("+s[0]+", "+100*s[1]+"%, "+100*s[2]+"%)"),e.brightnessRangeSlider.$el.find(".range-bar").css("background-image","linear-gradient("+(n.rtl?"to left":"to right")+", hsl("+l[0]+", "+100*l[1]+"%, "+100*l[2]+"%), hsl("+u[0]+", "+100*u[1]+"%, "+100*u[2]+"%))"),a&&o?e.$el.find("input.color-picker-value-brightness").val(""+1e3*i[2]/10):a&&e.$el.find("span.color-picker-value-brightness").text(""+1e3*i[2]/10)},destroy:function(e){e.brightnessRangeSlider&&e.brightnessRangeSlider.destroy&&e.brightnessRangeSlider.destroy(),delete e.brightnessRangeSlider}},Hb={render:function(e){return Sf("div",{class:"color-picker-module color-picker-module-palette"},Sf("div",{class:"color-picker-palette"},e.params.palette.map((function(e){if(Array.isArray(e)){var t='<div class="color-picker-palette-row">';return t+=e.map((function(e){return'\n                <div class="color-picker-palette-value" data-palette-color="'+e+'" style="background-color: '+e+'"></div>\n              '})).join(""),t+="</div>"}return Sf("div",{class:"color-picker-palette-value","data-palette-color":e,style:"background-color: "+e})}))))},init:function(e){function t(t){var n=Hp(t.target).attr("data-palette-color");e.setValue({hex:n})}e.$el.on("click",".color-picker-module-palette .color-picker-palette-value",t),e.destroyPaletteEvents=function(){e.$el.off("click",".color-picker-module-hex input",t)}},destroy:function(e){e.destroyPaletteEvents&&e.destroyPaletteEvents(),delete e.destroyPaletteEvents}},Wb={render:function(){return Sf("div",{class:"color-picker-module color-picker-module-initial-current-colors"},Sf("div",{class:"color-picker-initial-current-colors"},Sf("div",{class:"color-picker-initial-color"}),Sf("div",{class:"color-picker-current-color"})))},init:function(e){function t(){if(e.initialValue){var t=e.initialValue,n=t.hex,r=t.alpha;e.setValue({hex:n,alpha:r})}}e.$el.on("click",".color-picker-initial-color",t),e.destroyInitialCurrentEvents=function(){e.$el.off("click",".color-picker-initial-color",t)}},update:function(e){e.$el.find(".color-picker-module-initial-current-colors .color-picker-initial-color").css("background-color",e.initialValue.hex),e.$el.find(".color-picker-module-initial-current-colors .color-picker-current-color").css("background-color",e.value.hex)},destroy:function(e){e.destroyInitialCurrentEvents&&e.destroyInitialCurrentEvents(),delete e.destroyInitialCurrentEvents}},Ub={render:function(e){var t=e.params,n=t.barLabel,r=t.barValue,a=t.barValueEditable,o=t.redLabelText,i=t.greenLabelText,s=t.blueLabelText;return Sf("div",{class:"color-picker-module color-picker-module-rgb-bars"},Sf("div",{class:"color-picker-bar-wrap"},n&&Sf("div",{class:"color-picker-bar-label"},o),Sf("div",{class:"range-slider color-picker-bar color-picker-bar-red"}),r&&Sf("div",{class:"color-picker-bar-value"},a?Sf("input",{type:"number",step:"1",min:"0",max:"255",class:"color-picker-value-bar-red","data-color-index":"0"}):Sf("span",{class:"color-picker-value-bar-red"}))),Sf("div",{class:"color-picker-bar-wrap"},n&&Sf("div",{class:"color-picker-bar-label"},i),Sf("div",{class:"range-slider color-picker-bar color-picker-bar-green"}),r&&Sf("div",{class:"color-picker-bar-value"},a?Sf("input",{type:"number",step:"1",min:"0",max:"255",class:"color-picker-value-bar-green","data-color-index":"1"}):Sf("span",{class:"color-picker-value-bar-green"}))),Sf("div",{class:"color-picker-bar-wrap"},n&&Sf("div",{class:"color-picker-bar-label"},s),Sf("div",{class:"range-slider color-picker-bar color-picker-bar-blue"}),r&&Sf("div",{class:"color-picker-bar-value"},a?Sf("input",{type:"number",step:"1",min:"0",max:"255",class:"color-picker-value-bar-blue","data-color-index":"2"}):Sf("span",{class:"color-picker-value-bar-blue"}))))},init:function(e){function t(t){var n=[].concat(e.value.rgb),r=parseInt(Hp(t.target).attr("data-color-index"),10),a=parseInt(t.target.value,10);Number.isNaN(a)?t.target.value=n[r]:(a=Math.max(0,Math.min(255,a)),n[r]=a,e.setValue({rgb:n}))}e.redBar=e.app.range.create({el:e.$el.find(".color-picker-bar-red"),min:0,max:255,step:1,value:0,vertical:!0,on:{change:function(t,n){e.setValue({rgb:[n,e.value.rgb[1],e.value.rgb[2]]})}}}),e.greenBar=e.app.range.create({el:e.$el.find(".color-picker-bar-green"),min:0,max:255,step:1,value:0,vertical:!0,on:{change:function(t,n){e.setValue({rgb:[e.value.rgb[0],n,e.value.rgb[2]]})}}}),e.blueBar=e.app.range.create({el:e.$el.find(".color-picker-bar-blue"),min:0,max:255,step:1,value:0,vertical:!0,on:{change:function(t,n){e.setValue({rgb:[e.value.rgb[0],e.value.rgb[1],n]})}}}),e.$el.on("change",".color-picker-module-rgb-bars input",t),e.destroyRgbBarsEvents=function(){e.$el.off("change",".color-picker-module-rgb-bars input",t)}},update:function(e){var t=e.value,n=e.redBar,r=e.greenBar,a=e.blueBar,o=e.params,i=o.barValue,s=o.barValueEditable,l=t.rgb;n.value=l[0],r.value=l[1],a.value=l[2],n.layout(),r.layout(),a.layout(),n.$el.find(".range-bar").css("background-image","linear-gradient(to top, rgb(0, "+l[1]+", "+l[2]+"), rgb(255, "+l[1]+", "+l[2]+"))"),r.$el.find(".range-bar").css("background-image","linear-gradient(to top, rgb("+l[0]+", 0, "+l[2]+"), rgb("+l[0]+", 255, "+l[2]+"))"),a.$el.find(".range-bar").css("background-image","linear-gradient(to top, rgb("+l[0]+", "+l[1]+", 0), rgb("+l[0]+", "+l[1]+", 255))"),i&&s?(e.$el.find("input.color-picker-value-bar-red").val(l[0]),e.$el.find("input.color-picker-value-bar-green").val(l[1]),e.$el.find("input.color-picker-value-bar-blue").val(l[2])):i&&(e.$el.find("span.color-picker-value-bar-red").text(l[0]),e.$el.find("span.color-picker-value-bar-green").text(l[1]),e.$el.find("span.color-picker-value-bar-blue").text(l[2]))},destroy:function(e){e.redBar&&e.redBar.destroy&&e.redBar.destroy(),e.greenBar&&e.greenBar.destroy&&e.greenBar.destroy(),e.blueBar&&e.blueBar.destroy&&e.blueBar.destroy(),delete e.redBar,delete e.greenBar,delete e.blueBar,e.destroyRgbBarsEvents&&e.destroyRgbBarsEvents(),delete e.destroyRgbBarsEvents}},qb={render:function(e){var t=e.params,n=t.sliderLabel,r=t.sliderValue,a=t.sliderValueEditable,o=t.redLabelText,i=t.greenLabelText,s=t.blueLabelText;return Sf("div",{class:"color-picker-module color-picker-module-rgb-sliders"},Sf("div",{class:"color-picker-slider-wrap"},n&&Sf("div",{class:"color-picker-slider-label"},o),Sf("div",{class:"range-slider color-picker-slider color-picker-slider-red"}),r&&Sf("div",{class:"color-picker-slider-value"},a?Sf("input",{type:"number",step:"1",min:"0",max:"255",class:"color-picker-value-red","data-color-index":"0"}):Sf("span",{class:"color-picker-value-red"}))),Sf("div",{class:"color-picker-slider-wrap"},n&&Sf("div",{class:"color-picker-slider-label"},i),Sf("div",{class:"range-slider color-picker-slider color-picker-slider-green"}),r&&Sf("div",{class:"color-picker-slider-value"},a?Sf("input",{type:"number",step:"1",min:"0",max:"255",class:"color-picker-value-green","data-color-index":"1"}):Sf("span",{class:"color-picker-value-green"}))),Sf("div",{class:"color-picker-slider-wrap"},n&&Sf("div",{class:"color-picker-slider-label"},s),Sf("div",{class:"range-slider color-picker-slider color-picker-slider-blue"}),r&&Sf("div",{class:"color-picker-slider-value"},a?Sf("input",{type:"number",step:"1",min:"0",max:"255",class:"color-picker-value-blue","data-color-index":"2"}):Sf("span",{class:"color-picker-value-blue"}))))},init:function(e){function t(t){var n=[].concat(e.value.rgb),r=parseInt(Hp(t.target).attr("data-color-index"),10),a=parseInt(t.target.value,10);Number.isNaN(a)?t.target.value=n[r]:(a=Math.max(0,Math.min(255,a)),n[r]=a,e.setValue({rgb:n}))}e.redRangeSlider=e.app.range.create({el:e.$el.find(".color-picker-slider-red"),min:0,max:255,step:1,value:0,on:{change:function(t,n){e.setValue({rgb:[n,e.value.rgb[1],e.value.rgb[2]]})}}}),e.greenRangeSlider=e.app.range.create({el:e.$el.find(".color-picker-slider-green"),min:0,max:255,step:1,value:0,on:{change:function(t,n){e.setValue({rgb:[e.value.rgb[0],n,e.value.rgb[2]]})}}}),e.blueRangeSlider=e.app.range.create({el:e.$el.find(".color-picker-slider-blue"),min:0,max:255,step:1,value:0,on:{change:function(t,n){e.setValue({rgb:[e.value.rgb[0],e.value.rgb[1],n]})}}}),e.$el.on("change",".color-picker-module-rgb-sliders input",t),e.destroyRgbSlidersEvents=function(){e.$el.off("change",".color-picker-module-rgb-sliders input",t)}},update:function(e){var t=e.app,n=e.value,r=e.redRangeSlider,a=e.greenRangeSlider,o=e.blueRangeSlider,i=e.params,s=i.sliderValue,l=i.sliderValueEditable,u=n.rgb;r.value=u[0],a.value=u[1],o.value=u[2],r.layout(),a.layout(),o.layout(),r.$el[0].style.setProperty("--f7-range-knob-color","rgb("+u[0]+", "+u[1]+", "+u[2]+")"),a.$el[0].style.setProperty("--f7-range-knob-color","rgb("+u[0]+", "+u[1]+", "+u[2]+")"),o.$el[0].style.setProperty("--f7-range-knob-color","rgb("+u[0]+", "+u[1]+", "+u[2]+")");var c=t.rtl?"to left":"to right";r.$el.find(".range-bar").css("background-image","linear-gradient("+c+", rgb(0, "+u[1]+", "+u[2]+"), rgb(255, "+u[1]+", "+u[2]+"))"),a.$el.find(".range-bar").css("background-image","linear-gradient("+c+", rgb("+u[0]+", 0, "+u[2]+"), rgb("+u[0]+", 255, "+u[2]+"))"),o.$el.find(".range-bar").css("background-image","linear-gradient("+c+", rgb("+u[0]+", "+u[1]+", 0), rgb("+u[0]+", "+u[1]+", 255))"),s&&l?(e.$el.find("input.color-picker-value-red").val(u[0]),e.$el.find("input.color-picker-value-green").val(u[1]),e.$el.find("input.color-picker-value-blue").val(u[2])):s&&(e.$el.find("span.color-picker-value-red").text(u[0]),e.$el.find("span.color-picker-value-green").text(u[1]),e.$el.find("span.color-picker-value-blue").text(u[2]))},destroy:function(e){e.redRangeSlider&&e.redRangeSlider.destroy&&e.redRangeSlider.destroy(),e.greenRangeSlider&&e.greenRangeSlider.destroy&&e.greenRangeSlider.destroy(),e.blueRangeSlider&&e.blueRangeSlider.destroy&&e.blueRangeSlider.destroy(),delete e.redRangeSlider,delete e.greenRangeSlider,delete e.blueRangeSlider,e.destroyRgbSlidersEvents&&e.destroyRgbSlidersEvents(),delete e.destroyRgbSlidersEvents}},Gb={render:function(){return Sf("div",{class:"color-picker-module color-picker-module-sb-spectrum"},Sf("div",{class:"color-picker-sb-spectrum",style:"background-color: hsl(0, 100%, 50%)"},Sf("div",{class:"color-picker-sb-spectrum-handle"})))},init:function(e){var t,n,r,a,o,i,s,l,u=e.app,c=e.$el;function p(t,n){var r=(t-i.left)/i.width,a=(n-i.top)/i.height;r=Math.max(0,Math.min(1,r)),a=1-Math.max(0,Math.min(1,a)),e.setValue({hsb:[e.value.hue,r,a]})}function d(e){if(!t){n="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,a=n,r="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,o=r;var u=Hp(e.target);(l=u.closest(".color-picker-sb-spectrum-handle").length>0)||(s=u.closest(".color-picker-sb-spectrum").length>0),s&&(i=c.find(".color-picker-sb-spectrum")[0].getBoundingClientRect(),p(n,r)),(l||s)&&c.find(".color-picker-sb-spectrum-handle").addClass("color-picker-sb-spectrum-handle-pressed")}}function f(e){(s||l)&&(a="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,o="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,e.preventDefault(),t||(t=!0,l&&(i=c.find(".color-picker-sb-spectrum")[0].getBoundingClientRect())),(s||l)&&p(a,o))}function h(){t=!1,(s||l)&&c.find(".color-picker-sb-spectrum-handle").removeClass("color-picker-sb-spectrum-handle-pressed"),s=!1,l=!1}function v(){e.modules["sb-spectrum"].update(e)}var m=!("touchstart"!==u.touchEvents.start||!Yu().passiveListener)&&{passive:!0,capture:!1};e.$el.on(u.touchEvents.start,d,m),u.on("touchmove:active",f),u.on("touchend:passive",h),u.on("resize",v),e.destroySpectrumEvents=function(){e.$el.off(u.touchEvents.start,d,m),u.off("touchmove:active",f),u.off("touchend:passive",h),u.off("resize",v)}},update:function(e){var t=e.value,n=t.hsl,r=t.hsb,a=e.$el.find(".color-picker-sb-spectrum")[0].offsetWidth,o=e.$el.find(".color-picker-sb-spectrum")[0].offsetHeight;e.$el.find(".color-picker-sb-spectrum").css("background-color","hsl("+n[0]+", 100%, 50%)"),e.$el.find(".color-picker-sb-spectrum-handle").css("background-color","hsl("+n[0]+", "+100*n[1]+"%, "+100*n[2]+"%)").transform("translate("+a*r[1]+"px, "+o*(1-r[2])+"px)")},destroy:function(e){e.destroySpectrumEvents&&e.destroySpectrumEvents(),delete e.destroySpectrumEvents}},Xb={render:function(){return Sf("div",{class:"color-picker-module color-picker-module-hs-spectrum"},Sf("div",{class:"color-picker-hs-spectrum"},Sf("div",{class:"color-picker-hs-spectrum-handle"})))},init:function(e){var t,n,r,a,o,i,s,l,u=e.app,c=e.$el;function p(t,n){var r=(t-i.left)/i.width*360,a=(n-i.top)/i.height;r=Math.max(0,Math.min(360,r)),a=1-Math.max(0,Math.min(1,a)),e.setValue({hsb:[r,a,e.value.hsb[2]]})}function d(e){if(!t){n="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,a=n,r="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,o=r;var u=Hp(e.target);(l=u.closest(".color-picker-hs-spectrum-handle").length>0)||(s=u.closest(".color-picker-hs-spectrum").length>0),s&&(i=c.find(".color-picker-hs-spectrum")[0].getBoundingClientRect(),p(n,r)),(l||s)&&c.find(".color-picker-hs-spectrum-handle").addClass("color-picker-hs-spectrum-handle-pressed")}}function f(e){(s||l)&&(a="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,o="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,e.preventDefault(),t||(t=!0,l&&(i=c.find(".color-picker-hs-spectrum")[0].getBoundingClientRect())),(s||l)&&p(a,o))}function h(){t=!1,(s||l)&&c.find(".color-picker-hs-spectrum-handle").removeClass("color-picker-hs-spectrum-handle-pressed"),s=!1,l=!1}function v(){e.modules["hs-spectrum"].update(e)}var m=!("touchstart"!==u.touchEvents.start||!Yu().passiveListener)&&{passive:!0,capture:!1};e.$el.on(u.touchEvents.start,d,m),u.on("touchmove:active",f),u.on("touchend:passive",h),u.on("resize",v),e.destroySpectrumEvents=function(){e.$el.off(u.touchEvents.start,d,m),u.off("touchmove:active",f),u.off("touchend:passive",h),u.off("resize",v)}},update:function(e){var t=e.value.hsb,n=e.$el.find(".color-picker-hs-spectrum")[0].offsetWidth,r=e.$el.find(".color-picker-hs-spectrum")[0].offsetHeight,a=Wu(t[0],t[1],1);e.$el.find(".color-picker-hs-spectrum-handle").css("background-color","hsl("+a[0]+", "+100*a[1]+"%, "+100*a[2]+"%)").transform("translate("+n*(t[0]/360)+"px, "+r*(1-t[1])+"px)")},destroy:function(e){e.destroySpectrumEvents&&e.destroySpectrumEvents(),delete e.destroySpectrumEvents}};var Yb={render:function(){return Sf("div",{class:"color-picker-module color-picker-module-wheel"},Sf("div",{class:"color-picker-wheel"},Sf("svg",{viewBox:"0 0 300 300",width:"300",height:"300"},function(){for(var e="",t=256;t>0;t-=1){var n=t*Math.PI/128,r=1.40625*t;e+='<circle cx="'+(150-125*Math.sin(n))+'" cy="'+(150-125*Math.cos(n))+'" r="25" fill="hsl('+r+', 100%, 50%)"></circle>'}return e}()),Sf("div",{class:"color-picker-wheel-handle"}),Sf("div",{class:"color-picker-sb-spectrum",style:"background-color: hsl(0, 100%, 50%)"},Sf("div",{class:"color-picker-sb-spectrum-handle"}))))},init:function(e){var t,n,r,a,o,i,s,l,u,c,p,d=e.app,f=e.$el;function h(t,n){var r=i.left+i.width/2,a=i.top+i.height/2,o=180*Math.atan2(n-a,t-r)/Math.PI+90;o<0&&(o+=360),o=360-o,e.setValue({hue:o})}function v(t,n){var r=(t-u.left)/u.width,a=(n-u.top)/u.height;r=Math.max(0,Math.min(1,r)),a=1-Math.max(0,Math.min(1,a)),e.setValue({hsb:[e.value.hue,r,a]})}function m(e){if(!t){n="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,a=n,r="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,o=r;var d=Hp(e.target);l=d.closest(".color-picker-wheel-handle").length>0,s=d.closest("circle").length>0,(p=d.closest(".color-picker-sb-spectrum-handle").length>0)||(c=d.closest(".color-picker-sb-spectrum").length>0),s&&(i=f.find(".color-picker-wheel")[0].getBoundingClientRect(),h(n,r)),c&&(u=f.find(".color-picker-sb-spectrum")[0].getBoundingClientRect(),v(n,r)),(p||c)&&f.find(".color-picker-sb-spectrum-handle").addClass("color-picker-sb-spectrum-handle-pressed")}}function g(e){(s||l||c||p)&&(a="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,o="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,e.preventDefault(),t||(t=!0,l&&(i=f.find(".color-picker-wheel")[0].getBoundingClientRect()),p&&(u=f.find(".color-picker-sb-spectrum")[0].getBoundingClientRect())),(s||l)&&h(a,o),(c||p)&&v(a,o))}function b(){t=!1,(c||p)&&f.find(".color-picker-sb-spectrum-handle").removeClass("color-picker-sb-spectrum-handle-pressed"),s=!1,l=!1,c=!1,p=!1}function y(){e.modules.wheel.update(e)}var w=!("touchstart"!==d.touchEvents.start||!Yu().passiveListener)&&{passive:!0,capture:!1};e.$el.on(d.touchEvents.start,m,w),d.on("touchmove:active",g),d.on("touchend:passive",b),d.on("resize",y),e.destroyWheelEvents=function(){e.$el.off(d.touchEvents.start,m,w),d.off("touchmove:active",g),d.off("touchend:passive",b),d.off("resize",y)}},update:function(e){var t=e.value,n=t.hsl,r=t.hsb,a=e.$el.find(".color-picker-sb-spectrum")[0].offsetWidth,o=e.$el.find(".color-picker-sb-spectrum")[0].offsetHeight,i=e.$el.find(".color-picker-wheel")[0].offsetWidth,s=i/2,l=t.hue*Math.PI/180,u=i/6/2,c=s-Math.sin(l)*(s-u)-u,p=s-Math.cos(l)*(s-u)-u;e.$el.find(".color-picker-wheel-handle").css("background-color","hsl("+n[0]+", 100%, 50%)").transform("translate("+c+"px, "+p+"px)"),e.$el.find(".color-picker-sb-spectrum").css("background-color","hsl("+n[0]+", 100%, 50%)"),e.$el.find(".color-picker-sb-spectrum-handle").css("background-color","hsl("+n[0]+", "+100*n[1]+"%, "+100*n[2]+"%)").transform("translate("+a*r[1]+"px, "+o*(1-r[2])+"px)")},destroy:function(e){e.destroyWheelEvents&&e.destroyWheelEvents(),delete e.destroyWheelEvents}};function Kb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qb(e,t){return Qb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Qb(e,t)}var Zb=function(e){var t,n;function r(t,n){var r;void 0===n&&(n={});var a,o,i,s=Jb(r=e.call(this,n,[t])||this);if(s.params=Fu({},t.params.colorPicker,n),s.params.containerEl&&0===(a=Hp(s.params.containerEl)).length)return s||Jb(r);function l(){s.open()}function u(e){e.preventDefault()}function c(){s.open()}function p(e){if(!s.destroyed&&s.params&&"page"!==s.params.openIn){var t=Hp(e.target);s.opened&&!s.closing&&(t.closest('[class*="backdrop"]').length||t.closest(".color-picker-popup, .color-picker-popover").length||(o&&o.length>0?t[0]!==o[0]&&0===t.closest(".sheet-modal").length&&s.close():0===Hp(e.target).closest(".sheet-modal").length&&s.close()))}}return s.params.inputEl&&(o=Hp(s.params.inputEl)),s.params.targetEl&&(i=Hp(s.params.targetEl)),Fu(s,{app:t,$containerEl:a,containerEl:a&&a[0],inline:a&&a.length>0,$inputEl:o,inputEl:o&&o[0],$targetEl:i,targetEl:i&&i[0],initialized:!1,opened:!1,url:s.params.url,modules:{"alpha-slider":Lb,"current-color":zb,hex:Fb,"hsb-sliders":$b,"hue-slider":Vb,"brightness-slider":jb,palette:Hb,"initial-current-colors":Wb,"rgb-bars":Ub,"rgb-sliders":qb,"sb-spectrum":Gb,"hs-spectrum":Xb,wheel:Yb}}),Fu(s,{attachInputEvents:function(){s.$inputEl.on("click",l),s.params.inputReadOnly&&(s.$inputEl.on("focus mousedown",u),s.$inputEl[0]&&(s.$inputEl[0].f7ValidateReadonly=!0))},detachInputEvents:function(){s.$inputEl.off("click",l),s.params.inputReadOnly&&(s.$inputEl.off("focus mousedown",u),s.$inputEl[0]&&delete s.$inputEl[0].f7ValidateReadonly)},attachTargetEvents:function(){s.$targetEl.on("click",c)},detachTargetEvents:function(){s.$targetEl.off("click",c)},attachHtmlEvents:function(){t.on("click",p)},detachHtmlEvents:function(){t.off("click",p)}}),s.init(),s||Jb(r)}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Qb(t,n);var a,o,i,s=r.prototype;return s.attachEvents=function(){var e=this;e.centerModules=e.centerModules.bind(e),e.params.centerModules&&e.app.on("resize",e.centerModules)},s.detachEvents=function(){var e=this;e.params.centerModules&&e.app.off("resize",e.centerModules)},s.centerModules=function(){var e=this;if(e.opened&&e.$el&&!e.inline){var t=e.$el.find(".page-content");if(t.length){var n=t[0];n.scrollHeight<=n.offsetHeight?t.addClass("justify-content-center"):t.removeClass("justify-content-center")}}},s.initInput=function(){var e=this;e.$inputEl&&e.params.inputReadOnly&&e.$inputEl.prop("readOnly",!0)},s.getModalType=function(){var e=this,t=e.app,n=e.modal,r=e.params,a=r.openIn,o=r.openInPhone,i=Ku();return n&&n.type?n.type:"auto"!==a?a:e.inline?null:i.ios?i.ipad?"popover":o:t.width>=768||i.desktop&&"aurora"===t.theme?"popover":o},s.formatValue=function(){var e=this,t=e.value;return e.params.formatValue?e.params.formatValue.call(e,t):t.hex},s.normalizeHsValues=function(e){return[Math.floor(10*e[0])/10,Math.floor(1e3*e[1])/1e3,Math.floor(1e3*e[2])/1e3]},s.setValue=function(e,t){void 0===e&&(e={}),void 0===t&&(t=!0);var n=this;if(void 0!==e){var r,a=n.value||{},o=a.hex,i=a.rgb,s=a.hsl,l=a.hsb,u=a.alpha,c=void 0===u?1:u,p=a.hue,d=a.rgba,f=a.hsla,h=n.value||!n.value&&!n.params.value;if(Object.keys(e).forEach((function(t){if(n.value&&void 0!==n.value[t]){var a=e[t];Array.isArray(a)?a.forEach((function(e,a){e!==n.value[t][a]&&(r=!0)})):a!==n.value[t]&&(r=!0)}else r=!0})),r){if(e.rgb||e.rgba){var v=e.rgb||e.rgba,m=v[0],g=v[1],b=v[2],y=v[3],w=void 0===y?c:y;i=[m,g,b],o=Vu.apply(void 0,i),s=ju.apply(void 0,i),l=Uu.apply(void 0,s),s=n.normalizeHsValues(s),p=(l=n.normalizeHsValues(l))[0],c=w,d=[i[0],i[1],i[2],w],f=[s[0],s[1],s[2],w]}if(e.hsl||e.hsla){var x=e.hsl||e.hsla,C=x[0],E=x[1],k=x[2],S=x[3],T=void 0===S?c:S;s=[C,E,k],i=Hu.apply(void 0,s),o=Vu.apply(void 0,i),l=Uu.apply(void 0,s),s=n.normalizeHsValues(s),p=(l=n.normalizeHsValues(l))[0],c=T,d=[i[0],i[1],i[2],T],f=[s[0],s[1],s[2],T]}if(e.hsb){var O=e.hsb,I=O[0],N=O[1],A=O[2],_=O[3],R=void 0===_?c:_;l=[I,N,A],s=Wu.apply(void 0,l),i=Hu.apply(void 0,s),o=Vu.apply(void 0,i),s=n.normalizeHsValues(s),p=(l=n.normalizeHsValues(l))[0],c=R,d=[i[0],i[1],i[2],R],f=[s[0],s[1],s[2],R]}if(e.hex&&(i=$u(e.hex),o=Vu.apply(void 0,i),s=ju.apply(void 0,i),l=Uu.apply(void 0,s),s=n.normalizeHsValues(s),p=(l=n.normalizeHsValues(l))[0],d=[i[0],i[1],i[2],c],f=[s[0],s[1],s[2],c]),void 0!==e.alpha&&(c=e.alpha,void 0!==i&&(d=[i[0],i[1],i[2],c]),void 0!==s&&(f=[s[0],s[1],s[2],c])),void 0!==e.hue){var M=s,P=(M[0],M[1]),D=M[2];s=[e.hue,P,D],l=Uu.apply(void 0,s),i=Hu.apply(void 0,s),o=Vu.apply(void 0,i),s=n.normalizeHsValues(s),p=(l=n.normalizeHsValues(l))[0],d=[i[0],i[1],i[2],c],f=[s[0],s[1],s[2],c]}n.value={hex:o,alpha:c,hue:p,rgb:i,hsl:s,hsb:l,rgba:d,hsla:f},n.initialValue||(n.initialValue=Fu({},n.value)),n.updateValue(h),n.opened&&t&&n.updateModules()}}},s.getValue=function(){return this.value},s.updateValue=function(e){void 0===e&&(e=!0);var t=this,n=t.$inputEl,r=t.value,a=t.$targetEl;if(a&&t.params.targetElSetBackgroundColor){var o=r.rgba;a.css("background-color","rgba("+o.join(", ")+")")}if(e&&t.emit("local::change colorPickerChange",t,r),n&&n.length){var i=t.formatValue(r);n&&n.length&&(n.val(i),e&&n.trigger("change"))}},s.updateModules=function(){var e=this,t=e.modules;e.params.modules.forEach((function(n){"string"==typeof n&&t[n]&&t[n].update?t[n].update(e):n&&n.update&&n.update(e)}))},s.update=function(){this.updateModules()},s.renderPicker=function(){var e=this,t=e.params,n=e.modules,r="";return t.modules.forEach((function(t){"string"==typeof t&&n[t]&&n[t].render?r+=n[t].render(e):t&&t.render&&(r+=t.render(e))})),r},s.renderNavbar=function(){var e=this;if(e.params.renderNavbar)return e.params.renderNavbar.call(e,e);var t=e.params,n=t.openIn,r=t.navbarTitleText,a=t.navbarBackLinkText,o=t.navbarCloseText;return Sf("div",{class:"navbar"},Sf("div",{class:"navbar-bg"}),Sf("div",{class:"navbar-inner sliding"},"page"===n&&Sf("div",{class:"left"},Sf("a",{class:"link back"},Sf("i",{class:"icon icon-back"}),Sf("span",{class:"if-not-md"},a))),Sf("div",{class:"title"},r),"page"!==n&&Sf("div",{class:"right"},Sf("a",{class:"link popup-close","data-popup":".color-picker-popup"},o))))},s.renderToolbar=function(){var e=this;return e.params.renderToolbar?e.params.renderToolbar.call(e,e):Sf("div",{class:"toolbar toolbar-top no-shadow"},Sf("div",{class:"toolbar-inner"},Sf("div",{class:"left"}),Sf("div",{class:"right"},Sf("a",{class:"link sheet-close popover-close","data-sheet":".color-picker-sheet-modal","data-popover":".color-picker-popover"},e.params.toolbarCloseText))))},s.renderInline=function(){var e=this.params,t=e.cssClass,n=e.groupedModules;return Sf("div",{class:"color-picker color-picker-inline "+(n?"color-picker-grouped-modules":"")+" "+(t||"")},this.renderPicker())},s.renderSheet=function(){var e=this,t=e.params,n=t.cssClass,r=t.toolbarSheet,a=t.groupedModules;return Sf("div",{class:"sheet-modal color-picker color-picker-sheet-modal "+(a?"color-picker-grouped-modules":"")+" "+(n||"")},r&&e.renderToolbar(),Sf("div",{class:"sheet-modal-inner"},Sf("div",{class:"page-content"},e.renderPicker())))},s.renderPopover=function(){var e=this,t=e.params,n=t.cssClass,r=t.toolbarPopover,a=t.groupedModules;return Sf("div",{class:"popover color-picker-popover "+(n||"")},Sf("div",{class:"popover-inner"},Sf("div",{class:"color-picker "+(a?"color-picker-grouped-modules":"")},r&&e.renderToolbar(),Sf("div",{class:"page-content"},e.renderPicker()))))},s.renderPopup=function(){var e=this,t=e.params,n=t.cssClass,r=t.navbarPopup,a=t.groupedModules;return Sf("div",{class:"popup color-picker-popup "+(n||"")},Sf("div",{class:"page"},r&&e.renderNavbar(),Sf("div",{class:"color-picker "+(a?"color-picker-grouped-modules":"")},Sf("div",{class:"page-content"},e.renderPicker()))))},s.renderPage=function(){var e=this,t=e.params,n=t.cssClass,r=t.groupedModules;return Sf("div",{class:"page color-picker-page "+(n||""),"data-name":"color-picker-page"},e.renderNavbar(),Sf("div",{class:"color-picker "+(r?"color-picker-grouped-modules":"")},Sf("div",{class:"page-content"},e.renderPicker())))},s.render=function(){var e=this,t=e.params;if(t.render)return t.render.call(e);if(e.inline)return e.renderInline();if("page"===t.openIn)return e.renderPage();var n=e.getModalType();return"popover"===n?e.renderPopover():"sheet"===n?e.renderSheet():"popup"===n?e.renderPopup():void 0},s.onOpen=function(){var e=this,t=e.initialized,n=e.$el,r=e.app,a=e.$inputEl,o=e.inline,i=e.value,s=e.params,l=e.modules;e.closing=!1,e.opened=!0,e.opening=!0,e.attachEvents(),s.modules.forEach((function(t){"string"==typeof t&&l[t]&&l[t].init?l[t].init(e):t&&t.init&&t.init(e)}));var u=!i&&s.value;t?i&&(e.initialValue=Fu({},i),e.setValue(i,!1)):i?e.setValue(i):s.value?e.setValue(s.value,!1):s.value||e.setValue({hex:"#ff0000"},!1),u&&e.updateValue(),e.updateModules(),s.centerModules&&e.centerModules(),!o&&a&&a.length&&"md"===r.theme&&a.trigger("focus"),e.initialized=!0,n&&n.trigger("colorpicker:open"),a&&a.trigger("colorpicker:open"),e.emit("local::open colorPickerOpen",e)},s.onOpened=function(){var e=this;e.opening=!1,e.$el&&e.$el.trigger("colorpicker:opened"),e.$inputEl&&e.$inputEl.trigger("colorpicker:opened"),e.emit("local::opened colorPickerOpened",e)},s.onClose=function(){var e=this,t=e.app,n=e.params,r=e.modules;if(e.opening=!1,e.closing=!0,e.detachEvents(),e.$inputEl)if("md"===t.theme)e.$inputEl.trigger("blur");else{var a=e.$inputEl.attr("validate"),o=e.$inputEl.attr("required");a&&o&&t.input.validate(e.$inputEl)}n.modules.forEach((function(t){"string"==typeof t&&r[t]&&r[t].destroy?r[t].destroy(e):t&&t.destroy&&t.destroy(e)})),e.$el&&e.$el.trigger("colorpicker:close"),e.$inputEl&&e.$inputEl.trigger("colorpicker:close"),e.emit("local::close colorPickerClose",e)},s.onClosed=function(){var e=this;e.opened=!1,e.closing=!1,e.inline||_u((function(){e.modal&&e.modal.el&&e.modal.destroy&&(e.params.routableModals||e.modal.destroy()),delete e.modal})),e.$el&&e.$el.trigger("colorpicker:closed"),e.$inputEl&&e.$inputEl.trigger("colorpicker:closed"),e.emit("local::closed colorPickerClosed",e)},s.open=function(){var e=this,t=e.app,n=e.opened,r=e.inline,a=e.$inputEl,o=e.$targetEl,i=e.params;if(!n){if(r)return e.$el=Hp(e.render()),e.$el[0].f7ColorPicker=e,e.$containerEl.append(e.$el),e.onOpen(),void e.onOpened();var s=e.render();if("page"===i.openIn)e.view.router.navigate({url:e.url,route:{content:s,path:e.url,on:{pageBeforeIn:function(t,n){e.$el=n.$el.find(".color-picker"),e.$el[0].f7ColorPicker=e,e.onOpen()},pageAfterIn:function(){e.onOpened()},pageBeforeOut:function(){e.onClose()},pageAfterOut:function(){e.onClosed(),e.$el&&e.$el[0]&&(e.$el[0].f7ColorPicker=null,delete e.$el[0].f7ColorPicker)}}}});else{var l=e.getModalType(),u=i.backdrop;null==u&&("popover"===l&&!1!==t.params.popover.backdrop&&(u=!0),"popup"===l&&(u=!0));var c,p={targetEl:o||a,scrollToEl:i.scrollToInput?o||a:void 0,content:s,backdrop:u,closeByBackdropClick:i.closeByBackdropClick,on:{open:function(){var t=this;e.modal=t,e.$el="popover"===l||"popup"===l?t.$el.find(".color-picker"):t.$el,e.$el[0].f7ColorPicker=e,e.onOpen()},opened:function(){e.onOpened()},close:function(){e.onClose()},closed:function(){e.onClosed(),e.$el&&e.$el[0]&&(e.$el[0].f7ColorPicker=null,delete e.$el[0].f7ColorPicker)}}};if("popup"===l&&(p.push=i.popupPush,p.swipeToClose=i.popupSwipeToClose),"sheet"===l&&(p.push=i.sheetPush,p.swipeToClose=i.sheetSwipeToClose),i.routableModals&&e.view)e.view.router.navigate({url:e.url,route:(c={path:e.url},c[l]=p,c)});else e.modal=t[l].create(p),e.modal.open()}}},s.close=function(){var e=this,t=e.opened,n=e.inline;if(t)return n?(e.onClose(),void e.onClosed()):void(e.params.routableModals&&e.view||"page"===e.params.openIn?e.view.router.back():e.modal.close())},s.init=function(){var e=this;if(e.initInput(),e.inline)return e.open(),void e.emit("local::init colorPickerInit",e);!e.initialized&&e.params.value&&e.setValue(e.params.value),e.$inputEl&&e.attachInputEvents(),e.$targetEl&&e.attachTargetEvents(),e.params.closeByOutsideClick&&e.attachHtmlEvents(),e.emit("local::init colorPickerInit",e)},s.destroy=function(){var e=this;if(!e.destroyed){var t=e.$el;e.emit("local::beforeDestroy colorPickerBeforeDestroy",e),t&&t.trigger("colorpicker:beforedestroy"),e.close(),e.detachEvents(),e.$inputEl&&e.detachInputEvents(),e.$targetEl&&e.detachTargetEvents(),e.params.closeByOutsideClick&&e.detachHtmlEvents(),t&&t.length&&delete e.$el[0].f7ColorPicker,Iu(e),e.destroyed=!0}},a=r,o=[{key:"view",get:function(){var e,t=this.$inputEl,n=this.$targetEl,r=this.app,a=this.params;return a.view?e=a.view:(t&&(e=t.parents(".view").length&&t.parents(".view")[0].f7View),!e&&n&&(e=n.parents(".view").length&&n.parents(".view")[0].f7View)),e||(e=r.views.main),e}}],o&&Kb(a.prototype,o),i&&Kb(a,i),r}(nc),ey=Zb,ty={name:"colorPicker",static:{ColorPicker:ey},create:function(){var e=this;e.colorPicker=qp({defaultSelector:".color-picker",constructor:ey,app:e,domProp:"f7ColorPicker"}),e.colorPicker.close=function(e){void 0===e&&(e=".color-picker");var t=Hp(e);if(0!==t.length){var n=t[0].f7ColorPicker;!n||n&&!n.opened||n.close()}}},params:{colorPicker:{value:null,modules:["wheel"],palette:[["#FFEBEE","#FFCDD2","#EF9A9A","#E57373","#EF5350","#F44336","#E53935","#D32F2F","#C62828","#B71C1C"],["#F3E5F5","#E1BEE7","#CE93D8","#BA68C8","#AB47BC","#9C27B0","#8E24AA","#7B1FA2","#6A1B9A","#4A148C"],["#E8EAF6","#C5CAE9","#9FA8DA","#7986CB","#5C6BC0","#3F51B5","#3949AB","#303F9F","#283593","#1A237E"],["#E1F5FE","#B3E5FC","#81D4FA","#4FC3F7","#29B6F6","#03A9F4","#039BE5","#0288D1","#0277BD","#01579B"],["#E0F2F1","#B2DFDB","#80CBC4","#4DB6AC","#26A69A","#009688","#00897B","#00796B","#00695C","#004D40"],["#F1F8E9","#DCEDC8","#C5E1A5","#AED581","#9CCC65","#8BC34A","#7CB342","#689F38","#558B2F","#33691E"],["#FFFDE7","#FFF9C4","#FFF59D","#FFF176","#FFEE58","#FFEB3B","#FDD835","#FBC02D","#F9A825","#F57F17"],["#FFF3E0","#FFE0B2","#FFCC80","#FFB74D","#FFA726","#FF9800","#FB8C00","#F57C00","#EF6C00","#E65100"]],groupedModules:!1,centerModules:!0,sliderLabel:!1,sliderValue:!1,sliderValueEdiable:!1,barLabel:!1,barValue:!1,barValueEdiable:!1,hexLabel:!1,hexValueEditable:!1,redLabelText:"R",greenLabelText:"G",blueLabelText:"B",hueLabelText:"H",saturationLabelText:"S",brightnessLabelText:"B",hexLabelText:"HEX",alphaLabelText:"A",containerEl:null,openIn:"popover",openInPhone:"popup",popupPush:!1,popupSwipeToClose:void 0,sheetPush:!1,sheetSwipeToClose:void 0,formatValue:null,targetEl:null,targetElSetBackgroundColor:!1,inputEl:null,inputReadOnly:!0,closeByOutsideClick:!0,scrollToInput:!0,toolbarSheet:!0,toolbarPopover:!1,toolbarCloseText:"Done",navbarPopup:!0,navbarCloseText:"Done",navbarTitleText:"Color",navbarBackLinkText:"Back",cssClass:null,routableModals:!1,view:null,url:"color/",backdrop:null,closeByBackdropClick:!0,renderToolbar:null,renderNavbar:null,renderInline:null,renderPopover:null,renderSheet:null,renderPopup:null,render:null}}},ny={open:function(e){var t=this,n=Hp(e).eq(0);if(n.length&&(n.addClass("treeview-item-opened"),n.trigger("treeview:open"),t.emit("treeviewOpen",n[0]),n.hasClass("treeview-load-children")&&!n[0].f7TreeviewChildrenLoaded)){var r={iosPreloaderContent:Su,mdPreloaderContent:ku,auroraPreloaderContent:Tu};n.trigger("treeview:loadchildren",a),t.emit("treeviewLoadChildren",n[0],a),n.find(".treeview-toggle").addClass("treeview-toggle-hidden"),n.find(".treeview-item-root").prepend('<div class="preloader treeview-preloader">'+r[t.theme+"PreloaderContent"]+"</div>")}function a(e){e?(n.removeClass("treeview-item-opened"),n.trigger("treeview:close"),t.emit("treeviewClose",n[0])):n[0].f7TreeviewChildrenLoaded=!0,n.find(".treeview-toggle").removeClass("treeview-toggle-hidden"),n.find(".treeview-preloader").remove()}},close:function(e){var t=Hp(e).eq(0);t.length&&(t.removeClass("treeview-item-opened"),t.trigger("treeview:close"),this.emit("treeviewClose",t[0]))},toggle:function(e){var t=Hp(e).eq(0);if(t.length){var n=t.hasClass("treeview-item-opened");this.treeview[n?"close":"open"](t)}}},ry={name:"treeview",create:function(){Gu(this,{treeview:ny})},clicks:{".treeview-toggle":function(e,t,n){if(!e.parents(".treeview-item-toggle").length){var r=e.parents(".treeview-item").eq(0);r.length&&(n.preventF7Router=!0,this.treeview.toggle(r[0]))}},".treeview-item-toggle":function(e,t,n){var r=e.closest(".treeview-item").eq(0);r.length&&(n.preventF7Router=!0,this.treeview.toggle(r[0]))}}};function ay(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oy(e,t){return oy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},oy(e,t)}var iy={bold:["bold","format_bold","bold"],italic:["italic","format_italic","italic"],underline:["underline","format_underlined","underline"],strikeThrough:["strikethrough","strikethrough_s","strikeThrough"],orderedList:["list_number","format_list_numbered","insertOrderedList"],unorderedList:["list_bullet","format_list_bulleted","insertUnorderedList"],link:["link","link","createLink"],image:["photo","image","insertImage"],paragraph:["paragraph",'<i class="icon"></i>',"formatBlock.P"],h1:['<i class="icon">H<sub>1</sub></i>','<i class="icon">H<sub>1</sub></i>',"formatBlock.H1"],h2:['<i class="icon">H<sub>2</sub></i>','<i class="icon">H<sub>2</sub></i>',"formatBlock.H2"],h3:['<i class="icon">H<sub>3</sub></i>','<i class="icon">H<sub>3</sub></i>',"formatBlock.H3"],alignLeft:["text_alignleft","format_align_left","justifyLeft"],alignCenter:["text_aligncenter","format_align_center","justifyCenter"],alignRight:["text_alignright","format_align_right","justifyRight"],alignJustify:["text_justify","format_align_justify","justifyFull"],subscript:["textformat_subscript",'<i class="icon">A<sub>1</sub></i>',"subscript"],superscript:["textformat_superscript",'<i class="icon">A<sup>1</sup></i>',"superscript"],indent:["increase_indent","format_indent_increase","indent"],outdent:["decrease_indent","format_indent_decrease","outdent"]},sy=function(e){var t,n;function r(t,n){var r,a=ay(r=e.call(this,n,[t])||this),o=mu(),i=Ku(),s=Fu({},t.params.textEditor);a.useModulesParams(s),a.params=Fu(s,n);var l=a.params.el;if(!l)return a||ay(r);var u=Hp(l);if(0===u.length)return a||ay(r);if(u[0].f7TextEditor)return u[0].f7TextEditor||ay(r);var c=u.children(".text-editor-content");if(c.length||(u.append('<div class="text-editor-content" contenteditable></div>'),c=u.children(".text-editor-content")),Fu(a,{app:t,$el:u,el:u[0],$contentEl:c,contentEl:c[0]}),"value"in n&&(a.value=a.params.value),"keyboard-toolbar"===a.params.mode&&(i.cordova||i.capacitor||i.android||(a.params.mode="popover")),"string"==typeof a.params.buttons)try{a.params.buttons=JSON.parse(a.params.buttons)}catch(e){throw new Error('Framework7: TextEditor: wrong "buttons" parameter format')}return u[0].f7TextEditor=a,a.onButtonClick=a.onButtonClick.bind(a),a.onFocus=a.onFocus.bind(a),a.onBlur=a.onBlur.bind(a),a.onInput=a.onInput.bind(a),a.onPaste=a.onPaste.bind(a),a.onSelectionChange=a.onSelectionChange.bind(a),a.closeKeyboardToolbar=a.closeKeyboardToolbar.bind(a),a.attachEvents=function(){"toolbar"===a.params.mode&&a.$el.find(".text-editor-toolbar").on("click","button",a.onButtonClick),"keyboard-toolbar"===a.params.mode&&(a.$keyboardToolbarEl.on("click","button",a.onButtonClick),a.$el.parents(".page").on("page:beforeout",a.closeKeyboardToolbar)),"popover"===a.params.mode&&a.popover&&a.popover.$el.on("click","button",a.onButtonClick),a.$contentEl.on("paste",a.onPaste),a.$contentEl.on("focus",a.onFocus),a.$contentEl.on("blur",a.onBlur),a.$contentEl.on("input",a.onInput,!0),Hp(o).on("selectionchange",a.onSelectionChange)},a.detachEvents=function(){"toolbar"===a.params.mode&&a.$el.find(".text-editor-toolbar").off("click","button",a.onButtonClick),"keyboard-toolbar"===a.params.mode&&(a.$keyboardToolbarEl.off("click","button",a.onButtonClick),a.$el.parents(".page").off("page:beforeout",a.closeKeyboardToolbar)),"popover"===a.params.mode&&a.popover&&a.popover.$el.off("click","button",a.onButtonClick),a.$contentEl.off("paste",a.onPaste),a.$contentEl.off("focus",a.onFocus),a.$contentEl.off("blur",a.onBlur),a.$contentEl.off("input",a.onInput,!0),Hp(o).off("selectionchange",a.onSelectionChange)},a.useModules(),a.init(),a||ay(r)}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,oy(t,n);var a=r.prototype;return a.setValue=function(e){var t=this;return t.value===e||(t.value=e,t.$contentEl.html(e),t.$el.trigger("texteditor:change",t.value),t.emit("local::change textEditorChange",t,t.value)),t},a.getValue=function(){return this.value},a.clearValue=function(){var e=this;return e.setValue(""),e.params.placeholder&&!e.$contentEl.html()&&e.insertPlaceholder(),e},a.createLink=function(){var e,t=this,n=bu(),r=mu(),a=n.getSelection(),o=[];if(a&&a.anchorNode&&Hp(a.anchorNode).parents(t.$el).length){for(var i=a.anchorNode;i;)o.push(i),i.nextSibling&&i!==a.focusNode||(i=null),i&&(i=i.nextSibling);for(var s=[],l=Hp(o),u=0;u<l.length;u+=1){var c=l[u].children;if(c)for(var p=0;p<c.length;p+=1)Hp(c[p]).is("a")&&s.push(c[p])}e=l.closest("a").add(Hp(s))}if(e&&e.length)return e.each((function(e){var t=n.getSelection(),a=r.createRange();a.selectNodeContents(e),t.removeAllRanges(),t.addRange(a),r.execCommand("unlink",!1),t.removeAllRanges()})),t;var d=t.getSelectionRange();return d?(t.app.dialog.prompt(t.params.linkUrlText,"",(function(e){e&&e.trim().length&&(t.setSelectionRange(d),r.execCommand("createLink",!1,e.trim()),t.$el.trigger("texteditor:insertlink",{url:e.trim()}),t.emit("local:insertLink textEditorInsertLink",t,e.trim()))})).$el.find("input").focus(),t):t},a.insertImage=function(){var e=this,t=mu(),n=e.getSelectionRange();return n?(e.app.dialog.prompt(e.params.imageUrlText,"",(function(r){r&&r.trim().length&&(e.setSelectionRange(n),t.execCommand("insertImage",!1,r.trim()),e.$el.trigger("texteditor:insertimage",{url:r.trim()}),e.emit("local:insertImage textEditorInsertImage",e,r.trim()))})).$el.find("input").focus(),e):e},a.removePlaceholder=function(){this.$contentEl.find(".text-editor-placeholder").remove()},a.insertPlaceholder=function(){this.$contentEl.append('<div class="text-editor-placeholder">'+this.params.placeholder+"</div>")},a.onSelectionChange=function(){var e=this,t=bu(),n=mu();if("toolbar"!==e.params.mode){var r=t.getSelection(),a=Hp(r.anchorNode).parents(e.contentEl).length||r.anchorNode===e.contentEl;if("keyboard-toolbar"!==e.params.mode){if("popover"===e.params.mode){var o=Hp(r.anchorNode).parents(e.popover.el).length||r.anchorNode===e.popover.el;if(!a&&!o)return void e.closePopover();if(!r.isCollapsed&&r.rangeCount){var i=r.getRangeAt(0).getBoundingClientRect(),s=e.app.$el[0]||n.body;e.openPopover(i.x+(t.scrollX||0)-s.offsetLeft,i.y+(t.scrollY||0)-s.offsetTop,i.width,i.height)}else r.isCollapsed&&e.closePopover()}}else a?e.openKeyboardToolbar():e.closeKeyboardToolbar()}},a.onPaste=function(e){var t=mu();if(this.params.clearFormattingOnPaste&&e.clipboardData&&e.clipboardData.getData){var n=e.clipboardData.getData("text/plain");e.preventDefault(),t.execCommand("insertText",!1,n)}},a.onInput=function(){var e=this,t=e.$contentEl.html();e.value=t,e.$el.trigger("texteditor:input"),e.emit("local:input textEditorInput",e,e.value),e.$el.trigger("texteditor:change",e.value),e.emit("local::change textEditorChange",e,e.value)},a.onFocus=function(){var e=this;e.removePlaceholder(),e.$contentEl.focus(),e.$el.trigger("texteditor:focus"),e.emit("local::focus textEditorFocus",e)},a.onBlur=function(){var e=this,t=bu(),n=mu();if(e.params.placeholder&&""===e.$contentEl.html()&&e.insertPlaceholder(),"popover"===e.params.mode){var r=t.getSelection(),a=Hp(r.anchorNode).parents(e.contentEl).length||r.anchorNode===e.contentEl;n.activeElement&&e.popover&&Hp(n.activeElement).closest(e.popover.$el).length||a||e.closePopover()}if("keyboard-toolbar"===e.params.mode){var o=t.getSelection();Hp(o.anchorNode).parents(e.contentEl).length||o.anchorNode===e.contentEl||e.closeKeyboardToolbar()}e.$el.trigger("texteditor:blur"),e.emit("local::blur textEditorBlur",e)},a.onButtonClick=function(e){var t=this,n=bu(),r=mu(),a=n.getSelection();if(Hp(a.anchorNode).parents(t.contentEl).length||a.anchorNode===t.contentEl){var o=Hp(e.target).closest("button");o.parents("form").length&&e.preventDefault();var i=o.attr("data-button"),s=t.params.customButtons&&t.params.customButtons[i];if(i&&(iy[i]||s))if(o.trigger("texteditor:buttonclick",i),t.emit("local::buttonClick textEditorButtonClick",t,i),s)s.onClick&&s.onClick(t,o[0]);else{var l=iy[i][2];if("createLink"!==l)if("insertImage"!==l)if(0!==l.indexOf("formatBlock"))r.execCommand(l,!1);else{var u=l.split(".")[1],c=Hp(a.anchorNode);c.parents(u.toLowerCase()).length||c.is(u)?r.execCommand("formatBlock",!1,"div"):r.execCommand("formatBlock",!1,u)}else t.insertImage();else t.createLink()}}},a.getSelectionRange=function(){var e=bu(),t=mu();if(e.getSelection){var n=e.getSelection();if(n.getRangeAt&&n.rangeCount)return n.getRangeAt(0)}else if(t.selection&&t.selection.createRange)return t.selection.createRange();return null},a.setSelectionRange=function(e){var t=bu(),n=mu();if(e)if(t.getSelection){var r=t.getSelection();r.removeAllRanges(),r.addRange(e)}else n.selection&&e.select&&e.select()},a.renderButtons=function(){var e=this,t="";function n(t){var n="md"===e.app.theme?"material-icons":"f7-icons";if(e.params.customButtons&&e.params.customButtons[t])return'<button type="button" class="text-editor-button" data-button="'+t+'">'+(e.params.customButtons[t].content||"")+"</button>";if(!iy[t])return"";var r=iy[t]["md"===e.app.theme?1:0];return('<button type="button" class="text-editor-button" data-button="'+t+'">'+(r.indexOf("<")>=0?r:'<i class="'+n+'">'+r+"</i>")+"</button>").trim()}return e.params.buttons.forEach((function(r,a){Array.isArray(r)?(r.forEach((function(e){t+=n(e)})),a<e.params.buttons.length-1&&e.params.dividers&&(t+='<div class="text-editor-button-divider"></div>')):t+=n(r)})),t},a.createToolbar=function(){this.$el.prepend('<div class="text-editor-toolbar">'+this.renderButtons()+"</div>")},a.createKeyboardToolbar=function(){this.$keyboardToolbarEl=Hp('<div class="toolbar toolbar-bottom text-editor-keyboard-toolbar"><div class="toolbar-inner">'+this.renderButtons()+"</div></div>")},a.createPopover=function(){var e=this;e.popover=e.app.popover.create({content:'\n        <div class="popover theme-dark text-editor-popover">\n          <div class="popover-inner">'+e.renderButtons()+"</div>\n        </div>\n      ",closeByOutsideClick:!1,backdrop:!1})},a.openKeyboardToolbar=function(){var e=this;e.$keyboardToolbarEl.parent(e.app.$el).length||(e.$el.trigger("texteditor:keyboardopen"),e.emit("local::keyboardOpen textEditorKeyboardOpen",e),e.app.$el.append(e.$keyboardToolbarEl))},a.closeKeyboardToolbar=function(){var e=this;e.$keyboardToolbarEl.remove(),e.$el.trigger("texteditor:keyboardclose"),e.emit("local::keyboardClose textEditorKeyboardClose",e)},a.openPopover=function(e,t,n,r){var a=this;a.popover&&(Object.assign(a.popover.params,{targetX:e,targetY:t,targetWidth:n,targetHeight:r}),clearTimeout(a.popoverTimeout),a.popoverTimeout=setTimeout((function(){a.popover&&(a.popover.opened?a.popover.resize():(a.$el.trigger("texteditor:popoveropen"),a.emit("local::popoverOpen textEditorPopoverOpen",a),a.popover.open()))}),400))},a.closePopover=function(){var e=this;clearTimeout(e.popoverTimeout),e.popover&&e.popover.opened&&(e.popoverTimeout=setTimeout((function(){e.popover&&(e.$el.trigger("texteditor:popoverclose"),e.emit("local::popoverClose textEditorPopoverClose",e),e.popover.close())}),400))},a.init=function(){var e=this;return e.value?e.$contentEl.html(e.value):e.value=e.$contentEl.html(),e.params.placeholder&&""===e.value&&e.insertPlaceholder(),"toolbar"===e.params.mode?e.createToolbar():"popover"===e.params.mode?e.createPopover():"keyboard-toolbar"===e.params.mode&&e.createKeyboardToolbar(),e.attachEvents(),e.$el.trigger("texteditor:init"),e.emit("local::init textEditorInit",e),e},a.destroy=function(){var e=this;e.$el.trigger("texteditor:beforedestroy"),e.emit("local::beforeDestroy textEditorBeforeDestroy",e),e.detachEvents(),"keyboard-toolbar"===e.params.mode&&e.$keyboardToolbarEl&&e.$keyboardToolbarEl.remove(),e.popover&&(e.popover.close(!1),e.popover.destroy()),delete e.$el[0].f7TextEditor,Iu(e),e=null},r}(nc),ly=sy,uy={name:"textEditor",params:{textEditor:{el:null,mode:"toolbar",value:void 0,customButtons:null,buttons:[["bold","italic","underline","strikeThrough"],["orderedList","unorderedList"],["link","image"],["paragraph","h1","h2","h3"],["alignLeft","alignCenter","alignRight","alignJustify"],["subscript","superscript"],["indent","outdent"]],dividers:!0,imageUrlText:"Insert image URL",linkUrlText:"Insert link URL",placeholder:null,clearFormattingOnPaste:!0}},create:function(){this.textEditor=Fu(qp({defaultSelector:".text-editor",constructor:ly,app:this,domProp:"f7TextEditor"}))},static:{TextEditor:ly},on:{tabMounted:function(e){var t=this;Hp(e).find(".text-editor-init").each((function(e){var n=Hp(e).dataset();t.textEditor.create(Fu({el:e},n||{}))}))},tabBeforeRemove:function(e){Hp(e).find(".text-editor-init").each((function(e){e.f7TextEditor&&e.f7TextEditor.destroy()}))},pageInit:function(e){var t=this;e.$el.find(".text-editor-init").each((function(e){var n=Hp(e).dataset();t.textEditor.create(Fu({el:e},n||{}))}))},pageBeforeRemove:function(e){e.$el.find(".text-editor-init").each((function(e){e.f7TextEditor&&e.f7TextEditor.destroy()}))}},vnode:{"text-editor-init":{insert:function(e){var t=e.elm,n=Hp(t).dataset();this.textEditor.create(Fu({el:t},n||{}))},destroy:function(e){var t=e.elm;t.f7TextEditor&&t.f7TextEditor.destroy()}}}};td.use([nd,rd,ad,od,md,gd,Gd,Vd,Xd,Kd,Zd,nf,rf,of,lf,uf,ff,kf,{name:"appbar"},_f,Bf,Vf,qf,Jf,nh,sh,uh,ph,fh,vh,gh,{name:"contactsList"},Ch,Oh,{name:"timeline"},Nh,Bh,zh,{name:"chip"},Wh,qh,{name:"checkbox"},{name:"radio"},Jh,nv,sv,fv,gv,Ev,Av,Rv,Lv,Fv,Wv,Gv,am,cm,vm,fb,bb,Eb,Nb,Pb,{name:"skeleton"},Bb,ty,ry,uy,{name:"elevation"},{name:"typography"}]);var cy=td;td.use([nd,rd,ad,od,md,gd,Gd,Vd,Xd,Kd,Zd,nf,rf,of,lf,uf,ff,kf]);var py=td;function dy(e){var t={};return Object.keys(e).forEach((function(n){void 0!==e[n]&&(t[n]=e[n])})),t}function fy(e){return"string"==typeof e&&""!==e}function hy(e){return"object"==typeof e&&null!==e&&e.constructor&&e.constructor===Object}function vy(){return Date.now()}function my(){for(var e,t,n=!0,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];"boolean"==typeof a[0]?(n=a[0],e=a[1],a.splice(0,2),t=a):(e=a[0],a.splice(0,1),t=a);for(var i=0;i<t.length;i+=1){var s=a[i];if(null!=s)for(var l=Object.keys(Object(s)),u=0,c=l.length;u<c;u+=1){var p=l[u],d=Object.getOwnPropertyDescriptor(s,p);void 0!==d&&d.enumerable&&(n?hy(e[p])&&hy(s[p])?my(e[p],s[p]):!hy(e[p])&&hy(s[p])?(e[p]={},my(e[p],s[p])):e[p]=s[p]:e[p]=s[p])}}return e}function gy(){for(var e=[],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach((function(t){"object"==typeof t&&t.constructor===Object?Object.keys(t).forEach((function(n){t[n]&&e.push(n)})):t&&e.push(t)}));var a=[];return e.forEach((function(e){a.indexOf(e)<0&&a.push(e)})),a.join(" ")}var by,yy,wy=0,xy=0;function Cy(){return wy+=1,vy()+"_"+wy}function Ey(){return xy+=1,vy()+"_"+xy}var ky={},Sy={views:[],tabs:[],modals:null},Ty=function(){by&&(ky.ios="ios"===by.theme,ky.md="md"===by.theme,ky.aurora="aurora"===by.theme)},Oy=function(){wy=0,xy=0,delete ky.ios,delete ky.md,delete ky.aurora,Sy.views=[],Sy.tabs=[],Sy.modals=null},Iy=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n=!0);var r=my({},t,{el:e,init:n});if(void 0!==t.store&&(r.store=t.store),r.routes||(r.routes=[]),r.userAgent&&("auto"===r.theme||!r.theme)){var a=py.getDevice({userAgent:r.userAgent},!0);ky.ios=!!a.ios,ky.aurora=a.desktop&&a.electron,ky.md=!ky.ios&&!ky.aurora}if(!by||"undefined"==typeof window){"undefined"==typeof window&&Oy();var o=new py(r);by=o,Ty(),o.initialized?(by=o,yy.emit("ready",by)):o.on("init",(function(){by=o,yy.emit("ready",by)}))}},Ny=function(e){e&&(by&&by.initialized?e(by):yy.once("ready",e))},Ay=function(e){for(var t=[],n=0;n<e.children.length;n+=1)t.push(e.children[n]);return t},_y={proto:{pageComponentLoader:function(e){var t,n=e.routerEl,r=e.component,a=e.options,o=e.resolve,i=e.reject,s=this.id,l=n;if(Sy.views.forEach((function(e){(e.el&&e.el===n||e.routerId&&e.routerId===s)&&(t=e)})),t){var u,c={component:r,id:Ey(),props:my({f7route:a.route,f7router:this},a.route.params,a.props||{})},p=Ay(l);yy.on("viewRouterDidUpdate",(function e(n){if(n===t&&!u){var r=Ay(l);if(!function(e,t){return e.length===t.length&&new Set([].concat(e,t)).size===e.length}(p,r)){yy.off("viewRouterDidUpdate",e);var a=l.children[l.children.length-1];c.el=a,o(a),u=!0}}})),t.pages.push(c),t.setPages(t.pages)}else i()},removePage:function(e){if(e){var t,n=this;if((t="length"in e&&e[0]?e[0].f7Page:e.f7Page)&&t.route&&t.route.route&&t.route.route.keepAlive)n.app.$(e).remove();else{var r,a,o;if(Sy.views.forEach((function(e){e.el&&e.el===n.el&&(r=e)})),"length"in e){if(0===e.length)return;a=e[0]}else a=e;if(a)r.pages.forEach((function(e,t){e.el===a&&(o=!0,r.pages.splice(t,1),r.setPages(r.pages))})),o||a.parentNode.removeChild(a)}}},tabComponentLoader:function(e){var t,n=void 0===e?{}:e,r=n.tabEl,a=n.component,o=n.options,i=n.resolve,s=n.reject;if(r||s(),Sy.tabs.forEach((function(e){e.el&&e.el===r&&(t=e)})),t){var l,u={id:Ey(),component:a,props:my({f7route:o.route,f7router:this},o.route.route&&o.route.route.tab&&o.route.route.tab.options&&o.route.route.tab.options.props||{},o.route.params,o.props||{})};yy.on("tabRouterDidUpdate",(function e(n){if(n===t&&!l){yy.off("tabRouterDidUpdate",e);var a=r.children[0];i(a),l=!0}})),t.setTabContent(u)}else s()},removeTabContent:function(e){var t;e&&(Sy.tabs.forEach((function(n){n.el&&n.el===e&&(t=n)})),t?t.setTabContent(null):e.innerHTML="")},modalComponentLoader:function(e){var t=void 0===e?{}:e,n=t.component,r=t.options,a=t.resolve,o=t.reject,i=Sy.modals;if(i){var s,l={component:n,id:Ey(),props:my({f7route:r.route,f7router:this},r.route.params,r.props||{})};yy.on("modalsRouterDidUpdate",(function e(){if(!s){yy.off("modalsRouterDidUpdate",e);var t=i.el.children[i.el.children.length-1];l.el=t,a(t),s=!0}})),i.modals.push(l),i.setModals(i.modals)}else o()},removeModal:function(e){var t,n=Sy.modals;n&&(n.modals.forEach((function(n){n.el===e&&(t=n)})),n.modals.splice(n.modals.indexOf(t),1),n.setModals(n.modals))}}},Ry={name:"vuePlugin",installed:!1,install:function(e){if(void 0===e&&(e={}),!Ry.installed){Ry.installed=!0,yy=new py.Events;var t=e,n=t.theme,r=t.userAgent;if("md"===n&&(ky.md=!0),"ios"===n&&(ky.ios=!0),"aurora"===n&&(ky.aurora=!0),("undefined"!=typeof window||!!r)&&(!n||"auto"===n)){var a=py.getDevice({userAgent:r},!0);ky.ios=!!a.ios,ky.aurora=a.desktop&&a.electron,ky.md=!ky.ios&&!ky.aurora}Ny((function(){Ty()})),py.Router.use(_y)}}},My=Ry;function Py(e){var t,n=e.color,r=e.colorTheme,a=e.textColor,o=e.bgColor,i=e.borderColor,s=e.rippleColor;return(t={"theme-dark":e.themeDark})["color-"+n]=n,t["color-theme-"+r]=r,t["text-color-"+a]=a,t["bg-color-"+o]=o,t["border-color-"+i]=i,t["ripple-color-"+s]=s,t}var Dy={color:String,colorTheme:String,textColor:String,bgColor:String,borderColor:String,rippleColor:String,themeDark:Boolean},By={icon:String,iconMaterial:String,iconF7:String,iconIos:String,iconMd:String,iconAurora:String,iconColor:String,iconSize:[String,Number],iconBadge:[String,Number],iconBadgeColor:String},Ly={back:Boolean,external:Boolean,force:Boolean,animate:{type:Boolean,default:void 0},ignoreCache:Boolean,reloadCurrent:Boolean,reloadAll:Boolean,reloadPrevious:Boolean,reloadDetail:{type:Boolean,default:void 0},routeTabId:String,view:String,routeProps:Object,preventRouter:Boolean,transition:String,openIn:String};function zy(e){var t,n,r=e.force,a=e.reloadCurrent,o=e.reloadPrevious,i=e.reloadAll,s=e.reloadDetail,l=e.animate,u=e.ignoreCache,c=e.routeTabId,p=e.view,d=e.transition,f=e.openIn;return"animate"in e&&void 0!==l&&(t=l.toString()),"reloadDetail"in e&&void 0!==s&&(n=s.toString()),{"data-force":r||void 0,"data-reload-current":a||void 0,"data-reload-all":i||void 0,"data-reload-previous":o||void 0,"data-reload-detail":n,"data-animate":t,"data-ignore-cache":u||void 0,"data-route-tab-id":c||void 0,"data-view":fy(p)?p:void 0,"data-transition":fy(d)?d:void 0,"data-open-in":fy(f)?f:void 0}}function Fy(e){var t=e.back,n=e.linkBack;return{back:t||n,external:e.external,"prevent-router":e.preventRouter}}var $y={searchbarEnable:[Boolean,String],searchbarDisable:[Boolean,String],searchbarClear:[Boolean,String],searchbarToggle:[Boolean,String],panelOpen:[Boolean,String],panelClose:[Boolean,String],panelToggle:[Boolean,String],popupOpen:[Boolean,String],popupClose:[Boolean,String],actionsOpen:[Boolean,String],actionsClose:[Boolean,String],popoverOpen:[Boolean,String],popoverClose:[Boolean,String],loginScreenOpen:[Boolean,String],loginScreenClose:[Boolean,String],sheetOpen:[Boolean,String],sheetClose:[Boolean,String],sortableEnable:[Boolean,String],sortableDisable:[Boolean,String],sortableToggle:[Boolean,String],cardOpen:[Boolean,String],cardPreventOpen:[Boolean,String],cardClose:[Boolean,String],menuClose:{type:[Boolean,String],default:void 0}};function Vy(e){var t=e.searchbarEnable,n=e.searchbarDisable,r=e.searchbarClear,a=e.searchbarToggle,o=e.panelOpen,i=e.panelClose,s=e.panelToggle,l=e.popupOpen,u=e.popupClose,c=e.actionsOpen,p=e.actionsClose,d=e.popoverOpen,f=e.popoverClose,h=e.loginScreenOpen,v=e.loginScreenClose,m=e.sheetOpen,g=e.sheetClose,b=e.sortableEnable,y=e.sortableDisable,w=e.sortableToggle,x=e.cardOpen,C=e.cardClose;return{"data-searchbar":fy(t)&&t||fy(n)&&n||fy(r)&&r||fy(a)&&a||void 0,"data-panel":fy(o)&&o||fy(i)&&i||fy(s)&&s||void 0,"data-popup":fy(l)&&l||fy(u)&&u||void 0,"data-actions":fy(c)&&c||fy(p)&&p||void 0,"data-popover":fy(d)&&d||fy(f)&&f||void 0,"data-sheet":fy(m)&&m||fy(g)&&g||void 0,"data-login-screen":fy(h)&&h||fy(v)&&v||void 0,"data-sortable":fy(b)&&b||fy(y)&&y||fy(w)&&w||void 0,"data-card":fy(x)&&x||fy(C)&&C||void 0}}function jy(e){var t=e.searchbarEnable,n=e.searchbarDisable,r=e.searchbarClear,a=e.searchbarToggle,o=e.panelOpen,i=e.panelClose,s=e.panelToggle,l=e.popupOpen,u=e.popupClose,c=e.actionsClose,p=e.actionsOpen,d=e.popoverOpen,f=e.popoverClose,h=e.loginScreenOpen,v=e.loginScreenClose,m=e.sheetOpen,g=e.sheetClose,b=e.sortableEnable,y=e.sortableDisable,w=e.sortableToggle,x=e.cardOpen,C=e.cardPreventOpen,E=e.cardClose,k=e.menuClose;return{"searchbar-enable":t||""===t,"searchbar-disable":n||""===n,"searchbar-clear":r||""===r,"searchbar-toggle":a||""===a,"panel-close":i||""===i,"panel-open":o||""===o,"panel-toggle":s||""===s,"popup-close":u||""===u,"popup-open":l||""===l,"actions-close":c||""===c,"actions-open":p||""===p,"popover-close":f||""===f,"popover-open":d||""===d,"sheet-close":g||""===g,"sheet-open":m||""===m,"login-screen-close":v||""===v,"login-screen-open":h||""===h,"sortable-enable":b||""===b,"sortable-disable":y||""===y,"sortable-toggle":w||""===w,"card-close":E||""===E,"card-open":x||""===x,"card-prevent-open":C||""===C,"menu-close":k||""===k}}function Hy(){return Hy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hy.apply(this,arguments)}var Wy={name:"f7-accordion-content",render:function(e,t){return da(),ba("div",{class:e.classes},[vr(e.$slots,"default")],2)},props:Hy({},Dy),setup:function(e){return{classes:ao((function(){return gy("accordion-item-content",Py(e))}))}}};function Uy(){return Uy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uy.apply(this,arguments)}var qy={name:"f7-accordion-item",render:function(e,t){return da(),ba("div",{ref:"elRef",class:e.classes},[vr(e.$slots,"default")],2)},props:Uy({opened:Boolean},Dy),emits:["accordion:beforeopen","accordion:open","accordion:opened","accordion:beforeclose","accordion:close","accordion:closed"],setup:function(e,t){var n=t.emit,r=Et(null),a=function(e,t){r.value===e&&n("accordion:beforeopen",t)},o=function(e){r.value===e&&n("accordion:open")},i=function(e){r.value===e&&n("accordion:opened")},s=function(e,t){r.value===e&&n("accordion:beforeclose",t)},l=function(e){r.value===e&&n("accordion:close")},u=function(e){r.value===e&&n("accordion:closed")};Zn((function(){Ny((function(){by.on("accordionBeforeOpen",a),by.on("accordionOpen",o),by.on("accordionOpened",i),by.on("accordionBeforeClose",s),by.on("accordionClose",l),by.on("accordionClosed",u)}))})),nr((function(){return by.off("accordionBeforeOpen",a),by.off("accordionOpen",o),by.off("accordionOpened",i),by.off("accordionBeforeClose",s),by.off("accordionClose",l),void by.off("accordionClosed",u)}));var c=ao((function(){return gy("accordion-item",{"accordion-item-opened":e.opened},Py(e))}));return{elRef:r,classes:c}}};function Gy(){return Gy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gy.apply(this,arguments)}var Xy={name:"f7-accordion-toggle",render:function(e,t){return da(),ba("div",{class:e.classes},[vr(e.$slots,"default")],2)},props:Gy({},Dy),setup:function(e){return{classes:ao((function(){return gy("accordion-item-toggle",Py(e))}))}}};function Yy(){return Yy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yy.apply(this,arguments)}var Ky={name:"f7-accordion",render:function(e,t){return da(),ba("div",{class:e.classes},[vr(e.$slots,"default")],2)},props:Yy({accordionOpposite:Boolean},Dy),setup:function(e){return{classes:ao((function(){return gy("accordion-list",e.accordionOpposite&&"accordion-opposite",Py(e))}))}}};function Jy(){return Jy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jy.apply(this,arguments)}var Qy={key:0,class:"actions-button-media"},Zy={class:"actions-button-text"};var ew={name:"f7-actions-button",render:function(e,t){return da(),ba("div",{ref:"elRef",class:e.classes,onClick:t[1]||(t[1]=function(){return e.onClick&&e.onClick.apply(e,arguments)})},[e.hasMedia?(da(),ba("div",Qy,[vr(e.$slots,"media")])):_a("",!0),Sa("div",Zy,[vr(e.$slots,"default")])],2)},props:Jy({bold:Boolean,close:{type:Boolean,default:!0}},Dy),emits:["click"],setup:function(e,t){var n=t.slots,r=t.emit,a=Et(null),o=ao((function(){return n&&!!n.media}));return{classes:ao((function(){return gy({"actions-button":!0,"actions-button-bold":e.bold},Py(e))})),elRef:a,hasMedia:o,onClick:function(t){a.value&&e.close&&by&&by.actions.close(by.$(a.value).parents(".actions-modal")),r("click",t)}}}};function tw(){return tw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tw.apply(this,arguments)}var rw={name:"f7-actions-group",render:function(e,t){return da(),ba("div",{class:e.classes},[vr(e.$slots,"default")],2)},props:tw({},Dy),setup:function(e){return{classes:ao((function(){return gy("actions-group",Py(e))}))}}};function aw(){return aw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aw.apply(this,arguments)}var ow={name:"f7-actions-label",render:function(e,t){return da(),ba("div",{class:e.classes,onClick:t[1]||(t[1]=function(){return e.onClick&&e.onClick.apply(e,arguments)})},[vr(e.$slots,"default")],2)},props:aw({bold:Boolean},Dy),emits:["click"],setup:function(e,t){var n=t.emit;return{classes:ao((function(){return gy("actions-label",{"actions-button-bold":e.bold},Py(e))})),onClick:function(e){n("click",e)}}}},iw=function(e){var t=void 0===e?{}:e,n=t.isOpened,r=t.isClosing;return{"modal-in":n&&!r,"modal-out":r}};function sw(){return sw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sw.apply(this,arguments)}var lw={name:"f7-actions",render:function(e,t){return da(),ba("div",{ref:"elRef",class:e.classes},[vr(e.$slots,"default")],2)},props:sw({tabletFullscreen:Boolean,opened:Boolean,animate:{type:Boolean,default:void 0},grid:Boolean,target:{type:[String,Object],default:void 0},convertToPopover:{type:Boolean,default:void 0},forceToPopover:{type:Boolean,default:void 0},backdrop:{type:Boolean,default:void 0},backdropEl:{type:[String,Object],default:void 0},closeByBackdropClick:{type:Boolean,default:void 0},closeByOutsideClick:{type:Boolean,default:void 0},closeOnEscape:{type:Boolean,default:void 0},containerEl:{type:[String,Object],default:void 0}},Dy),emits:["actions:open","actions:opened","actions:close","actions:closed","update:opened"],setup:function(e,t){var n=t.emit,r=null,a=e.opened,o=!1,i=Et(null),s=function(e){a=!0,o=!1,n("actions:open",e),n("update:opened",!0)},l=function(e){n("actions:opened",e)},u=function(e){a=!1,o=!0,n("actions:close",e)},c=function(e){o=!1,n("actions:closed",e),n("update:opened",!1)};En((function(){return e.opened}),(function(e){r&&(e?r.open():r.close())})),Zn((function(){if(i.value){var t=e.target,n=e.convertToPopover,a=e.forceToPopover,o=e.closeByBackdropClick,p=e.closeByOutsideClick,d=e.closeOnEscape,f=e.backdrop,h=e.backdropEl,v=e.grid,m=e.containerEl,g={el:i.value,grid:v,on:{open:s,opened:l,close:u,closed:c}};void 0!==t&&(g.target=t),void 0!==n&&(g.convertToPopover=n),void 0!==a&&(g.forceToPopover=a),void 0!==o&&(g.closeByBackdropClick=o),void 0!==p&&(g.closeByOutsideClick=p),void 0!==d&&(g.closeOnEscape=d),void 0!==f&&(g.backdrop=f),void 0!==h&&(g.backdropEl=h),void 0!==m&&(g.containerEl=m),Ny((function(){r=by.popup.create(g),e.opened&&r.open(!1)}))}})),nr((function(){r&&r.destroy(),r=null}));var p=ao((function(){return gy("actions-modal",{"actions-grid":e.grid},iw({isOpened:a,isClosing:o}),Py(e))}));return{elRef:i,classes:p}}};function uw(){return uw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uw.apply(this,arguments)}var cw={name:"f7-routable-modals",setup:function(){var e=Et(null),t=Et([]),n=Et(null);Zn((function(){n.value={modals:t,el:e.value,setModals:function(e){e.forEach((function(e){e.component=mt(e.component)})),t.value=[].concat(e)}},Sy.modals=n.value})),tr((function(){n.value&&by&&yy.emit("modalsRouterDidUpdate",n.value)})),nr((function(){n.value&&(Sy.modals=null,n.value=null)}));return function(){return oo("div",{ref:e,class:"framework7-modals"},[].concat(t.value.map((function(e){return oo(function(e){return mt(e.component)}(e),uw({key:e.id},function(e){var t=e.component,n=e.props,r=[],a={};return t&&t.props&&(r=Object.keys(t.props)),r.forEach((function(e){e in n&&(a[e]=n[e])})),a}(e)))}))))}}};function pw(){return pw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pw.apply(this,arguments)}var dw={name:"f7-app",render:function(e,t){var n=ur("routable-modals");return da(),ba("div",{id:"framework7-root",ref:"elRef",class:e.classes},[vr(e.$slots,"default"),Sa(n)],2)},components:{RoutableModals:cw},inheritAttrs:!1,props:pw({id:{type:String,default:void 0},name:{type:String,default:void 0},version:{type:String,default:void 0},theme:{type:String,default:void 0},language:{type:String,default:void 0},routes:{type:Array,default:function(){return[]}},store:Object,autoDarkTheme:{type:Boolean,default:void 0},lazyModulesPath:{type:String,default:void 0},initOnDeviceReady:{type:Boolean,default:void 0},iosTranslucentBars:{type:Boolean,default:void 0},iosTranslucentModals:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},accordion:{type:Object,default:function(){}},actions:{type:Object,default:function(){}},areaChart:{type:Object,default:function(){}},autocomplete:{type:Object,default:function(){}},calendar:{type:Object,default:function(){}},card:{type:Object,default:function(){}},colorPicker:{type:Object,default:function(){}},dialog:{type:Object,default:function(){}},form:{type:Object,default:function(){}},gauge:{type:Object,default:function(){}},grid:{type:Object,default:function(){}},infiniteScroll:{type:Object,default:function(){}},input:{type:Object,default:function(){}},lazy:{type:Object,default:function(){}},listIndex:{type:Object,default:function(){}},loginScreen:{type:Object,default:function(){}},messagebar:{type:Object,default:function(){}},messages:{type:Object,default:function(){}},navbar:{type:Object,default:function(){}},notification:{type:Object,default:function(){}},panel:{type:Object,default:function(){}},photoBrowser:{type:Object,default:function(){}},picker:{type:Object,default:function(){}},pieChart:{type:Object,default:function(){}},popover:{type:Object,default:function(){}},popup:{type:Object,default:function(){}},range:{type:Object,default:function(){}},searchbar:{type:Object,default:function(){}},sheet:{type:Object,default:function(){}},smartSelect:{type:Object,default:function(){}},sortable:{type:Object,default:function(){}},statusbar:{type:Object,default:function(){}},stepper:{type:Object,default:function(){}},swipeout:{type:Object,default:function(){}},textEditor:{type:Object,default:function(){}},toast:{type:Object,default:function(){}},toolbar:{type:Object,default:function(){}},tooltip:{type:Object,default:function(){}},view:{type:Object,default:function(){}},virtualList:{type:Object,default:function(){}},clicks:{type:Object,default:function(){}},serviceWorker:{type:Object,default:function(){}},touch:{type:Object,default:function(){}}},Dy),setup:function(e){var t=Et(null),n=mt(e.routes);return by&&"undefined"!=typeof window||Iy(t.value,dy(pw({},e,{routes:n})),!1),Zn((function(){var r=t.value&&t.value.parentNode;"undefined"!=typeof document&&r&&r!==document.body&&r.parentNode===document.body&&(r.style.height="100%"),by?by.init(t.value):Iy(t.value,dy(pw({},e,{routes:n})),!0)})),{classes:ao((function(){return gy("framework7-root",Py(e))})),elRef:t}}};function fw(){return fw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fw.apply(this,arguments)}var hw={name:"f7-appbar",render:function(e,t){return da(),ba("div",{class:e.classes},[vr(e.$slots,"before-inner"),e.inner?(da(),ba("div",{key:0,class:e.innerClasses},[vr(e.$slots,"default")],2)):vr(e.$slots,"default",{key:1}),vr(e.$slots,"after-inner")],2)},props:fw({noShadow:Boolean,noHairline:Boolean,inner:{type:Boolean,default:!0},innerClass:String,innerClassName:String},Dy),setup:function(e){return{classes:ao((function(){return gy("appbar",{"no-shadow":e.noShadow,"no-hairline":e.noHairline},Py(e))})),innerClasses:ao((function(){return gy("appbar-inner",e.innerClass,e.innerClassName)}))}}},vw={key:0,class:"area-chart-axis"},mw={key:0},gw={key:1,class:"area-chart-legend"};var bw={name:"f7-area-chart",render:function(e,t){return da(),ba("div",{ref:"elRef",class:e.classes},[(da(),ba("svg",{ref:"svgElRef",xmlns:"http://www.w3.org/2000/svg",width:e.width,height:e.height,viewBox:"0 0 "+e.width+" "+e.height,preserveAspectRatio:"none"},[(da(!0),ba(ia,null,hr(e.chartData,(function(t,n){return da(),ba(pr(e.ChartTag),{key:e.ChartTag+"-"+n,fill:e.lineChart?void 0:t.color,stroke:e.lineChart?t.color:void 0,"fill-rule":"evenodd",points:e.lineChart?void 0:t.points,d:e.lineChart?t.points:void 0},null,8,["fill","stroke","points","d"])})),128)),(da(!0),ba(ia,null,hr(e.verticalLines,(function(t,n){return da(),ba("line",{key:"line-"+n,"data-index":n,fill:"#000",x1:t,y1:0,x2:t,y2:e.height,class:e.classNames({"area-chart-current-line":e.currentIndex===n})},null,10,["data-index","x1","x2","y2"])})),128))],8,["width","height","viewBox"])),e.axis?(da(),ba("div",vw,[(da(!0),ba(ia,null,hr(e.axisLabels,(function(t,n){return da(),ba("span",{key:n},[e.visibleLegends.includes(t)?(da(),ba("span",mw,Z(e.formatAxisLabelMethod(t)),1)):_a("",!0)])})),128))])):_a("",!0),e.legend?(da(),ba("div",gw,[(da(!0),ba(ia,null,hr(e.datasets,(function(t,n){return da(),ba(pr(e.LegendItemTag),{key:n,class:e.classNames("area-chart-legend-item",{"area-chart-legend-item-hidden":e.hiddenDatasets.includes(n),"area-chart-legend-button":e.toggleDatasets}),type:e.toggleDatasets?"button":void 0,onClick:function(t){return e.toggleDataset(n)}},{default:hn((function(){return[Sa("span",{style:{backgroundColor:t.color}},null,4),Na(" "+Z(e.formatLegendLabelMethod(t.label)),1)]})),_:2},1032,["class","type","onClick"])})),128))])):_a("",!0),vr(e.$slots,"default")],2)},props:{lineChart:Boolean,datasets:{type:Array,default:function(){return[]}},axis:Boolean,axisLabels:{type:Array,default:function(){return[]}},tooltip:Boolean,legend:Boolean,toggleDatasets:Boolean,width:{type:Number,default:640},height:{type:Number,default:320},maxAxisLabels:{type:Number,default:8},formatAxisLabel:Function,formatLegendLabel:Function,formatTooltip:Function,formatTooltipAxisLabel:Function,formatTooltipTotal:Function,formatTooltipDataset:Function},emits:["select"],setup:function(e,t){var n=t.emit,r=null,a=Et(null),o=Et([]),i=Et(null),s=Et(null),l=Et(null),u=ao((function(){if(!e.maxAxisLabels||e.axisLabels.length<=e.maxAxisLabels)return e.axisLabels;var t=Math.ceil(e.axisLabels.length/e.maxAxisLabels),n=e.axisLabels.filter((function(e,n){return n%t==0}));return n})),c=ao((function(){var t=[];return e.datasets.filter((function(e,t){return!o.value.includes(t)})).forEach((function(e){e.values.forEach((function(e,n){t[n]||(t[n]=0),t[n]+=e}))})),t})),p=ao((function(){var t=e.datasets,n=e.lineChart,r=e.width,a=e.height,i=[];if(!t.length)return i;var s=t[0].values.map((function(){return 0})),l=0;return n?t.forEach((function(e){var t=e.values,n=Math.max.apply(Math,t);n>l&&(l=n)})):l=Math.max.apply(Math,c.value),t.filter((function(e,t){return!o.value.includes(t)})).forEach((function(e){var t=e.label,o=e.values,u=e.color,c=o.map((function(e,t){s[t]+=e;var i=n?e:s[t],u=t/(o.length-1)*r,c=a-i/l*a;return n?(0===t?"M":"L")+u+","+c:u+" "+c}));n||c.push(r+" "+a+" 0 "+a),i.push({label:t,points:c.join(" "),color:u})})),i.reverse()})),d=ao((function(){var t=[];if(!e.datasets.length)return t;var n=e.datasets[0].values;return n.forEach((function(r,a){var o=a/(n.length-1)*e.width;t.push(o)})),t})),f=function(t){return e.formatAxisLabel?e.formatAxisLabel(t):t},h=function(){var e=s.value.querySelectorAll("line");l.value=[];for(var t=0;t<e.length;t+=1)l.value.push(e[t].getBoundingClientRect().left)},v=function(){var t=a.value;if(null===t)return"";var n=0,r=e.datasets.filter((function(e,t){return!o.value.includes(t)})).map((function(e){return{color:e.color,label:e.label,value:e.values[t]}}));if(r.forEach((function(e){n+=e.value})),e.formatTooltip)return e.formatTooltip({index:t,total:n,datasets:r});var i=e.formatTooltipAxisLabel?e.formatTooltipAxisLabel(e.axisLabels[t]):f(e.axisLabels[t]);i||(i="");var s=e.formatTooltipTotal?e.formatTooltipTotal(n):n,l=r.length>0?'\n      <ul class="area-chart-tooltip-list">\n        '+r.map((function(t){var n=t.label,r=t.color,a=t.value;return'\n              <li><span style="background-color: '+r+';"></span>'+(e.formatTooltipDataset?e.formatTooltipDataset(n,a,r):n+": "+a)+"</li>\n            "})).join("")+"\n      </ul>":"";return'\n      <div class="area-chart-tooltip-label">'+i+'</div>\n      <div class="area-chart-tooltip-total">'+s+"</div>\n      "+l+"\n    "},m=function(){h()},g=function(e){l.value||h();var t=e.pageX;void 0===t&&(t=0);var n=l.value.map((function(e){return Math.abs(t-e)})),r=Math.min.apply(Math,n),o=n.indexOf(r);a.value=o},b=function(){a.value=null};En((function(){return a.value}),(function(){n("select",a.value),function(){var t=e.tooltip,n=e.datasets,l=a.value;if(t){var u=n.filter((function(e,t){return!o.value.includes(t)})).length>0;u?null===l||r?r&&r.hide&&r.show&&(null!==l?(r.setText(v()),r.setTargetEl(s.value.querySelector('line[data-index="'+l+'"]')),r.show()):r.hide()):(r=by.tooltip.create({trigger:"manual",containerEl:i.value,targetEl:s.value.querySelector('line[data-index="'+l+'"]'),text:v(),cssClass:"area-chart-tooltip"}))&&r.show&&r.show():r&&r.hide&&r.hide()}}()})),Zn((function(){s.value&&(s.value.addEventListener("mouseenter",m),s.value.addEventListener("mousemove",g),s.value.addEventListener("mouseleave",b))})),nr((function(){r&&r.destroy&&r.destroy(),r=null,s.value&&(s.value.removeEventListener("mouseenter",m),s.value.removeEventListener("mousemove",g),s.value.removeEventListener("mouseleave",b))}));var y=ao((function(){return gy("area-chart")})),w=ao((function(){return e.toggleDatasets?"button":"span"})),x=ao((function(){return e.lineChart?"path":"polygon"}));return{currentIndex:a,hiddenDatasets:o,visibleLegends:u,chartData:p,verticalLines:d,elRef:i,svgElRef:s,classes:y,toggleDataset:function(t){e.toggleDatasets&&(o.value.includes(t)?o.value.splice(o.value.indexOf(t),1):o.value.push(t),o.value=[].concat(o.value))},formatAxisLabelMethod:f,formatLegendLabelMethod:function(t){return e.formatLegendLabel?e.formatLegendLabel(t):t},LegendItemTag:w,ChartTag:x,classNames:gy}}},yw=function(e,t){var n=null,r=t.tooltip,a=t.tooltipTrigger;Zn((function(){e.value&&r&&Ny((function(){n=by.tooltip.create({targetEl:e.value,text:r,trigger:a})}))})),nr((function(){n&&n.destroy&&(n.destroy(),n=null)})),En((function(){return t.tooltip}),(function(t){if(!t&&n)return n.destroy(),void(n=null);t&&!n&&by?n=by.tooltip.create({targetEl:e.value,text:t,trigger:a}):t&&n&&n.setText(t)}))};function ww(){return ww=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ww.apply(this,arguments)}var xw={name:"f7-badge",render:function(e,t){return da(),ba("span",{ref:"elRef",class:e.classes},[vr(e.$slots,"default")],2)},props:ww({tooltip:String,tooltipTrigger:String},Dy),setup:function(e){var t=Et(null);return yw(t,e),{elRef:t,classes:ao((function(){return gy("badge",Py(e))}))}}};function Cw(){return Cw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cw.apply(this,arguments)}var Ew={name:"f7-block-footer",render:function(e,t){return da(),ba("div",{class:e.classes},[vr(e.$slots,"default")],2)},props:Cw({},Dy),setup:function(e){return{classes:ao((function(){return gy("block-footer",Py(e))}))}}};function kw(){return kw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kw.apply(this,arguments)}var Sw={name:"f7-block-header",render:function(e,t){return da(),ba("div",{class:e.classes},[vr(e.$slots,"default")],2)},props:kw({},Dy),setup:function(e){return{classes:ao((function(){return gy("block-header",Py(e))}))}}};function Tw(){return Tw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tw.apply(this,arguments)}var Ow={name:"f7-block-title",render:function(e,t){return da(),ba("div",{class:e.classes,medium:e.medium},[vr(e.$slots,"default")],10,["medium"])},props:Tw({large:Boolean,medium:Boolean},Dy),setup:function(e){return{classes:ao((function(){return gy("block-title",{"block-title-large":e.large,"block-title-medium":e.medium},Py(e))}))}}},Iw=function(e,t){var n=function(n){e.value===n&&t("tab:show",n)},r=function(n){e.value===n&&t("tab:hide",n)};Zn((function(){e.value&&Ny((function(){by.on("tabShow",n),by.on("tabHide",r)}))})),nr((function(){by&&(by.off("tabShow",n),by.off("tabHide",r))}))};function Nw(){return Nw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nw.apply(this,arguments)}var Aw={name:"f7-block",render:function(e,t){return da(),ba("div",{ref:"elRef",class:e.classes},[vr(e.$slots,"default")],2)},props:Nw({inset:Boolean,xsmallInset:Boolean,smallInset:Boolean,mediumInset:Boolean,largeInset:Boolean,xlargeInset:Boolean,strong:Boolean,tabs:Boolean,tab:Boolean,tabActive:Boolean,accordionList:Boolean,accordionOpposite:Boolean,noHairlines:Boolean,noHairlinesMd:Boolean,noHairlinesIos:Boolean,noHairlinesAurora:Boolean},Dy),emits:["tab:hide","tab:show"],setup:function(e,t){var n=t.emit,r=Et(null);return Iw(r,n),{elRef:r,classes:ao((function(){return gy("block",{inset:e.inset,"xsmall-inset":e.xsmallInset,"small-inset":e.smallInset,"medium-inset":e.mediumInset,"large-inset":e.largeInset,"xlarge-inset":e.xlargeInset,"block-strong":e.strong,"accordion-list":e.accordionList,"accordion-opposite":e.accordionOpposite,tabs:e.tabs,tab:e.tab,"tab-active":e.tabActive,"no-hairlines":e.noHairlines,"no-hairlines-md":e.noHairlinesMd,"no-hairlines-ios":e.noHairlinesIos,"no-hairlines-aurora":e.noHairlinesAurora},Py(e))}))}}},_w=function(e){void 0===e&&(e={});var t=e,n=t.icon,r=t.iconMaterial,a=t.iconF7,o=t.iconMd,i=t.iconIos,s=t.iconAurora,l=t.iconColor,u=t.iconSize,c=t.iconBadge,p=t.badgeColor,d=t.iconBadgeColor;return n||r||a||o||i||s?{props:{material:r,f7:a,icon:n,md:o,ios:i,aurora:s,color:l,size:u},badge:c||0===c?{props:{color:p||d},content:c}:null}:null},Rw=function(e,t){var n=(void 0===t?{}:t).routeProps;Zn((function(){e.value&&n&&(e.value.f7RouteProps=n)})),tr((function(){e.value&&n?e.value.f7RouteProps=n:e.value&&e.value.f7RouteProps&&delete e.value.f7RouteProps}))},Mw=function(){var e=Et(by?ky:null);return by||Ny((function(){e.value=ky})),e};function Pw(){return Pw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pw.apply(this,arguments)}var Dw={key:0,class:"preloader-inner"},Bw=Sa("svg",{viewBox:"0 0 36 36"},[Sa("circle",{cx:"18",cy:"18",r:"16"})],-1),Lw={key:1,class:"preloader-inner"},zw=Aa('<span class="preloader-inner-line"></span><span class="preloader-inner-line"></span><span class="preloader-inner-line"></span><span class="preloader-inner-line"></span><span class="preloader-inner-line"></span><span class="preloader-inner-line"></span><span class="preloader-inner-line"></span><span class="preloader-inner-line"></span>',8),Fw={key:2,class:"preloader-inner"},$w=Sa("span",{class:"preloader-inner-circle"},null,-1),Vw={key:3,class:"preloader-inner"};var jw={name:"f7-preloader",render:function(e,t){return da(),ba("div",{class:e.classes,style:e.style},[e.theme&&e.theme.md?(da(),ba("span",Dw,[Bw])):e.theme&&e.theme.ios?(da(),ba("span",Lw,[zw])):e.theme&&e.theme.aurora?(da(),ba("span",Fw,[$w])):e.theme?_a("",!0):(da(),ba("span",Vw))],6)},props:Pw({size:[Number,String]},Dy),setup:function(e){var t=Mw();return{classes:ao((function(){return gy("preloader",Py(e))})),style:ao((function(){var t={},n=e.size;return n&&"string"==typeof n&&n.indexOf("px")>=0&&(n=n.replace("px","")),n&&(t.width=n+"px",t.height=n+"px",t["--f7-preloader-size"]=n+"px"),t})),theme:t}}};function Hw(){return Hw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hw.apply(this,arguments)}var Ww={name:"f7-icon",render:function(e,t){return da(),ba("i",{ref:"elRef",style:{fontSize:e.sizeComputed,width:e.sizeComputed,height:e.sizeComputed},class:e.classesComputed},[Na(Z(e.iconText)+" ",1),vr(e.$slots,"default")],6)},props:Hw({material:String,f7:String,icon:String,ios:String,aurora:String,md:String,tooltip:String,tooltipTrigger:String,size:[String,Number]},Dy),setup:function(e){var t=Et(null),n=Mw();yw(t,e);var r=ao((function(){var t,r=e.ios,a=e.md,o=e.aurora,i=e.f7,s=e.material,l=e.icon,u={icon:!0};if(n.value&&n.value.ios?t=r:n.value&&n.value.md?t=a:n.value&&n.value.aurora&&(t=o),t){var c=t.split(":"),p=c[0],d=c[1];"material"!==p&&"f7"!==p||(u["material-icons"]="material"===p,u["f7-icons"]="f7"===p),"icon"===p&&(u[d]=!0)}else u={icon:!0,"material-icons":s,"f7-icons":i},l&&(u[l]=!0);return gy(u,Py(e))})),a=ao((function(){var t=e.size;return"number"!=typeof e.size&&parseFloat(e.size)!==1*e.size||(t=e.size+"px"),t}));return{elRef:t,sizeComputed:a,classesComputed:r,iconText:ao((function(){var t=e.ios,r=e.md,a=e.aurora,o=e.f7,i=e.material||o;return r&&n.value&&n.value.md&&(r.indexOf("material:")>=0||r.indexOf("f7:")>=0)?i=r.split(":")[1]:t&&n.value&&n.value.ios&&(t.indexOf("material:")>=0||t.indexOf("f7:")>=0)?i=t.split(":")[1]:a&&n.value&&n.value.aurora&&(a.indexOf("material:")>=0||a.indexOf("f7:")>=0)&&(i=a.split(":")[1]),i}))}}};var Uw={name:"f7-use-icon",render:function(e,t){var n=ur("f7-badge"),r=ur("f7-icon");return da(),ba(r,e.icon.props,{default:hn((function(){return[e.icon.badge?(da(),ba(n,Da({key:0},e.icon.badge.props),{default:hn((function(){return[Na(Z(e.icon.badge.content),1)]})),_:1},16)):_a("",!0)]})),_:1},16)},components:{f7Icon:Ww,f7Badge:xw},props:{icon:Object}};function qw(){return qw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qw.apply(this,arguments)}var Gw={key:1},Xw={key:1};var Yw={name:"f7-button",render:function(e,t){var n=ur("f7-preloader"),r=ur("f7-use-icon");return da(),ba(pr(e.tag),Da({ref:"elRef",class:e.classesComputed},e.attrs),{default:hn((function(){return[e.preloader?(da(),ba(ia,{key:0},[Sa(n,{size:e.preloaderSize,color:e.preloaderColor},null,8,["size","color"]),Sa("span",null,[e.icon?(da(),ba(r,{key:0,icon:e.icon},null,8,["icon"])):_a("",!0),e.text?(da(),ba("span",Gw,Z(e.text),1)):_a("",!0),vr(e.$slots,"default")])],64)):(da(),ba(ia,{key:1},[e.icon?(da(),ba(r,{key:0,icon:e.icon},null,8,["icon"])):_a("",!0),e.text?(da(),ba("span",Xw,Z(e.text),1)):_a("",!0),vr(e.$slots,"default")],64))]})),_:3},16,["class"])},components:{f7Preloader:jw,f7UseIcon:Uw},props:qw({text:String,tabLink:[Boolean,String],tabLinkActive:Boolean,type:String,href:{type:[String,Boolean],default:"#"},target:String,round:Boolean,roundMd:Boolean,roundIos:Boolean,roundAurora:Boolean,fill:Boolean,fillMd:Boolean,fillIos:Boolean,fillAurora:Boolean,large:Boolean,largeMd:Boolean,largeIos:Boolean,largeAurora:Boolean,small:Boolean,smallMd:Boolean,smallIos:Boolean,smallAurora:Boolean,raised:Boolean,raisedMd:Boolean,raisedIos:Boolean,raisedAurora:Boolean,outline:Boolean,outlineMd:Boolean,outlineIos:Boolean,outlineAurora:Boolean,active:Boolean,disabled:Boolean,tooltip:String,tooltipTrigger:String,preloader:Boolean,preloaderSize:[Number,String],preloaderColor:String,loading:Boolean},By,Dy,$y,Ly),setup:function(e){var t=Et(null);yw(t,e),Rw(t,e);var n=ao((function(){return _w(e)})),r=ao((function(){return"submit"===e.type||"reset"===e.type||"button"===e.type?"button":"a"})),a=ao((function(){var t=e.href,n=e.tabLink,a=e.target,o=e.type,i=t;return!0===t&&(i="#"),!1!==t&&"button"!==r.value||(i=void 0),my({href:i,target:a,type:o,"data-tab":fy(n)&&n||void 0},zy(e),Vy(e))})),o=ao((function(){var t=e.tabLink,n=e.tabLinkActive,r=e.round,a=e.roundMd,o=e.roundIos,i=e.roundAurora,s=e.fill,l=e.fillMd,u=e.fillIos,c=e.fillAurora,p=e.large,d=e.largeMd,f=e.largeIos,h=e.largeAurora,v=e.small,m=e.smallMd,g=e.smallIos,b=e.smallAurora,y=e.raised,w=e.raisedMd,x=e.raisedIos,C=e.raisedAurora,E=e.outline,k=e.outlineMd,S=e.outlineIos,T=e.outlineAurora,O=e.active,I=e.disabled;return gy("button",{"tab-link":t||""===t,"tab-link-active":n,"button-round":r,"button-round-ios":o,"button-round-aurora":i,"button-round-md":a,"button-fill":s,"button-fill-ios":u,"button-fill-aurora":c,"button-fill-md":l,"button-large":p,"button-large-ios":f,"button-large-aurora":h,"button-large-md":d,"button-small":v,"button-small-ios":g,"button-small-aurora":b,"button-small-md":m,"button-raised":y,"button-raised-ios":x,"button-raised-aurora":C,"button-raised-md":w,"button-active":O,"button-outline":E,"button-outline-ios":S,"button-outline-aurora":T,"button-outline-md":k,"button-preloader":e.preloader,"button-loading":e.loading,disabled:I},Py(e),Fy(e),jy(e))}));return{tag:r,elRef:t,attrs:a,classesComputed:o,icon:n}}};function Kw(){return Kw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kw.apply(this,arguments)}var Jw={name:"f7-card-content",render:function(e,t){return da(),ba("div",{class:e.classes},[vr(e.$slots,"default")],2)},props:Kw({padding:{type:Boolean,default:!0}},Dy),setup:function(e){return{classes:ao((function(){return gy("card-content",{"card-content-padding":e.padding},Py(e))}))}}};function Qw(){return Qw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qw.apply(this,arguments)}var Zw={name:"f7-card-footer",render:function(e,t){return da(),ba("div",{class:e.classes},[vr(e.$slots,"default")],2)},props:Qw({},Dy),setup:function(e){return{classes:ao((function(){return gy("card-footer",Py(e))}))}}};function ex(){return ex=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ex.apply(this,arguments)}var tx={name:"f7-card-header",render:function(e,t){return da(),ba("div",{class:e.classes},[vr(e.$slots,"default")],2)},props:ex({},Dy),setup:function(e){return{classes:ao((function(){return gy("card-header",Py(e))}))}}};function nx(){return nx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nx.apply(this,arguments)}var rx={name:"f7-card",render:function(e,t){var n=ur("f7-card-header"),r=ur("f7-card-content"),a=ur("f7-card-footer");return da(),ba("div",{ref:"elRef",class:e.classes,"data-animate":void 0===e.animate?e.animate:e.animate.toString(),"data-hide-navbar-on-open":void 0===e.hideNavbarOnOpen?e.hideNavbarOnOpen:e.hideNavbarOnOpen.toString(),"data-hide-toolbar-on-open":void 0===e.hideToolbarOnOpen?e.hideToolbarOnOpen:e.hideToolbarOnOpen.toString(),"data-hide-statusbar-on-open":void 0===e.hideStatusbarOnOpen?e.hideStatusbarOnOpen:e.hideStatusbarOnOpen.toString(),"data-scrollable-el":e.scrollableEl,"data-swipe-to-close":void 0===e.swipeToClose?e.swipeToClose:e.swipeToClose.toString(),"data-close-by-backdrop-click":void 0===e.closeByBackdropClick?e.closeByBackdropClick:e.closeByBackdropClick.toString(),"data-backdrop":void 0===e.backdrop?e.backdrop:e.backdrop.toString(),"data-backdrop-el":e.backdropEl},[e.hasHeader?(da(),ba(n,{key:0},{default:hn((function(){return[Na(Z(e.title)+" ",1),vr(e.$slots,"header")]})),_:3})):_a("",!0),e.hasContent?(da(),ba(r,{key:1,padding:e.padding},{default:hn((function(){return[Na(Z(e.content)+" ",1),vr(e.$slots,"content")]})),_:3},8,["padding"])):_a("",!0),e.hasFooter?(da(),ba(a,{key:2},{default:hn((function(){return[Na(Z(e.footer)+" ",1),vr(e.$slots,"footer")]})),_:3})):_a("",!0),vr(e.$slots,"default")],10,["data-animate","data-hide-navbar-on-open","data-hide-toolbar-on-open","data-hide-statusbar-on-open","data-scrollable-el","data-swipe-to-close","data-close-by-backdrop-click","data-backdrop","data-backdrop-el"])},components:{f7CardHeader:tx,f7CardContent:Jw,f7CardFooter:Zw},props:nx({title:[String,Number],content:[String,Number],footer:[String,Number],outline:Boolean,expandable:Boolean,expandableAnimateWidth:Boolean,expandableOpened:Boolean,animate:{type:Boolean,default:void 0},hideNavbarOnOpen:{type:Boolean,default:void 0},hideToolbarOnOpen:{type:Boolean,default:void 0},hideStatusbarOnOpen:{type:Boolean,default:void 0},scrollableEl:{type:String,default:void 0},swipeToClose:{type:Boolean,default:void 0},closeByBackdropClick:{type:Boolean,default:void 0},backdrop:{type:Boolean,default:void 0},backdropEl:{type:String,default:void 0},noShadow:Boolean,noBorder:Boolean,padding:{type:Boolean,default:!0}},Dy),emits:["card:beforeopen","card:open","card:opened","card:close","card:closed","update:expandableOpened"],setup:function(e,t){var n=t.emit,r=t.slots,a=Et(null),o=function(e,t){a.value===e&&n("card:beforeopen",e,t)},i=function(e){a.value===e&&(n("card:open",e),n("update:expandableOpened",!0))},s=function(e,t){a.value===e&&n("card:opened",e,t)},l=function(e){a.value===e&&n("card:close",e)},u=function(e,t){a.value===e&&(n("card:closed",e,t),n("update:expandableOpened",!1))};Zn((function(){e.expandable&&a.value&&Ny((function(){e.expandable&&e.expandableOpened&&by.card.open(a.value,!1),by.on("cardBeforeOpen",o),by.on("cardOpen",i),by.on("cardOpened",s),by.on("cardClose",l),by.on("cardClosed",u)}))})),nr((function(){by.off("cardBeforeOpen",o),by.off("cardOpen",i),by.off("cardOpened",s),by.off("cardClose",l),by.off("cardClosed",u)})),En((function(){return e.expandableOpened}),(function(e){e?a.value&&by.card.open(a.value):a.value&&by.card.close(a.value)}));var c=ao((function(){return e.title||r.header})),p=ao((function(){return e.content||r.content})),d=ao((function(){return e.footer||r.footer})),f=ao((function(){return gy("card",{"card-outline":e.outline,"card-expandable":e.expandable,"card-expandable-animate-width":e.expandableAnimateWidth,"no-shadow":e.noShadow,"no-border":e.noBorder},Py(e))}));return{elRef:a,classes:f,hasHeader:c,hasContent:p,hasFooter:d}}};function ax(){return ax=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ax.apply(this,arguments)}var ox=Sa("i",{class:"icon-checkbox"},null,-1);var ix={name:"f7-checkbox",render:function(e,t){return da(),ba("label",{class:e.classes},[Sa("input",{ref:"inputElRef",type:"checkbox",name:e.name,value:e.value,disabled:e.disabled,readonly:e.readonly,checked:e.checked,onChange:t[1]||(t[1]=function(){return e.onChange&&e.onChange.apply(e,arguments)})},null,40,["name","value","disabled","readonly","checked"]),ox,vr(e.$slots,"default")],2)},props:ax({checked:Boolean,indeterminate:Boolean,name:[Number,String],value:{type:[Number,String,Boolean],default:void 0},disabled:Boolean,readonly:Boolean},Dy),emits:["update:checked","change"],setup:function(e,t){var n=t.emit,r=Et(null);Zn((function(){r.value&&(r.value.indeterminate=!!e.indeterminate)})),En((function(){return e.indeterminate}),(function(e){r.value&&(r.value.indeterminate=!!e)}));var a=ao((function(){return gy({checkbox:!0,disabled:e.disabled},Py(e))}));return{inputElRef:r,classes:a,onChange:function(e){n("update:checked",e.target.checked),n("change",e)}}}};function sx(){return sx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sx.apply(this,arguments)}var lx={key:1,class:"chip-label"};var ux={name:"f7-chip",render:function(e,t){var n=ur("f7-use-icon");return da(),ba("div",{ref:"elRef",class:e.classes},[e.hasMedia?(da(),ba("div",{key:0,class:e.mediaClasses},[e.icon?(da(),ba(n,{key:0,icon:e.icon},null,8,["icon"])):_a("",!0),Na(" "+Z(e.media)+" ",1),vr(e.$slots,"media")],2)):_a("",!0),e.hasLabel?(da(),ba("div",lx,[Na(Z(e.text)+" ",1),vr(e.$slots,"text"),vr(e.$slots,"default")])):_a("",!0),e.deleteable?(da(),ba("a",{key:2,class:"chip-delete",onClick:t[1]||(t[1]=function(){return e.onDeleteClick&&e.onDeleteClick.apply(e,arguments)})})):_a("",!0)],2)},components:{f7UseIcon:Uw},props:sx({media:String,text:[String,Number],deleteable:Boolean,mediaBgColor:String,mediaTextColor:String,outline:Boolean,tooltip:String,tooltipTrigger:String},By,Dy),emits:["delete"],setup:function(e,t){var n=t.slots,r=t.emit,a=Et(null);yw(a,e);var o=ao((function(){return _w(e)})),i=ao((function(){return gy("chip-media",e.mediaTextColor&&"text-color-"+e.mediaTextColor,e.mediaBgColor&&"bg-color-"+e.mediaBgColor)})),s=ao((function(){return gy("chip",{"chip-outline":e.outline},Py(e))})),l=ao((function(){return e.text||n&&(n.text||n.default)})),u=ao((function(){return e.media||o.value||n&&n.media}));return{classes:s,icon:o,mediaClasses:i,elRef:a,hasLabel:l,hasMedia:u,onDeleteClick:function(e){r("delete",e)}}}};function cx(){return cx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cx.apply(this,arguments)}var px={key:0,class:"resize-handler"};var dx={name:"f7-col",render:function(e,t){return da(),ba(pr(e.tag),{ref:"elRef",class:e.classes},{default:hn((function(){return[vr(e.$slots,"default"),e.resizable&&e.resizableHandler?(da(),ba("span",px)):_a("",!0)]})),_:3},8,["class"])},props:cx({tag:{type:String,default:"div"},width:{type:[Number,String],default:"auto"},xsmall:{type:[Number,String]},small:{type:[Number,String]},medium:{type:[Number,String]},large:{type:[Number,String]},xlarge:{type:[Number,String]},resizable:Boolean,resizableFixed:Boolean,resizableAbsolute:Boolean,resizableHandler:{type:Boolean,default:!0}},Dy),emits:["grid:resize"],setup:function(e,t){var n=t.emit,r=Et(null),a=function(e){e===r.value&&n("grid:resize")};return Zn((function(){Ny((function(){by.on("gridResize",a)}))})),nr((function(){by.off("gridResize",a)})),{classes:ao((function(){var t;return gy(((t={col:"auto"===e.width})["col-"+e.width]="auto"!==e.width,t["xsmall-"+e.xsmall]=e.xsmall,t["small-"+e.small]=e.small,t["medium-"+e.medium]=e.medium,t["large-"+e.large]=e.large,t["xlarge-"+e.xlarge]=e.xlarge,t.resizable=e.resizable,t["resizable-fixed"]=e.resizableFixed,t["resizable-absolute"]=e.resizableAbsolute,t),Py(e))})),elRef:r}}};function fx(){return fx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fx.apply(this,arguments)}var hx={name:"f7-fab-backdrop",render:function(e,t){return da(),ba("div",{class:e.classes},[vr(e.$slots,"default")],2)},props:fx({},Dy),setup:function(e){return{classes:ao((function(){return gy("fab-backdrop",Py(e))}))}}};function vx(){return vx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vx.apply(this,arguments)}var mx={key:0,class:"fab-label"};var gx={name:"f7-fab-button",render:function(e,t){return da(),ba("a",{ref:"elRef",class:e.classes,target:e.target,onClick:t[1]||(t[1]=function(){return e.onClick&&e.onClick.apply(e,arguments)})},[vr(e.$slots,"default"),e.label?(da(),ba("span",mx,Z(e.label),1)):_a("",!0)],10,["target"])},props:vx({fabClose:Boolean,label:String,target:String,tooltip:String,tooltipTrigger:String},Dy),emits:["click"],setup:function(e,t){var n=t.emit,r=Et(null);return yw(r,e),{classes:ao((function(){return gy({"fab-close":e.fabClose,"fab-label-button":e.label},Py(e))})),onClick:function(e){n("click",e)},elRef:r}}};function bx(){return bx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bx.apply(this,arguments)}var yx={name:"f7-fab-buttons",render:function(e,t){return da(),ba("div",{class:e.classes},[vr(e.$slots,"default")],2)},props:bx({position:{type:String,default:"top"}},Dy),setup:function(e){return{classes:ao((function(){return gy("fab-buttons","fab-buttons-"+e.position,Py(e))}))}}};function wx(){return wx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wx.apply(this,arguments)}var xx={name:"f7-fab",props:wx({morphTo:String,href:[Boolean,String],target:String,text:String,position:{type:String,default:"right-bottom"},tooltip:String,tooltipTrigger:String},Dy),emits:["click"],setup:function(e,t){var n=t.emit,r=t.slots,a=Et(null),o=function(e){n("click",e)};yw(a,e);var i=ao((function(){var t=e.href;return!0===t&&(t="#"),!1===t&&(t=void 0),t}));return function(){var t,n,s=[],l=[],u=r.link,c=r.default,p=r.root,d=r.text;return c&&c().forEach((function(e){if(void 0!==e){var t=e.type&&e.type.name?e.type.name:e.type;"FabButtons"===t||"f7-fab-buttons"===t?l.push(e):s.push(e)}})),(e.text||d)&&(t=oo("div",{class:"fab-text"},[e.text,d&&d()])),(s.length||u||t)&&(n=oo("a",{target:e.target,href:i.value,onClick:o},[s,t,u&&u()])),oo("div",{class:gy("fab","fab-"+e.position,{"fab-morph":e.morphTo,"fab-extended":void 0!==t},Py(e)),"data-morph-to":e.morphTo,ref:a},[n,l,p&&p()])}}},Cx={class:"gauge"};var Ex={name:"f7-gauge",render:function(e,t){return da(),ba("div",Cx,[(da(),ba("svg",{class:"gauge-svg",width:e.size+"px",height:(e.semiCircle?e.size/2:e.size)+"px",viewBox:"0 0 "+e.size+" "+(e.semiCircle?e.size/2:e.size)},[e.semiCircle?(da(),ba("path",{key:0,class:"gauge-back-semi",d:"M"+(e.size-e.borderWidth/2)+","+e.size/2+" a1,1 0 0,0 -"+(e.size-e.borderWidth)+",0",stroke:e.borderBgColor,"stroke-width":e.borderWidth,fill:e.bgColor||"none"},null,8,["d","stroke","stroke-width","fill"])):_a("",!0),e.semiCircle?(da(),ba("path",{key:1,class:"gauge-front-semi",d:"M"+(e.size-e.borderWidth/2)+","+e.size/2+" a1,1 0 0,0 -"+(e.size-e.borderWidth)+",0",stroke:e.borderColor,"stroke-width":e.borderWidth,"stroke-dasharray":e.length/2,"stroke-dashoffset":e.length/2*(1+e.progress),fill:e.borderBgColor?"none":e.bgColor||"none"},null,8,["d","stroke","stroke-width","stroke-dasharray","stroke-dashoffset","fill"])):_a("",!0),!e.semiCircle&&e.borderBgColor?(da(),ba("circle",{key:2,class:"gauge-back-circle",stroke:e.borderBgColor,"stroke-width":e.borderWidth,fill:e.bgColor||"none",cx:e.size/2,cy:e.size/2,r:e.radius},null,8,["stroke","stroke-width","fill","cx","cy","r"])):_a("",!0),e.semiCircle?_a("",!0):(da(),ba("circle",{key:3,class:"gauge-front-circle",transform:"rotate(-90 "+e.size/2+" "+e.size/2+")",stroke:e.borderColor,"stroke-width":e.borderWidth,"stroke-dasharray":e.length,"stroke-dashoffset":e.length*(1-e.progress),fill:e.borderBgColor?"none":e.bgColor||"none",cx:e.size/2,cy:e.size/2,r:e.radius},null,8,["transform","stroke","stroke-width","stroke-dasharray","stroke-dashoffset","fill","cx","cy","r"])),e.valueText?(da(),ba("text",{key:4,class:"gauge-value-text",x:"50%",y:e.semiCircle?"100%":"50%","font-weight":e.valueFontWeight,"font-size":e.valueFontSize,fill:e.valueTextColor,dy:e.semiCircle?e.labelText?-e.labelFontSize-15:-5:0,"text-anchor":"middle","dominant-baseline":e.semiCircle?null:"middle"},Z(e.valueText),9,["y","font-weight","font-size","fill","dy","dominant-baseline"])):_a("",!0),e.labelText?(da(),ba("text",{key:5,class:"gauge-label-text",x:"50%",y:e.semiCircle?"100%":"50%","font-weight":e.labelFontWeight,"font-size":e.labelFontSize,fill:e.labelTextColor,dy:e.semiCircle?-5:e.valueText?e.valueFontSize/2+10:0,"text-anchor":"middle","dominant-baseline":e.semiCircle?null:"middle"},Z(e.labelText),9,["y","font-weight","font-size","fill","dy","dominant-baseline"])):_a("",!0)],8,["width","height","viewBox"]))])},props:{type:{type:String,default:"circle"},value:{type:[Number,String],default:0},size:{type:[Number,String],default:200},bgColor:{type:String,default:"transparent"},borderBgColor:{type:String,default:"#eeeeee"},borderColor:{type:String,default:"#000000"},borderWidth:{type:[Number,String],default:10},valueText:[Number,String],valueTextColor:{type:String,default:"#000000"},valueFontSize:{type:[Number,String],default:31},valueFontWeight:{type:[Number,String],default:500},labelText:String,labelTextColor:{type:String,default:"#888888"},labelFontSize:{type:[Number,String],default:14},labelFontWeight:{type:[Number,String],default:400}},setup:function(e){var t=ao((function(){return"semicircle"===e.type})),n=ao((function(){return e.size/2-e.borderWidth/2})),r=ao((function(){return 2*Math.PI*n.value})),a=ao((function(){return Math.max(Math.min(e.value,1),0)}));return{semiCircle:t,radius:n,length:r,progress:a}}};function kx(){return kx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kx.apply(this,arguments)}var Sx=Sa("span",{class:"toggle-icon"},null,-1);var Tx={name:"f7-toggle",render:function(e,t){return da(),ba("label",{ref:"elRef",class:e.classes},[Sa("input",{type:"checkbox",name:e.name,disabled:e.disabled,readonly:e.readonly,checked:e.checked,value:e.value,onChange:t[1]||(t[1]=function(){return e.onChange&&e.onChange.apply(e,arguments)})},null,40,["name","disabled","readonly","checked","value"]),Sx],2)},props:kx({init:{type:Boolean,default:!0},checked:Boolean,disabled:Boolean,readonly:Boolean,name:String,value:[String,Number,Array],tooltip:String,tooltipTrigger:String},Dy),emits:["change","toggle:change","update:checked"],setup:function(e,t){var n=t.emit,r=null,a=Et(null);yw(a,e);return En((function(){return e.checked}),(function(e){r&&(r.checked=e)})),Zn((function(){Ny((function(){e.init&&a.value&&(r=by.toggle.create({el:a.value,on:{change:function(e){n("toggle:change",e.checked),n("update:checked",e.checked)}}}))}))})),nr((function(){r&&r.destroy&&r.$el&&r.destroy(),r=null})),{classes:ao((function(){return gy("toggle",{disabled:e.disabled},Py(e))})),elRef:a,f7Toggle:r,onChange:function(e){n("change",e)}}}};function Ox(){return Ox=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ox.apply(this,arguments)}var Ix={name:"f7-range",render:function(e,t){return da(),ba("div",{ref:"elRef",class:e.classes},[e.input?(da(),ba("input",{key:0,id:"inputId",type:"range",name:e.name},null,8,["name"])):_a("",!0),vr(e.$slots,"default")],2)},props:Ox({init:{type:Boolean,default:!0},value:{type:[Number,Array,String],default:0},min:{type:[Number,String],default:0},max:{type:[Number,String],default:100},step:{type:[Number,String],default:1},label:{type:Boolean,default:!1},dual:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},verticalReversed:{type:Boolean,default:!1},draggableBar:{type:Boolean,default:!0},formatLabel:Function,scale:{type:Boolean,default:!1},scaleSteps:{type:Number,default:5},scaleSubSteps:{type:Number,default:0},formatScaleLabel:Function,limitKnobPosition:{type:Boolean,default:void 0},name:String,input:Boolean,inputId:String,disabled:Boolean},Dy),emits:["range:change","range:changed","rangeChange","rangeChanged","update:value"],setup:function(e,t){var n=t.emit,r=null,a=Et(null);En((function(){return e.value}),(function(e){if(r){var t=r.value;Array.isArray(e)&&Array.isArray(t)&&t[0]===e[0]&&t[1]===e[1]||r.setValue(e)}})),Zn((function(){Ny((function(){e.init&&a.value&&(r=by.range.create(dy(Ox({el:a.value},e,{on:{change:function(e,t){n("range:change",t),n("rangeChange",t)},changed:function(e,t){n("range:changed",t),n("rangeChanged",t),n("update:value",t)}}}))))}))})),nr((function(){r&&r.destroy&&r.destroy(),r=null}));var o=ao((function(){return gy("range-slider",{"range-slider-horizontal":!e.vertical,"range-slider-vertical":e.vertical,"range-slider-vertical-reversed":e.vertical&&e.verticalReversed,disabled:e.disabled},Py(e))}));return{elRef:a,classes:o}}};function Nx(){return Nx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nx.apply(this,arguments)}var Ax={class:"text-editor-content",contenteditable:""};var _x={name:"f7-text-editor",render:function(e,t){return da(),ba("div",{ref:"elRef",class:e.classes},[vr(e.$slots,"root-start"),Sa("div",Ax,[vr(e.$slots,"default")]),vr(e.$slots,"root-end"),vr(e.$slots,"root")],2)},props:Nx({mode:{type:String,default:void 0},value:{type:String,default:void 0},buttons:Array,customButtons:Object,dividers:{type:Boolean,default:void 0},imageUrlText:{type:String,default:void 0},linkUrlText:{type:String,default:void 0},placeholder:{type:String,default:void 0},clearFormattingOnPaste:{type:Boolean,default:void 0},resizable:{type:Boolean,default:!1}},Dy),emits:["texteditor:change","texteditor:input","texteditor:focus","texteditor:blur","texteditor:buttonclick","texteditor:keyboardopen","texteditor:keyboardclose","texteditor:popoveropen","texteditor:popoverclose","texteditor:insertlink","texteditor:insertimage","texteditorChange","texteditorInput","texteditorFocus","texteditorBlur"],setup:function(e,t){var n=t.emit,r=null,a=Et(null),o=function(e,t){n("texteditor:change",t),n("texteditorChange",t)},i=function(e,t){n("texteditor:input",t),n("texteditorInput",t)},s=function(){n("texteditor:focus"),n("texteditorFocus")},l=function(){n("texteditor:blur"),n("texteditorBlur")},u=function(e,t){n("texteditor:buttonclick",t)},c=function(){n("texteditor:keyboardopen")},p=function(){n("texteditor:keyboardclose")},d=function(){n("texteditor:popoveropen")},f=function(){n("texteditor:popoverclose")},h=function(e,t){n("texteditor:insertlink",t)},v=function(e,t){n("texteditor:insertimage",t)};En((function(){return e.value}),(function(e){r&&r.setValue(e)})),Zn((function(){var t=dy({el:a.value,mode:e.mode,value:e.value,buttons:e.buttons,customButtons:e.customButtons,dividers:e.dividers,imageUrlText:e.imageUrlText,linkUrlText:e.linkUrlText,placeholder:e.placeholder,clearFormattingOnPaste:e.clearFormattingOnPaste,on:{change:o,input:i,focus:s,blur:l,buttonClick:u,keyboardOpen:c,keyboardClose:p,popoverOpen:d,popoverClose:f,insertLink:h,insertImage:v}});Ny((function(){r=by.textEditor.create(t)}))})),nr((function(){r&&r.destroy&&r.destroy(),r=null}));var m=ao((function(){return gy("text-editor",e.resizable&&"text-editor-resizable",Py(e))}));return{elRef:a,classes:m}}};function Rx(){return Rx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rx.apply(this,arguments)}var Mx={name:"f7-input",props:Rx({type:String,name:String,value:{type:[String,Number,Array,Date,Object],default:void 0},inputmode:String,placeholder:String,inputId:[String,Number],size:[String,Number],accept:[String,Number],autocomplete:[String],autocorrect:[String],autocapitalize:[String],spellcheck:[String],autofocus:Boolean,autosave:String,checked:Boolean,disabled:Boolean,max:[String,Number],min:[String,Number],step:[String,Number],maxlength:[String,Number],minlength:[String,Number],multiple:Boolean,readonly:Boolean,required:Boolean,inputStyle:[String,Object],pattern:String,validate:[Boolean,String],validateOnBlur:Boolean,onValidate:Function,tabindex:[String,Number],resizable:Boolean,clearButton:Boolean,noFormStoreData:Boolean,noStoreData:Boolean,ignoreStoreData:Boolean,errorMessage:String,errorMessageForce:Boolean,info:String,outline:Boolean,wrap:{type:Boolean,default:!0},dropdown:{type:[String,Boolean],default:"auto"},calendarParams:Object,colorPickerParams:Object,textEditorParams:Object},Dy),emits:["input","focus","blur","change","textarea:resize","input:notempty","input:empty","input:clear","texteditor:change","calendar:change","colorpicker:change","update:value"],setup:function(e,t){var n=t.emit,r=t.slots,a=null,o=null,i=Et(!1),s=Et(!1),l=Et(null),u=Et(null),c=!1,p=Et(function(){if(u.value)return u.value.value}()),d=ao((function(){return("datepicker"!==e.type||!Array.isArray(e.value)||0!==e.value.length)&&(void 0===e.value?p.value||0===p.value:e.value||0===e.value)})),f=function(){if(by&&u.value){var t=u.value.validity;t&&(t.valid?(e.onValidate&&e.onValidate(!0),!1!==i.value&&(i.value=!1)):(e.onValidate&&e.onValidate(!1),!0!==i.value&&(i.value=!0)))}},h=function(e){n("textarea:resize",e)},v=function(e){n("input:notempty",e)},m=function(e){n("input:empty",e)},g=function(e){n("input:clear",e)},b=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];n.apply(void 0,["input"].concat(r)),u.value&&(p.value=u.value.value),e.validateOnBlur||""===e.validateOnBlur||!e.validate&&""!==e.validate||!u.value||f(),u.value&&"texteditor"!==e.type&&"colorpicker"!==e.type&&"datepicker"!==e.type&&n("update:value",u.value.value)},y=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.apply(void 0,["focus"].concat(t)),s.value=!0},w=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];n.apply(void 0,["blur"].concat(r)),(e.validate||""===e.validate||e.validateOnBlur||""===e.validateOnBlur)&&u.value&&f(),s.value=!1},x=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];n.apply(void 0,["change"].concat(r)),"texteditor"===e.type&&(n("texteditor:change",r[1]),n("update:value",r[1]))};Zn((function(){var t=e.type,r=e.resizable,i=e.clearButton,s=e.value,l=e.calendarParams,c=e.colorPickerParams,p=e.validate,d=e.validateOnBlur;Ny((function(){"range"!==t&&"toggle"!==t&&u.value&&(u.value.addEventListener("input:notempty",v,!1),"textarea"===t&&r&&u.value.addEventListener("textarea:resize",h,!1),i&&(u.value.addEventListener("input:empty",m,!1),u.value.addEventListener("input:clear",g,!1)),"datepicker"===t&&(a=by.calendar.create(Rx({inputEl:u.value,value:s,on:{change:function(e,t){n("calendar:change",t),n("update:value",t)}}},l||{}))),"colorpicker"===t&&(o=by.colorPicker.create(Rx({inputEl:u.value,value:s,on:{change:function(e,t){n("colorpicker:change",t),n("update:value",t)}}},c||{}))),by.input.checkEmptyState(u.value),d||""===d||!p&&""!==p||null==s||""===s||setTimeout((function(){f()}),0),r&&by.input.resizeTextarea(u.value))}))})),nr((function(){"range"!==e.type&&"toggle"!==e.type&&u.value&&(u.value.removeEventListener("input:notempty",v,!1),"textarea"===e.type&&e.resizable&&u.value.removeEventListener("textarea:resize",h,!1),e.clearButton&&(u.value.removeEventListener("input:empty",m,!1),u.value.removeEventListener("input:clear",g,!1)),a&&a.destroy&&(a.destroy(),a=null),o&&o.destroy&&(o.destroy(),o=null))})),tr((function(){if(by&&c){if(!u.value)return;c=!1,by.input.checkEmptyState(u.value),e.validate&&!e.validateOnBlur&&f(),e.resizable&&by.input.resizeTextarea(u.value)}})),En((function(){return e.colorPickerParams}),(function(e){by&&o&&my(o.params,e||{})})),En((function(){return e.calendarParams}),(function(e){by&&a&&my(a.params,e||{})})),En((function(){return e.value}),(function(t){"range"!==e.type&&"toggle"!==e.type&&by&&(c=!0,a&&a.setValue(t),o&&o.setValue(t))}));var C=function(t,n){var r="file"!==e.type&&"datepicker"!==e.type&&"colorpicker"!==e.type,a="input"===t,o=e.type;"datepicker"!==o&&"colorpicker"!==o||(o="text");var l,c=gy({resizable:"textarea"===o&&e.resizable,"no-store-data":e.noFormStoreData||e.noStoreData||e.ignoreStoreData,"input-invalid":e.errorMessage&&e.errorMessageForce||i.value,"input-with-value":d.value,"input-focused":s.value});r&&(l=void 0!==e.value?e.value:p.value);var f={};"datepicker"!==e.type&&"colorpicker"!==e.type&&"value"in e&&(f.value=l);var h=dy({name:e.name,type:a?o:void 0,placeholder:e.placeholder,inputmode:e.inputmode,id:e.inputId,size:e.size,accept:e.accept,autocomplete:e.autocomplete,autoCorrect:e.autocorrect,autocapitalize:e.autocapitalize,spellcheck:e.spellcheck,autofocus:e.autofocus,autoSave:e.autosave,checked:e.checked,disabled:e.disabled,max:e.max,maxlength:e.maxlength,min:e.min,minlength:e.minlength,step:e.step,multiple:e.multiple,readonly:e.readonly,required:e.required,pattern:e.pattern,validate:"string"==typeof e.validate&&e.validate.length?e.validate:void 0,tabindex:e.tabindex});return oo(t,Rx({ref:u,style:e.inputStyle},h,{"data-validate":!0===e.validate||""===e.validate||!0===e.validateOnBlur||""===e.validateOnBlur||void 0,"data-validate-on-blur":!0===e.validateOnBlur||""===e.validateOnBlur||void 0,"data-error-message":e.errorMessageForce?void 0:e.errorMessage,class:c,onFocus:y,onBlur:w,onInput:b,onChange:x},f),[n])},E=ao((function(){return gy("input",{"input-outline":e.outline,"input-dropdown":"auto"===e.dropdown?"select"===e.type:e.dropdown,"input-invalid":e.errorMessage&&e.errorMessageForce||i.value},Py(e))}));return function(){var t;return t="select"===e.type||"textarea"===e.type||"file"===e.type?"select"===e.type?C("select",r.default&&r.default()):"file"===e.type?C("input"):C("textarea"):r.default||!e.type?r.default():"toggle"===e.type?oo(Tx,{checked:e.checked,readonly:e.readonly,name:e.name,value:e.value,disabled:e.disabled,id:e.inputId,onChange:x}):"range"===e.type?oo(Ix,{value:e.value,disabled:e.disabled,min:e.min,max:e.max,step:e.step,name:e.name,id:e.inputId,input:!0,onRangeChange:x}):"texteditor"===e.type?oo(_x,Rx({value:e.value,resizable:e.resizable,placeholder:e.placeholder,onTextEditorFocus:y,onTextEditorBlur:w,onTextEditorInput:b,onTextEditorChange:x},e.textEditorParams||{})):C("input"),e.wrap?oo("div",{class:E.value,ref:l},[t,(e.errorMessage||r["error-message"])&&e.errorMessageForce&&oo("div",{class:"input-error-message"},[e.errorMessage,r["error-message"]&&r["error-message"]()]),e.clearButton&&oo("span",{class:"input-clear-button"}),(e.info||r.info)&&oo("div",{class:"input-info"},[e.info,r.info&&r.info()])]):t}}},Px=function(e,t,n){var r;Zn((function(){Ny((function(){if(e.smartSelect){var a=my({el:n()},e.smartSelectParams||{});r=by.smartSelect.create(a),t(r)}}))})),nr((function(){r&&r.destroy&&r.destroy(),t(r=null)}))};function Dx(){return Dx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dx.apply(this,arguments)}var Bx={name:"f7-link",render:function(e,t){var n=ur("f7-use-icon"),r=ur("f7-badge");return da(),ba("a",Da({ref:"elRef",class:e.classes},e.attrs),[e.icon?(da(),ba(n,{key:0,icon:e.icon},null,8,["icon"])):_a("",!0),e.text?(da(),ba("span",{key:1,class:e.isTabbarLabel?"tabbar-label":""},[Na(Z(e.text)+" ",1),e.badge?(da(),ba(r,{key:0,color:e.badgeColor},{default:hn((function(){return[Na(Z(e.badge),1)]})),_:1},8,["color"])):_a("",!0)],2)):_a("",!0),vr(e.$slots,"default")],16)},components:{f7Badge:xw,f7UseIcon:Uw},props:Dx({noLinkClass:Boolean,text:String,tabLink:[Boolean,String],tabLinkActive:Boolean,tabbarLabel:Boolean,iconOnly:Boolean,badge:[String,Number],badgeColor:[String],href:{type:[String,Boolean],default:"#"},target:String,tooltip:String,tooltipTrigger:String,smartSelect:Boolean,smartSelectParams:Object},By,Dy,$y,Ly),setup:function(e,t){var n=t.slots,r=Et(null),a=null;yw(r,e),Rw(r,e),Px(e,(function(e){a=e}),(function(){return r.value}));var o=Fr("TabbarContext",{value:{}}),i=ao((function(){return e.tabbarLabel||o.value.tabbarHasLabels})),s=ao((function(){var t=e.href,n=e.tabLink,r=t;return!0===t&&(r="#"),!1===t&&(r=void 0),Dx({href:r,target:e.target,"data-tab":fy(n)&&n||void 0},zy(e),Vy(e))})),l=ao((function(){var t,r=e.iconOnly,a=e.text,o=e.noLinkClass,s=e.tabLink,l=e.tabLinkActive,u=e.smartSelect,c=n&&n.default;return t=!(!r&&(a||c)),gy({link:!(o||i.value),"icon-only":t,"tab-link":s||""===s,"tab-link-active":l,"smart-select":u},Py(e),Fy(e),jy(e))})),u=ao((function(){return _w(e)}));return{elRef:r,icon:u,isTabbarLabel:i,attrs:s,classes:l,f7SmartSelect:a}}};function Lx(){return Lx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lx.apply(this,arguments)}var zx={name:"f7-list-button",render:function(e,t){return da(),ba("li",null,[Sa("a",Da({ref:"linkElRef",class:e.linkClasses},e.linkAttrs,{onClick:t[1]||(t[1]=function(){return e.onClick&&e.onClick.apply(e,arguments)})}),[Na(Z(e.title)+" "+Z(e.text)+" ",1),vr(e.$slots,"default")],16)])},props:Lx({title:[String,Number],text:[String,Number],tabLink:[Boolean,String],tabLinkActive:Boolean,link:[Boolean,String],href:[Boolean,String],target:String,tooltip:String,tooltipTrigger:String},Dy,$y,Ly),emits:["click"],setup:function(e,t){var n=t.emit,r=Et(null);return yw(r,e),Rw(r,e),{linkAttrs:ao((function(){return Lx({href:"boolean"==typeof e.link&&"boolean"==typeof e.href?"#":e.link||e.href,target:e.target,"data-tab":fy(e.tabLink)&&e.tabLink},zy(e),Vy(e))})),linkClasses:ao((function(){return gy(Lx({"list-button":!0,"tab-link":e.tabLink||""===e.tabLink,"tab-link-active":e.tabLinkActive},Py(e),Fy(e),jy(e)))})),onClick:function(e){n("click",e)},linkElRef:r}}};function Fx(){return Fx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fx.apply(this,arguments)}var $x={name:"f7-list-group",render:function(e,t){return da(),ba("div",{class:e.classes,"data-sortable-move-elements":void 0!==e.sortableMoveElements?e.sortableMoveElements.toString():void 0},[Sa("ul",null,[vr(e.$slots,"default")])],10,["data-sortable-move-elements"])},props:Fx({mediaList:Boolean,simpleList:Boolean,sortable:Boolean,sortableOpposite:Boolean,sortableTapHold:Boolean,sortableMoveElements:{type:Boolean,default:void 0}},Dy),setup:function(e){var t=Fr("ListContext",{value:{listIsMedia:e.mediaList,listIsSimple:e.simpleList,listIsSortable:e.sortable,listIsSortableOpposite:e.sortableOpposite}});return zr("ListContext",ao((function(){return{listIsMedia:e.mediaList||t.value.listIsMedia,listIsSimple:e.simpleList||t.value.listIsSimple,listIsSortable:e.sortable||t.value.listIsSortable,listIsSortableOpposite:e.sortableOpposite||t.value.listIsSortableOpposite}}))),{classes:ao((function(){return gy("list-group",{"media-list":e.mediaList,sortable:e.sortable,"sortable-tap-hold":e.sortableTapHold,"sortable-opposite":e.sortableOpposite},Py(e))}))}}};function Vx(){return Vx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vx.apply(this,arguments)}var jx={name:"f7-list-index",render:function(e,t){return da(),ba("div",{ref:"elRef",class:e.classes},[vr(e.$slots,"default")],2)},props:Vx({init:{type:Boolean,default:!0},listEl:[String,Object],indexes:{type:[String,Array],default:"auto"},scrollList:{type:Boolean,default:!0},label:{type:Boolean,default:!1},iosItemHeight:{type:Number,default:14},mdItemHeight:{type:Number,default:14},auroraItemHeight:{type:Number,default:14}},Dy),emits:["listindex:select"],setup:function(e,t){var n=t.emit,r=null,a=Et(null),o=function(){r&&r.update()};En((function(){return e.indexes}),(function(e){r&&(r.params.indexes=e,o())})),Zn((function(){e.init&&Ny((function(){r=by.listIndex.create({el:a.value,listEl:e.listEl,indexes:e.indexes,iosItemHeight:e.iosItemHeight,mdItemHeight:e.mdItemHeight,auroraItemHeight:e.auroraItemHeight,scrollList:e.scrollList,label:e.label,on:{select:function(e,t,r){n("listindex:select",t,r)}}})}))})),nr((function(){r&&r.destroy&&r.destroy(),r=null}));var i=ao((function(){return gy("list-index",Py(e))}));return{elRef:a,classes:i,update:o,scrollListToIndex:function(e){r&&r.scrollListToIndex(e)}}}};function Hx(){return Hx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hx.apply(this,arguments)}var Wx={name:"f7-list-input",props:Hx({sortable:{type:Boolean,default:void 0},media:String,dropdown:{type:[String,Boolean],default:"auto"},wrap:{type:Boolean,default:!0},input:{type:Boolean,default:!0},type:{type:String,default:"text"},name:String,value:{type:[String,Number,Array,Date,Object],default:void 0},inputmode:String,readonly:Boolean,required:Boolean,disabled:Boolean,placeholder:String,inputId:[String,Number],size:[String,Number],accept:[String,Number],autocomplete:[String],autocorrect:[String],autocapitalize:[String],spellcheck:[String],autofocus:Boolean,autosave:String,max:[String,Number],min:[String,Number],step:[String,Number],maxlength:[String,Number],minlength:[String,Number],multiple:Boolean,inputStyle:[String,Object],pattern:String,validate:[Boolean,String],validateOnBlur:Boolean,onValidate:Function,tabindex:[String,Number],resizable:Boolean,clearButton:Boolean,noFormStoreData:Boolean,noStoreData:Boolean,ignoreStoreData:Boolean,errorMessage:String,errorMessageForce:Boolean,info:String,outline:Boolean,label:[String,Number],inlineLabel:Boolean,floatingLabel:Boolean,calendarParams:Object,colorPickerParams:Object,textEditorParams:Object},Dy),emits:["textarea:resize","input:notempty","input:empty","input:clear","texteditor:change","calendar:change","colorpicker:change","change","focus","blur","input","update:value"],setup:function(e,t){var n=t.emit,r=t.slots,a=Et(!1),o=Et(!1),i=Fr("ListContext",{value:{listIsMedia:!1,listIsSortable:!1,listIsSortableOpposite:!1,listIsSimple:!1}}),s=null,l=null,u=Et(null),c=Et(null),p=Et(null),d=!1,f=Et(function(){if(c.value)return c.value.value}()),h=ao((function(){return("datepicker"!==e.type||!Array.isArray(e.value)||0!==e.value.length)&&(void 0===e.value?f.value||0===f.value:e.value||0===e.value)})),v=function(){if(by&&c.value){var t=c.value.validity;t&&(t.valid?(e.onValidate&&e.onValidate(!0),!1!==a.value&&(a.value=!1)):(e.onValidate&&e.onValidate(!1),!0!==a.value&&(a.value=!0)))}},m=function(e){n("textarea:resize",e)},g=function(e){n("input:notempty",e)},b=function(e){n("input:empty",e)},y=function(e){n("input:clear",e)},w=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];n.apply(void 0,["input"].concat(r)),c.value&&(f.value=c.value.value),e.validateOnBlur||""===e.validateOnBlur||!e.validate&&""!==e.validate||!c.value||v(c.value),c.value&&"texteditor"!==e.type&&"colorpicker"!==e.type&&"datepicker"!==e.type&&n("update:value",c.value.value)},x=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.apply(void 0,["focus"].concat(t)),o.value=!0},C=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];n.apply(void 0,["blur"].concat(r)),(e.validate||""===e.validate||e.validateOnBlur||""===e.validateOnBlur)&&c.value&&v(c.value),o.value=!1},E=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];n.apply(void 0,["change"].concat(r)),"texteditor"===e.type&&(n("texteditor:change",r[0]),n("update:value",r[0]))};Zn((function(){(u.value||p.value)&&Ny((function(){c.value&&(c.value.addEventListener("input:notempty",g,!1),c.value.addEventListener("textarea:resize",m,!1),c.value.addEventListener("input:empty",b,!1),c.value.addEventListener("input:clear",y,!1),"datepicker"===e.type&&(s=by.calendar.create(Hx({inputEl:c.value,value:e.value,on:{change:function(e,t){n("update:value",t),n("calendar:change",t)}}},e.calendarParams||{}))),"colorpicker"===e.type&&(l=by.colorPicker.create(Hx({inputEl:c.value,value:e.value,on:{change:function(e,t){n("update:value",t),n("colorpicker:change",t)}}},e.colorPickerParams||{}))),e.validateOnBlur||""===e.validateOnBlur||!e.validate&&""!==e.validate||void 0===e.value||null===e.value||""===e.value||setTimeout((function(){v()}),0),"textarea"===e.type&&e.resizable&&by.input.resizeTextarea(c.value))}))})),nr((function(){c.value&&(c.value.removeEventListener("input:notempty",g,!1),c.value.removeEventListener("textarea:resize",m,!1),c.value.removeEventListener("input:empty",b,!1),c.value.removeEventListener("input:clear",y,!1)),s&&s.destroy&&(s.destroy(),s=null),l&&l.destroy&&(l.destroy(),l=null)})),tr((function(){if(by&&d){if(!c.value)return;d=!1,e.validate&&!e.validateOnBlur&&v(),"textarea"===e.type&&e.resizable&&by.input.resizeTextarea(c.value)}})),En((function(){return e.colorPickerParams}),(function(e){by&&l&&my(l.params,e||{})})),En((function(){return e.calendarParams}),(function(e){by&&s&&my(s.params,e||{})})),En((function(){return e.value}),(function(e){by&&(d=!0,s&&s.setValue(e),l&&l.setValue(e))}));var k=ao((function(){return!0===e.sortable||!1===e.sortable?e.sortable:i.value.listIsSortable||!1})),S=function(t,n){var r="file"!==e.type&&"datepicker"!==e.type&&"colorpicker"!==e.type,i="input"===t,s=e.type;"datepicker"!==s&&"colorpicker"!==s||(s="text");var l,u=gy({resizable:"textarea"===s&&e.resizable,"no-store-data":e.noFormStoreData||e.noStoreData||e.ignoreStoreData,"input-invalid":e.errorMessage&&e.errorMessageForce||a.value,"input-with-value":h.value,"input-focused":o.value});r&&(l=void 0!==e.value?e.value:f.value);var p={};"datepicker"!==e.type&&"colorpicker"!==e.type&&"value"in e&&(p.value=l);var d=dy({name:e.name,type:i?s:void 0,placeholder:e.placeholder,inputmode:e.inputmode,id:e.inputId,size:e.size,accept:e.accept,autocomplete:e.autocomplete,autocorrect:e.autocorrect,autocapitalize:e.autocapitalize,spellcheck:e.spellcheck,autofocus:e.autofocus,autosave:e.autosave,disabled:e.disabled,max:e.max,maxlength:e.maxlength,min:e.min,minlength:e.minlength,step:e.step,multiple:e.multiple,readonly:e.readonly,required:e.required,pattern:e.pattern,validate:"string"==typeof e.validate&&e.validate.length?e.validate:void 0,tabindex:e.tabindex});return oo(t,Hx({ref:c,style:e.inputStyle},d,{"data-validate":!0===e.validate||""===e.validate||!0===e.validateOnBlur||""===e.validateOnBlur||void 0,"data-validate-on-blur":!0===e.validateOnBlur||""===e.validateOnBlur||void 0,"data-error-message":e.errorMessageForce?void 0:e.errorMessage,class:u,onFocus:x,onBlur:C,onInput:w,onChange:E},p),[n])};return function(){var t;e.input&&(t="select"===e.type||"textarea"===e.type||"file"===e.type?"select"===e.type?S("select",r.default&&r.default()):"file"===e.type?S("input"):S("textarea"):"texteditor"===e.type?oo(_x,Hx({value:e.value,resizable:e.resizable,placeholder:e.placeholder,onTexteditorFocus:x,onTexteditorBlur:C,onTexteditorInput:w,onTexteditorChange:E},e.textEditorParams||{})):S("input"));var n=!!e.errorMessage||r["error-message"],i=oo("div",{ref:p,class:gy("item-content item-input",!e.wrap&&{disabled:e.disabled},!e.wrap&&Py(e),{"inline-label":e.inlineLabel,"item-input-outline":e.outline,"item-input-focused":o.value,"item-input-with-info":!!e.info||r.info,"item-input-with-value":h.value,"item-input-with-error-message":n&&e.errorMessageForce||a.value,"item-input-invalid":n&&e.errorMessageForce||a.value})},[r["content-start"]&&r["content-start"](),(e.media||r.media)&&oo("div",{class:"item-media"},[e.media&&oo("img",{src:e.media}),r.media&&r.media()]),oo("div",{class:"item-inner"},[r["inner-start"]&&r["inner-start"](),(e.label||r.label)&&oo("div",{class:gy("item-title item-label",{"item-floating-label":e.floatingLabel})},[e.label,r.label&&r.label()]),oo("div",{class:gy("item-input-wrap",{"input-dropdown":"auto"===e.dropdown?"select"===e.type:e.dropdown})},[t,r.input&&r.input(),n&&e.errorMessageForce&&oo("div",{class:"item-input-error-message"},[e.errorMessage,r["error-message"]&&r["error-message"]()]),e.clearButton&&oo("span",{class:"input-clear-button"}),(e.info||r.info)&&oo("div",{class:"item-input-info"},[e.info,r.info&&r.info()])]),r.inner&&r.inner(),r["inner-end"]&&r["inner-end"]()]),r.content&&r.content(),r["content-end"]&&r["content-end"]()]);return e.wrap?oo("li",{ref:u,class:gy({disabled:e.disabled},Py(e))},[r["root-start"]&&r["root-start"](),i,k.value&&oo("div",{class:"sortable-handler"}),r.root&&r.root(),r["root-end"]&&r["root-end"]()]):i}}};function Ux(){return Ux=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ux.apply(this,arguments)}var qx={name:"f7-list-item-cell",render:function(e,t){return da(),ba("div",{class:e.classes},[vr(e.$slots,"default")],2)},props:Ux({},Dy),setup:function(e){return{classes:ao((function(){return gy("item-cell",Py(e))}))}}};function Gx(){return Gx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gx.apply(this,arguments)}var Xx={name:"f7-list-item-row",render:function(e,t){return da(),ba("div",{class:e.classes},[vr(e.$slots,"default")],2)},props:Gx({},Dy),setup:function(e){return{classes:ao((function(){return gy("item-row",Py(e))}))}}};function Yx(){return Yx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yx.apply(this,arguments)}var Kx={name:"f7-list-item",props:Yx({title:[String,Number],text:[String,Number],media:String,subtitle:[String,Number],header:[String,Number],footer:[String,Number],tooltip:String,tooltipTrigger:String,link:[Boolean,String],target:String,tabLink:[Boolean,String],tabLinkActive:Boolean,selected:Boolean,after:[String,Number],badge:[String,Number],badgeColor:String,mediaItem:Boolean,mediaList:Boolean,divider:Boolean,groupTitle:Boolean,swipeout:Boolean,swipeoutOpened:Boolean,sortable:{type:Boolean,default:void 0},sortableOpposite:{type:Boolean,default:void 0},accordionItem:Boolean,accordionItemOpened:Boolean,smartSelect:Boolean,smartSelectParams:Object,noChevron:Boolean,chevronCenter:Boolean,checkbox:Boolean,radio:Boolean,radioIcon:String,checked:Boolean,indeterminate:Boolean,name:String,value:{type:[String,Number,Array],default:void 0},readonly:Boolean,required:Boolean,disabled:Boolean,virtualListIndex:Number},Dy,$y,Ly),emits:["click","swipeout","swipeout:overswipeenter","swipeout:overswipeexit","swipeout:deleted","swipeout:delete","swipeout:close","swipeout:closed","swipeout:open","swipeout:opened","accordion:beforeclose","accordion:close","accordion:closed","accordion:beforeopen","accordion:open","accordion:opened","change","update:checked"],setup:function(e,t){var n=t.slots,r=t.emit,a=Fr("ListContext",{value:{listIsMedia:!1,listIsSortable:!1,listIsSortableOpposite:!1,listIsSimple:!1}}),o=ao((function(){return a.value.listIsMedia||!1})),i=ao((function(){return a.value.listIsSortable||!1})),s=ao((function(){return a.value.listIsSortableOpposite||!1})),l=ao((function(){return a.value.listIsSimple||!1})),u=Et(null),c=Et(null),p=Et(null),d=function(e){"input"!==e.target.tagName.toLowerCase()&&r("click",e)},f=function(e){u.value===e&&r("swipeout:overswipeenter")},h=function(e){u.value===e&&r("swipeout:overswipeexit")},v=function(e){u.value===e&&r("swipeout:deleted")},m=function(e){u.value===e&&r("swipeout:delete")},g=function(e){u.value===e&&r("swipeout:close")},b=function(e){u.value===e&&r("swipeout:closed")},y=function(e){u.value===e&&r("swipeout:open")},w=function(e){u.value===e&&r("swipeout:opened")},x=function(e,t){u.value===e&&r("swipeout",t)},C=function(e,t){u.value===e&&r("accordion:beforeclose",t)},E=function(e){u.value===e&&r("accordion:close")},k=function(e){u.value===e&&r("accordion:closed")},S=function(e,t){u.value===e&&r("accordion:beforeopen",t)},T=function(e){u.value===e&&r("accordion:open")},O=function(e){u.value===e&&r("accordion:opened")},I=function(e){r("change",e),r("update:checked",e.target.checked)};yw(u,e),Rw(c,e),Px(e,(function(){}),(function(){return u.value.querySelector("a.smart-select")})),En((function(){return e.swipeoutOpened}),(function(t){e.swipeout&&u.value&&by&&(t?by.swipeout.open(u.value):by.swipeout.close(u.value))})),Zn((function(){Ny((function(){e.swipeout&&(by.on("swipeoutOpen",y),by.on("swipeoutOpened",w),by.on("swipeoutClose",g),by.on("swipeoutClosed",b),by.on("swipeoutDelete",m),by.on("swipeoutDeleted",v),by.on("swipeoutOverswipeEnter",f),by.on("swipeoutOverswipeExit",h),by.on("swipeout",x)),e.accordionItem&&(by.on("accordionBeforeOpen",S),by.on("accordionOpen",T),by.on("accordionOpened",O),by.on("accordionBeforeClose",C),by.on("accordionClose",E),by.on("accordionClosed",k)),e.swipeout&&e.swipeoutOpened&&by.swipeout.open(u.value)})),e.checkbox&&p.value&&(p.value.indeterminate=!!e.indeterminate)})),nr((function(){by&&(by.off("swipeoutOpen",y),by.off("swipeoutOpened",w),by.off("swipeoutClose",g),by.off("swipeoutClosed",b),by.off("swipeoutDelete",m),by.off("swipeoutDeleted",v),by.off("swipeoutOverswipeEnter",f),by.off("swipeoutOverswipeExit",h),by.off("swipeout",x),by.off("accordionBeforeOpen",S),by.off("accordionOpen",T),by.off("accordionOpened",O),by.off("accordionBeforeClose",C),by.off("accordionClose",E),by.off("accordionClosed",k))})),En((function(){return e.indeterminate}),(function(e){p.value&&(p.value.indeterminate=!!e)}));var N=ao((function(){return e.mediaItem||e.mediaList||o.value})),A=ao((function(){return!0===e.sortable||!1===e.sortable?e.sortable:i.value})),_=ao((function(){return A.value&&(e.sortableOpposite||s.value)})),R=ao((function(){return Yx({href:!0===e.link?"":e.link||e.href,target:e.target,"data-tab":fy(e.tabLink)&&e.tabLink||void 0},zy(e),Vy(e))})),M=ao((function(){return gy({"item-link":!0,"smart-select":e.smartSelect,"tab-link":e.tabLink||""===e.tabLink,"tab-link-active":e.tabLinkActive,"item-selected":e.selected},Fy(e),jy(e))})),P=ao((function(){return gy("item-content",{"item-checkbox":e.checkbox,"item-radio":e.radio,"item-radio-icon-start":e.radio&&"start"===e.radioIcon,"item-radio-icon-end":e.radio&&"end"===e.radioIcon},Py(e))})),D=ao((function(){return gy({"item-divider":e.divider,"list-group-title":e.groupTitle,"media-item":N.value,swipeout:e.swipeout,"accordion-item":e.accordionItem,"accordion-item-opened":e.accordionItemOpened,disabled:e.disabled&&!(e.radio||e.checkbox),"no-chevron":e.noChevron,"chevron-center":e.chevronCenter,"disallow-sorting":!1===e.sortable},Py(e))}));return function(){var t,r;if(l.value||(r=function(e){var t,n,r,a,o,i,s,l,u,c,p,d,f,h,v=void 0===e?{}:e,m=v.props,g=v.slots,b=v.inputElRef,y=v.onChange,w=v.onClick,x=v.isMediaComputed,C=v.isSortableComputed,E=v.isSortableOppositeComputed,k=v.itemContentClasses,S=m.radio,T=m.checkbox,O=m.value,I=m.name,N=m.readonly,A=m.disabled,_=m.checked,R=m.required,M=m.media,P=m.header,D=m.footer,B=m.title,L=m.subtitle,z=m.text,F=m.after,$=m.badge,V=m.badgeColor,j=m.swipeout,H=m.sortable,W=m.accordionItem;return(S||T)&&(c=oo("input",{ref:b,value:O,name:I,checked:_,readonly:N,disabled:A,required:R,type:S?"radio":"checkbox",onChange:y}),p=oo("i",{class:"icon icon-"+(S?"radio":"checkbox")})),(M||g.media)&&(M&&(h=oo("img",{src:M})),u=oo("div",{class:"item-media"},[h,g.media&&g.media()])),(P||g.header)&&(d=oo("div",{class:"item-header"},[P,g.header&&g.header()])),(D||g.footer)&&(f=oo("div",{class:"item-footer"},[D,g.footer&&g.footer()])),(B||g.title||!x.value&&d||!x.value&&f)&&(t=oo("div",{class:"item-title"},[!x.value&&d,B,g.title&&g.title(),!x.value&&f])),(L||g.subtitle)&&(s=oo("div",{class:"item-subtitle"},[L,g.subtitle&&g.subtitle()])),(z||g.text)&&(l=oo("div",{class:"item-text"},[z,g.text&&g.text()])),(F||$||g.after)&&(F&&(r=oo("span",[F])),$&&(a=oo(xw,{color:V},(function(){return $}))),n=oo("div",{class:"item-after"},[g["after-start"]&&g["after-start"](),r,a,g.after&&g.after(),g["after-end"]&&g["after-end"]()])),x.value?(i=oo("div",{class:"item-title-row"},[g["before-title"]&&g["before-title"](),t,g["after-title"]&&g["after-title"](),n]),o=oo("div",{class:"item-inner"},[g["inner-start"]&&g["inner-start"],d,i,s,l,j||W?null:g.default&&g.default(),g.inner&&g.inner(),f,g["inner-end"]&&g["inner-end"]])):o=oo("div",{class:"item-inner"},[g["inner-start"]&&g["inner-start"](),g["before-title"]&&g["before-title"](),t,g["after-title"]&&g["after-title"](),n,j||W?null:g.default&&g.default(),g.inner&&g.inner(),g["inner-end"]&&g["inner-end"]()]),oo(T||S?"label":"div",{class:k.value,onClick:w},[C.value&&!1!==H&&E.value&&oo("div",{class:"sortable-handler"}),g["content-start"]&&g["content-start"](),c,p,u,o,g.content&&g.content(),g["content-end"]&&g["content-end"]()])}({props:e,slots:n,inputElRef:p,onChange:I,onClick:e.link||e.href||e.accordionItem||e.smartSelect?void 0:d,isMediaComputed:N,isSortableComputed:A,isSortableOppositeComputed:_,itemContentClasses:P}),(e.link||e.href||e.accordionItem||e.smartSelect)&&(t=oo("a",Yx({ref:c,class:M.value},R.value,{onClick:d}),[r]))),e.divider||e.groupTitle)return oo("li",{ref:u,class:D.value,"data-virtual-list-index":e.virtualListIndex,onClick:d},[e.title,n.default&&n.default()]);if(l.value)return oo("li",{ref:u,class:D.value,onClick:d,"data-virtual-list-index":e.virtualListIndex},[e.title,n.default&&n.default()]);var a=e.link||e.href||e.smartSelect||e.accordionItem?t:r;return oo("li",{ref:u,class:D.value,"data-virtual-list-index":e.virtualListIndex},[n["root-start"]&&n["root-start"](),e.swipeout?oo("div",{class:"swipeout-content"},[a]):a,A.value&&!1!==e.sortable&&!_.value&&oo("div",{class:"sortable-handler"}),(e.swipeout||e.accordionItem)&&n.default(),n.root&&n.root(),n["root-end"]&&n["root-end"]()])}}};function Jx(){return Jx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jx.apply(this,arguments)}var Qx={name:"f7-list",props:Jx({inset:Boolean,xsmallInset:Boolean,smallInset:Boolean,mediumInset:Boolean,largeInset:Boolean,xlargeInset:Boolean,mediaList:Boolean,sortable:Boolean,sortableTapHold:Boolean,sortableEnabled:Boolean,sortableMoveElements:{type:Boolean,default:void 0},sortableOpposite:Boolean,accordionList:Boolean,accordionOpposite:Boolean,contactsList:Boolean,simpleList:Boolean,linksList:Boolean,menuList:Boolean,noHairlines:Boolean,noHairlinesBetween:Boolean,noHairlinesMd:Boolean,noHairlinesBetweenMd:Boolean,noHairlinesIos:Boolean,noHairlinesBetweenIos:Boolean,noHairlinesAurora:Boolean,noHairlinesBetweenAurora:Boolean,noChevron:Boolean,chevronCenter:Boolean,tab:Boolean,tabActive:Boolean,form:Boolean,formStoreData:Boolean,inlineLabels:Boolean,virtualList:Boolean,virtualListParams:Object},Dy),emits:["submit","sortable:enable","sortable:disable","sortable:sort","sortable:move","virtual:itembeforeinsert","virtual:beforeclear","virtual:itemsbeforeinsert","virtual:itemsafterinsert","tab:hide","tab:show"],setup:function(e,t){var n=t.emit,r=t.slots,a=null,o=Et(null),i=function(e){n("submit",e)},s=function(e){o.value===e&&n("sortable:enable")},l=function(e){o.value===e&&n("sortable:disable")},u=function(e,t,r){o.value===r&&n("sortable:sort",t)},c=function(e,t){o.value===t&&n("sortable:move",e,t)};Iw(o,n),Zn((function(){Ny((function(){if(by.on("sortableEnable",s),by.on("sortableDisable",l),by.on("sortableSort",u),by.on("sortableMove",c),e.virtualList){var t=e.virtualListParams||{};(t.renderItem||t.renderExternal)&&(t.items&&(t.items=mt(t.items)),a=by.virtualList.create(my({el:o.value,on:{itemBeforeInsert:function(e,t){n("virtual:itembeforeinsert",this,e,t)},beforeClear:function(e){n("virtual:beforeclear",this,e)},itemsBeforeInsert:function(e){n("virtual:itemsbeforeinsert",this,e)},itemsAfterInsert:function(e){n("virtual:itemsafterinsert",this,e)}}},t)))}}))})),nr((function(){by&&(by.off("sortableEnable",s),by.off("sortableDisable",l),by.off("sortableSort",u),by.off("sortableMove",c),e.virtualList&&a&&(a.destroy&&a.destroy(),a=null))}));var p=ao((function(){return gy("list",{inset:e.inset,"xsmall-inset":e.xsmallInset,"small-inset":e.smallInset,"medium-inset":e.mediumInset,"large-inset":e.largeInset,"xlarge-inset":e.xlargeInset,"media-list":e.mediaList,"simple-list":e.simpleList,"links-list":e.linksList,"menu-list":e.menuList,sortable:e.sortable,"sortable-tap-hold":e.sortableTapHold,"sortable-enabled":e.sortableEnabled,"sortable-opposite":e.sortableOpposite,"accordion-list":e.accordionList,"accordion-opposite":e.accordionOpposite,"contacts-list":e.contactsList,"virtual-list":e.virtualList,tab:e.tab,"tab-active":e.tabActive,"no-hairlines":e.noHairlines,"no-hairlines-md":e.noHairlinesMd,"no-hairlines-ios":e.noHairlinesIos,"no-hairlines-aurora":e.noHairlinesAurora,"no-hairlines-between":e.noHairlinesBetween,"no-hairlines-between-md":e.noHairlinesBetweenMd,"no-hairlines-between-ios":e.noHairlinesBetweenIos,"no-hairlines-between-aurora":e.noHairlinesBetweenAurora,"form-store-data":e.formStoreData,"inline-labels":e.inlineLabels,"no-chevron":e.noChevron,"chevron-center":e.chevronCenter},Py(e))})),d=ao((function(){return e.form?"form":"div"}));return zr("ListContext",ao((function(){return{listIsMedia:e.mediaList,listIsSimple:e.simpleList,listIsSortable:e.sortable,listIsSortableOpposite:e.sortableOpposite}}))),function(){var t=r.list,n=r.default,a=[],s=[],l=t||[],u=!1;return n&&n().forEach((function(e){if(void 0!==e){var t=e.type&&e.type.name?e.type.name:e.type;t&&"symbol"==typeof t?(u=!0,l.push(e)):!t||t&&!("li"===t||t.indexOf("f7-list-item")>=0||t.indexOf("f7-list-button")>=0||t.indexOf("f7-list-input")>=0)?u?s.push(e):a.push(e):t&&(u=!0,l.push(e))}})),oo(d.value,{ref:o,class:p.value,"data-sortable-move-elements":void 0!==e.sortableMoveElements?e.sortableMoveElements.toString():void 0,onSubmit:i},[r["before-list"]&&r["before-list"](),a,l.length>0&&oo("ul",l),r["after-list"]&&r["after-list"](),s])}}};function Zx(){return Zx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zx.apply(this,arguments)}var eC={name:"f7-login-screen-title",render:function(e,t){return da(),ba("div",{class:e.classes},[vr(e.$slots,"default")],2)},props:Zx({},Dy),setup:function(e){return{classes:ao((function(){return gy("login-screen-title",Py(e))}))}}};function tC(){return tC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tC.apply(this,arguments)}var nC={name:"f7-login-screen",render:function(e,t){return da(),ba("div",{ref:"elRef",class:e.classes},[vr(e.$slots,"default")],2)},props:tC({opened:Boolean,animate:{type:Boolean,default:void 0},containerEl:{type:[String,Object],default:void 0}},Dy),emits:["loginscreen:open","loginscreen:opened","loginscreen:close","loginscreen:closed","update:opened"],setup:function(e,t){var n=t.emit,r=Et(null),a=e.opened,o=!1,i=Et(null),s=function(e){a=!0,o=!1,n("loginscreen:open",e),n("update:opened",!0)},l=function(e){n("loginscreen:opened",e)},u=function(e){a=!1,o=!0,n("loginscreen:close",e)},c=function(e){o=!1,n("loginscreen:closed",e),n("update:opened",!1)};En((function(){return e.opened}),(function(e){r.value&&(e?r.value.open():r.value.close())})),Zn((function(){i.value&&Ny((function(){var t={el:i.value,on:{open:s,opened:l,close:u,closed:c}};void 0!==e.animate&&(t.animate=e.animate),void 0!==e.containerEl&&(t.containerEl=e.containerEl),r.value=by.loginScreen.create(t),e.opened&&r.value.open(!1)}))})),nr((function(){r.value&&r.value.destroy(),r.value=null}));var p=ao((function(){return gy("login-screen",iw({isOpened:a,isClosing:o}),Py(e))}));return{elRef:i,classes:p}}};function rC(){return rC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rC.apply(this,arguments)}var aC={name:"f7-menu-dropdown-item",render:function(e,t){return da(),ba("div",Da({ref:"elRef",class:e.classes},e.attrs,{onClick:t[1]||(t[1]=function(){return e.onClick&&e.onClick.apply(e,arguments)})}),[Na(Z(e.text)+" ",1),vr(e.$slots,"default")],16)},props:rC({text:String,link:Boolean,href:String,target:String,divider:Boolean},Dy,Ly,$y),emits:["click"],setup:function(e,t){var n=t.emit,r=Et(null);Rw(r,e);var a=ao((function(){return e.link||e.href||""===e.href})),o=ao((function(){return a.value?"a":"div"}));return{classes:ao((function(){return gy({"menu-dropdown-link":a.value&&!e.divider,"menu-dropdown-item":!a.value&&!e.divider,"menu-dropdown-divider":e.divider},Py(e),Fy(e),jy(e),{"menu-close":void 0===e.menuClose})})),attrs:ao((function(){var t=e.href;return void 0===t&&e.link&&(t="#"),rC({href:t,target:e.target},zy(e),Vy(e))})),tag:o,onClick:function(e){n("click",e)},elRef:r}}};function oC(){return oC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oC.apply(this,arguments)}var iC={name:"f7-menu-dropdown",render:function(e,t){return da(),ba("div",{class:e.classes},[Sa("div",{class:"menu-dropdown-content",style:{height:e.contentHeight}},[vr(e.$slots,"default")],4)],2)},props:oC({contentHeight:String,position:String,left:Boolean,center:Boolean,right:Boolean},Dy),setup:function(e){return{classes:ao((function(){var t=e.position||"left";return e.left&&(t="left"),e.center&&(t="center"),e.right&&(t="right"),gy("menu-dropdown","menu-dropdown-"+t,Py(e))}))}}};function sC(){return sC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sC.apply(this,arguments)}var lC={key:0,class:"menu-item-content"};var uC={name:"f7-menu-item",render:function(e,t){var n=ur("f7-use-icon");return da(),ba(pr(e.tag),Da({ref:"elRef",class:e.classes},e.attrs,{onClick:e.onClick}),{default:hn((function(){return[e.text||e.$slots.text||e.icon?(da(),ba("div",lC,[Na(Z(e.text)+" ",1),e.icon?(da(),ba(n,{key:0,icon:e.icon},null,8,["icon"])):_a("",!0),vr(e.$slots,"text")])):_a("",!0),vr(e.$slots,"default")]})),_:3},16,["class","onClick"])},components:{f7UseIcon:Uw},props:sC({text:String,iconOnly:Boolean,href:String,link:Boolean,target:String,dropdown:Boolean,tooltip:String,tooltipTrigger:String},Dy,Ly,$y,By),emits:["click","menu:opened","menu:closed"],setup:function(e,t){var n=t.slots,r=t.emit,a=Et(null);yw(a,e);var o=function(e){a.value===e&&r("menu:opened",e)},i=function(e){a.value===e&&r("menu:closed",e)};Rw(a,e);Zn((function(){Ny((function(){by.on("menuOpened",o),by.on("menuClosed",i)}))})),nr((function(){return by.off("menuOpened",o),void by.off("menuClosed",o)}));var s=ao((function(){return _w(e)}));return{tag:ao((function(){return e.link||e.href||""===e.href?"a":"div"})),classes:ao((function(){var t;return t=!(!e.iconOnly&&(e.text||n.text)),gy({"menu-item":!0,"menu-item-dropdown":e.dropdown||""===e.dropdown,"icon-only":t},Py(e),Fy(e),jy(e))})),attrs:ao((function(){var t=e.href;return void 0===t&&e.link&&(t="#"),sC({href:t,target:e.target},zy(e),Vy(e))})),icon:s,onClick:function(e){r("click",e)},elRef:a}}};function cC(){return cC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cC.apply(this,arguments)}var pC={class:"menu-inner"};var dC={name:"f7-menu",render:function(e,t){return da(),ba("div",{class:e.classes},[Sa("div",pC,[vr(e.$slots,"default")])],2)},props:cC({},Dy),setup:function(e){return{classes:ao((function(){return gy("menu",Py(e))}))}}};function fC(){return fC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fC.apply(this,arguments)}var hC={class:"message-content"},vC={key:0,class:"message-image"},mC={key:1,class:"message-text-header"},gC={key:0,class:"message-typing-indicator"},bC=Sa("div",null,null,-1),yC=Sa("div",null,null,-1),wC=Sa("div",null,null,-1),xC={key:3,class:"message-text-footer"};var CC={name:"f7-message",render:function(e,t){return da(),ba("div",{class:e.classes,onClick:t[7]||(t[7]=function(){return e.onClick&&e.onClick.apply(e,arguments)})},[vr(e.$slots,"start"),e.hasAvatar?(da(),ba("div",{key:0,class:"message-avatar",style:{backgroundImage:e.avatar&&"url("+e.avatar+")"},onClick:t[1]||(t[1]=function(){return e.onAvatarClick&&e.onAvatarClick.apply(e,arguments)})},[vr(e.$slots,"avatar")],4)):_a("",!0),Sa("div",hC,[vr(e.$slots,"content-start"),e.hasName?(da(),ba("div",{key:0,class:"message-name",onClick:t[2]||(t[2]=function(){return e.onNameClick&&e.onNameClick.apply(e,arguments)})},[Na(Z(e.name)+" ",1),vr(e.$slots,"name")])):_a("",!0),e.hasHeader?(da(),ba("div",{key:1,class:"message-header",onClick:t[3]||(t[3]=function(){return e.onHeaderClick&&e.onHeaderClick.apply(e,arguments)})},[Na(Z(e.header)+" ",1),vr(e.$slots,"header")])):_a("",!0),Sa("div",{class:"message-bubble",onClick:t[5]||(t[5]=function(){return e.onBubbleClick&&e.onBubbleClick.apply(e,arguments)})},[vr(e.$slots,"bubble-start"),e.hasImage?(da(),ba("div",vC,[vr(e.$slots,"image",{},(function(){return[Sa("img",{src:e.image},null,8,["src"])]}))])):_a("",!0),e.hasTextHeader?(da(),ba("div",mC,[Na(Z(e.textHeader)+" ",1),vr(e.$slots,"text-header")])):_a("",!0),e.hasText?(da(),ba("div",{key:2,class:"message-text",onClick:t[4]||(t[4]=function(){return e.onTextClick&&e.onTextClick.apply(e,arguments)})},[Na(Z(e.text)+" ",1),vr(e.$slots,"text"),e.typing?(da(),ba("div",gC,[bC,yC,wC])):_a("",!0)])):_a("",!0),e.hasTextFooter?(da(),ba("div",xC,[Na(Z(e.textFooter)+" ",1),vr(e.$slots,"text-footer")])):_a("",!0),vr(e.$slots,"bubble-end"),vr(e.$slots,"default")]),e.hasFooter?(da(),ba("div",{key:2,class:"message-footer",onClick:t[6]||(t[6]=function(){return e.onFooterClick&&e.onFooterClick.apply(e,arguments)})},[Na(Z(e.footer)+" ",1),vr(e.$slots,"footer")])):_a("",!0),vr(e.$slots,"content-end")]),vr(e.$slots,"end")],2)},props:fC({text:String,name:String,avatar:String,type:{type:String,default:"sent"},image:String,header:String,footer:String,textHeader:String,textFooter:String,first:Boolean,last:Boolean,tail:Boolean,sameName:Boolean,sameHeader:Boolean,sameFooter:Boolean,sameAvatar:Boolean,typing:Boolean},Dy),emits:["click","click:name","click:text","click:avatar","click:header","click:footer","click:bubble"],setup:function(e,t){var n=t.emit,r=t.slots;return{classes:ao((function(){return gy("message",{"message-sent":"sent"===e.type,"message-received":"received"===e.type,"message-typing":e.typing,"message-first":e.first,"message-last":e.last,"message-tail":e.tail,"message-same-name":e.sameName,"message-same-header":e.sameHeader,"message-same-footer":e.sameFooter,"message-same-avatar":e.sameAvatar},Py(e))})),onClick:function(e){n("click",e)},onNameClick:function(e){n("click:name",e)},onTextClick:function(e){n("click:text",e)},onAvatarClick:function(e){n("click:avatar",e)},onHeaderClick:function(e){n("click:header",e)},onFooterClick:function(e){n("click:footer",e)},onBubbleClick:function(e){n("click:bubble",e)},hasAvatar:ao((function(){return r.avatar||e.avatar})),hasName:ao((function(){return r.name||e.name})),hasHeader:ao((function(){return r.header||e.header})),hasImage:ao((function(){return r.image||e.image})),hasTextHeader:ao((function(){return r["text-header"]||e.textHeader})),hasText:ao((function(){return r.text||e.text||e.typing})),hasTextFooter:ao((function(){return r["text-footer"]||e.textFooter})),hasFooter:ao((function(){return r.footer||e.footer}))}}};function EC(){return EC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EC.apply(this,arguments)}var kC={name:"f7-messagebar-attachment",render:function(e,t){return da(),ba("div",{class:e.classes,onClick:t[2]||(t[2]=function(){return e.onClick&&e.onClick.apply(e,arguments)})},[e.image?(da(),ba("img",{key:0,src:e.image},null,8,["src"])):_a("",!0),e.deletable?(da(),ba("span",{key:1,class:"messagebar-attachment-delete",onClick:t[1]||(t[1]=function(){return e.onDeleteClick&&e.onDeleteClick.apply(e,arguments)})})):_a("",!0),vr(e.$slots,"default")],2)},props:EC({image:String,deletable:{type:Boolean,default:!0}},Dy),emits:["attachment:click","attachment:delete"],setup:function(e,t){var n=t.emit;return{classes:ao((function(){return gy("messagebar-attachment",Py(e))})),onClick:function(e){n("attachment:click",e)},onDeleteClick:function(e){n("attachment:delete",e)}}}};function SC(){return SC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SC.apply(this,arguments)}var TC={name:"f7-messagebar-attachments",render:function(e,t){return da(),ba("div",{class:e.classes},[vr(e.$slots,"default")],2)},props:SC({},Dy),setup:function(e){return{classes:ao((function(){return gy("messagebar-attachments",Py(e))}))}}};function OC(){return OC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OC.apply(this,arguments)}var IC=Sa("i",{class:"icon icon-checkbox"},null,-1);var NC={name:"f7-messagebar-sheet-image",render:function(e,t){return da(),ba("label",{class:e.classes,style:e.styles},[Sa("input",{type:"checkbox",checked:e.checked,onChange:t[1]||(t[1]=function(){return e.onChange&&e.onChange.apply(e,arguments)})},null,40,["checked"]),IC,vr(e.$slots,"default")],6)},props:OC({image:String,checked:Boolean},Dy),emits:["checked","unchecked","change","update:checked"],setup:function(e,t){var n=t.emit;return{classes:ao((function(){return gy("messagebar-sheet-image","checkbox",Py(e))})),styles:ao((function(){return{backgroundImage:e.image&&"url("+e.image+")"}})),onChange:function(e){e.target.checked?n("checked",e):n("unchecked",e),n("update:checked",e.target.checked),n("change",e)}}}};function AC(){return AC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AC.apply(this,arguments)}var _C={name:"f7-messagebar-sheet-item",render:function(e,t){return da(),ba("div",{class:e.classes},[vr(e.$slots,"default")],2)},props:AC({},Dy),setup:function(e){return{classes:ao((function(){return gy("messagebar-sheet-item",Py(e))}))}}};function RC(){return RC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RC.apply(this,arguments)}var MC={name:"f7-messagebar-sheet",render:function(e,t){return da(),ba("div",{class:e.classes},[vr(e.$slots,"default")],2)},props:RC({},Dy),setup:function(e){return{classes:ao((function(){return gy("messagebar-sheet",Py(e))}))}}};function PC(){return PC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PC.apply(this,arguments)}var DC={name:"f7-messagebar",props:PC({sheetVisible:Boolean,attachmentsVisible:Boolean,top:Boolean,resizable:{type:Boolean,default:!0},bottomOffset:{type:Number,default:0},topOffset:{type:Number,default:0},maxHeight:Number,resizePage:{type:Boolean,default:!0},sendLink:String,value:[String,Number,Array],disabled:Boolean,readonly:Boolean,textareaId:[Number,String],name:String,placeholder:{type:String,default:"Message"},init:{type:Boolean,default:!0}},Dy),emits:["change","input","focus","blur","submit","send","click","messagebar:attachmentdelete","messagebar:attachmentclick","messagebar:resizepage","update:value"],setup:function(e,t){var n=t.emit,r=t.slots,a=Et(null),o=Et(null),i=null,s=!1,l=!1,u=function(e){n("change",e)},c=function(e){n("input",e),n("update:value",e.target.value)},p=function(e){n("focus",e)},d=function(e){n("blur",e)},f=function(e){var t=o.value.$el,r=i?function(){i.clear()}:function(){};n("submit",t,r),n("send",t,r),n("click",e)},h=function(e,t,r){n("messagebar:attachmentdelete",e,t,r)},v=function(e,t,r){n("messagebar:attachmentclick",e,t,r)},m=function(e){n("messagebar:resizepage",e)};En((function(){return e.sheetVisible}),(function(){e.resizable&&i&&(s=!0)})),En((function(){return e.attachmentsVisible}),(function(){e.resizable&&i&&(l=!0)})),Zn((function(){if(e.init&&a.value){var t=dy({el:a.value,top:e.top,resizePage:e.resizePage,bottomOffset:e.bottomOffset,topOffset:e.topOffset,maxHeight:e.maxHeight,on:{attachmentDelete:h,attachmentClick:v,resizePage:m}});Ny((function(){i=by.messagebar.create(t)}))}})),tr((function(){i&&(s&&(s=!1,i.sheetVisible=e.sheetVisible,i.resizePage()),l&&(l=!1,i.attachmentsVisible=e.attachmentsVisible,i.resizePage()))})),nr((function(){i&&i.destroy&&i.destroy(),i=null}));var g=ao((function(){return gy("toolbar","messagebar",{"messagebar-attachments-visible":e.attachmentsVisible,"messagebar-sheet-visible":e.sheetVisible},Py(e))}));return function(){var t={};"value"in e&&(t.value=e.value);var n,i,s=r.default,l=r["before-inner"],h=r["after-inner"],v=r["send-link"],m=r["inner-start"],b=r["inner-end"],y=r["before-area"],w=r["after-area"],x=[];return s&&s().forEach((function(e){if(void 0!==e){var t=e.type&&e.type.name?e.type.name:e.type;t&&(t.indexOf("messagebar-attachments")>=0||"F7MessagebarAttachments"===t||"f7-messagebar-attachments"===t)?n=e:t&&(t.indexOf("messagebar-sheet")>=0||"F7MessagebarSheet"===t||"f7-messagebar-sheet"===t)?i=e:x.push(e)}})),oo("div",{class:g.value,ref:a},[l&&l(),oo("div",{class:"toolbar-inner"},[m&&m(),oo("div",{class:"messagebar-area"},[y&&y(),n,oo(Mx,PC({id:e.textareaId,ref:o,type:"textarea",wrap:!1,placeholder:e.placeholder,disabled:e.disabled,name:e.name,readonly:e.readonly,resizable:e.resizable,onInput:c,onChange:u,onFocus:p,onBlur:d},t)),w&&w()]),(e.sendLink&&e.sendLink.length>0||v)&&oo(Bx,{onClick:f},[v?v():e.sendLink]),b&&b(),x]),h&&h(),i])}}};function BC(){return BC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BC.apply(this,arguments)}var LC={name:"f7-messages-title",render:function(e,t){return da(),ba("div",{class:e.classes},[vr(e.$slots,"default")],2)},props:BC({},Dy),setup:function(e){return{classes:ao((function(){return gy("messages-title",Py(e))}))}}};function zC(){return zC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zC.apply(this,arguments)}var FC={name:"f7-messages",render:function(e,t){return da(),ba("div",{ref:"elRef",class:e.classes},[vr(e.$slots,"default")],2)},props:zC({autoLayout:{type:Boolean,default:!1},messages:{type:Array,default:function(){return[]}},newMessagesFirst:{type:Boolean,default:!1},scrollMessages:{type:Boolean,default:!0},scrollMessagesOnEdge:{type:Boolean,default:!0},typing:{type:Boolean,default:!1},firstMessageRule:Function,lastMessageRule:Function,tailMessageRule:Function,sameNameMessageRule:Function,sameHeaderMessageRule:Function,sameFooterMessageRule:Function,sameAvatarMessageRule:Function,customClassMessageRule:Function,renderMessage:Function,init:{type:Boolean,default:!0}},Dy),setup:function(e,t){var n=t.slots,r=null,a=null,o=Et(null);Zn((function(){e.init&&Ny((function(){(r=by.messages.create(dy({el:o.value,autoLayout:e.autoLayout,messages:e.messages,newMessagesFirst:e.newMessagesFirst,scrollMessages:e.scrollMessages,scrollMessagesOnEdge:e.scrollMessagesOnEdge,firstMessageRule:e.firstMessageRule,lastMessageRule:e.lastMessageRule,tailMessageRule:e.tailMessageRule,sameNameMessageRule:e.sameNameMessageRule,sameHeaderMessageRule:e.sameHeaderMessageRule,sameFooterMessageRule:e.sameFooterMessageRule,sameAvatarMessageRule:e.sameAvatarMessageRule,customClassMessageRule:e.customClassMessageRule,renderMessage:e.renderMessage})))&&e.typing&&r.showTyping()}))})),er((function(){if(e.init&&o.value){var t=o.value.children;if(t){a=t.length;for(var i=0;i<t.length;i+=1)t[i].classList.add("message-appeared");var s=function(e,t){void 0===t&&(t="default");var n=[];return e[t]&&function e(t){Array.isArray(t)&&t.forEach((function(t){t.type===ia&&t.children?e(t.children):t.type&&t.type!==la&&n.push(t)}))}(e[t]()),n}(n);r&&e.scrollMessages&&a!==s&&r.setScrollData()}}})),tr((function(){if(e.init&&o.value){var t=o.value.children;if(t){for(var n=t.length,i=0;i<t.length;i+=1)t[i].classList.contains("message-appeared")||t[i].classList.add("message-appear-from-bottom");r&&r.layout&&e.autoLayout&&r.layout(),n!==a&&r&&r.scroll&&r.scrollData&&e.scrollMessages&&r.scrollWithEdgeCheck(!0)}}})),nr((function(){r&&r.destroy&&r.destroy(),r=null})),En((function(){return e.typing}),(function(e){r&&(e?r.showTyping():r.hideTyping())}));var i=ao((function(){return gy("messages",Py(e))}));return{elRef:o,classes:i}}};function $C(){return $C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$C.apply(this,arguments)}var VC={name:"f7-nav-left",render:function(e,t){var n=ur("f7-link");return da(),ba("div",{class:e.classes},[e.backLink?(da(),ba(n,{key:0,href:e.backLinkUrl||"#",back:"",icon:"icon-back",force:e.backLinkForce||void 0,class:e.text?void 0:"icon-only",text:e.text,onClick:e.onBackClick},null,8,["href","force","class","text","onClick"])):_a("",!0),vr(e.$slots,"default")],2)},components:{f7Link:Bx},props:$C({backLink:[Boolean,String],backLinkUrl:String,backLinkForce:Boolean,backLinkShowText:{type:Boolean,default:void 0},sliding:Boolean},Dy),emits:["back:click","click:back"],setup:function(e,t){var n=t.emit,r=Mw(),a=ao((function(){var t=e.backLinkShowText;if(void 0===t&&(t=!r.value.md),e.backLink)return!0!==e.backLink&&t?e.backLink:void 0}));return{classes:ao((function(){return gy("left",{sliding:e.sliding},Py(e))})),onBackClick:function(e){n("back:click",e),n("click:back",e)},text:a}}};function jC(){return jC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jC.apply(this,arguments)}var HC={name:"f7-nav-right",render:function(e,t){return da(),ba("div",{class:e.classes},[vr(e.$slots,"default")],2)},props:jC({sliding:Boolean},Dy),setup:function(e){return{classes:ao((function(){return gy("right",{sliding:e.sliding},Py(e))}))}}};function WC(){return WC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WC.apply(this,arguments)}var UC={class:"title-large-text"};var qC={name:"f7-nav-title-large",render:function(e,t){return da(),ba("div",{class:e.classes},[Sa("div",UC,[vr(e.$slots,"default")])],2)},props:WC({},Dy),setup:function(e){return{classes:ao((function(){return gy("title-large",Py(e))}))}}};function GC(){return GC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GC.apply(this,arguments)}var XC={key:0,class:"subtitle"};var YC={name:"f7-nav-title",render:function(e,t){return da(),ba("div",{class:e.classes},[vr(e.$slots,"default"),Na(" "+Z(e.title)+" ",1),e.subtitle?(da(),ba("span",XC,Z(e.subtitle),1)):_a("",!0)],2)},props:GC({title:String,subtitle:String,sliding:Boolean},Dy),setup:function(e){return{classes:ao((function(){return gy("title",{sliding:e.sliding},Py(e))}))}}};function KC(){return KC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KC.apply(this,arguments)}var JC=Sa("div",{class:"navbar-bg"},null,-1),QC={key:3,className:"title-large"},ZC={className:"title-large-text"};var eE={name:"f7-navbar",render:function(e,t){var n=ur("f7-nav-left"),r=ur("f7-nav-title"),a=ur("f7-nav-right");return da(),ba("div",{ref:"elRef",class:e.classes},[JC,vr(e.$slots,"before-inner"),Sa("div",{class:e.innerClasses},[e.hasLeft?(da(),ba(n,{key:0,"back-link":e.backLink,"back-link-url":e.backLinkUrl,"back-link-force":e.backLinkForce,"back-link-show-text":e.backLinkShowText,"onBack:click":e.onBackClick},{default:hn((function(){return[vr(e.$slots,"nav-left"),vr(e.$slots,"left")]})),_:3},8,["back-link","back-link-url","back-link-force","back-link-show-text","onBack:click"])):_a("",!0),e.hasTitle?(da(),ba(r,{key:1,title:e.title,subtitle:e.subtitle},{default:hn((function(){return[vr(e.$slots,"title")]})),_:3},8,["title","subtitle"])):_a("",!0),e.hasRight?(da(),ba(a,{key:2},{default:hn((function(){return[vr(e.$slots,"nav-right"),vr(e.$slots,"right")]})),_:3})):_a("",!0),e.hasLargeTitle?(da(),ba("div",QC,[Sa("div",ZC,[Na(Z(e.largeTitle)+" ",1),vr(e.$slots,"title-large")])])):_a("",!0),vr(e.$slots,"default")],2),vr(e.$slots,"after-inner")],2)},components:{f7NavLeft:VC,f7NavTitle:YC,f7NavRight:HC},props:KC({backLink:[Boolean,String],backLinkUrl:String,backLinkForce:Boolean,backLinkShowText:{type:Boolean,default:void 0},sliding:{type:Boolean,default:!0},title:String,subtitle:String,hidden:Boolean,noShadow:Boolean,noHairline:Boolean,innerClass:String,innerClassName:String,large:Boolean,largeTransparent:Boolean,transparent:Boolean,titleLarge:String},Dy),emits:["navbar:hide","navbar:show","navbar:expand","navbar:collapse","navbar:transparentshow","navbar:transparenthide","click:back","back:click"],setup:function(e,t){var n=t.emit,r=t.slots,a="",o=!1,i=null,s=!1,l=!1,u=!1,c=Et(null),p=Mw(),d=function(e){c.value===e&&n("navbar:hide")},f=function(e){c.value===e&&n("navbar:show")},h=function(e){c.value===e&&(o=!1,n("navbar:expand"))},v=function(e){c.value===e&&(o=!0,n("navbar:collapse"))},m=function(e){c.value===e&&(u=!0,n("navbar:transparentshow"))},g=function(e){c.value===e&&(u=!1,n("navbar:transparenthide"))},b=function(e,t){c.value===e&&(a=t?"navbar-"+t:"")},y=function(e,t){c.value===e&&(i=t.role,s=t.detailRoot)},w=function(e){c.value===e&&(l=!0)},x=function(e){c.value===e&&(l=!1)};Zn((function(){c.value&&Ny((function(){by.navbar.size(c.value),by.on("navbarShow",f),by.on("navbarHide",d),by.on("navbarCollapse",v),by.on("navbarExpand",h),by.on("navbarPosition",b),by.on("navbarRole",y),by.on("navbarMasterStack",w),by.on("navbarMasterUnstack",x),by.on("navbarTransparentShow",m),by.on("navbarTransparentHide",g)}))})),nr((function(){by&&(by.off("navbarShow",f),by.off("navbarHide",d),by.off("navbarCollapse",v),by.off("navbarExpand",h),by.off("navbarPosition",b),by.off("navbarRole",y),by.off("navbarMasterStack",w),by.off("navbarMasterUnstack",x),by.off("navbarTransparentShow",m),by.off("navbarTransparentHide",g))}));var C=ao((function(){return p.value&&p.value.ios&&by&&!by.params.navbar.iosCenterTitle})),E=ao((function(){return p.value&&p.value.md&&by&&by.params.navbar.mdCenterTitle||p.value&&p.value.aurora&&by&&by.params.navbar.auroraCenterTitle})),k=ao((function(){return e.large||e.largeTransparent})),S=ao((function(){return e.transparent||k.value&&e.largeTransparent})),T=ao((function(){return S.value&&u})),O=ao((function(){return gy("navbar",a,{"navbar-hidden":e.hidden,"navbar-large":k.value,"navbar-large-collapsed":k.value&&o,"navbar-transparent":S.value,"navbar-transparent-visible":T.value,"navbar-master":"master"===i,"navbar-master-detail":"detail"===i,"navbar-master-detail-root":!0===s,"navbar-master-stacked":!0===l,"no-shadow":e.noShadow,"no-hairline":e.noHairline},Py(e))})),I=ao((function(){var t=e.titleLarge;return!t&&e.large&&e.title&&(t=e.title),t})),N=ao((function(){return e.backLink||r["nav-left"]||r.left})),A=ao((function(){return e.title||e.subtitle||r.title})),_=ao((function(){return r["nav-right"]||r.right})),R=ao((function(){return I.value||r["title-large"]})),M=ao((function(){return gy("navbar-inner",e.innerClass,e.innerClassName,{sliding:e.sliding,"navbar-inner-left-title":C.value,"navbar-inner-centered-title":E.value})}));return{elRef:c,classes:O,innerClasses:M,hide:function(e){by&&by.navbar.hide(c.value,e)},show:function(e){by&&by.navbar.show(c.value,e)},size:function(){by&&by.navbar.size(c.value)},largeTitle:I,hasLeft:N,hasTitle:A,hasRight:_,hasLargeTitle:R,onBackClick:function(e){n("back:click",e),n("click:back",e)}}}};function tE(){return tE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tE.apply(this,arguments)}var nE={key:0,class:"ptr-preloader"},rE=Sa("div",{class:"ptr-arrow"},null,-1),aE={key:3,class:"ptr-preloader"},oE=Sa("div",{class:"ptr-arrow"},null,-1);var iE={name:"f7-page-content",render:function(e,t){var n=ur("f7-preloader");return da(),ba("div",{ref:"elRef",class:e.classes,"data-ptr-distance":e.ptrDistance||void 0,"data-ptr-mousewheel":e.ptrMousewheel||void 0,"data-infinite-distance":e.infiniteDistance||void 0},[e.ptr&&e.ptrPreloader&&!e.ptrBottom?(da(),ba("div",nE,[Sa(n),rE])):_a("",!0),e.infinite&&e.infinitePreloader&&e.infiniteTop?(da(),ba(n,{key:1,class:"infinite-scroll-preloader"})):_a("",!0),vr(e.$slots,"default"),e.infinite&&e.infinitePreloader&&!e.infiniteTop?(da(),ba(n,{key:2,class:"infinite-scroll-preloader"})):_a("",!0),e.ptr&&e.ptrPreloader&&e.ptrBottom?(da(),ba("div",aE,[Sa(n),oE])):_a("",!0)],10,["data-ptr-distance","data-ptr-mousewheel","data-infinite-distance"])},components:{f7Preloader:jw},props:tE({tab:Boolean,tabActive:Boolean,ptr:Boolean,ptrDistance:Number,ptrPreloader:{type:Boolean,default:!0},ptrBottom:Boolean,ptrMousewheel:Boolean,infinite:Boolean,infiniteTop:Boolean,infiniteDistance:Number,infinitePreloader:{type:Boolean,default:!0},hideBarsOnScroll:Boolean,hideNavbarOnScroll:Boolean,hideToolbarOnScroll:Boolean,messagesContent:Boolean,loginScreen:Boolean},Dy),emits:["ptr:pullstart","ptr:pullmove","ptr:pullend","ptr:refresh","ptr:done","infinite","ptrPullStart","ptrPullMove","ptrPullEnd","ptrRefresh","ptrDone","tab:hide","tab:show"],setup:function(e,t){var n=t.emit,r=Et(null),a=function(e){r.value===e&&(n("ptr:pullstart"),n("ptrPullStart"))},o=function(e){r.value===e&&(n("ptr:pullmove"),n("ptrPullMove"))},i=function(e){r.value===e&&(n("ptr:pullend"),n("ptrPullEnd"))},s=function(e,t){r.value===e&&(n("ptr:refresh",t),n("ptrRefresh",t))},l=function(e){r.value===e&&(n("ptr:done"),n("ptrDone"))},u=function(e){r.value===e&&n("infinite")};Iw(r,n),Zn((function(){Ny((function(){e.ptr&&(by.on("ptrPullStart",a),by.on("ptrPullMove",o),by.on("ptrPullEnd",i),by.on("ptrRefresh",s),by.on("ptrDone",l)),e.infinite&&by.on("infinite",u)}))})),nr((function(){by&&(by.off("ptrPullStart",a),by.off("ptrPullMove",o),by.off("ptrPullEnd",i),by.off("ptrRefresh",s),by.off("ptrDone",l),by.off("infinite",u))}));var c=ao((function(){return gy("page-content",{tab:e.tab,"tab-active":e.tabActive,"ptr-content":e.ptr,"ptr-bottom":e.ptrBottom,"infinite-scroll-content":e.infinite,"infinite-scroll-top":e.infiniteTop,"hide-bars-on-scroll":e.hideBarsOnScroll,"hide-navbar-on-scroll":e.hideNavbarOnScroll,"hide-toolbar-on-scroll":e.hideToolbarOnScroll,"messages-content":e.messagesContent,"login-screen-content":e.loginScreen},Py(e))}));return{elRef:r,classes:c}}};function sE(){return sE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sE.apply(this,arguments)}var lE={name:"f7-page",props:sE({name:String,stacked:Boolean,withSubnavbar:{type:Boolean,default:void 0},subnavbar:{type:Boolean,default:void 0},withNavbarLarge:{type:Boolean,default:void 0},navbarLarge:{type:Boolean,default:void 0},noNavbar:Boolean,noToolbar:Boolean,tabs:Boolean,pageContent:{type:Boolean,default:!0},noSwipeback:Boolean,ptr:Boolean,ptrDistance:Number,ptrPreloader:{type:Boolean,default:!0},ptrBottom:Boolean,ptrMousewheel:Boolean,infinite:Boolean,infiniteTop:Boolean,infiniteDistance:Number,infinitePreloader:{type:Boolean,default:!0},hideBarsOnScroll:Boolean,hideNavbarOnScroll:Boolean,hideToolbarOnScroll:Boolean,messagesContent:Boolean,loginScreen:Boolean},Dy),emits:["page:mounted","page:init","page:reinit","page:beforein","page:beforeout","page:afterout","page:afterin","page:beforeremove","page:beforeunmount","page:tabshow","page:tabhide","ptr:pullstart","ptr:pullmove","ptr:pullend","ptr:refresh","ptr:done","infinite"],setup:function(e,t){var n=t.emit,r=t.slots,a=!1,o=!1,i=!1,s=!1,l="",u=!1,c=null,p=!1,d=!1,f=Et(null),h=function(e){f.value===e.el&&n("page:mounted",e)},v=function(t){f.value===t.el&&(void 0===e.withSubnavbar&&void 0===e.subnavbar&&(t.$navbarEl&&t.$navbarEl.length&&t.$navbarEl.find(".subnavbar").length||t.$el.children(".navbar").find(".subnavbar").length)&&(a=!0),void 0===e.withNavbarLarge&&void 0===e.navbarLarge&&t.$navbarEl&&t.$navbarEl.hasClass("navbar-large")&&(o=!0),n("page:init",t))},m=function(e){f.value===e.el&&n("page:reinit",e)},g=function(e){f.value===e.el&&(e.swipeBack||("next"===e.from&&(l="page-next"),"previous"===e.from&&(l="page-previous")),n("page:beforein",e))},b=function(e){f.value===e.el&&n("page:beforeout",e)},y=function(e){f.value===e.el&&("next"===e.to&&(l="page-next"),"previous"===e.to&&(l="page-previous"),n("page:afterout",e))},w=function(e){f.value===e.el&&(l="page-current",n("page:afterin",e))},x=function(e){f.value===e.el&&n("page:beforeremove",e)},C=function(e){f.value===e.el&&n("page:beforeunmount",e)},E=function(e){f.value===e&&(u=!1)},k=function(e){f.value===e&&(u=!0)},S=function(e,t){f.value===e&&(l="page-"+t)},T=function(e,t){f.value===e&&(c=t.role,p=t.detailRoot)},O=function(e){f.value===e&&(d=!0)},I=function(e){f.value===e&&(d=!1)},N=function(e){f.value===e&&(i=!0)},A=function(e){f.value===e&&(i=!1)},_=function(e,t){f.value===t&&(s=!0)},R=function(e,t){f.value===t&&(s=!1)},M=function(e){f.value===e&&n("page:tabshow")},P=function(e){f.value===e&&n("page:tabhide")},D=function(){n("ptr:pullstart")},B=function(){n("ptr:pullmove")},L=function(){n("ptr:pullend")},z=function(e){n("ptr:refresh",e)},F=function(){n("ptr:done")},$=function(){n("infinite")};Zn((function(){Ny((function(){by.on("pageMounted",h),by.on("pageInit",v),by.on("pageReinit",m),by.on("pageBeforeIn",g),by.on("pageBeforeOut",b),by.on("pageAfterOut",y),by.on("pageAfterIn",w),by.on("pageBeforeRemove",x),by.on("pageBeforeUnmount",C),by.on("pageStack",E),by.on("pageUnstack",k),by.on("pagePosition",S),by.on("pageRole",T),by.on("pageMasterStack",O),by.on("pageMasterUnstack",I),by.on("pageNavbarLargeCollapsed",N),by.on("pageNavbarLargeExpanded",A),by.on("cardOpened",_),by.on("cardClose",R),by.on("pageTabShow",M),by.on("pageTabHide",P)}))})),nr((function(){by&&(by.off("pageMounted",h),by.off("pageInit",v),by.off("pageReinit",m),by.off("pageBeforeIn",g),by.off("pageBeforeOut",b),by.off("pageAfterOut",y),by.off("pageAfterIn",w),by.off("pageBeforeRemove",x),by.off("pageBeforeUnmount",C),by.off("pageStack",E),by.off("pageUnstack",k),by.off("pagePosition",S),by.off("pageRole",T),by.off("pageMasterStack",O),by.off("pageMasterUnstack",I),by.off("pageNavbarLargeCollapsed",N),by.off("pageNavbarLargeExpanded",A),by.off("cardOpened",_),by.off("cardClose",R),by.off("pageTabShow",M),by.off("pageTabHide",P))}));var V=ao((function(){return gy("page",l,{stacked:e.stacked&&!u,tabs:e.tabs,"page-with-subnavbar":e.subnavbar||e.withSubnavbar,"page-with-navbar-large":e.navbarLarge||e.withNavbarLarge,"no-navbar":e.noNavbar,"no-toolbar":e.noToolbar,"no-swipeback":e.noSwipeback,"page-master":"master"===c,"page-master-detail":"detail"===c,"page-master-detail-root":!0===p,"page-master-stacked":!0===d,"page-with-navbar-large-collapsed":!0===i,"page-with-card-opened":!0===s,"login-screen-page":e.loginScreen},Py(e))})),j="navbar toolbar tabbar subnavbar searchbar messagebar fab list-index panel".split(" ").map((function(e){return"f7-"+e}));return function(){var t=[],n=[],i=r.static,s=r.fixed,l=r.default,u=!1,c=!1,p=e.messagesContent,d=l&&l();d&&d.forEach((function(r){if(void 0!==r){var a=r.type&&r.type.name?r.type.name:r.type,o=!1;a?("f7-subnavbar"===a&&(u=!0),"f7-navbar"===a&&r.props&&(r.props.large||""===r.props.large)&&(c=!0),void 0===p&&"f7-messages"===a&&(p=!0),j.indexOf(a)>=0&&(o=!0),e.pageContent&&(o?t.push(r):n.push(r))):(e.pageContent||""===e.pageContent)&&n.push(r)}}));var h=V.value;return(u||a)&&void 0===e.subnavbar&&void 0===e.withSubnavbar&&h.indexOf("page-with-subnavbar")<0&&(h+=" page-with-subnavbar"),(c||o)&&void 0===e.navbarLarge&&void 0===e.withNavbarLarge&&h.indexOf("page-with-navbar-large")<0&&(h+=" page-with-navbar-large"),e.pageContent?oo("div",{class:h,ref:f,"data-name":e.name},[t,s&&s(),oo(iE,{ptr:e.ptr,ptrDistance:e.ptrDistance,ptrPreloader:e.ptrPreloader,ptrBottom:e.ptrBottom,ptrMousewheel:e.ptrMousewheel,infinite:e.infinite,infiniteTop:e.infiniteTop,infiniteDistance:e.infiniteDistance,infinitePreloader:e.infinitePreloader,hideBarsOnScroll:e.hideBarsOnScroll,hideNavbarOnScroll:e.hideNavbarOnScroll,hideToolbarOnScroll:e.hideToolbarOnScroll,messagesContent:e.messagesContent||p,loginScreen:e.loginScreen,onPtrPullStart:D,onPtrPullMove:B,onPtrPullEnd:L,onPtrRefresh:z,onPtrDone:F,onInfinite:$},(function(){return[i&&i(),n]}))]):oo("div",{class:h,ref:f,"data-name":e.name},[s&&s(),i&&i(),l&&d])}}};function uE(){return uE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uE.apply(this,arguments)}var cE={key:0,class:"panel-resize-handler"};var pE={name:"f7-panel",render:function(e,t){return da(),ba("div",{ref:"elRef",class:e.classes},[vr(e.$slots,"default"),e.resizable?(da(),ba("div",cE)):_a("",!0)],2)},props:uE({side:String,effect:String,cover:Boolean,reveal:Boolean,push:Boolean,left:Boolean,right:Boolean,opened:Boolean,resizable:Boolean,backdrop:{type:Boolean,default:!0},backdropEl:{type:String,default:void 0},containerEl:{type:String,default:void 0},visibleBreakpoint:{type:Number,default:void 0},collapsedBreakpoint:{type:Number,default:void 0},swipe:Boolean,swipeNoFollow:Boolean,swipeOnlyClose:Boolean,swipeActiveArea:{type:Number,default:0},swipeThreshold:{type:Number,default:0}},Dy),emits:["panel:open","panel:opened","panel:close","panel:closed","click","panel:backdropclick","panel:swipe","panel:swipeopen","panel:breakpoint","panel:collapsedbreakpoint","panel:resize","update:opened"],setup:function(e,t){var n=t.emit,r=null,a=Et(null),o=!1,i=!1,s=!1,l=!1,u=function(e){o=!0,i=!1,n("panel:open",e),n("update:opened",!0)},c=function(e){n("panel:opened",e)},p=function(e){o=!1,i=!0,n("panel:close",e)},d=function(e){i=!1,n("panel:closed",e),n("update:opened",!1)},f=function(e){n("click",e),n("panel:backdropclick",e)},h=function(e){n("panel:swipe",e)},v=function(e){n("panel:swipeopen",e)},m=function(e){l=!0,s=!1,n("panel:breakpoint",e)},g=function(e){l=!1,s=!0,n("panel:collapsedbreakpoint",e)},b=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.apply(void 0,["panel:resize"].concat(t))};En((function(){return e.resizable}),(function(e){r&&(e?r.enableResizable():r.disableResizable())})),En((function(){return e.opened}),(function(e){r&&(e?r.open():r.close())})),Zn((function(){Ny((function(){var t=by.$;if(t){0===t(".panel-backdrop").length&&t('<div class="panel-backdrop"></div>').insertBefore(a.value);var n=dy({el:a.value,resizable:e.resizable,backdrop:e.backdrop,backdropEl:e.backdropEl,containerEl:e.containerEl,visibleBreakpoint:e.visibleBreakpoint,collapsedBreakpoint:e.collapsedBreakpoint,swipe:e.swipe,swipeNoFollow:e.swipeNoFollow,swipeOnlyClose:e.swipeOnlyClose,swipeActiveArea:e.swipeActiveArea,swipeThreshold:e.swipeThreshold,on:{open:u,opened:c,close:p,closed:d,backdropClick:f,swipe:h,swipeOpen:v,collapsedBreakpoint:g,breakpoint:m,resize:b}});r=by.panel.create(n),e.opened&&r.open(!1)}}))})),nr((function(){r&&r.destroy&&r.destroy(),r=null}));var y=ao((function(){var t,n=e.side||(e.left?"left":"right"),r=e.effect||(e.reveal?"reveal":e.push?"push":"cover");return gy("panel",((t={"panel-in":o&&!i&&!l,"panel-in-breakpoint":l,"panel-in-collapsed":s,"panel-resizable":e.resizable})["panel-"+n]=n,t["panel-"+r]=r,t),Py(e))}));return{elRef:a,classes:y}}};function dE(){return dE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dE.apply(this,arguments)}var fE={name:"f7-photo-browser",props:{init:{type:Boolean,default:!0},params:Object,photos:Array,exposition:{type:Boolean,default:!0},expositionHideCaptions:{type:Boolean,default:!1},type:{type:String},navbar:{type:Boolean,default:!0},toolbar:{type:Boolean,default:!0},theme:{type:String},captionsTheme:{type:String},iconsColor:{type:String},swipeToClose:{type:Boolean,default:!0},pageBackLinkText:{type:String,default:void 0},popupCloseLinkText:{type:String,default:void 0},navbarOfText:{type:String,default:void 0},navbarShowCount:{type:Boolean,default:void 0},swiper:{type:Object},url:{type:String},routableModals:{type:Boolean,default:!1},virtualSlides:{type:Boolean,default:!0},view:[String,Object],renderNavbar:Function,renderToolbar:Function,renderCaption:Function,renderObject:Function,renderLazyPhoto:Function,renderPhoto:Function,renderPage:Function,renderPopup:Function,renderStandalone:Function},emits:["photobrowser:open","photobrowser:close","photobrowser:opened","photobrowser:closed","photobrowser:swipetoclose"],setup:function(e,t){var n=t.emit,r=null;return En((function(){return e.photos}),(function(e){var t=r;t&&(t.params.photos=e,t.opened&&t.swiper&&t.swiper.update())})),Zn((function(){e.init&&Ny((function(){var t;void 0!==e.params?t=e.params:delete(t=dE({},e)).params,Object.keys(t).forEach((function(e){void 0!==t[e]&&""!==t[e]||delete t[e]})),t=my({},t,{on:{open:function(){n("photobrowser:open")},close:function(){n("photobrowser:close")},opened:function(){n("photobrowser:opened")},closed:function(){n("photobrowser:closed")},swipeToClose:function(){n("photobrowser:swipetoclose")}}}),r=by.photoBrowser.create(t)}))})),nr((function(){r&&r.destroy&&r.destroy(),r=null})),{open:function(e){return r.open(e)},close:function(){return r.close()},expositionToggle:function(){return r.expositionToggle()},expositionEnable:function(){return r.expositionEnable()},expositionDisable:function(){return r.expositionDisable()}}},render:function(){return null}};var hE={name:"f7-pie-chart",render:function(e,t){return da(),ba("div",{ref:"elRef",class:e.classes},[(da(),ba("svg",{xmlns:"http://www.w3.org/2000/svg",width:e.size,height:e.size,viewBox:"-"+e.size/3+" -"+e.size/3+" "+2*e.size/3+" "+2*e.size/3,style:{transform:"rotate(-90deg)"}},[(da(!0),ba(ia,null,hr(e.paths,(function(n,r){return da(),ba("path",{key:n.label||r,d:n.points,fill:n.color,"data-index":r,class:e.classNames({"pie-chart-hidden":null!==e.currentIndex&&e.currentIndex!==r}),onClick:function(t){return e.setCurrentIndex(r)},onMouseenter:function(t){return e.setCurrentIndex(r)},onMouseleave:t[1]||(t[1]=function(t){return e.setCurrentIndex(null)})},null,42,["d","fill","data-index","onClick","onMouseenter"])})),128))],12,["width","height","viewBox"])),vr(e.$slots,"default")],2)},props:{size:{type:Number,default:320},tooltip:Boolean,datasets:{type:Array,default:function(){return[]}},formatTooltip:Function},emits:["select"],setup:function(e,t){var n=t.emit,r=Et(null),a=null,o=Et(null),i=ao((function(){var t=0;return e.datasets.map((function(e){return e.value||0})).forEach((function(e){t+=e})),t})),s=ao((function(){var t=[],n=0;function r(t){return[Math.cos(2*Math.PI*t)*(e.size/3),Math.sin(2*Math.PI*t)*(e.size/3)]}return e.datasets.forEach((function(a){var o=a.value,s=a.label,l=a.color,u=o/i.value,c=r(n),p=c[0],d=c[1],f=r(n+=u),h=f[0],v=f[1],m=u>.5?1:0,g=["M "+p+" "+d,"A "+e.size/3+" "+e.size/3+" 0 "+m+" 1 "+h+" "+v,"L 0 0"].join(" ");t.push({points:g,label:s,color:l})})),t})),l=function(){if(null===o.value)return"";var t=e.datasets[o.value],n=t.value,r=t.label,a=t.color,s=n/i.value*100,l=function(e){return parseInt(e,10)===e?e:Math.round(100*e)/100};return e.formatTooltip?e.formatTooltip({index:o.value,value:n,label:r,color:a,percentage:s}):'\n      <div class="pie-chart-tooltip-label">\n        <span class="pie-chart-tooltip-color" style="background-color: '+a+';"></span> '+((r?r+": ":"")+l(n)+" ("+l(s)+"%)")+"\n      </div>\n    "};En((function(){return o.value}),(function(){n("select",o.value,e.datasets[o.value]),function(){var t=o.value;(null!==t||a)&&e.tooltip&&r.value&&by&&(null===t||a?a&&(null!==t?(a.setText(l()),a.setTargetEl(r.value.querySelector('path[data-index="'+t+'"]')),a.show()):a.hide()):(a=by.tooltip.create({trigger:"manual",containerEl:r.value,targetEl:r.value.querySelector('path[data-index="'+t+'"]'),text:l(),cssClass:"pie-chart-tooltip"})).show())}()})),nr((function(){a&&a.destroy&&a.destroy(),a=null}));var u=ao((function(){return gy("pie-chart")}));return{elRef:r,currentIndex:o,classes:u,paths:s,classNames:gy,setCurrentIndex:function(e){o.value=e}}}};function vE(){return vE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vE.apply(this,arguments)}var mE=Sa("div",{class:"popover-angle"},null,-1),gE={class:"popover-inner"};var bE={name:"f7-popover",render:function(e,t){return da(),ba("div",{ref:"elRef",class:e.classes},[mE,Sa("div",gE,[vr(e.$slots,"default")])],2)},props:vE({opened:Boolean,animate:{type:Boolean,default:void 0},targetEl:{type:[String,Object],default:void 0},backdrop:{type:Boolean,default:void 0},backdropEl:{type:[String,Object],default:void 0},closeByBackdropClick:{type:Boolean,default:void 0},closeByOutsideClick:{type:Boolean,default:void 0},closeOnEscape:{type:Boolean,default:void 0},containerEl:{type:[String,Object],default:void 0}},Dy),emits:["popover:open","popover:opened","popover:close","popover:closed","update:opened"],setup:function(e,t){var n=t.emit,r=Et(null),a=e.opened,o=!1,i=Et(null),s=function(e){a=!0,o=!1,n("popover:open",e),n("update:opened",!0)},l=function(e){n("popover:opened",e)},u=function(e){a=!1,o=!0,n("popover:close",e)},c=function(e){o=!1,n("popover:closed",e),n("update:opened",!1)};En((function(){return e.opened}),(function(e){r.value&&(e?r.value.open():r.value.close())})),Zn((function(){if(i.value){var t={el:i.value,on:{open:s,opened:l,close:u,closed:c}},n=e.targetEl,a=e.closeByBackdropClick,o=e.closeByOutsideClick,p=e.closeOnEscape,d=e.backdrop,f=e.backdropEl,h=e.containerEl;void 0!==n&&(t.targetEl=n),void 0!==a&&(t.closeByBackdropClick=a),void 0!==o&&(t.closeByOutsideClick=o),void 0!==p&&(t.closeOnEscape=p),void 0!==d&&(t.backdrop=d),void 0!==f&&(t.backdropEl=f),void 0!==h&&(t.containerEl=h),Ny((function(){r.value=by.popover.create(t),e.opened&&r.value.open(n,!1)}))}})),nr((function(){r.value&&r.value.destroy(),r.value=null}));var p=ao((function(){return gy("popover",iw({isOpened:a,isClosing:o}),Py(e))}));return{elRef:i,classes:p}}};function yE(){return yE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yE.apply(this,arguments)}var wE={name:"f7-popup",render:function(e,t){return da(),ba("div",{ref:"elRef",class:e.classes},[vr(e.$slots,"default")],2)},props:yE({tabletFullscreen:Boolean,opened:Boolean,animate:{type:Boolean,default:void 0},backdrop:{type:Boolean,default:void 0},backdropEl:{type:[String,Object],default:void 0},closeByBackdropClick:{type:Boolean,default:void 0},closeOnEscape:{type:Boolean,default:void 0},swipeToClose:{type:[Boolean,String],default:!1},swipeHandler:{type:[String,Object],default:void 0},push:Boolean,containerEl:{type:[String,Object],default:void 0}},Dy),emits:["popup:swipestart","popup:swipemove","popup:swipeend","popup:swipeclose","popup:open","popup:opened","popup:close","popup:closed","update:opened"],setup:function(e,t){var n=t.emit,r=Et(null),a=e.opened,o=!1,i=Et(null),s=function(e){n("popup:swipestart",e)},l=function(e){n("popup:swipemove",e)},u=function(e){n("popup:swipeend",e)},c=function(e){n("popup:swipeclose",e)},p=function(e){a=!0,o=!1,n("popup:open",e),n("update:opened",!0)},d=function(e){n("popup:opened",e)},f=function(e){a=!1,o=!0,n("popup:close",e)},h=function(e){o=!1,n("popup:closed",e),n("update:opened",!1)};En((function(){return e.opened}),(function(e){r.value&&(e?r.value.open():r.value.close())})),Zn((function(){if(i.value){var t={el:i.value,on:{swipeStart:s,swipeMove:l,swipeEnd:u,swipeClose:c,open:p,opened:d,close:f,closed:h}},n=e.closeByBackdropClick,a=e.closeOnEscape,o=e.animate,v=e.backdrop,m=e.backdropEl,g=e.swipeToClose,b=e.swipeHandler,y=e.containerEl;void 0!==n&&(t.closeByBackdropClick=n),void 0!==a&&(t.closeOnEscape=a),void 0!==o&&(t.animate=o),void 0!==v&&(t.backdrop=v),void 0!==m&&(t.backdropEl=m),void 0!==g&&(t.swipeToClose=g),void 0!==b&&(t.swipeHandler=b),void 0!==y&&(t.containerEl=y),Ny((function(){r.value=by.popup.create(t),e.opened&&r.value.open(!1)}))}})),nr((function(){r.value&&r.value.destroy(),r.value=null}));var v=ao((function(){return gy("popup",{"popup-tablet-fullscreen":e.tabletFullscreen,"popup-push":e.push},iw({isOpened:a,isClosing:o}),Py(e))}));return{elRef:i,classes:v}}};function xE(){return xE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xE.apply(this,arguments)}var CE={name:"f7-progressbar",render:function(e,t){return da(),ba("span",{ref:"elRef",class:e.classes,"data-progress":e.progress},[Sa("span",{style:e.transformStyle},null,4)],10,["data-progress"])},props:xE({progress:Number,infinite:Boolean},Dy),setup:function(e){var t=Et(null),n=ao((function(){return{transform:e.progress?"translate3d("+(-100+e.progress)+"%, 0, 0)":"",WebkitTransform:e.progress?"translate3d("+(-100+e.progress)+"%, 0, 0)":""}}));return{classes:ao((function(){return gy("progressbar",{"progressbar-infinite":e.infinite},Py(e))})),set:function(e,n){by&&by.progressbar.set(t.value,e,n)},transformStyle:n,elRef:t}}};function EE(){return EE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EE.apply(this,arguments)}var kE=Sa("i",{class:"icon-radio"},null,-1);var SE={name:"f7-radio",render:function(e,t){return da(),ba("label",{class:e.classes},[Sa("input",{ref:"inputElRef",type:"radio",name:e.name,value:e.value,disabled:e.disabled,readonly:e.readonly,checked:e.checked,onChange:t[1]||(t[1]=function(){return e.onChange&&e.onChange.apply(e,arguments)})},null,40,["name","value","disabled","readonly","checked"]),kE,vr(e.$slots,"default")],2)},props:EE({checked:Boolean,name:[Number,String],value:{type:[Number,String,Boolean],default:void 0},disabled:Boolean,readonly:Boolean},Dy),emits:["update:checked","change"],setup:function(e,t){var n=t.emit;return{inputElRef:Et(null),classes:ao((function(){return gy({radio:!0,disabled:e.disabled},Py(e))})),onChange:function(e){n("update:checked",e.target.checked),n("change",e)}}}};function TE(){return TE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TE.apply(this,arguments)}var OE={key:0,class:"resize-handler"};var IE={name:"f7-row",render:function(e,t){return da(),ba(pr(e.tag),{ref:"elRef",class:e.classes},{default:hn((function(){return[vr(e.$slots,"default"),e.resizable&&e.resizableHandler?(da(),ba("span",OE)):_a("",!0)]})),_:3},8,["class"])},props:TE({noGap:Boolean,tag:{type:String,default:"div"},resizable:Boolean,resizableFixed:Boolean,resizableAbsolute:Boolean,resizableHandler:{type:Boolean,default:!0}},Dy),emits:["grid:resize"],setup:function(e,t){var n=t.emit,r=Et(null),a=function(e){e===r.value&&n("grid:resize")};return Zn((function(){Ny((function(){by.on("gridResize",a)}))})),nr((function(){by.off("gridResize",a)})),{classes:ao((function(){return gy("row",{"no-gap":e.noGap,resizable:e.resizable,"resizable-fixed":e.resizableFixed,"resizable-absolute":e.resizableAbsolute},Py(e))})),elRef:r}}};function NE(){return NE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NE.apply(this,arguments)}var AE={class:"searchbar-inner"},_E={class:"searchbar-input-wrap"},RE=Sa("i",{class:"searchbar-icon"},null,-1);var ME={name:"f7-searchbar",render:function(e,t){return da(),ba(pr(e.tag),{ref:"elRef",class:e.classes,onSubmit:e.onSubmit},{default:hn((function(){return[vr(e.$slots,"before-inner"),Sa("div",AE,[vr(e.$slots,"inner-start"),Sa("div",_E,[vr(e.$slots,"input-wrap-start"),Sa("input",{value:e.value,placeholder:e.placeholder,spellcheck:e.spellcheck,type:"search",onInput:t[1]||(t[1]=function(){return e.onInput&&e.onInput.apply(e,arguments)}),onChange:t[2]||(t[2]=function(){return e.onChange&&e.onChange.apply(e,arguments)}),onFocus:t[3]||(t[3]=function(){return e.onFocus&&e.onFocus.apply(e,arguments)}),onBlur:t[4]||(t[4]=function(){return e.onBlur&&e.onBlur.apply(e,arguments)})},null,40,["value","placeholder","spellcheck"]),RE,e.clearButton?(da(),ba("span",{key:0,class:"input-clear-button",onClick:t[5]||(t[5]=function(){return e.onClearButtonClick&&e.onClearButtonClick.apply(e,arguments)})})):_a("",!0),vr(e.$slots,"input-wrap-end")]),e.disableButton?(da(),ba("span",{key:0,class:"searchbar-disable-button",onClick:t[6]||(t[6]=function(){return e.onDisableButtonClick&&e.onDisableButtonClick.apply(e,arguments)})},Z(e.disableButtonText),1)):_a("",!0),vr(e.$slots,"inner-end"),vr(e.$slots,"default")]),vr(e.$slots,"after-inner")]})),_:3},8,["class","onSubmit"])},props:NE({noShadow:Boolean,noHairline:Boolean,form:{type:Boolean,default:!0},placeholder:{type:String,default:"Search"},spellcheck:{type:Boolean,default:void 0},disableButton:{type:Boolean,default:!0},disableButtonText:{type:String,default:"Cancel"},clearButton:{type:Boolean,default:!0},value:[String,Number,Array],inputEvents:{type:String,default:"change input compositionend"},expandable:Boolean,inline:Boolean,searchContainer:[String,Object],searchIn:{type:String,default:".item-title"},searchItem:{type:String,default:"li"},searchGroup:{type:String,default:".list-group"},searchGroupTitle:{type:String,default:".item-divider, .list-group-title"},foundEl:{type:[String,Object],default:".searchbar-found"},notFoundEl:{type:[String,Object],default:".searchbar-not-found"},backdrop:{type:Boolean,default:void 0},backdropEl:[String,Object],hideOnEnableEl:{type:[String,Object],default:".searchbar-hide-on-enable"},hideOnSearchEl:{type:[String,Object],default:".searchbar-hide-on-search"},ignore:{type:String,default:".searchbar-ignore"},customSearch:{type:Boolean,default:!1},removeDiacritics:{type:Boolean,default:!1},hideDividers:{type:Boolean,default:!0},hideGroups:{type:Boolean,default:!0},init:{type:Boolean,default:!0}},Dy),emits:["change","input","focus","blur","submit","click:clear","click:disable","searchbar:search","searchbar:clear","searchbar:enable","searchbar:disable","update:value"],setup:function(e,t){var n=t.emit,r=null,a=Et(null);Zn((function(){e.init&&Ny((function(){var t=dy({el:a.value,inputEvents:e.inputEvents,searchContainer:e.searchContainer,searchIn:e.searchIn,searchItem:e.searchItem,searchGroup:e.searchGroup,searchGroupTitle:e.searchGroupTitle,hideOnEnableEl:e.hideOnEnableEl,hideOnSearchEl:e.hideOnSearchEl,foundEl:e.foundEl,notFoundEl:e.notFoundEl,backdrop:e.backdrop,backdropEl:e.backdropEl,disableButton:e.disableButton,ignore:e.ignore,customSearch:e.customSearch,removeDiacritics:e.removeDiacritics,hideDividers:e.hideDividers,hideGroups:e.hideGroups,expandable:e.expandable,inline:e.inline,on:{search:function(e,t,r){n("searchbar:search",e,t,r)},clear:function(e,t){n("searchbar:clear",e,t)},enable:function(e){n("searchbar:enable",e)},disable:function(e){n("searchbar:disable",e)}}});Object.keys(t).forEach((function(e){""===t[e]&&delete t[e]})),r=by.searchbar.create(t)}))})),nr((function(){r&&r.destroy&&r.destroy(),r=null}));var o=ao((function(){return gy("searchbar",{"searchbar-inline":e.inline,"no-shadow":e.noShadow,"no-hairline":e.noHairline,"searchbar-expandable":e.expandable},Py(e))})),i=ao((function(){return e.form?"form":"div"}));return{elRef:a,tag:i,classes:o,search:function(e){if(r)return r.search(e)},enable:function(){if(r)return r.enable()},disable:function(){if(r)return r.disable()},toggle:function(){if(r)return r.toggle()},clear:function(){if(r)return r.clear()},onChange:function(e){n("change",e)},onInput:function(e){n("input",e),n("update:value",e.target.value)},onFocus:function(e){n("focus",e)},onBlur:function(e){n("blur",e)},onSubmit:function(e){n("submit",e)},onClearButtonClick:function(e){n("click:clear",e)},onDisableButtonClick:function(e){n("click:disable",e)}}}};function PE(){return PE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PE.apply(this,arguments)}var DE={key:0,class:"segmented-highlight"};var BE={name:"f7-segmented",render:function(e,t){return da(),ba(pr(e.tag),{class:e.classes},{default:hn((function(){return[vr(e.$slots,"default"),e.strong||e.strongIos||e.strongMd||e.strongAurora?(da(),ba("span",DE)):_a("",!0)]})),_:3},8,["class"])},props:PE({raised:Boolean,raisedIos:Boolean,raisedMd:Boolean,raisedAurora:Boolean,round:Boolean,roundIos:Boolean,roundMd:Boolean,roundAurora:Boolean,strong:Boolean,strongIos:Boolean,strongMd:Boolean,strongAurora:Boolean,tag:{type:String,default:"div"}},Dy),setup:function(e){return{classes:ao((function(){return gy({segmented:!0,"segmented-raised":e.raised,"segmented-raised-ios":e.raisedIos,"segmented-raised-aurora":e.raisedAurora,"segmented-raised-md":e.raisedMd,"segmented-round":e.round,"segmented-round-ios":e.roundIos,"segmented-round-aurora":e.roundAurora,"segmented-round-md":e.roundMd,"segmented-strong":e.strong,"segmented-strong-ios":e.strongIos,"segmented-strong-md":e.strongMd,"segmented-strong-aurora":e.strongAurora},Py(e))}))}}};function LE(){return LE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LE.apply(this,arguments)}var zE={name:"f7-sheet",props:LE({opened:Boolean,animate:{type:Boolean,default:void 0},top:Boolean,bottom:Boolean,position:String,backdrop:{type:Boolean,default:void 0},backdropEl:{type:[String,Object],default:void 0},closeByBackdropClick:{type:Boolean,default:void 0},closeByOutsideClick:{type:Boolean,default:void 0},closeOnEscape:{type:Boolean,default:void 0},push:Boolean,swipeToClose:{type:Boolean,default:void 0},swipeToStep:{type:Boolean,default:void 0},swipeHandler:{type:[String,Object],default:void 0},containerEl:{type:[String,Object],default:void 0}},Dy),emits:["sheet:stepprogress","sheet:stepopen","sheet:stepclose","sheet:open","sheet:opened","sheet:close","sheet:closed","update:opened"],setup:function(e,t){var n=t.emit,r=t.slots,a=null,o=e.opened,i=!1,s=Et(null),l=function(e,t){n("sheet:stepprogress",e,t)},u=function(e){n("sheet:stepopen",e)},c=function(e){n("sheet:stepclose",e)},p=function(e){o=!0,i=!1,n("sheet:open",e),n("update:opened",!0)},d=function(e){n("sheet:opened",e)},f=function(e){o=!1,i=!0,n("sheet:close",e)},h=function(e){i=!1,n("sheet:closed",e),n("update:opened",!1)};Zn((function(){if(s.value){var t={el:s.value,on:{open:p,opened:d,close:f,closed:h,stepOpen:u,stepClose:c,stepProgress:l}},n=e.animate,r=e.backdrop,o=e.backdropEl,i=e.closeByBackdropClick,v=e.closeByOutsideClick,m=e.closeOnEscape,g=e.swipeToClose,b=e.swipeToStep,y=e.swipeHandler,w=e.containerEl;void 0!==n&&(t.animate=n),void 0!==r&&(t.backdrop=r),void 0!==o&&(t.backdropEl=o),void 0!==i&&(t.closeByBackdropClick=i),void 0!==v&&(t.closeByOutsideClick=v),void 0!==m&&(t.closeOnEscape=m),void 0!==g&&(t.swipeToClose=g),void 0!==b&&(t.swipeToStep=b),void 0!==y&&(t.swipeHandler=y),void 0!==w&&(t.containerEl=w),Ny((function(){a=by.sheet.create(t),e.opened&&a.open(!1)}))}})),nr((function(){a&&a.destroy(),a=null})),En((function(){return e.opened}),(function(e){a&&(e?a.open():a.close())})),["closeByBackdropClick","closeByOutsideClick","closeOnEscape","swipeToClose"].forEach((function(t){En((function(){return e[t]}),(function(e){a&&(a.params[t]=e)}))}));var v=ao((function(){var t="bottom";return e.position?t=e.position:e.top?t="top":e.bottom&&(t="bottom"),gy("sheet-modal","sheet-modal-"+t,{"sheet-modal-push":e.push},iw({isOpened:o,isClosing:i}),Py(e))})),m="navbar toolbar tabbar subnavbar searchbar messagebar fab list-index panel".split(" ").map((function(e){return"f7-"+e}));return function(){var e=[],t=[];return r.default&&r.default().forEach((function(n){if(void 0!==n){var r=n.type&&n.type.name?n.type.name:n.type;m.indexOf(r)>=0?e.push(n):t.push(n)}})),oo("div",{class:v.value,ref:s},[e,r.fixed&&r.fixed(),oo("div",{class:"sheet-modal-inner"},[t,r.static&&r.static()])])}}};var FE=function(e,t,n,r){const a=.5*Math.min(n,r),o=a/t;return e.replace(/([0-9,\.]{1,})/g,(e=>{e=e.split(",").map((e=>parseFloat(e)));const i=e[0]*o+n/2-t*o/2,s=e[1]*o+r/2-t*o/2;return a>=100?`${Math.round(i)},${Math.round(s)}`:`${i},${s}`}))},$E={name:"skeleton-image",props:{tag:{type:String,default:"span"},width:{type:Number,default:1200},height:{type:Number,default:600},color:String,iconColor:String,showIcon:{type:Boolean,default:!0},effect:String,borderRadius:String},render(){const{tag:e,color:t,iconColor:n,showIcon:r,width:a,height:o,effect:i,borderRadius:s}=this;return oo(e,{class:{"skeleton-image":!0,[`skeleton-effect-${i}`]:i}},[oo("svg",{xmlns:"http://www.w3.org/2000/svg",width:a,height:o,viewBox:`0 0 ${a} ${o}`,style:{borderRadius:s},preserveAspectRatio:"none"},[oo("polygon",{style:{fill:t},fillRule:"evenodd",points:`0 0 ${a} 0 ${a} ${o} 0 ${o}`}),r&&oo("path",{style:{fill:n},d:FE("M7.7148,49.5742 L48.2852,49.5742 C53.1836,49.5742 55.6446,47.1367 55.6446,42.3086 L55.6446,13.6914 C55.6446,8.8633 53.1836,6.4258 48.2852,6.4258 L7.7148,6.4258 C2.8398,6.4258 0.3554,8.8398 0.3554,13.6914 L0.3554,42.3086 C0.3554,47.1602 2.8398,49.5742 7.7148,49.5742 Z M39.2851,27.9414 C38.2304,27.0039 37.0351,26.5118 35.7695,26.5118 C34.457,26.5118 33.3085,26.9571 32.2304,27.918 L21.6366,37.3867 L17.3007,33.4492 C16.3163,32.582 15.2617,32.1133 14.1366,32.1133 C13.1054,32.1133 12.0976,32.5586 11.1366,33.4258 L4.1288,39.7305 L4.1288,13.8789 C4.1288,11.4414 5.4413,10.1992 7.7851,10.1992 L48.2147,10.1992 C50.535,10.1992 51.8708,11.4414 51.8708,13.8789 L51.8708,39.7539 L39.2851,27.9414 Z M17.8163,28.1992 C20.8398,28.1992 23.3241,25.7149 23.3241,22.668 C23.3241,19.6445 20.8398,17.1367 17.8163,17.1367 C14.7695,17.1367 12.2851,19.6445 12.2851,22.668 C12.2851,25.7149 14.7695,28.1992 17.8163,28.1992 Z",56,a,o)})]),this.$slots.default&&this.$slots.default()])}},VE={name:"skeleton-avatar",props:{tag:{type:String,default:"span"},size:{type:Number,default:48},borderRadius:{type:[String,Number],default:"50%"},color:String,iconColor:String,showIcon:{type:Boolean,default:!0},effect:String},render(){const{tag:e,color:t,iconColor:n,showIcon:r,size:a,borderRadius:o,effect:i}=this;return oo(e,{class:{"skeleton-avatar":!0,[`skeleton-effect-${i}`]:i}},[oo("svg",{xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:`0 0 ${a} ${a}`,preserveAspectRatio:"none"},[oo("rect",{style:{fill:t},fillRule:"evenodd",width:a,height:a,rx:o}),r&&oo("path",{style:{fill:n},d:FE("M28.22461,27.1590817 C34.9209931,27.1590817 40.6829044,21.1791004 40.6829044,13.3926332 C40.6829044,5.69958662 34.8898972,0 28.22461,0 C21.5594557,0 15.7663156,5.82423601 15.7663156,13.4549579 C15.7663156,21.1791004 21.5594557,27.1590817 28.22461,27.1590817 Z M8.66515427,56 L47.7841986,56 C52.6739629,56 54.4181241,54.5984253 54.4181241,51.8576005 C54.4181241,43.8219674 44.358068,32.7341519 28.22461,32.7341519 C12.0600561,32.7341519 2,43.8219674 2,51.8576005 C2,54.5984253 3.74402832,56 8.66515427,56 Z",56,a,a)})]),this.$slots.default&&this.$slots.default()])}},jE=VE,HE={name:"skeleton-block",props:{tag:{type:String,default:"div"},width:[String,Number],height:[String,Number],borderRadius:String,effect:String},render(){return oo(this.tag,{class:{"skeleton-block":!0,[`skeleton-effect-${this.effect}`]:this.effect},style:{width:this.width,height:this.height,borderRadius:this.borderRadius}},this.$slots.default&&this.$slots.default())}},WE=$E,UE={name:"skeleton-text",props:{tag:{type:String,default:"span"},effect:String},render(){return oo(this.tag,{class:{"skeleton-text":!0,[`skeleton-effect-${this.effect}`]:this.effect}},this.$slots.default&&this.$slots.default())}};function qE(){return qE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qE.apply(this,arguments)}var GE={key:0,class:"stepper-input-wrap"},XE={key:1,class:"stepper-value"};var YE={name:"f7-stepper",render:function(e,t){return da(),ba("div",{ref:"elRef",class:e.classes},[Sa("div",{class:"stepper-button-minus",onClick:t[1]||(t[1]=function(){return e.onMinusClick&&e.onMinusClick.apply(e,arguments)})}),e.input&&!e.buttonsOnly?(da(),ba("div",GE,[Sa("input",{id:e.inputId,name:e.name,type:e.inputType,min:"number"===e.inputType?e.min:void 0,max:"number"===e.inputType?e.max:void 0,step:"number"===e.inputType?e.step:void 0,value:e.value,readonly:e.inputReadonly,onInput:t[2]||(t[2]=function(){return e.onInput&&e.onInput.apply(e,arguments)}),onChange:t[3]||(t[3]=function(){return e.onChange&&e.onChange.apply(e,arguments)})},null,40,["id","name","type","min","max","step","value","readonly"])])):_a("",!0),e.input||e.buttonsOnly?_a("",!0):(da(),ba("div",XE,Z(e.value),1)),Sa("div",{class:"stepper-button-plus",onClick:t[4]||(t[4]=function(){return e.onPlusClick&&e.onPlusClick.apply(e,arguments)})})],2)},props:qE({init:{type:Boolean,default:!0},value:{type:Number,default:0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},formatValue:Function,name:String,inputId:String,input:{type:Boolean,default:!0},inputType:{type:String,default:"text"},inputReadonly:{type:Boolean,default:!1},autorepeat:{type:Boolean,default:!1},autorepeatDynamic:{type:Boolean,default:!1},wraps:{type:Boolean,default:!1},manualInputMode:{type:Boolean,default:!1},decimalPoint:{type:Number,default:4},buttonsEndInputMode:{type:Boolean,default:!0},disabled:Boolean,buttonsOnly:Boolean,round:Boolean,roundMd:Boolean,roundIos:Boolean,roundAurora:Boolean,fill:Boolean,fillMd:Boolean,fillIos:Boolean,fillAurora:Boolean,large:Boolean,largeMd:Boolean,largeIos:Boolean,largeAurora:Boolean,small:Boolean,smallMd:Boolean,smallIos:Boolean,smallAurora:Boolean,raised:Boolean,raisedMd:Boolean,raisedIos:Boolean,raisedAurora:Boolean},Dy),emits:["input","change","stepper:minusclick","stepper:plusclick","stepper:change","update:value"],setup:function(e,t){var n=t.emit,r=null,a=Et(null);En((function(){return e.value}),(function(e){r&&r.setValue(e)})),Zn((function(){Ny((function(){e.init&&a.value&&(r=by.stepper.create(dy({el:a.value,min:e.min,max:e.max,value:e.value,step:e.step,formatValue:e.formatValue,autorepeat:e.autorepeat,autorepeatDynamic:e.autorepeatDynamic,wraps:e.wraps,manualInputMode:e.manualInputMode,decimalPoint:e.decimalPoint,buttonsEndInputMode:e.buttonsEndInputMode,on:{change:function(e,t){n("stepper:change",t),n("update:value",t)}}})))}))})),nr((function(){r&&r.destroy&&r.destroy(),r=null}));var o=ao((function(){return gy("stepper",{disabled:e.disabled,"stepper-round":e.round,"stepper-round-ios":e.roundIos,"stepper-round-md":e.roundMd,"stepper-round-aurora":e.roundAurora,"stepper-fill":e.fill,"stepper-fill-ios":e.fillIos,"stepper-fill-md":e.fillMd,"stepper-fill-aurora":e.fillAurora,"stepper-large":e.large,"stepper-large-ios":e.largeIos,"stepper-large-md":e.largeMd,"stepper-large-aurora":e.largeAurora,"stepper-small":e.small,"stepper-small-ios":e.smallIos,"stepper-small-md":e.smallMd,"stepper-small-aurora":e.smallAurora,"stepper-raised":e.raised,"stepper-raised-ios":e.raisedIos,"stepper-raised-md":e.raisedMd,"stepper-raised-aurora":e.raisedAurora},Py(e))}));return{elRef:a,classes:o,increment:function(){r&&r.increment()},decrement:function(){r&&r.decrement()},setValue:function(e){r&&r.setValue&&r.setValue(e)},getValue:function(){if(r&&r.getValue)return r.getValue()},onInput:function(e){n("input",e,r)},onChange:function(e){n("change",e,r)},onMinusClick:function(e){n("stepper:minusclick",e,r)},onPlusClick:function(e){n("stepper:plusclick",e,r)}}}};function KE(){return KE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KE.apply(this,arguments)}var JE={key:0,class:"subnavbar-inner"},QE={key:0,class:"subnavbar-title"};var ZE={name:"f7-subnavbar",render:function(e,t){return da(),ba("div",{class:e.classes},[e.inner?(da(),ba("div",JE,[e.title?(da(),ba("div",QE,Z(e.title),1)):_a("",!0),vr(e.$slots,"default")])):vr(e.$slots,"default",{key:1})],2)},props:KE({sliding:Boolean,title:String,inner:{type:Boolean,default:!0}},Dy),setup:function(e){return{classes:ao((function(){return gy("subnavbar",{sliding:e.sliding},Py(e))}))}}};function ek(){return ek=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ek.apply(this,arguments)}var tk={name:"f7-swipeout-actions",render:function(e,t){return da(),ba("div",{class:e.classes},[vr(e.$slots,"default")],2)},props:ek({left:Boolean,right:Boolean,side:String},Dy),setup:function(e){var t=ao((function(){var t=e.side;return t||(e.left&&(t="left"),e.right&&(t="right")),t}));return{classes:ao((function(){return gy("swipeout-actions-"+t.value,Py(e))}))}}};function nk(){return nk=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nk.apply(this,arguments)}var rk={name:"f7-swipeout-button",render:function(e,t){return da(),ba("a",{href:e.href||"#","data-confirm":e.confirmText||void 0,"data-confirm-title":e.confirmTitle||void 0,class:e.classes,onClick:t[1]||(t[1]=function(){return e.onClick&&e.onClick.apply(e,arguments)})},[Na(Z(e.text)+" ",1),vr(e.$slots,"default")],10,["href","data-confirm","data-confirm-title"])},props:nk({text:String,confirmTitle:String,confirmText:String,overswipe:Boolean,close:Boolean,delete:Boolean,href:String},Dy),emits:["click"],setup:function(e,t){var n=t.emit;return{classes:ao((function(){return gy({"swipeout-overswipe":e.overswipe,"swipeout-delete":e.delete,"swipeout-close":e.close},Py(e))})),onClick:function(e){n("click",e)}}}};function ak(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function ok(e={},t={}){Object.keys(t).forEach((n=>{void 0===e[n]?e[n]=t[n]:ak(t[n])&&ak(e[n])&&Object.keys(t[n]).length>0&&ok(e[n],t[n])}))}const ik={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function sk(){const e="undefined"!=typeof document?document:{};return ok(e,ik),e}const lk={document:ik,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(e){return"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0)},cancelAnimationFrame(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function uk(){const e="undefined"!=typeof window?window:{};return ok(e,lk),e}class ck extends Array{constructor(e){"number"==typeof e?super(e):(super(...e||[]),function(e){const t=e.__proto__;Object.defineProperty(e,"__proto__",{get(){return t},set(e){t.__proto__=e}})}(this))}}function pk(e=[]){const t=[];return e.forEach((e=>{Array.isArray(e)?t.push(...pk(e)):t.push(e)})),t}function dk(e,t){return Array.prototype.filter.call(e,t)}function fk(e,t){const n=uk(),r=sk();let a=[];if(!t&&e instanceof ck)return e;if(!e)return new ck(a);if("string"==typeof e){const n=e.trim();if(n.indexOf("<")>=0&&n.indexOf(">")>=0){let e="div";0===n.indexOf("<li")&&(e="ul"),0===n.indexOf("<tr")&&(e="tbody"),0!==n.indexOf("<td")&&0!==n.indexOf("<th")||(e="tr"),0===n.indexOf("<tbody")&&(e="table"),0===n.indexOf("<option")&&(e="select");const t=r.createElement(e);t.innerHTML=n;for(let e=0;e<t.childNodes.length;e+=1)a.push(t.childNodes[e])}else a=function(e,t){if("string"!=typeof e)return[e];const n=[],r=t.querySelectorAll(e);for(let e=0;e<r.length;e+=1)n.push(r[e]);return n}(e.trim(),t||r)}else if(e.nodeType||e===n||e===r)a.push(e);else if(Array.isArray(e)){if(e instanceof ck)return e;a=e}return new ck(function(e){const t=[];for(let n=0;n<e.length;n+=1)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(a))}fk.fn=ck.prototype;const hk="resize scroll".split(" ");function vk(e){return function(...t){if(void 0===t[0]){for(let t=0;t<this.length;t+=1)hk.indexOf(e)<0&&(e in this[t]?this[t][e]():fk(this[t]).trigger(e));return this}return this.on(e,...t)}}vk("click"),vk("blur"),vk("focus"),vk("focusin"),vk("focusout"),vk("keyup"),vk("keydown"),vk("keypress"),vk("submit"),vk("change"),vk("mousedown"),vk("mousemove"),vk("mouseup"),vk("mouseenter"),vk("mouseleave"),vk("mouseout"),vk("mouseover"),vk("touchstart"),vk("touchend"),vk("touchmove"),vk("resize"),vk("scroll");const mk={addClass:function(...e){const t=pk(e.map((e=>e.split(" "))));return this.forEach((e=>{e.classList.add(...t)})),this},removeClass:function(...e){const t=pk(e.map((e=>e.split(" "))));return this.forEach((e=>{e.classList.remove(...t)})),this},hasClass:function(...e){const t=pk(e.map((e=>e.split(" "))));return dk(this,(e=>t.filter((t=>e.classList.contains(t))).length>0)).length>0},toggleClass:function(...e){const t=pk(e.map((e=>e.split(" "))));this.forEach((e=>{t.forEach((t=>{e.classList.toggle(t)}))}))},attr:function(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(let n=0;n<this.length;n+=1)if(2===arguments.length)this[n].setAttribute(e,t);else for(const t in e)this[n][t]=e[t],this[n].setAttribute(t,e[t]);return this},removeAttr:function(e){for(let t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this},transform:function(e){for(let t=0;t<this.length;t+=1)this[t].style.transform=e;return this},transition:function(e){for(let t=0;t<this.length;t+=1)this[t].style.transitionDuration="string"!=typeof e?`${e}ms`:e;return this},on:function(...e){let[t,n,r,a]=e;function o(e){const t=e.target;if(!t)return;const a=e.target.dom7EventData||[];if(a.indexOf(e)<0&&a.unshift(e),fk(t).is(n))r.apply(t,a);else{const e=fk(t).parents();for(let t=0;t<e.length;t+=1)fk(e[t]).is(n)&&r.apply(e[t],a)}}function i(e){const t=e&&e.target&&e.target.dom7EventData||[];t.indexOf(e)<0&&t.unshift(e),r.apply(this,t)}"function"==typeof e[1]&&([t,r,a]=e,n=void 0),a||(a=!1);const s=t.split(" ");let l;for(let e=0;e<this.length;e+=1){const t=this[e];if(n)for(l=0;l<s.length;l+=1){const e=s[l];t.dom7LiveListeners||(t.dom7LiveListeners={}),t.dom7LiveListeners[e]||(t.dom7LiveListeners[e]=[]),t.dom7LiveListeners[e].push({listener:r,proxyListener:o}),t.addEventListener(e,o,a)}else for(l=0;l<s.length;l+=1){const e=s[l];t.dom7Listeners||(t.dom7Listeners={}),t.dom7Listeners[e]||(t.dom7Listeners[e]=[]),t.dom7Listeners[e].push({listener:r,proxyListener:i}),t.addEventListener(e,i,a)}}return this},off:function(...e){let[t,n,r,a]=e;"function"==typeof e[1]&&([t,r,a]=e,n=void 0),a||(a=!1);const o=t.split(" ");for(let e=0;e<o.length;e+=1){const t=o[e];for(let e=0;e<this.length;e+=1){const o=this[e];let i;if(!n&&o.dom7Listeners?i=o.dom7Listeners[t]:n&&o.dom7LiveListeners&&(i=o.dom7LiveListeners[t]),i&&i.length)for(let e=i.length-1;e>=0;e-=1){const n=i[e];r&&n.listener===r||r&&n.listener&&n.listener.dom7proxy&&n.listener.dom7proxy===r?(o.removeEventListener(t,n.proxyListener,a),i.splice(e,1)):r||(o.removeEventListener(t,n.proxyListener,a),i.splice(e,1))}}}return this},trigger:function(...e){const t=uk(),n=e[0].split(" "),r=e[1];for(let a=0;a<n.length;a+=1){const o=n[a];for(let n=0;n<this.length;n+=1){const a=this[n];if(t.CustomEvent){const n=new t.CustomEvent(o,{detail:r,bubbles:!0,cancelable:!0});a.dom7EventData=e.filter(((e,t)=>t>0)),a.dispatchEvent(n),a.dom7EventData=[],delete a.dom7EventData}}}return this},transitionEnd:function(e){const t=this;return e&&t.on("transitionend",(function n(r){r.target===this&&(e.call(this,r),t.off("transitionend",n))})),this},outerWidth:function(e){if(this.length>0){if(e){const e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(e){if(this.length>0){if(e){const e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function(){const e=uk();return this[0]?e.getComputedStyle(this[0],null):{}},offset:function(){if(this.length>0){const e=uk(),t=sk(),n=this[0],r=n.getBoundingClientRect(),a=t.body,o=n.clientTop||a.clientTop||0,i=n.clientLeft||a.clientLeft||0,s=n===e?e.scrollY:n.scrollTop,l=n===e?e.scrollX:n.scrollLeft;return{top:r.top+s-o,left:r.left+l-i}}return null},css:function(e,t){const n=uk();let r;if(1===arguments.length){if("string"!=typeof e){for(r=0;r<this.length;r+=1)for(const t in e)this[r].style[t]=e[t];return this}if(this[0])return n.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(r=0;r<this.length;r+=1)this[r].style[e]=t;return this}return this},each:function(e){return e?(this.forEach(((t,n)=>{e.apply(t,[t,n])})),this):this},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:null;for(let t=0;t<this.length;t+=1)this[t].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(let t=0;t<this.length;t+=1)this[t].textContent=e;return this},is:function(e){const t=uk(),n=sk(),r=this[0];let a,o;if(!r||void 0===e)return!1;if("string"==typeof e){if(r.matches)return r.matches(e);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(r.msMatchesSelector)return r.msMatchesSelector(e);for(a=fk(e),o=0;o<a.length;o+=1)if(a[o]===r)return!0;return!1}if(e===n)return r===n;if(e===t)return r===t;if(e.nodeType||e instanceof ck){for(a=e.nodeType?[e]:e,o=0;o<a.length;o+=1)if(a[o]===r)return!0;return!1}return!1},index:function(){let e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}},eq:function(e){if(void 0===e)return this;const t=this.length;if(e>t-1)return fk([]);if(e<0){const n=t+e;return fk(n<0?[]:[this[n]])}return fk([this[e]])},append:function(...e){let t;const n=sk();for(let r=0;r<e.length;r+=1){t=e[r];for(let e=0;e<this.length;e+=1)if("string"==typeof t){const r=n.createElement("div");for(r.innerHTML=t;r.firstChild;)this[e].appendChild(r.firstChild)}else if(t instanceof ck)for(let n=0;n<t.length;n+=1)this[e].appendChild(t[n]);else this[e].appendChild(t)}return this},prepend:function(e){const t=sk();let n,r;for(n=0;n<this.length;n+=1)if("string"==typeof e){const a=t.createElement("div");for(a.innerHTML=e,r=a.childNodes.length-1;r>=0;r-=1)this[n].insertBefore(a.childNodes[r],this[n].childNodes[0])}else if(e instanceof ck)for(r=0;r<e.length;r+=1)this[n].insertBefore(e[r],this[n].childNodes[0]);else this[n].insertBefore(e,this[n].childNodes[0]);return this},next:function(e){return this.length>0?e?this[0].nextElementSibling&&fk(this[0].nextElementSibling).is(e)?fk([this[0].nextElementSibling]):fk([]):this[0].nextElementSibling?fk([this[0].nextElementSibling]):fk([]):fk([])},nextAll:function(e){const t=[];let n=this[0];if(!n)return fk([]);for(;n.nextElementSibling;){const r=n.nextElementSibling;e?fk(r).is(e)&&t.push(r):t.push(r),n=r}return fk(t)},prev:function(e){if(this.length>0){const t=this[0];return e?t.previousElementSibling&&fk(t.previousElementSibling).is(e)?fk([t.previousElementSibling]):fk([]):t.previousElementSibling?fk([t.previousElementSibling]):fk([])}return fk([])},prevAll:function(e){const t=[];let n=this[0];if(!n)return fk([]);for(;n.previousElementSibling;){const r=n.previousElementSibling;e?fk(r).is(e)&&t.push(r):t.push(r),n=r}return fk(t)},parent:function(e){const t=[];for(let n=0;n<this.length;n+=1)null!==this[n].parentNode&&(e?fk(this[n].parentNode).is(e)&&t.push(this[n].parentNode):t.push(this[n].parentNode));return fk(t)},parents:function(e){const t=[];for(let n=0;n<this.length;n+=1){let r=this[n].parentNode;for(;r;)e?fk(r).is(e)&&t.push(r):t.push(r),r=r.parentNode}return fk(t)},closest:function(e){let t=this;return void 0===e?fk([]):(t.is(e)||(t=t.parents(e).eq(0)),t)},find:function(e){const t=[];for(let n=0;n<this.length;n+=1){const r=this[n].querySelectorAll(e);for(let e=0;e<r.length;e+=1)t.push(r[e])}return fk(t)},children:function(e){const t=[];for(let n=0;n<this.length;n+=1){const r=this[n].children;for(let n=0;n<r.length;n+=1)e&&!fk(r[n]).is(e)||t.push(r[n])}return fk(t)},filter:function(e){return fk(dk(this,e))},remove:function(){for(let e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this}};Object.keys(mk).forEach((e=>{Object.defineProperty(fk.fn,e,{value:mk[e],writable:!0})}));var gk=fk;function bk(e,t=0){return setTimeout(e,t)}function yk(){return Date.now()}function wk(e,t="x"){const n=uk();let r,a,o;const i=function(e){const t=uk();let n;return t.getComputedStyle&&(n=t.getComputedStyle(e,null)),!n&&e.currentStyle&&(n=e.currentStyle),n||(n=e.style),n}(e);return n.WebKitCSSMatrix?(a=i.transform||i.webkitTransform,a.split(",").length>6&&(a=a.split(", ").map((e=>e.replace(",","."))).join(", ")),o=new n.WebKitCSSMatrix("none"===a?"":a)):(o=i.MozTransform||i.OTransform||i.MsTransform||i.msTransform||i.transform||i.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=o.toString().split(",")),"x"===t&&(a=n.WebKitCSSMatrix?o.m41:16===r.length?parseFloat(r[12]):parseFloat(r[4])),"y"===t&&(a=n.WebKitCSSMatrix?o.m42:16===r.length?parseFloat(r[13]):parseFloat(r[5])),a||0}function xk(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function Ck(...e){const t=Object(e[0]),n=["__proto__","constructor","prototype"];for(let a=1;a<e.length;a+=1){const o=e[a];if(null!=o&&(r=o,!("undefined"!=typeof window&&void 0!==window.HTMLElement?r instanceof HTMLElement:r&&(1===r.nodeType||11===r.nodeType)))){const e=Object.keys(Object(o)).filter((e=>n.indexOf(e)<0));for(let n=0,r=e.length;n<r;n+=1){const r=e[n],a=Object.getOwnPropertyDescriptor(o,r);void 0!==a&&a.enumerable&&(xk(t[r])&&xk(o[r])?o[r].__swiper__?t[r]=o[r]:Ck(t[r],o[r]):!xk(t[r])&&xk(o[r])?(t[r]={},o[r].__swiper__?t[r]=o[r]:Ck(t[r],o[r])):t[r]=o[r])}}}var r;return t}function Ek(e,t,n){e.style.setProperty(t,n)}function kk({swiper:e,targetPosition:t,side:n}){const r=uk(),a=-e.translate;let o,i=null;const s=e.params.speed;e.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(e.cssModeFrameID);const l=t>a?"next":"prev",u=(e,t)=>"next"===l&&e>=t||"prev"===l&&e<=t,c=()=>{o=(new Date).getTime(),null===i&&(i=o);const l=Math.max(Math.min((o-i)/s,1),0),p=.5-Math.cos(l*Math.PI)/2;let d=a+p*(t-a);if(u(d,t)&&(d=t),e.wrapperEl.scrollTo({[n]:d}),u(d,t))return e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout((()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[n]:d})})),void r.cancelAnimationFrame(e.cssModeFrameID);e.cssModeFrameID=r.requestAnimationFrame(c)};c()}let Sk,Tk,Ok;function Ik(){return Sk||(Sk=function(){const e=uk(),t=sk();return{smoothScroll:t.documentElement&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch),passiveListener:function(){let t=!1;try{const n=Object.defineProperty({},"passive",{get(){t=!0}});e.addEventListener("testPassiveListener",null,n)}catch(e){}return t}(),gestures:"ongesturestart"in e}}()),Sk}function Nk(e={}){return Tk||(Tk=function({userAgent:e}={}){const t=Ik(),n=uk(),r=n.navigator.platform,a=e||n.navigator.userAgent,o={ios:!1,android:!1},i=n.screen.width,s=n.screen.height,l=a.match(/(Android);?[\s\/]+([\d.]+)?/);let u=a.match(/(iPad).*OS\s([\d_]+)/);const c=a.match(/(iPod)(.*OS\s([\d_]+))?/),p=!u&&a.match(/(iPhone\sOS|iOS)\s([\d_]+)/),d="Win32"===r;let f="MacIntel"===r;return!u&&f&&t.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${i}x${s}`)>=0&&(u=a.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),f=!1),l&&!d&&(o.os="android",o.android=!0),(u||p||c)&&(o.os="ios",o.ios=!0),o}(e)),Tk}function Ak(){return Ok||(Ok=function(){const e=uk();return{isSafari:function(){const t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}()),Ok}var _k={on(e,t,n){const r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!=typeof t)return r;const a=n?"unshift":"push";return e.split(" ").forEach((e=>{r.eventsListeners[e]||(r.eventsListeners[e]=[]),r.eventsListeners[e][a](t)})),r},once(e,t,n){const r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!=typeof t)return r;function a(...n){r.off(e,a),a.__emitterProxy&&delete a.__emitterProxy,t.apply(r,n)}return a.__emitterProxy=t,r.on(e,a,n)},onAny(e,t){const n=this;if(!n.eventsListeners||n.destroyed)return n;if("function"!=typeof e)return n;const r=t?"unshift":"push";return n.eventsAnyListeners.indexOf(e)<0&&n.eventsAnyListeners[r](e),n},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsAnyListeners)return t;const n=t.eventsAnyListeners.indexOf(e);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off(e,t){const n=this;return!n.eventsListeners||n.destroyed?n:n.eventsListeners?(e.split(" ").forEach((e=>{void 0===t?n.eventsListeners[e]=[]:n.eventsListeners[e]&&n.eventsListeners[e].forEach(((r,a)=>{(r===t||r.__emitterProxy&&r.__emitterProxy===t)&&n.eventsListeners[e].splice(a,1)}))})),n):n},emit(...e){const t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsListeners)return t;let n,r,a;"string"==typeof e[0]||Array.isArray(e[0])?(n=e[0],r=e.slice(1,e.length),a=t):(n=e[0].events,r=e[0].data,a=e[0].context||t),r.unshift(a);return(Array.isArray(n)?n:n.split(" ")).forEach((e=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach((t=>{t.apply(a,[e,...r])})),t.eventsListeners&&t.eventsListeners[e]&&t.eventsListeners[e].forEach((e=>{e.apply(a,r)}))})),t}};var Rk={updateSize:function(){const e=this;let t,n;const r=e.$el;t=void 0!==e.params.width&&null!==e.params.width?e.params.width:r[0].clientWidth,n=void 0!==e.params.height&&null!==e.params.height?e.params.height:r[0].clientHeight,0===t&&e.isHorizontal()||0===n&&e.isVertical()||(t=t-parseInt(r.css("padding-left")||0,10)-parseInt(r.css("padding-right")||0,10),n=n-parseInt(r.css("padding-top")||0,10)-parseInt(r.css("padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(n)&&(n=0),Object.assign(e,{width:t,height:n,size:e.isHorizontal()?t:n}))},updateSlides:function(){const e=this;function t(t){return e.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}function n(e,n){return parseFloat(e.getPropertyValue(t(n))||0)}const r=e.params,{$wrapperEl:a,size:o,rtlTranslate:i,wrongRTL:s}=e,l=e.virtual&&r.virtual.enabled,u=l?e.virtual.slides.length:e.slides.length,c=a.children(`.${e.params.slideClass}`),p=l?e.virtual.slides.length:c.length;let d=[];const f=[],h=[];let v=r.slidesOffsetBefore;"function"==typeof v&&(v=r.slidesOffsetBefore.call(e));let m=r.slidesOffsetAfter;"function"==typeof m&&(m=r.slidesOffsetAfter.call(e));const g=e.snapGrid.length,b=e.slidesGrid.length;let y=r.spaceBetween,w=-v,x=0,C=0;if(void 0===o)return;"string"==typeof y&&y.indexOf("%")>=0&&(y=parseFloat(y.replace("%",""))/100*o),e.virtualSize=-y,i?c.css({marginLeft:"",marginBottom:"",marginTop:""}):c.css({marginRight:"",marginBottom:"",marginTop:""}),r.centeredSlides&&r.cssMode&&(Ek(e.wrapperEl,"--swiper-centered-offset-before",""),Ek(e.wrapperEl,"--swiper-centered-offset-after",""));const E=r.grid&&r.grid.rows>1&&e.grid;let k;E&&e.grid.initSlides(p);const S="auto"===r.slidesPerView&&r.breakpoints&&Object.keys(r.breakpoints).filter((e=>void 0!==r.breakpoints[e].slidesPerView)).length>0;for(let a=0;a<p;a+=1){k=0;const i=c.eq(a);if(E&&e.grid.updateSlide(a,i,p,t),"none"!==i.css("display")){if("auto"===r.slidesPerView){S&&(c[a].style[t("width")]="");const o=getComputedStyle(i[0]),s=i[0].style.transform,l=i[0].style.webkitTransform;if(s&&(i[0].style.transform="none"),l&&(i[0].style.webkitTransform="none"),r.roundLengths)k=e.isHorizontal()?i.outerWidth(!0):i.outerHeight(!0);else{const e=n(o,"width"),t=n(o,"padding-left"),r=n(o,"padding-right"),a=n(o,"margin-left"),s=n(o,"margin-right"),l=o.getPropertyValue("box-sizing");if(l&&"border-box"===l)k=e+a+s;else{const{clientWidth:n,offsetWidth:o}=i[0];k=e+t+r+a+s+(o-n)}}s&&(i[0].style.transform=s),l&&(i[0].style.webkitTransform=l),r.roundLengths&&(k=Math.floor(k))}else k=(o-(r.slidesPerView-1)*y)/r.slidesPerView,r.roundLengths&&(k=Math.floor(k)),c[a]&&(c[a].style[t("width")]=`${k}px`);c[a]&&(c[a].swiperSlideSize=k),h.push(k),r.centeredSlides?(w=w+k/2+x/2+y,0===x&&0!==a&&(w=w-o/2-y),0===a&&(w=w-o/2-y),Math.abs(w)<.001&&(w=0),r.roundLengths&&(w=Math.floor(w)),C%r.slidesPerGroup==0&&d.push(w),f.push(w)):(r.roundLengths&&(w=Math.floor(w)),(C-Math.min(e.params.slidesPerGroupSkip,C))%e.params.slidesPerGroup==0&&d.push(w),f.push(w),w=w+k+y),e.virtualSize+=k+y,x=k,C+=1}}if(e.virtualSize=Math.max(e.virtualSize,o)+m,i&&s&&("slide"===r.effect||"coverflow"===r.effect)&&a.css({width:`${e.virtualSize+r.spaceBetween}px`}),r.setWrapperSize&&a.css({[t("width")]:`${e.virtualSize+r.spaceBetween}px`}),E&&e.grid.updateWrapperSize(k,d,t),!r.centeredSlides){const t=[];for(let n=0;n<d.length;n+=1){let a=d[n];r.roundLengths&&(a=Math.floor(a)),d[n]<=e.virtualSize-o&&t.push(a)}d=t,Math.floor(e.virtualSize-o)-Math.floor(d[d.length-1])>1&&d.push(e.virtualSize-o)}if(0===d.length&&(d=[0]),0!==r.spaceBetween){const n=e.isHorizontal()&&i?"marginLeft":t("marginRight");c.filter(((e,t)=>!r.cssMode||t!==c.length-1)).css({[n]:`${y}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let e=0;h.forEach((t=>{e+=t+(r.spaceBetween?r.spaceBetween:0)})),e-=r.spaceBetween;const t=e-o;d=d.map((e=>e<0?-v:e>t?t+m:e))}if(r.centerInsufficientSlides){let e=0;if(h.forEach((t=>{e+=t+(r.spaceBetween?r.spaceBetween:0)})),e-=r.spaceBetween,e<o){const t=(o-e)/2;d.forEach(((e,n)=>{d[n]=e-t})),f.forEach(((e,n)=>{f[n]=e+t}))}}if(Object.assign(e,{slides:c,snapGrid:d,slidesGrid:f,slidesSizesGrid:h}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){Ek(e.wrapperEl,"--swiper-centered-offset-before",-d[0]+"px"),Ek(e.wrapperEl,"--swiper-centered-offset-after",e.size/2-h[h.length-1]/2+"px");const t=-e.snapGrid[0],n=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map((e=>e+t)),e.slidesGrid=e.slidesGrid.map((e=>e+n))}if(p!==u&&e.emit("slidesLengthChange"),d.length!==g&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),f.length!==b&&e.emit("slidesGridLengthChange"),r.watchSlidesProgress&&e.updateSlidesOffset(),!(l||r.cssMode||"slide"!==r.effect&&"fade"!==r.effect)){const t=`${r.containerModifierClass}backface-hidden`,n=e.$el.hasClass(t);p<=r.maxBackfaceHiddenSlides?n||e.$el.addClass(t):n&&e.$el.removeClass(t)}},updateAutoHeight:function(e){const t=this,n=[],r=t.virtual&&t.params.virtual.enabled;let a,o=0;"number"==typeof e?t.setTransition(e):!0===e&&t.setTransition(t.params.speed);const i=e=>r?t.slides.filter((t=>parseInt(t.getAttribute("data-swiper-slide-index"),10)===e))[0]:t.slides.eq(e)[0];if("auto"!==t.params.slidesPerView&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||gk([])).each((e=>{n.push(e)}));else for(a=0;a<Math.ceil(t.params.slidesPerView);a+=1){const e=t.activeIndex+a;if(e>t.slides.length&&!r)break;n.push(i(e))}else n.push(i(t.activeIndex));for(a=0;a<n.length;a+=1)if(void 0!==n[a]){const e=n[a].offsetHeight;o=e>o?e:o}(o||0===o)&&t.$wrapperEl.css("height",`${o}px`)},updateSlidesOffset:function(){const e=this,t=e.slides;for(let n=0;n<t.length;n+=1)t[n].swiperSlideOffset=e.isHorizontal()?t[n].offsetLeft:t[n].offsetTop},updateSlidesProgress:function(e=this&&this.translate||0){const t=this,n=t.params,{slides:r,rtlTranslate:a,snapGrid:o}=t;if(0===r.length)return;void 0===r[0].swiperSlideOffset&&t.updateSlidesOffset();let i=-e;a&&(i=e),r.removeClass(n.slideVisibleClass),t.visibleSlidesIndexes=[],t.visibleSlides=[];for(let e=0;e<r.length;e+=1){const s=r[e];let l=s.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(l-=r[0].swiperSlideOffset);const u=(i+(n.centeredSlides?t.minTranslate():0)-l)/(s.swiperSlideSize+n.spaceBetween),c=(i-o[0]+(n.centeredSlides?t.minTranslate():0)-l)/(s.swiperSlideSize+n.spaceBetween),p=-(i-l),d=p+t.slidesSizesGrid[e];(p>=0&&p<t.size-1||d>1&&d<=t.size||p<=0&&d>=t.size)&&(t.visibleSlides.push(s),t.visibleSlidesIndexes.push(e),r.eq(e).addClass(n.slideVisibleClass)),s.progress=a?-u:u,s.originalProgress=a?-c:c}t.visibleSlides=gk(t.visibleSlides)},updateProgress:function(e){const t=this;if(void 0===e){const n=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*n||0}const n=t.params,r=t.maxTranslate()-t.minTranslate();let{progress:a,isBeginning:o,isEnd:i}=t;const s=o,l=i;0===r?(a=0,o=!0,i=!0):(a=(e-t.minTranslate())/r,o=a<=0,i=a>=1),Object.assign(t,{progress:a,isBeginning:o,isEnd:i}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&t.updateSlidesProgress(e),o&&!s&&t.emit("reachBeginning toEdge"),i&&!l&&t.emit("reachEnd toEdge"),(s&&!o||l&&!i)&&t.emit("fromEdge"),t.emit("progress",a)},updateSlidesClasses:function(){const e=this,{slides:t,params:n,$wrapperEl:r,activeIndex:a,realIndex:o}=e,i=e.virtual&&n.virtual.enabled;let s;t.removeClass(`${n.slideActiveClass} ${n.slideNextClass} ${n.slidePrevClass} ${n.slideDuplicateActiveClass} ${n.slideDuplicateNextClass} ${n.slideDuplicatePrevClass}`),s=i?e.$wrapperEl.find(`.${n.slideClass}[data-swiper-slide-index="${a}"]`):t.eq(a),s.addClass(n.slideActiveClass),n.loop&&(s.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${o}"]`).addClass(n.slideDuplicateActiveClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${o}"]`).addClass(n.slideDuplicateActiveClass));let l=s.nextAll(`.${n.slideClass}`).eq(0).addClass(n.slideNextClass);n.loop&&0===l.length&&(l=t.eq(0),l.addClass(n.slideNextClass));let u=s.prevAll(`.${n.slideClass}`).eq(0).addClass(n.slidePrevClass);n.loop&&0===u.length&&(u=t.eq(-1),u.addClass(n.slidePrevClass)),n.loop&&(l.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass),u.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${u.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${u.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass)),e.emitSlidesClasses()},updateActiveIndex:function(e){const t=this,n=t.rtlTranslate?t.translate:-t.translate,{slidesGrid:r,snapGrid:a,params:o,activeIndex:i,realIndex:s,snapIndex:l}=t;let u,c=e;if(void 0===c){for(let e=0;e<r.length;e+=1)void 0!==r[e+1]?n>=r[e]&&n<r[e+1]-(r[e+1]-r[e])/2?c=e:n>=r[e]&&n<r[e+1]&&(c=e+1):n>=r[e]&&(c=e);o.normalizeSlideIndex&&(c<0||void 0===c)&&(c=0)}if(a.indexOf(n)>=0)u=a.indexOf(n);else{const e=Math.min(o.slidesPerGroupSkip,c);u=e+Math.floor((c-e)/o.slidesPerGroup)}if(u>=a.length&&(u=a.length-1),c===i)return void(u!==l&&(t.snapIndex=u,t.emit("snapIndexChange")));const p=parseInt(t.slides.eq(c).attr("data-swiper-slide-index")||c,10);Object.assign(t,{snapIndex:u,realIndex:p,previousIndex:i,activeIndex:c}),t.emit("activeIndexChange"),t.emit("snapIndexChange"),s!==p&&t.emit("realIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&t.emit("slideChange")},updateClickedSlide:function(e){const t=this,n=t.params,r=gk(e).closest(`.${n.slideClass}`)[0];let a,o=!1;if(r)for(let e=0;e<t.slides.length;e+=1)if(t.slides[e]===r){o=!0,a=e;break}if(!r||!o)return t.clickedSlide=void 0,void(t.clickedIndex=void 0);t.clickedSlide=r,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(gk(r).attr("data-swiper-slide-index"),10):t.clickedIndex=a,n.slideToClickedSlide&&void 0!==t.clickedIndex&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}};var Mk={getTranslate:function(e=(this.isHorizontal()?"x":"y")){const{params:t,rtlTranslate:n,translate:r,$wrapperEl:a}=this;if(t.virtualTranslate)return n?-r:r;if(t.cssMode)return r;let o=wk(a[0],e);return n&&(o=-o),o||0},setTranslate:function(e,t){const n=this,{rtlTranslate:r,params:a,$wrapperEl:o,wrapperEl:i,progress:s}=n;let l,u=0,c=0;n.isHorizontal()?u=r?-e:e:c=e,a.roundLengths&&(u=Math.floor(u),c=Math.floor(c)),a.cssMode?i[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-u:-c:a.virtualTranslate||o.transform(`translate3d(${u}px, ${c}px, 0px)`),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?u:c;const p=n.maxTranslate()-n.minTranslate();l=0===p?0:(e-n.minTranslate())/p,l!==s&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e=0,t=this.params.speed,n=!0,r=!0,a){const o=this,{params:i,wrapperEl:s}=o;if(o.animating&&i.preventInteractionOnTransition)return!1;const l=o.minTranslate(),u=o.maxTranslate();let c;if(c=r&&e>l?l:r&&e<u?u:e,o.updateProgress(c),i.cssMode){const e=o.isHorizontal();if(0===t)s[e?"scrollLeft":"scrollTop"]=-c;else{if(!o.support.smoothScroll)return kk({swiper:o,targetPosition:-c,side:e?"left":"top"}),!0;s.scrollTo({[e?"left":"top"]:-c,behavior:"smooth"})}return!0}return 0===t?(o.setTransition(0),o.setTranslate(c),n&&(o.emit("beforeTransitionStart",t,a),o.emit("transitionEnd"))):(o.setTransition(t),o.setTranslate(c),n&&(o.emit("beforeTransitionStart",t,a),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(e){o&&!o.destroyed&&e.target===this&&(o.$wrapperEl[0].removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.$wrapperEl[0].removeEventListener("webkitTransitionEnd",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,n&&o.emit("transitionEnd"))}),o.$wrapperEl[0].addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.$wrapperEl[0].addEventListener("webkitTransitionEnd",o.onTranslateToWrapperTransitionEnd))),!0}};function Pk({swiper:e,runCallbacks:t,direction:n,step:r}){const{activeIndex:a,previousIndex:o}=e;let i=n;if(i||(i=a>o?"next":a<o?"prev":"reset"),e.emit(`transition${r}`),t&&a!==o){if("reset"===i)return void e.emit(`slideResetTransition${r}`);e.emit(`slideChangeTransition${r}`),"next"===i?e.emit(`slideNextTransition${r}`):e.emit(`slidePrevTransition${r}`)}}var Dk={setTransition:function(e,t){const n=this;n.params.cssMode||n.$wrapperEl.transition(e),n.emit("setTransition",e,t)},transitionStart:function(e=!0,t){const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),Pk({swiper:n,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(e=!0,t){const n=this,{params:r}=n;n.animating=!1,r.cssMode||(n.setTransition(0),Pk({swiper:n,runCallbacks:e,direction:t,step:"End"}))}};var Bk={slideTo:function(e=0,t=this.params.speed,n=!0,r,a){if("number"!=typeof e&&"string"!=typeof e)throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof e}] given.`);if("string"==typeof e){const t=parseInt(e,10);if(!isFinite(t))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${e}] given.`);e=t}const o=this;let i=e;i<0&&(i=0);const{params:s,snapGrid:l,slidesGrid:u,previousIndex:c,activeIndex:p,rtlTranslate:d,wrapperEl:f,enabled:h}=o;if(o.animating&&s.preventInteractionOnTransition||!h&&!r&&!a)return!1;const v=Math.min(o.params.slidesPerGroupSkip,i);let m=v+Math.floor((i-v)/o.params.slidesPerGroup);m>=l.length&&(m=l.length-1);const g=-l[m];if(s.normalizeSlideIndex)for(let e=0;e<u.length;e+=1){const t=-Math.floor(100*g),n=Math.floor(100*u[e]),r=Math.floor(100*u[e+1]);void 0!==u[e+1]?t>=n&&t<r-(r-n)/2?i=e:t>=n&&t<r&&(i=e+1):t>=n&&(i=e)}if(o.initialized&&i!==p){if(!o.allowSlideNext&&g<o.translate&&g<o.minTranslate())return!1;if(!o.allowSlidePrev&&g>o.translate&&g>o.maxTranslate()&&(p||0)!==i)return!1}let b;if(i!==(c||0)&&n&&o.emit("beforeSlideChangeStart"),o.updateProgress(g),b=i>p?"next":i<p?"prev":"reset",d&&-g===o.translate||!d&&g===o.translate)return o.updateActiveIndex(i),s.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),"slide"!==s.effect&&o.setTranslate(g),"reset"!==b&&(o.transitionStart(n,b),o.transitionEnd(n,b)),!1;if(s.cssMode){const e=o.isHorizontal(),n=d?g:-g;if(0===t){const t=o.virtual&&o.params.virtual.enabled;t&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),f[e?"scrollLeft":"scrollTop"]=n,t&&requestAnimationFrame((()=>{o.wrapperEl.style.scrollSnapType="",o._swiperImmediateVirtual=!1}))}else{if(!o.support.smoothScroll)return kk({swiper:o,targetPosition:n,side:e?"left":"top"}),!0;f.scrollTo({[e?"left":"top"]:n,behavior:"smooth"})}return!0}return o.setTransition(t),o.setTranslate(g),o.updateActiveIndex(i),o.updateSlidesClasses(),o.emit("beforeTransitionStart",t,r),o.transitionStart(n,b),0===t?o.transitionEnd(n,b):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(e){o&&!o.destroyed&&e.target===this&&(o.$wrapperEl[0].removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.$wrapperEl[0].removeEventListener("webkitTransitionEnd",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(n,b))}),o.$wrapperEl[0].addEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.$wrapperEl[0].addEventListener("webkitTransitionEnd",o.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(e=0,t=this.params.speed,n=!0,r){if("string"==typeof e){const t=parseInt(e,10);if(!isFinite(t))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${e}] given.`);e=t}const a=this;let o=e;return a.params.loop&&(o+=a.loopedSlides),a.slideTo(o,t,n,r)},slideNext:function(e=this.params.speed,t=!0,n){const r=this,{animating:a,enabled:o,params:i}=r;if(!o)return r;let s=i.slidesPerGroup;"auto"===i.slidesPerView&&1===i.slidesPerGroup&&i.slidesPerGroupAuto&&(s=Math.max(r.slidesPerViewDynamic("current",!0),1));const l=r.activeIndex<i.slidesPerGroupSkip?1:s;if(i.loop){if(a&&i.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}return i.rewind&&r.isEnd?r.slideTo(0,e,t,n):r.slideTo(r.activeIndex+l,e,t,n)},slidePrev:function(e=this.params.speed,t=!0,n){const r=this,{params:a,animating:o,snapGrid:i,slidesGrid:s,rtlTranslate:l,enabled:u}=r;if(!u)return r;if(a.loop){if(o&&a.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}function c(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}const p=c(l?r.translate:-r.translate),d=i.map((e=>c(e)));let f=i[d.indexOf(p)-1];if(void 0===f&&a.cssMode){let e;i.forEach(((t,n)=>{p>=t&&(e=n)})),void 0!==e&&(f=i[e>0?e-1:e])}let h=0;if(void 0!==f&&(h=s.indexOf(f),h<0&&(h=r.activeIndex-1),"auto"===a.slidesPerView&&1===a.slidesPerGroup&&a.slidesPerGroupAuto&&(h=h-r.slidesPerViewDynamic("previous",!0)+1,h=Math.max(h,0))),a.rewind&&r.isBeginning){const a=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(a,e,t,n)}return r.slideTo(h,e,t,n)},slideReset:function(e=this.params.speed,t=!0,n){return this.slideTo(this.activeIndex,e,t,n)},slideToClosest:function(e=this.params.speed,t=!0,n,r=.5){const a=this;let o=a.activeIndex;const i=Math.min(a.params.slidesPerGroupSkip,o),s=i+Math.floor((o-i)/a.params.slidesPerGroup),l=a.rtlTranslate?a.translate:-a.translate;if(l>=a.snapGrid[s]){const e=a.snapGrid[s];l-e>(a.snapGrid[s+1]-e)*r&&(o+=a.params.slidesPerGroup)}else{const e=a.snapGrid[s-1];l-e<=(a.snapGrid[s]-e)*r&&(o-=a.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,a.slidesGrid.length-1),a.slideTo(o,e,t,n)},slideToClickedSlide:function(){const e=this,{params:t,$wrapperEl:n}=e,r="auto"===t.slidesPerView?e.slidesPerViewDynamic():t.slidesPerView;let a,o=e.clickedIndex;if(t.loop){if(e.animating)return;a=parseInt(gk(e.clickedSlide).attr("data-swiper-slide-index"),10),t.centeredSlides?o<e.loopedSlides-r/2||o>e.slides.length-e.loopedSlides+r/2?(e.loopFix(),o=n.children(`.${t.slideClass}[data-swiper-slide-index="${a}"]:not(.${t.slideDuplicateClass})`).eq(0).index(),bk((()=>{e.slideTo(o)}))):e.slideTo(o):o>e.slides.length-r?(e.loopFix(),o=n.children(`.${t.slideClass}[data-swiper-slide-index="${a}"]:not(.${t.slideDuplicateClass})`).eq(0).index(),bk((()=>{e.slideTo(o)}))):e.slideTo(o)}else e.slideTo(o)}};var Lk={loopCreate:function(){const e=this,t=sk(),{params:n,$wrapperEl:r}=e,a=r.children().length>0?gk(r.children()[0].parentNode):r;a.children(`.${n.slideClass}.${n.slideDuplicateClass}`).remove();let o=a.children(`.${n.slideClass}`);if(n.loopFillGroupWithBlank){const e=n.slidesPerGroup-o.length%n.slidesPerGroup;if(e!==n.slidesPerGroup){for(let r=0;r<e;r+=1){const e=gk(t.createElement("div")).addClass(`${n.slideClass} ${n.slideBlankClass}`);a.append(e)}o=a.children(`.${n.slideClass}`)}}"auto"!==n.slidesPerView||n.loopedSlides||(n.loopedSlides=o.length),e.loopedSlides=Math.ceil(parseFloat(n.loopedSlides||n.slidesPerView,10)),e.loopedSlides+=n.loopAdditionalSlides,e.loopedSlides>o.length&&e.params.loopedSlidesLimit&&(e.loopedSlides=o.length);const i=[],s=[];o.each(((e,t)=>{gk(e).attr("data-swiper-slide-index",t)}));for(let t=0;t<e.loopedSlides;t+=1){const e=t-Math.floor(t/o.length)*o.length;s.push(o.eq(e)[0]),i.unshift(o.eq(o.length-e-1)[0])}for(let e=0;e<s.length;e+=1)a.append(gk(s[e].cloneNode(!0)).addClass(n.slideDuplicateClass));for(let e=i.length-1;e>=0;e-=1)a.prepend(gk(i[e].cloneNode(!0)).addClass(n.slideDuplicateClass))},loopFix:function(){const e=this;e.emit("beforeLoopFix");const{activeIndex:t,slides:n,loopedSlides:r,allowSlidePrev:a,allowSlideNext:o,snapGrid:i,rtlTranslate:s}=e;let l;e.allowSlidePrev=!0,e.allowSlideNext=!0;const u=-i[t]-e.getTranslate();if(t<r){l=n.length-3*r+t,l+=r;e.slideTo(l,0,!1,!0)&&0!==u&&e.setTranslate((s?-e.translate:e.translate)-u)}else if(t>=n.length-r){l=-n.length+t+r,l+=r;e.slideTo(l,0,!1,!0)&&0!==u&&e.setTranslate((s?-e.translate:e.translate)-u)}e.allowSlidePrev=a,e.allowSlideNext=o,e.emit("loopFix")},loopDestroy:function(){const{$wrapperEl:e,params:t,slides:n}=this;e.children(`.${t.slideClass}.${t.slideDuplicateClass},.${t.slideClass}.${t.slideBlankClass}`).remove(),n.removeAttr("data-swiper-slide-index")}};var zk={setGrabCursor:function(e){const t=this;if(t.support.touch||!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const n="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;n.style.cursor="move",n.style.cursor=e?"grabbing":"grab"},unsetGrabCursor:function(){const e=this;e.support.touch||e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="")}};function Fk(e){const t=this,n=sk(),r=uk(),a=t.touchEventsData,{params:o,touches:i,enabled:s}=t;if(!s)return;if(t.animating&&o.preventInteractionOnTransition)return;!t.animating&&o.cssMode&&o.loop&&t.loopFix();let l=e;l.originalEvent&&(l=l.originalEvent);let u=gk(l.target);if("wrapper"===o.touchEventsTarget&&!u.closest(t.wrapperEl).length)return;if(a.isTouchEvent="touchstart"===l.type,!a.isTouchEvent&&"which"in l&&3===l.which)return;if(!a.isTouchEvent&&"button"in l&&l.button>0)return;if(a.isTouched&&a.isMoved)return;const c=!!o.noSwipingClass&&""!==o.noSwipingClass,p=e.composedPath?e.composedPath():e.path;c&&l.target&&l.target.shadowRoot&&p&&(u=gk(p[0]));const d=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,f=!(!l.target||!l.target.shadowRoot);if(o.noSwiping&&(f?function(e,t=this){return function t(n){if(!n||n===sk()||n===uk())return null;n.assignedSlot&&(n=n.assignedSlot);const r=n.closest(e);return r||n.getRootNode?r||t(n.getRootNode().host):null}(t)}(d,u[0]):u.closest(d)[0]))return void(t.allowClick=!0);if(o.swipeHandler&&!u.closest(o.swipeHandler)[0])return;i.currentX="touchstart"===l.type?l.targetTouches[0].pageX:l.pageX,i.currentY="touchstart"===l.type?l.targetTouches[0].pageY:l.pageY;const h=i.currentX,v=i.currentY,m=o.edgeSwipeDetection||o.iOSEdgeSwipeDetection,g=o.edgeSwipeThreshold||o.iOSEdgeSwipeThreshold;if(m&&(h<=g||h>=r.innerWidth-g)){if("prevent"!==m)return;e.preventDefault()}if(Object.assign(a,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),i.startX=h,i.startY=v,a.touchStartTime=yk(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,o.threshold>0&&(a.allowThresholdMove=!1),"touchstart"!==l.type){let e=!0;u.is(a.focusableElements)&&(e=!1,"SELECT"===u[0].nodeName&&(a.isTouched=!1)),n.activeElement&&gk(n.activeElement).is(a.focusableElements)&&n.activeElement!==u[0]&&n.activeElement.blur();const r=e&&t.allowTouchMove&&o.touchStartPreventDefault;!o.touchStartForcePreventDefault&&!r||u[0].isContentEditable||l.preventDefault()}t.params.freeMode&&t.params.freeMode.enabled&&t.freeMode&&t.animating&&!o.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",l)}function $k(e){const t=sk(),n=this,r=n.touchEventsData,{params:a,touches:o,rtlTranslate:i,enabled:s}=n;if(!s)return;let l=e;if(l.originalEvent&&(l=l.originalEvent),!r.isTouched)return void(r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",l));if(r.isTouchEvent&&"touchmove"!==l.type)return;const u="touchmove"===l.type&&l.targetTouches&&(l.targetTouches[0]||l.changedTouches[0]),c="touchmove"===l.type?u.pageX:l.pageX,p="touchmove"===l.type?u.pageY:l.pageY;if(l.preventedByNestedSwiper)return o.startX=c,void(o.startY=p);if(!n.allowTouchMove)return gk(l.target).is(r.focusableElements)||(n.allowClick=!1),void(r.isTouched&&(Object.assign(o,{startX:c,startY:p,currentX:c,currentY:p}),r.touchStartTime=yk()));if(r.isTouchEvent&&a.touchReleaseOnEdges&&!a.loop)if(n.isVertical()){if(p<o.startY&&n.translate<=n.maxTranslate()||p>o.startY&&n.translate>=n.minTranslate())return r.isTouched=!1,void(r.isMoved=!1)}else if(c<o.startX&&n.translate<=n.maxTranslate()||c>o.startX&&n.translate>=n.minTranslate())return;if(r.isTouchEvent&&t.activeElement&&l.target===t.activeElement&&gk(l.target).is(r.focusableElements))return r.isMoved=!0,void(n.allowClick=!1);if(r.allowTouchCallbacks&&n.emit("touchMove",l),l.targetTouches&&l.targetTouches.length>1)return;o.currentX=c,o.currentY=p;const d=o.currentX-o.startX,f=o.currentY-o.startY;if(n.params.threshold&&Math.sqrt(d**2+f**2)<n.params.threshold)return;if(void 0===r.isScrolling){let e;n.isHorizontal()&&o.currentY===o.startY||n.isVertical()&&o.currentX===o.startX?r.isScrolling=!1:d*d+f*f>=25&&(e=180*Math.atan2(Math.abs(f),Math.abs(d))/Math.PI,r.isScrolling=n.isHorizontal()?e>a.touchAngle:90-e>a.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",l),void 0===r.startMoving&&(o.currentX===o.startX&&o.currentY===o.startY||(r.startMoving=!0)),r.isScrolling)return void(r.isTouched=!1);if(!r.startMoving)return;n.allowClick=!1,!a.cssMode&&l.cancelable&&l.preventDefault(),a.touchMoveStopPropagation&&!a.nested&&l.stopPropagation(),r.isMoved||(a.loop&&!a.cssMode&&n.loopFix(),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating&&n.$wrapperEl.trigger("webkitTransitionEnd transitionend"),r.allowMomentumBounce=!1,!a.grabCursor||!0!==n.allowSlideNext&&!0!==n.allowSlidePrev||n.setGrabCursor(!0),n.emit("sliderFirstMove",l)),n.emit("sliderMove",l),r.isMoved=!0;let h=n.isHorizontal()?d:f;o.diff=h,h*=a.touchRatio,i&&(h=-h),n.swipeDirection=h>0?"prev":"next",r.currentTranslate=h+r.startTranslate;let v=!0,m=a.resistanceRatio;if(a.touchReleaseOnEdges&&(m=0),h>0&&r.currentTranslate>n.minTranslate()?(v=!1,a.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+h)**m)):h<0&&r.currentTranslate<n.maxTranslate()&&(v=!1,a.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-h)**m)),v&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&"next"===n.swipeDirection&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&"prev"===n.swipeDirection&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),n.allowSlidePrev||n.allowSlideNext||(r.currentTranslate=r.startTranslate),a.threshold>0){if(!(Math.abs(h)>a.threshold||r.allowThresholdMove))return void(r.currentTranslate=r.startTranslate);if(!r.allowThresholdMove)return r.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,r.currentTranslate=r.startTranslate,void(o.diff=n.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY)}a.followFinger&&!a.cssMode&&((a.freeMode&&a.freeMode.enabled&&n.freeMode||a.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),n.params.freeMode&&a.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function Vk(e){const t=this,n=t.touchEventsData,{params:r,touches:a,rtlTranslate:o,slidesGrid:i,enabled:s}=t;if(!s)return;let l=e;if(l.originalEvent&&(l=l.originalEvent),n.allowTouchCallbacks&&t.emit("touchEnd",l),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&r.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);r.grabCursor&&n.isMoved&&n.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);const u=yk(),c=u-n.touchStartTime;if(t.allowClick){const e=l.path||l.composedPath&&l.composedPath();t.updateClickedSlide(e&&e[0]||l.target),t.emit("tap click",l),c<300&&u-n.lastClickTime<300&&t.emit("doubleTap doubleClick",l)}if(n.lastClickTime=yk(),bk((()=>{t.destroyed||(t.allowClick=!0)})),!n.isTouched||!n.isMoved||!t.swipeDirection||0===a.diff||n.currentTranslate===n.startTranslate)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);let p;if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,p=r.followFinger?o?t.translate:-t.translate:-n.currentTranslate,r.cssMode)return;if(t.params.freeMode&&r.freeMode.enabled)return void t.freeMode.onTouchEnd({currentPos:p});let d=0,f=t.slidesSizesGrid[0];for(let e=0;e<i.length;e+=e<r.slidesPerGroupSkip?1:r.slidesPerGroup){const t=e<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;void 0!==i[e+t]?p>=i[e]&&p<i[e+t]&&(d=e,f=i[e+t]-i[e]):p>=i[e]&&(d=e,f=i[i.length-1]-i[i.length-2])}let h=null,v=null;r.rewind&&(t.isBeginning?v=t.params.virtual&&t.params.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(h=0));const m=(p-i[d])/f,g=d<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(c>r.longSwipesMs){if(!r.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(m>=r.longSwipesRatio?t.slideTo(r.rewind&&t.isEnd?h:d+g):t.slideTo(d)),"prev"===t.swipeDirection&&(m>1-r.longSwipesRatio?t.slideTo(d+g):null!==v&&m<0&&Math.abs(m)>r.longSwipesRatio?t.slideTo(v):t.slideTo(d))}else{if(!r.shortSwipes)return void t.slideTo(t.activeIndex);t.navigation&&(l.target===t.navigation.nextEl||l.target===t.navigation.prevEl)?l.target===t.navigation.nextEl?t.slideTo(d+g):t.slideTo(d):("next"===t.swipeDirection&&t.slideTo(null!==h?h:d+g),"prev"===t.swipeDirection&&t.slideTo(null!==v?v:d))}}function jk(){const e=this,{params:t,el:n}=e;if(n&&0===n.offsetWidth)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:a,snapGrid:o}=e;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses(),("auto"===t.slidesPerView||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.run(),e.allowSlidePrev=a,e.allowSlideNext=r,e.params.watchOverflow&&o!==e.snapGrid&&e.checkOverflow()}function Hk(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function Wk(){const e=this,{wrapperEl:t,rtlTranslate:n,enabled:r}=e;if(!r)return;let a;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();const o=e.maxTranslate()-e.minTranslate();a=0===o?0:(e.translate-e.minTranslate())/o,a!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}let Uk=!1;function qk(){}const Gk=(e,t)=>{const n=sk(),{params:r,touchEvents:a,el:o,wrapperEl:i,device:s,support:l}=e,u=!!r.nested,c="on"===t?"addEventListener":"removeEventListener",p=t;if(l.touch){const t=!("touchstart"!==a.start||!l.passiveListener||!r.passiveListeners)&&{passive:!0,capture:!1};o[c](a.start,e.onTouchStart,t),o[c](a.move,e.onTouchMove,l.passiveListener?{passive:!1,capture:u}:u),o[c](a.end,e.onTouchEnd,t),a.cancel&&o[c](a.cancel,e.onTouchEnd,t)}else o[c](a.start,e.onTouchStart,!1),n[c](a.move,e.onTouchMove,u),n[c](a.end,e.onTouchEnd,!1);(r.preventClicks||r.preventClicksPropagation)&&o[c]("click",e.onClick,!0),r.cssMode&&i[c]("scroll",e.onScroll),r.updateOnWindowResize?e[p](s.ios||s.android?"resize orientationchange observerUpdate":"resize observerUpdate",jk,!0):e[p]("observerUpdate",jk,!0)};var Xk={attachEvents:function(){const e=this,t=sk(),{params:n,support:r}=e;e.onTouchStart=Fk.bind(e),e.onTouchMove=$k.bind(e),e.onTouchEnd=Vk.bind(e),n.cssMode&&(e.onScroll=Wk.bind(e)),e.onClick=Hk.bind(e),r.touch&&!Uk&&(t.addEventListener("touchstart",qk),Uk=!0),Gk(e,"on")},detachEvents:function(){Gk(this,"off")}};const Yk=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;var Kk={setBreakpoint:function(){const e=this,{activeIndex:t,initialized:n,loopedSlides:r=0,params:a,$el:o}=e,i=a.breakpoints;if(!i||i&&0===Object.keys(i).length)return;const s=e.getBreakpoint(i,e.params.breakpointsBase,e.el);if(!s||e.currentBreakpoint===s)return;const l=(s in i?i[s]:void 0)||e.originalParams,u=Yk(e,a),c=Yk(e,l),p=a.enabled;u&&!c?(o.removeClass(`${a.containerModifierClass}grid ${a.containerModifierClass}grid-column`),e.emitContainerClasses()):!u&&c&&(o.addClass(`${a.containerModifierClass}grid`),(l.grid.fill&&"column"===l.grid.fill||!l.grid.fill&&"column"===a.grid.fill)&&o.addClass(`${a.containerModifierClass}grid-column`),e.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach((t=>{const n=a[t]&&a[t].enabled,r=l[t]&&l[t].enabled;n&&!r&&e[t].disable(),!n&&r&&e[t].enable()}));const d=l.direction&&l.direction!==a.direction,f=a.loop&&(l.slidesPerView!==a.slidesPerView||d);d&&n&&e.changeDirection(),Ck(e.params,l);const h=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),p&&!h?e.disable():!p&&h&&e.enable(),e.currentBreakpoint=s,e.emit("_beforeBreakpoint",l),f&&n&&(e.loopDestroy(),e.loopCreate(),e.updateSlides(),e.slideTo(t-r+e.loopedSlides,0,!1)),e.emit("breakpoint",l)},getBreakpoint:function(e,t="window",n){if(!e||"container"===t&&!n)return;let r=!1;const a=uk(),o="window"===t?a.innerHeight:n.clientHeight,i=Object.keys(e).map((e=>{if("string"==typeof e&&0===e.indexOf("@")){const t=parseFloat(e.substr(1));return{value:o*t,point:e}}return{value:e,point:e}}));i.sort(((e,t)=>parseInt(e.value,10)-parseInt(t.value,10)));for(let e=0;e<i.length;e+=1){const{point:o,value:s}=i[e];"window"===t?a.matchMedia(`(min-width: ${s}px)`).matches&&(r=o):s<=n.clientWidth&&(r=o)}return r||"max"}};var Jk={addClasses:function(){const e=this,{classNames:t,params:n,rtl:r,$el:a,device:o,support:i}=e,s=function(e,t){const n=[];return e.forEach((e=>{"object"==typeof e?Object.keys(e).forEach((r=>{e[r]&&n.push(t+r)})):"string"==typeof e&&n.push(t+e)})),n}(["initialized",n.direction,{"pointer-events":!i.touch},{"free-mode":e.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&"column"===n.grid.fill},{android:o.android},{ios:o.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);t.push(...s),a.addClass([...t].join(" ")),e.emitContainerClasses()},removeClasses:function(){const{$el:e,classNames:t}=this;e.removeClass(t.join(" ")),this.emitContainerClasses()}};var Qk={loadImage:function(e,t,n,r,a,o){const i=uk();let s;function l(){o&&o()}gk(e).parent("picture")[0]||e.complete&&a?l():t?(s=new i.Image,s.onload=l,s.onerror=l,r&&(s.sizes=r),n&&(s.srcset=n),t&&(s.src=t)):l()},preloadImages:function(){const e=this;function t(){null!=e&&e&&!e.destroyed&&(void 0!==e.imagesLoaded&&(e.imagesLoaded+=1),e.imagesLoaded===e.imagesToLoad.length&&(e.params.updateOnImagesReady&&e.update(),e.emit("imagesReady")))}e.imagesToLoad=e.$el.find("img");for(let n=0;n<e.imagesToLoad.length;n+=1){const r=e.imagesToLoad[n];e.loadImage(r,r.currentSrc||r.getAttribute("src"),r.srcset||r.getAttribute("srcset"),r.sizes||r.getAttribute("sizes"),!0,t)}}};var Zk={checkOverflow:function(){const e=this,{isLocked:t,params:n}=e,{slidesOffsetBefore:r}=n;if(r){const t=e.slides.length-1,n=e.slidesGrid[t]+e.slidesSizesGrid[t]+2*r;e.isLocked=e.size>n}else e.isLocked=1===e.snapGrid.length;!0===n.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===n.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},eS={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopedSlidesLimit:!0,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function tS(e,t){return function(n={}){const r=Object.keys(n)[0],a=n[r];"object"==typeof a&&null!==a?(["navigation","pagination","scrollbar"].indexOf(r)>=0&&!0===e[r]&&(e[r]={auto:!0}),r in e&&"enabled"in a?(!0===e[r]&&(e[r]={enabled:!0}),"object"!=typeof e[r]||"enabled"in e[r]||(e[r].enabled=!0),e[r]||(e[r]={enabled:!1}),Ck(t,n)):Ck(t,n)):Ck(t,n)}}const nS={eventsEmitter:_k,update:Rk,translate:Mk,transition:Dk,slide:Bk,loop:Lk,grabCursor:zk,events:Xk,breakpoints:Kk,checkOverflow:Zk,classes:Jk,images:Qk},rS={};class aS{constructor(...e){let t,n;if(1===e.length&&e[0].constructor&&"Object"===Object.prototype.toString.call(e[0]).slice(8,-1)?n=e[0]:[t,n]=e,n||(n={}),n=Ck({},n),t&&!n.el&&(n.el=t),n.el&&gk(n.el).length>1){const e=[];return gk(n.el).each((t=>{const r=Ck({},n,{el:t});e.push(new aS(r))})),e}const r=this;r.__swiper__=!0,r.support=Ik(),r.device=Nk({userAgent:n.userAgent}),r.browser=Ak(),r.eventsListeners={},r.eventsAnyListeners=[],r.modules=[...r.__modules__],n.modules&&Array.isArray(n.modules)&&r.modules.push(...n.modules);const a={};r.modules.forEach((e=>{e({swiper:r,extendParams:tS(n,a),on:r.on.bind(r),once:r.once.bind(r),off:r.off.bind(r),emit:r.emit.bind(r)})}));const o=Ck({},eS,a);return r.params=Ck({},o,rS,n),r.originalParams=Ck({},r.params),r.passedParams=Ck({},n),r.params&&r.params.on&&Object.keys(r.params.on).forEach((e=>{r.on(e,r.params.on[e])})),r.params&&r.params.onAny&&r.onAny(r.params.onAny),r.$=gk,Object.assign(r,{enabled:r.params.enabled,el:t,classNames:[],slides:gk(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return"horizontal"===r.params.direction},isVertical(){return"vertical"===r.params.direction},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:r.params.allowSlideNext,allowSlidePrev:r.params.allowSlidePrev,touchEvents:function(){const e=["touchstart","touchmove","touchend","touchcancel"],t=["pointerdown","pointermove","pointerup"];return r.touchEventsTouch={start:e[0],move:e[1],end:e[2],cancel:e[3]},r.touchEventsDesktop={start:t[0],move:t[1],end:t[2]},r.support.touch||!r.params.simulateTouch?r.touchEventsTouch:r.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:r.params.focusableElements,lastClickTime:yk(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:r.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),r.emit("_swiper"),r.params.init&&r.init(),r}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const n=this;e=Math.min(Math.max(e,0),1);const r=n.minTranslate(),a=(n.maxTranslate()-r)*e+r;n.translateTo(a,void 0===t?0:t),n.updateActiveIndex(),n.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter((t=>0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass)));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter((e=>0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass))).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.each((n=>{const r=e.getSlideClasses(n);t.push({slideEl:n,classNames:r}),e.emit("_slideClass",n,r)})),e.emit("_slideClasses",t)}slidesPerViewDynamic(e="current",t=!1){const{params:n,slides:r,slidesGrid:a,slidesSizesGrid:o,size:i,activeIndex:s}=this;let l=1;if(n.centeredSlides){let e,t=r[s].swiperSlideSize;for(let n=s+1;n<r.length;n+=1)r[n]&&!e&&(t+=r[n].swiperSlideSize,l+=1,t>i&&(e=!0));for(let n=s-1;n>=0;n-=1)r[n]&&!e&&(t+=r[n].swiperSlideSize,l+=1,t>i&&(e=!0))}else if("current"===e)for(let e=s+1;e<r.length;e+=1){(t?a[e]+o[e]-a[s]<i:a[e]-a[s]<i)&&(l+=1)}else for(let e=s-1;e>=0;e-=1){a[s]-a[e]<i&&(l+=1)}return l}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:n}=e;function r(){const t=e.rtlTranslate?-1*e.translate:e.translate,n=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(n),e.updateActiveIndex(),e.updateSlidesClasses()}let a;n.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode&&e.params.freeMode.enabled?(r(),e.params.autoHeight&&e.updateAutoHeight()):(a=("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),a||r()),n.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t=!0){const n=this,r=n.params.direction;return e||(e="horizontal"===r?"vertical":"horizontal"),e===r||"horizontal"!==e&&"vertical"!==e||(n.$el.removeClass(`${n.params.containerModifierClass}${r}`).addClass(`${n.params.containerModifierClass}${e}`),n.emitContainerClasses(),n.params.direction=e,n.slides.each((t=>{"vertical"===e?t.style.width="":t.style.height=""})),n.emit("changeDirection"),t&&n.update()),n}changeLanguageDirection(e){const t=this;t.rtl&&"rtl"===e||!t.rtl&&"ltr"===e||(t.rtl="rtl"===e,t.rtlTranslate="horizontal"===t.params.direction&&t.rtl,t.rtl?(t.$el.addClass(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.$el.removeClass(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;const n=gk(e||t.params.el);if(!(e=n[0]))return!1;e.swiper=t;const r=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=(()=>{if(e&&e.shadowRoot&&e.shadowRoot.querySelector){const t=gk(e.shadowRoot.querySelector(r()));return t.children=e=>n.children(e),t}return n.children?n.children(r()):gk(n).children(r())})();if(0===a.length&&t.params.createElements){const e=sk().createElement("div");a=gk(e),e.className=t.params.wrapperClass,n.append(e),n.children(`.${t.params.slideClass}`).each((e=>{a.append(e)}))}return Object.assign(t,{$el:n,el:e,$wrapperEl:a,wrapperEl:a[0],mounted:!0,rtl:"rtl"===e.dir.toLowerCase()||"rtl"===n.css("direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===e.dir.toLowerCase()||"rtl"===n.css("direction")),wrongRTL:"-webkit-box"===a.css("display")}),!0}init(e){const t=this;if(t.initialized)return t;return!1===t.mount(e)||(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.params.loop&&t.loopCreate(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.preloadImages&&t.preloadImages(),t.params.loop?t.slideTo(t.params.initialSlide+t.loopedSlides,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.attachEvents(),t.initialized=!0,t.emit("init"),t.emit("afterInit")),t}destroy(e=!0,t=!0){const n=this,{params:r,$el:a,$wrapperEl:o,slides:i}=n;return void 0===n.params||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),r.loop&&n.loopDestroy(),t&&(n.removeClasses(),a.removeAttr("style"),o.removeAttr("style"),i&&i.length&&i.removeClass([r.slideVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),n.emit("destroy"),Object.keys(n.eventsListeners).forEach((e=>{n.off(e)})),!1!==e&&(n.$el[0].swiper=null,function(e){const t=e;Object.keys(t).forEach((e=>{try{t[e]=null}catch(e){}try{delete t[e]}catch(e){}}))}(n)),n.destroyed=!0),null}static extendDefaults(e){Ck(rS,e)}static get extendedDefaults(){return rS}static get defaults(){return eS}static installModule(e){aS.prototype.__modules__||(aS.prototype.__modules__=[]);const t=aS.prototype.__modules__;"function"==typeof e&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach((e=>aS.installModule(e))),aS):(aS.installModule(e),aS)}}Object.keys(nS).forEach((e=>{Object.keys(nS[e]).forEach((t=>{aS.prototype[t]=nS[e][t]}))})),aS.use([function({swiper:e,on:t,emit:n}){const r=uk();let a=null,o=null;const i=()=>{e&&!e.destroyed&&e.initialized&&(n("beforeResize"),n("resize"))},s=()=>{e&&!e.destroyed&&e.initialized&&n("orientationchange")};t("init",(()=>{e.params.resizeObserver&&void 0!==r.ResizeObserver?e&&!e.destroyed&&e.initialized&&(a=new ResizeObserver((t=>{o=r.requestAnimationFrame((()=>{const{width:n,height:r}=e;let a=n,o=r;t.forEach((({contentBoxSize:t,contentRect:n,target:r})=>{r&&r!==e.el||(a=n?n.width:(t[0]||t).inlineSize,o=n?n.height:(t[0]||t).blockSize)})),a===n&&o===r||i()}))})),a.observe(e.el)):(r.addEventListener("resize",i),r.addEventListener("orientationchange",s))})),t("destroy",(()=>{o&&r.cancelAnimationFrame(o),a&&a.unobserve&&e.el&&(a.unobserve(e.el),a=null),r.removeEventListener("resize",i),r.removeEventListener("orientationchange",s)}))},function({swiper:e,extendParams:t,on:n,emit:r}){const a=[],o=uk(),i=(e,t={})=>{const n=new(o.MutationObserver||o.WebkitMutationObserver)((e=>{if(1===e.length)return void r("observerUpdate",e[0]);const t=function(){r("observerUpdate",e[0])};o.requestAnimationFrame?o.requestAnimationFrame(t):o.setTimeout(t,0)}));n.observe(e,{attributes:void 0===t.attributes||t.attributes,childList:void 0===t.childList||t.childList,characterData:void 0===t.characterData||t.characterData}),a.push(n)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",(()=>{if(e.params.observer){if(e.params.observeParents){const t=e.$el.parents();for(let e=0;e<t.length;e+=1)i(t[e])}i(e.$el[0],{childList:e.params.observeSlideChildren}),i(e.$wrapperEl[0],{attributes:!1})}})),n("destroy",(()=>{a.forEach((e=>{e.disconnect()})),a.splice(0,a.length)}))}]);var oS=aS;function iS(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function sS(e,t){const n=["__proto__","constructor","prototype"];Object.keys(t).filter((e=>n.indexOf(e)<0)).forEach((n=>{void 0===e[n]?e[n]=t[n]:iS(t[n])&&iS(e[n])&&Object.keys(t[n]).length>0?t[n].__swiper__?e[n]=t[n]:sS(e[n],t[n]):e[n]=t[n]}))}function lS(e={}){return e.navigation&&void 0===e.navigation.nextEl&&void 0===e.navigation.prevEl}function uS(e={}){return e.pagination&&void 0===e.pagination.el}function cS(e={}){return e.scrollbar&&void 0===e.scrollbar.el}function pS(e=""){const t=e.split(" ").map((e=>e.trim())).filter((e=>!!e)),n=[];return t.forEach((e=>{n.indexOf(e)<0&&n.push(e)})),n.join(" ")}const dS=["modules","init","_direction","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_preloadImages","updateOnImagesReady","_loop","_loopAdditionalSlides","_loopedSlides","_loopedSlidesLimit","_loopFillGroupWithBlank","loopPreventsSlide","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","lazy","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom"];function fS(e={},t=!0){const n={on:{}},r={},a={};sS(n,oS.defaults),sS(n,oS.extendedDefaults),n._emitClasses=!0,n.init=!1;const o={},i=dS.map((e=>e.replace(/_/,""))),s=Object.assign({},e);return Object.keys(s).forEach((s=>{void 0!==e[s]&&(i.indexOf(s)>=0?iS(e[s])?(n[s]={},a[s]={},sS(n[s],e[s]),sS(a[s],e[s])):(n[s]=e[s],a[s]=e[s]):0===s.search(/on[A-Z]/)&&"function"==typeof e[s]?t?r[`${s[2].toLowerCase()}${s.substr(3)}`]=e[s]:n.on[`${s[2].toLowerCase()}${s.substr(3)}`]=e[s]:o[s]=e[s])})),["navigation","pagination","scrollbar"].forEach((e=>{!0===n[e]&&(n[e]={}),!1===n[e]&&delete n[e]})),{params:n,passedParams:a,rest:o,events:r}}const hS=(e,t)=>{let n=t.slidesPerView;if(t.breakpoints){const e=oS.prototype.getBreakpoint(t.breakpoints),r=e in t.breakpoints?t.breakpoints[e]:void 0;r&&r.slidesPerView&&(n=r.slidesPerView)}let r=Math.ceil(parseFloat(t.loopedSlides||n,10));return r+=t.loopAdditionalSlides,r>e.length&&t.loopedSlidesLimit&&(r=e.length),r};function vS(e,t,n){void 0===e&&(e={});const r=[],a={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},o=(e,t)=>{Array.isArray(e)&&e.forEach((e=>{const n="symbol"==typeof e.type;"default"===t&&(t="container-end"),n&&e.children?o(e.children,"default"):!e.type||"SwiperSlide"!==e.type.name&&"AsyncComponentWrapper"!==e.type.name?a[t]&&a[t].push(e):r.push(e)}))};return Object.keys(e).forEach((t=>{if("function"!=typeof e[t])return;const n=e[t]();o(n,t)})),n.value=t.value,t.value=r,{slides:r,slots:a}}function mS({swiper:e,slides:t,passedParams:n,changedParams:r,nextEl:a,prevEl:o,scrollbarEl:i,paginationEl:s}){const l=r.filter((e=>"children"!==e&&"direction"!==e)),{params:u,pagination:c,navigation:p,scrollbar:d,virtual:f,thumbs:h}=e;let v,m,g,b,y;r.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&u.thumbs&&!u.thumbs.swiper&&(v=!0),r.includes("controller")&&n.controller&&n.controller.control&&u.controller&&!u.controller.control&&(m=!0),r.includes("pagination")&&n.pagination&&(n.pagination.el||s)&&(u.pagination||!1===u.pagination)&&c&&!c.el&&(g=!0),r.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||i)&&(u.scrollbar||!1===u.scrollbar)&&d&&!d.el&&(b=!0),r.includes("navigation")&&n.navigation&&(n.navigation.prevEl||o)&&(n.navigation.nextEl||a)&&(u.navigation||!1===u.navigation)&&p&&!p.prevEl&&!p.nextEl&&(y=!0);if(l.forEach((t=>{if(iS(u[t])&&iS(n[t]))sS(u[t],n[t]);else{const a=n[t];!0!==a&&!1!==a||"navigation"!==t&&"pagination"!==t&&"scrollbar"!==t?u[t]=n[t]:!1===a&&e[r=t]&&(e[r].destroy(),"navigation"===r?(u[r].prevEl=void 0,u[r].nextEl=void 0,e[r].prevEl=void 0,e[r].nextEl=void 0):(u[r].el=void 0,e[r].el=void 0))}var r})),l.includes("controller")&&!m&&e.controller&&e.controller.control&&u.controller&&u.controller.control&&(e.controller.control=u.controller.control),r.includes("children")&&t&&f&&u.virtual.enabled?(f.slides=t,f.update(!0)):r.includes("children")&&e.lazy&&e.params.lazy.enabled&&e.lazy.load(),v){h.init()&&h.update(!0)}m&&(e.controller.control=u.controller.control),g&&(s&&(u.pagination.el=s),c.init(),c.render(),c.update()),b&&(i&&(u.scrollbar.el=i),d.init(),d.updateSize(),d.setTranslate()),y&&(a&&(u.navigation.nextEl=a),o&&(u.navigation.prevEl=o),p.init(),p.update()),r.includes("allowSlideNext")&&(e.allowSlideNext=n.allowSlideNext),r.includes("allowSlidePrev")&&(e.allowSlidePrev=n.allowSlidePrev),r.includes("direction")&&e.changeDirection(n.direction,!1),e.update()}const gS={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},spaceBetween:{type:Number,default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},preloadImages:{type:Boolean,default:void 0},updateOnImagesReady:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopAdditionalSlides:{type:Number,default:void 0},loopedSlides:{type:Number,default:void 0},loopedSlidesLimit:{type:Boolean,default:!0},loopFillGroupWithBlank:{type:Boolean,default:void 0},loopPreventsSlide:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideBlankClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideDuplicateActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideDuplicateClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slideDuplicateNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},slideDuplicatePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},lazy:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","imagesReady","init","keyPress","lazyImageLoad","lazyImageReady","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(e,t){let{slots:n,emit:r}=t;const{tag:a,wrapperTag:o}=e,i=Et("swiper"),s=Et(null),l=Et(!1),u=Et(!1),c=Et(null),p=Et(null),d=Et(null),f={value:[]},h={value:[]},v=Et(null),m=Et(null),g=Et(null),b=Et(null),{params:y,passedParams:w}=fS(e,!1);vS(n,f,h),d.value=w,h.value=f.value;if(y.onAny=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];r(e,...n)},Object.assign(y.on,{_beforeBreakpoint:()=>{vS(n,f,h),l.value=!0},_containerClasses(e,t){i.value=t}}),p.value=new oS(y),p.value.loopCreate=()=>{},p.value.loopDestroy=()=>{},y.loop&&(p.value.loopedSlides=hS(f.value,y)),p.value.virtual&&p.value.params.virtual.enabled){p.value.virtual.slides=f.value;const e={cache:!1,slides:f.value,renderExternal:e=>{s.value=e},renderExternalUpdate:!1};sS(p.value.params.virtual,e),sS(p.value.originalParams.virtual,e)}function x(e){return y.virtual?function(e,t,n){if(!n)return null;const r=e.value.isHorizontal()?{[e.value.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`};return t.filter(((e,t)=>t>=n.from&&t<=n.to)).map((t=>(t.props||(t.props={}),t.props.style||(t.props.style={}),t.props.swiperRef=e,t.props.style=r,oo(t.type,{...t.props},t.children))))}(p,e,s.value):!y.loop||p.value&&p.value.destroyed?(e.forEach((e=>{e.props||(e.props={}),e.props.swiperRef=p})),e):function(e,t,n){const r=t.map(((t,n)=>(t.props||(t.props={}),t.props.swiperRef=e,t.props["data-swiper-slide-index"]=n,t)));function a(e,t,r){return e.props||(e.props={}),oo(e.type,{...e.props,key:`${e.key}-duplicate-${t}-${r}`,class:`${e.props.className||""} ${n.slideDuplicateClass} ${e.props.class||""}`},e.children)}if(n.loopFillGroupWithBlank){const e=n.slidesPerGroup-r.length%n.slidesPerGroup;if(e!==n.slidesPerGroup)for(let t=0;t<e;t+=1){const e=oo("div",{class:`${n.slideClass} ${n.slideBlankClass}`});r.push(e)}}"auto"!==n.slidesPerView||n.loopedSlides||(n.loopedSlides=r.length);const o=hS(r,n),i=[],s=[];for(let e=0;e<o;e+=1){const t=e-Math.floor(e/r.length)*r.length;s.push(a(r[t],e,"append")),i.unshift(a(r[r.length-t-1],e,"prepend"))}return e.value&&(e.value.loopedSlides=o),[...i,...r,...s]}(p,e,y)}return tr((()=>{!u.value&&p.value&&(p.value.emitSlidesClasses(),u.value=!0);const{passedParams:t}=fS(e,!1),n=function(e,t,n,r,a){const o=[];if(!t)return o;const i=e=>{o.indexOf(e)<0&&o.push(e)};if(n&&r){const e=r.map(a),t=n.map(a);e.join("")!==t.join("")&&i("children"),r.length!==n.length&&i("children")}return dS.filter((e=>"_"===e[0])).map((e=>e.replace(/_/,""))).forEach((n=>{if(n in e&&n in t)if(iS(e[n])&&iS(t[n])){const r=Object.keys(e[n]),a=Object.keys(t[n]);r.length!==a.length?i(n):(r.forEach((r=>{e[n][r]!==t[n][r]&&i(n)})),a.forEach((r=>{e[n][r]!==t[n][r]&&i(n)})))}else e[n]!==t[n]&&i(n)})),o}(t,d.value,f.value,h.value,(e=>e.props&&e.props.key));d.value=t,(n.length||l.value)&&p.value&&!p.value.destroyed&&mS({swiper:p.value,slides:f.value,passedParams:t,changedParams:n,nextEl:v.value,prevEl:m.value,scrollbarEl:b.value,paginationEl:g.value}),l.value=!1})),zr("swiper",p),En(s,(()=>{jt((()=>{(e=>{!e||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.lazy&&e.params.lazy.enabled&&e.lazy.load(),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())})(p.value)}))})),Zn((()=>{c.value&&(!function({el:e,nextEl:t,prevEl:n,paginationEl:r,scrollbarEl:a,swiper:o},i){lS(i)&&t&&n&&(o.params.navigation.nextEl=t,o.originalParams.navigation.nextEl=t,o.params.navigation.prevEl=n,o.originalParams.navigation.prevEl=n),uS(i)&&r&&(o.params.pagination.el=r,o.originalParams.pagination.el=r),cS(i)&&a&&(o.params.scrollbar.el=a,o.originalParams.scrollbar.el=a),o.init(e)}({el:c.value,nextEl:v.value,prevEl:m.value,paginationEl:g.value,scrollbarEl:b.value,swiper:p.value},y),r("swiper",p.value))})),nr((()=>{p.value&&!p.value.destroyed&&p.value.destroy(!0,!1)})),()=>{const{slides:t,slots:r}=vS(n,f,h);return oo(a,{ref:c,class:pS(i.value)},[r["container-start"],oo(o,{class:"swiper-wrapper"},[r["wrapper-start"],x(t),r["wrapper-end"]]),lS(e)&&[oo("div",{ref:m,class:"swiper-button-prev"}),oo("div",{ref:v,class:"swiper-button-next"})],cS(e)&&oo("div",{ref:b,class:"swiper-scrollbar"}),uS(e)&&oo("div",{ref:g,class:"swiper-pagination"}),r["container-end"]])}}},bS={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},zoom:{type:Boolean,default:void 0},virtualIndex:{type:[String,Number],default:void 0}},setup(e,t){let{slots:n}=t,r=!1;const{swiperRef:a}=e,o=Et(null),i=Et("swiper-slide");function s(e,t,n){t===o.value&&(i.value=n)}Zn((()=>{a&&a.value&&(a.value.on("_slideClass",s),r=!0)})),er((()=>{!r&&a&&a.value&&(a.value.on("_slideClass",s),r=!0)})),tr((()=>{o.value&&a&&a.value&&a.value.destroyed&&"swiper-slide"!==i.value&&(i.value="swiper-slide")})),nr((()=>{a&&a.value&&a.value.off("_slideClass",s)}));const l=ao((()=>({isActive:i.value.indexOf("swiper-slide-active")>=0||i.value.indexOf("swiper-slide-duplicate-active")>=0,isVisible:i.value.indexOf("swiper-slide-visible")>=0,isDuplicate:i.value.indexOf("swiper-slide-duplicate")>=0,isPrev:i.value.indexOf("swiper-slide-prev")>=0||i.value.indexOf("swiper-slide-duplicate-prev")>=0,isNext:i.value.indexOf("swiper-slide-next")>=0||i.value.indexOf("swiper-slide-duplicate-next")>=0})));return zr("swiperSlide",l),()=>oo(e.tag,{class:pS(`${i.value}`),ref:o,"data-swiper-slide-index":e.virtualIndex},e.zoom?oo("div",{class:"swiper-zoom-container","data-swiper-zoom":"number"==typeof e.zoom?e.zoom:void 0},n.default&&n.default(l.value)):n.default&&n.default(l.value))}};var yS=bS,wS=gS;function xS(){return xS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xS.apply(this,arguments)}var CS={name:"f7-tab",render:function(e,t){var n;return da(),ba("div",{ref:"elRef",class:e.classes},[e.tabContent?(da(),ba(pr(e.getComponent(e.tabContent)),Da((n={key:0},n.key=e.tabContent.id,n),e.getProps(e.tabContent)),null,16)):vr(e.$slots,"default",{key:1})],2)},props:xS({tabActive:Boolean},Dy),emits:["tab:show","tab:hide"],setup:function(e,t){var n=t.emit,r=Et(null),a=Et(null),o=Fr("f7route",null),i=Fr("f7route",null),s=null;if(!a.value&&o&&o.route&&o.route.tab&&o.route.tab.id===e.id){var l=o.route.tab,u=l.component,c=l.asyncComponent,p=l.options;if(u||c){var d=o.route.options&&o.route.options.props;s={id:Ey(),component:u||c,isAsync:!!c,props:xS({},d||{},p&&p.props||{},{f7router:i,f7route:o},o.params)}}}var f=Et(s||null),h=function(e){f.value=e};by&&!a.value&&(a.value={setTabContent:h},Sy.tabs.push(a.value)),Zn((function(){r.value&&s&&(r.value.f7RouterTabLoaded=!0),Ny((function(){a.value?a.value.el=r.value:(a.value={el:r.value,setTabContent:h},Sy.tabs.push(a.value))}))})),nr((function(){a.value&&(Sy.tabs.splice(Sy.tabs.indexOf(a.value),1),a.value=null)})),tr((function(){a.value&&by&&yy.emit("tabRouterDidUpdate",a.value)})),Iw(r,n);var v=ao((function(){return gy("tab",{"tab-active":e.tabActive},Py(e))}));return{elRef:r,classes:v,tabContent:f,getComponent:function(e){return mt(e.component)},getProps:function(e){var t=e.component,n=e.props,r=[],a={};return t&&t.props&&(r=Object.keys(t.props)),r.forEach((function(e){e in n&&(a[e]=n[e])})),a}}}};function ES(){return ES=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ES.apply(this,arguments)}var kS={name:"f7-tabs",render:function(e,t){return e.animated||e.swipeable?(da(),ba("div",{key:0,ref:"elRef",class:e.classNames(e.wrapClasses,e.classes)},[Sa("div",{class:e.tabsClasses},[vr(e.$slots,"default")],2)],2)):(da(),ba("div",{key:1,ref:"elRef",class:e.classNames(e.tabsClasses,e.classes)},[vr(e.$slots,"default")],2))},props:ES({animated:Boolean,swipeable:Boolean,routable:Boolean,swiperParams:{type:Object,default:void 0}},Dy),setup:function(e){var t=Et(null);Zn((function(){e.swipeable&&e.swiperParams&&t.value&&(t.value.f7SwiperParams=e.swiperParams)}));var n=ao((function(){return gy(Py(e))})),r=ao((function(){return gy({"tabs-animated-wrap":e.animated,"tabs-swipeable-wrap":e.swipeable})})),a=ao((function(){return gy({tabs:!0,"tabs-routable":e.routable})}));return{elRef:t,classes:n,wrapClasses:r,tabsClasses:a,classNames:gy}}};function SS(){return SS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SS.apply(this,arguments)}var TS={key:0,className:"toolbar-inner"};var OS={name:"f7-toolbar",render:function(e,t){return da(),ba("div",{ref:"elRef",class:e.classes},[vr(e.$slots,"before-inner"),e.inner?(da(),ba("div",TS,[vr(e.$slots,"default")])):vr(e.$slots,"default",{key:1}),vr(e.$slots,"after-inner")],2)},props:SS({tabbar:Boolean,labels:Boolean,scrollable:Boolean,hidden:Boolean,noShadow:Boolean,noHairline:Boolean,noBorder:Boolean,position:{type:String,default:void 0},topMd:{type:Boolean,default:void 0},topIos:{type:Boolean,default:void 0},topAurora:{type:Boolean,default:void 0},top:{type:Boolean,default:void 0},bottomMd:{type:Boolean,default:void 0},bottomIos:{type:Boolean,default:void 0},bottomAurora:{type:Boolean,default:void 0},bottom:{type:Boolean,default:void 0},inner:{type:Boolean,default:!0}},Dy),emits:["toolbar:hide","toolbar:show"],setup:function(e,t){var n=t.emit,r=Et(null),a=Mw(),o=function(e){r.value===e&&n("toolbar:hide")},i=function(e){r.value===e&&n("toolbar:show")};return Zn((function(){e.tabbar&&by&&r.value&&by.toolbar.setHighlight(r.value),by.on("toolbarShow",i),by.on("toolbarHide",o)})),nr((function(){by.off("toolbarShow",i),by.off("toolbarHide",o)})),zr("TabbarContext",ao((function(){return{tabbarHasLabels:e.labels}}))),{classes:ao((function(){var t=e.tabbar,n=e.bottomMd,r=e.bottomIos,o=e.bottomAurora,i=e.bottom,s=e.position,l=e.topMd,u=e.topIos,c=e.topAurora,p=e.top,d=e.labels,f=e.scrollable,h=e.hidden,v=e.noShadow,m=e.noHairline,g=e.noBorder;return gy("toolbar",{tabbar:t,"toolbar-bottom":a.value&&a.value.md&&n||a.value&&a.value.ios&&r||a.value&&a.value.aurora&&o||i||"bottom"===s,"toolbar-top":a.value&&a.value.md&&l||a.value&&a.value.ios&&u||a.value&&a.value.aurora&&c||p||"top"===s,"tabbar-labels":d,"tabbar-scrollable":f,"toolbar-hidden":h,"no-shadow":v,"no-hairline":m||g},Py(e))})),elRef:r,hide:function(e){by&&by.toolbar.hide(r.value,e)},show:function(e){by&&by.toolbar.show(r.value,e)}}}};function IS(){return IS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IS.apply(this,arguments)}var NS={key:0,className:"treeview-toggle"},AS={className:"treeview-item-content"},_S={className:"treeview-item-label"},RS={key:0,className:"treeview-item-children"};var MS={name:"f7-treeview-item",render:function(e,t){var n=ur("f7-use-icon");return da(),ba("div",{ref:"elRef",class:e.classes},[(da(),ba(pr(e.itemRootTag),Da({class:e.itemRootClasses},e.itemRootAttrs,{onClick:e.onClick}),{default:hn((function(){return[vr(e.$slots,"root-start"),e.needToggle?(da(),ba("div",NS)):_a("",!0),Sa("div",AS,[vr(e.$slots,"content-start"),e.icon?(da(),ba(n,{key:0,icon:e.icon},null,8,["icon"])):_a("",!0),vr(e.$slots,"media"),Sa("div",_S,[vr(e.$slots,"label-start"),Na(" "+Z(e.label)+" ",1),vr(e.$slots,"label")]),vr(e.$slots,"content"),vr(e.$slots,"content-end")]),vr(e.$slots,"root"),vr(e.$slots,"root-end")]})),_:3},16,["class","onClick"])),e.hasChildren?(da(),ba("div",RS,[vr(e.$slots,"children-start"),vr(e.$slots,"default"),vr(e.$slots,"children")])):_a("",!0)],2)},components:{f7UseIcon:Uw},props:IS({toggle:{type:Boolean,default:void 0},itemToggle:Boolean,selectable:Boolean,selected:Boolean,opened:Boolean,label:String,loadChildren:Boolean,link:{type:[Boolean,String],default:void 0}},Dy,$y,By,Ly),emits:["click","treeview:open","treeview:close","treeview:loadchildren"],setup:function(e,t){var n=t.slots,r=t.emit,a=Et(null),o=ao((function(){return n.default||n.children||n["children-start"]})),i=ao((function(){return void 0===e.toggle?o.value:e.toggle})),s=ao((function(){return _w(e)})),l=function(e){a.value===e&&r("treeview:open",e)},u=function(e){a.value===e&&r("treeview:close",e)},c=function(e,t){a.value===e&&r("treeview:loadchildren",e,t)};Zn((function(){a.value&&Ny((function(){by.on("treeviewOpen",l),by.on("treeviewClose",u),by.on("treeviewLoadChildren",c)}))})),nr((function(){by&&(by.off("treeviewOpen",l),by.off("treeviewClose",u),by.off("treeviewLoadChildren",c))}));var p=ao((function(){return gy("treeview-item",{"treeview-item-opened":e.opened,"treeview-load-children":e.loadChildren},Py(e))})),d=ao((function(){return gy("treeview-item-root",{"treeview-item-selectable":e.selectable,"treeview-item-selected":e.selected,"treeview-item-toggle":e.itemToggle},Fy(e),jy(e))}));return{itemRootTag:ao((function(){return e.link||""===e.link?"a":"div"})),itemRootAttrs:ao((function(){var t=e.link;return!0===e.link&&(t="#"),!1===e.link&&(t=void 0),IS({href:t},zy(e),Vy(e))})),itemRootClasses:d,classes:p,icon:s,onClick:function(e){r("click",e)},hasChildren:o,needToggle:i,elRef:a}}};function PS(){return PS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PS.apply(this,arguments)}var DS={name:"f7-treeview",render:function(e,t){return da(),ba("div",{class:e.classes},[vr(e.$slots,"default")],2)},props:PS({},Dy),setup:function(e){return{classes:ao((function(){return gy("treeview",Py(e))}))}}};function BS(){return BS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BS.apply(this,arguments)}function LS(){return LS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LS.apply(this,arguments)}var zS={name:"f7-view",props:LS({tab:Boolean,tabActive:Boolean,name:String,router:{type:Boolean,default:!0},linksView:[Object,String],url:String,main:{type:Boolean,default:void 0},stackPages:{type:Boolean,default:void 0},xhrCache:{type:Boolean,default:void 0},xhrCacheIgnore:Array,xhrCacheIgnoreGetParameters:{type:Boolean,default:void 0},xhrCacheDuration:Number,preloadPreviousPage:{type:Boolean,default:void 0},allowDuplicateUrls:{type:Boolean,default:void 0},reloadPages:{type:Boolean,default:void 0},reloadDetail:{type:Boolean,default:void 0},masterDetailResizable:{type:Boolean,default:void 0},masterDetailBreakpoint:Number,removeElements:{type:Boolean,default:void 0},removeElementsWithTimeout:{type:Boolean,default:void 0},removeElementsTimeout:Number,restoreScrollTopOnBack:{type:Boolean,default:void 0},loadInitialPage:{type:Boolean,default:void 0},iosSwipeBack:{type:Boolean,default:void 0},iosSwipeBackAnimateShadow:{type:Boolean,default:void 0},iosSwipeBackAnimateOpacity:{type:Boolean,default:void 0},iosSwipeBackActiveArea:Number,iosSwipeBackThreshold:Number,mdSwipeBack:{type:Boolean,default:void 0},mdSwipeBackAnimateShadow:{type:Boolean,default:void 0},mdSwipeBackAnimateOpacity:{type:Boolean,default:void 0},mdSwipeBackActiveArea:Number,mdSwipeBackThreshold:Number,auroraSwipeBack:{type:Boolean,default:void 0},auroraSwipeBackAnimateShadow:{type:Boolean,default:void 0},auroraSwipeBackAnimateOpacity:{type:Boolean,default:void 0},auroraSwipeBackActiveArea:Number,auroraSwipeBackThreshold:Number,browserHistory:{type:Boolean,default:void 0},browserHistoryRoot:String,browserHistoryAnimate:{type:Boolean,default:void 0},browserHistoryAnimateOnLoad:{type:Boolean,default:void 0},browserHistorySeparator:String,browserHistoryOnLoad:{type:Boolean,default:void 0},browserHistoryInitialMatch:{type:Boolean,default:!0},browserHistoryStoreHistory:{type:Boolean,default:void 0},animate:{type:Boolean,default:void 0},transition:String,iosDynamicNavbar:{type:Boolean,default:void 0},iosAnimateNavbarBackIcon:{type:Boolean,default:void 0},materialPageLoadDelay:Number,passRouteQueryToRequest:{type:Boolean,default:void 0},passRouteParamsToRequest:{type:Boolean,default:void 0},routes:Array,routesAdd:Array,routesBeforeEnter:[Function,Array],routesBeforeLeave:[Function,Array],init:{type:Boolean,default:!0}},Dy),emits:["view:init","view:resize","swipeback:move","swipeback:beforechange","swipeback:afterchange","swipeback:beforereset","swipeback:afterreset","tab:hide","tab:show"],setup:function(e,t){var n,r,a=t.emit,o=t.slots,i=null,s=Et(null),l=null,u=function(t){a("view:init",t),e.init||(l.instance=t,i=l.instance)},c=function(){var t=mt(e.routes||[]),n=mt(e.routesAdd||[]);return dy(LS({},e,{routes:t,routesAdd:n}))};if(by&&!i&&e.init){var p=Cy();if(i=by.views.create(s.value,LS({},c(),{routerId:p,init:!1,on:{init:u}})),l={routerId:p,instance:i},Sy.views.push(l),i&&i.router&&(e.url||e.main)){var d=function(e,t){var n,r,a=e.getInitialUrl().initialUrl,o=e.findMatchingRoute(a),i={};return o&&o.route&&o.route.options&&(i=o.route.options.props),!o||!o.route||!o.route.component&&!o.route.asyncComponent||!0===(r=o.route).master||"function"==typeof r.master&&r.master(e.app)||(n={component:o.route.component||o.route.asyncComponent,initialComponent:t,id:Ey(),isAsync:!!o.route.asyncComponent,props:BS({f7route:o,f7router:e},i,o.params)}),{initialPage:n,initialRoute:o}}(i.router,null);n=d.initialPage,(r=d.initialRoute)&&r.route&&r.route.masterRoute&&(n=void 0,r=void 0)}}var f=Et(n?[n]:[]),h=function(e){e.forEach((function(e){e.component=mt(e.component)})),f.value=e},v=function(e,t){a("view:resize",t)},m=function(e){a("swipeback:move",e)},g=function(e){a("swipeback:beforechange",e)},b=function(e){a("swipeback:afterchange",e)},y=function(e){a("swipeback:beforereset",e)},w=function(e){a("swipeback:afterreset",e)};Zn((function(){Ny((function(){if(i)l.el=s.value,l.pages=f.value,l.setPages=function(e){h([].concat(e))},n&&n.isAsync&&!n.initialComponent?n.component().then((function(){setTimeout((function(){i.init(s.value),n&&(n.el=i.router.currentPageEl,r&&r.route&&r.route.keepAlive&&(r.route.keepAliveData={pageEl:n.el}))}),100)})):(i.init(s.value),n&&(n.el=i.router.currentPageEl,r&&r.route&&r.route.keepAlive&&(r.route.keepAliveData={pageEl:n.el})));else{var t=Cy();l={el:s.value,routerId:t,pages:f.value,instance:i,setPages:function(e){h([].concat(e))}},Sy.views.push(l),l.instance=by.views.create(s.value,LS({routerId:t},c(),{on:{init:u}})),i=l.instance}e.init&&(i.on("resize",v),i.on("swipebackMove",m),i.on("swipebackBeforeChange",g),i.on("swipebackAfterChange",b),i.on("swipebackBeforeReset",y),i.on("swipebackAfterReset",w))}))})),nr((function(){i&&(i.off("resize",v),i.off("swipebackMove",m),i.off("swipebackBeforeChange",g),i.off("swipebackAfterChange",b),i.off("swipebackBeforeReset",y),i.off("swipebackAfterReset",w),i.destroy&&i.destroy(),i=null),Sy.views.splice(Sy.views.indexOf(l),1),l=null})),tr((function(){l&&by&&yy.emit("viewRouterDidUpdate",l)})),Iw(s,a);var x=ao((function(){return gy("view",{"view-main":e.main,"tab-active":e.tabActive,tab:e.tab},Py(e))}));return function(){return oo("div",{ref:s,class:x.value},[o.default&&o.default()].concat(f.value.map((function(e){return oo(function(e){return mt(e.component)}(e),LS({key:e.id},function(e){var t=e.component,n=e.props,r=[],a={};return t&&t.props&&(r=Object.keys(t.props)),r.forEach((function(e){e in n&&(a[e]=n[e])})),a}(e)))}))))}}};function FS(){return FS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FS.apply(this,arguments)}var $S={name:"f7-views",render:function(e,t){return da(),ba("div",{class:e.classes},[vr(e.$slots,"default")],2)},props:FS({tabs:Boolean},Dy),setup:function(e){return{classes:ao((function(){return gy("views",{tabs:e.tabs},Py(e))}))}}},VS=My;var jS=function(e){return function(e){dn=e}("data-v-51a7de96"),e=e(),dn=null,e},HS={key:0,class:"text-align-center loader"},WS=[jS((function(){return ka("div",{class:"preloader"},null,-1)}))],US={class:"camera"},qS={ref:"videoRef",playsinline:"",autoplay:""},GS={class:"camera"},XS={ref:"imageRef",src:"static/sign.png"},YS={class:"result"},KS=jS((function(){return ka("label",{for:"textToTranslate"},"Text to Translate:",-1)})),JS={key:0},QS=jS((function(){return ka("h3",null,"Translated Text:",-1)}));function ZS(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function eT(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ZS(o,r,a,i,s,"next",e)}function s(e){ZS(o,r,a,i,s,"throw",e)}i(void 0)}))}}var tT=n(687),nT=n.n(tT),rT=n(211),aT="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==n.g&&n.g||{},oT="URLSearchParams"in aT,iT="Symbol"in aT&&"iterator"in Symbol,sT="FileReader"in aT&&"Blob"in aT&&function(){try{return new Blob,!0}catch(e){return!1}}(),lT="FormData"in aT,uT="ArrayBuffer"in aT;if(uT)var cT=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],pT=ArrayBuffer.isView||function(e){return e&&cT.indexOf(Object.prototype.toString.call(e))>-1};function dT(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function fT(e){return"string"!=typeof e&&(e=String(e)),e}function hT(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return iT&&(t[Symbol.iterator]=function(){return t}),t}function vT(e){this.map={},e instanceof vT?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){if(2!=e.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function mT(e){if(!e._noBody)return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function gT(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function bT(e){var t=new FileReader,n=gT(t);return t.readAsArrayBuffer(e),n}function yT(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function wT(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:sT&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:lT&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:oT&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():uT&&sT&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=yT(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):uT&&(ArrayBuffer.prototype.isPrototypeOf(e)||pT(e))?this._bodyArrayBuffer=yT(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):oT&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},sT&&(this.blob=function(){var e=mT(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=mT(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(sT)return this.blob().then(bT);throw new Error("could not read as ArrayBuffer")},this.text=function(){var e=mT(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=gT(t),r=/charset=([A-Za-z0-9_-]+)/.exec(e.type),a=r?r[1]:"utf-8";return t.readAsText(e,a),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},lT&&(this.formData=function(){return this.text().then(ET)}),this.json=function(){return this.text().then(JSON.parse)},this}vT.prototype.append=function(e,t){e=dT(e),t=fT(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},vT.prototype.delete=function(e){delete this.map[dT(e)]},vT.prototype.get=function(e){return e=dT(e),this.has(e)?this.map[e]:null},vT.prototype.has=function(e){return this.map.hasOwnProperty(dT(e))},vT.prototype.set=function(e,t){this.map[dT(e)]=fT(t)},vT.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},vT.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),hT(e)},vT.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),hT(e)},vT.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),hT(e)},iT&&(vT.prototype[Symbol.iterator]=vT.prototype.entries);var xT=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function CT(e,t){if(!(this instanceof CT))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,r,a=(t=t||{}).body;if(e instanceof CT){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new vT(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,a||null==e._bodyInit||(a=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new vT(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),xT.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in aT)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&a)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(a),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var o=/([?&])_=[^&]*/;if(o.test(this.url))this.url=this.url.replace(o,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function ET(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),a=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(a))}})),t}function kT(e,t){if(!(this instanceof kT))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new vT(t.headers),this.url=t.url||"",this._initBody(e)}CT.prototype.clone=function(){return new CT(this,{body:this._bodyInit})},wT.call(CT.prototype),wT.call(kT.prototype),kT.prototype.clone=function(){return new kT(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new vT(this.headers),url:this.url})},kT.error=function(){var e=new kT(null,{status:200,statusText:""});return e.status=0,e.type="error",e};var ST=[301,302,303,307,308];kT.redirect=function(e,t){if(-1===ST.indexOf(t))throw new RangeError("Invalid status code");return new kT(null,{status:t,headers:{location:e}})};var TT=aT.DOMException;try{new TT}catch(e){TT=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},TT.prototype=Object.create(Error.prototype),TT.prototype.constructor=TT}function OT(e,t){return new Promise((function(n,r){var a=new CT(e,t);if(a.signal&&a.signal.aborted)return r(new TT("Aborted","AbortError"));var o=new XMLHttpRequest;function i(){o.abort()}if(o.onload=function(){var e=o.getAllResponseHeaders(),t=o.getResponseHeader("set-cookie");t&&(e=e.replace(t,t.replace(/\r?\n/g,", ")));var r,a,i={status:o.status,statusText:o.statusText,headers:(r=e||"",a=new vT,r.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var t=e.split(":"),n=t.shift().trim();if(n){var r=t.join(":").trim();try{a.append(n,r)}catch(e){console.warn("Response "+e.message)}}})),a)};i.url="responseURL"in o?o.responseURL:i.headers.get("X-Request-URL");var s="response"in o?o.response:o.responseText;setTimeout((function(){n(new kT(s,i))}),0)},o.onerror=function(){setTimeout((function(){r(new TypeError("Network request failed"))}),0)},o.ontimeout=function(){setTimeout((function(){r(new TypeError("Network request failed"))}),0)},o.onabort=function(){setTimeout((function(){r(new TT("Aborted","AbortError"))}),0)},o.open(a.method,function(e){try{return""===e&&aT.location.href?aT.location.href:e}catch(t){return e}}(a.url),!0),"include"===a.credentials?o.withCredentials=!0:"omit"===a.credentials&&(o.withCredentials=!1),"responseType"in o&&(sT?o.responseType="blob":uT&&(o.responseType="arraybuffer")),t&&"object"==typeof t.headers&&!(t.headers instanceof vT||aT.Headers&&t.headers instanceof aT.Headers)){var s=[];Object.getOwnPropertyNames(t.headers).forEach((function(e){s.push(dT(e)),o.setRequestHeader(e,fT(t.headers[e]))})),a.headers.forEach((function(e,t){-1===s.indexOf(t)&&o.setRequestHeader(t,e)}))}else a.headers.forEach((function(e,t){o.setRequestHeader(t,e)}));a.signal&&(a.signal.addEventListener("abort",i),o.onreadystatechange=function(){4===o.readyState&&a.signal.removeEventListener("abort",i)}),o.send(void 0===a._bodyInit?null:a._bodyInit)}))}OT.polyfill=!0,aT.fetch||(aT.fetch=OT,aT.Headers=vT,aT.Request=CT,aT.Response=kT);var IT=ut({value:500,setValue:function(e){this.value=e},getValue:function(){return this.value}}),NT=n.p+"images/moon.png",AT=n.p+"images/sun.png";var _T={setup:function(){var e=qT.global.locale,t=Et("sun");return Zn((function(){alert(qT.global.themeLocale,"default")})),{changeLanguage:function(t){qT.global.locale=t.target.value,e=t.target.value},selectedLang:e,theme:t,changeTheme:function(e){alert(e)},langs:["ja","es","en"]}}},RT=n(744);var MT=(0,RT.Z)(_T,[["render",function(e,t,n,r,a,o){var i=ur("f7-block");return da(),ba(i,null,{default:hn((function(){return[Na(Z(e.i18n.global.themeLocale)+" theme ",1),"moon"===r.theme?(da(),ga("img",{key:0,class:"theme-select",src:NT,width:"25",height:"25",onClick:t[0]||(t[0]=function(e){return r.changeTheme("sun")})})):(da(),ga("img",{key:1,src:AT,class:"theme-select",width:"25",height:"25",onClick:t[1]||(t[1]=function(e){return r.changeTheme("moon")})}))]})),_:1})}],["__scopeId","data-v-72bec605"]]),PT=function(){var e=navigator.userAgent||navigator.vendor||window.opera;return!!/android/i.test(e)},DT={components:{chip:MT},setup:function(){var e,t,n=Et(null),r=Et(null),a=Et(!1),o=Et(!1),i=Et("there is nothing"),s=Et(null),l=Et(!1),u=Et(!1),c=Et(!1),p=Et([]),d=224,f=224,h=IT.getValue(),v=!1,m=null,g=function(){return window.cordova&&(PT()||(e=navigator.userAgent||navigator.vendor||window.opera,!!/iPad|iPhone|iPod/i.test(e)));var e},b=function(n){e.predict(n).then((function(e){for(var n=0,r=0,a=0;a<t;a++)e[a].probability.toFixed(2)>n&&(n=e[a].probability.toFixed(2),r=a);o.value?i.value=e[r].className:o.value=!0}))},y=function(){i.value?u.value&&(s.value=qT.global.t(i.value),"No sign detected."!=s.value&&"there is nothing"!=i.value&&p.value.push(qT.global.t(i.value))):s.value=qT.global.t("there is nothing")};console.log(s);var w=function(){e&&n.value&&setInterval((function(){b(n.value),y()}),h)},x=function(){var e={canvas:{width:d,height:f},capture:{width:d,height:f},use:"file",fps:30,hasThumbnail:!1,cameraFacing:"front"};window.plugin.CanvasCamera.start(e,eT(nT().mark((function e(){return nT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),(function(e){!function(e){var t="";t=PT()?"file://"+e.output.images.fullsize.file:e.output.images.fullsize.file,window.resolveLocalFileSystemURL(t,function(){var e=eT(nT().mark((function e(t){return nT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.file((function(e){var t=new FileReader;t.onloadend=eT(nT().mark((function e(){var n;return nT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new Blob([new Uint8Array(t.result)],{type:"image/png"}),r.value.src=window.URL.createObjectURL(n);case 2:case"end":return e.stop()}}),e)}))),t.readAsArrayBuffer(e)}),(function(){}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(){}))}(e)}))},C=function(){var t=eT(nT().mark((function t(){return nT().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:g()?e&&window.plugin&&window.plugin.CanvasCamera&&r?(x(),setInterval((function(){r&&r.value&&r.value.src&&(b(r.value),y())}),h)):window.plugin&&window.plugin.CanvasCamera||alert("window.plugin.CanvasCamera was not found"):w();case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();document.addEventListener("deviceready",(function(){m=setInterval((function(){!0===v&&(C(),clearInterval(m))}),500)}),!1),Zn(eT(nT().mark((function o(){var i,s,l;return nT().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return PT()&&(window.fetch=OT),s="".concat(i="static/model/","model.json"),l="".concat(i,"metadata.json"),o.next=6,rT.zD(s,l);case 6:e=o.sent,v=!0,t=e.getTotalClasses(),e.getClassLabels(),b(r.value),!g()&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&(u=void 0,u={audio:!1,video:{facingMode:"environment",width:{min:d,ideal:d,max:d,exact:d},height:{min:f,ideal:f,max:f,exact:f}}},navigator.mediaDevices.getUserMedia(u).then((function(e){a.value=!0,n.value.srcObject=e,w()})).catch((function(){a.value=!0})));case 12:case"end":return o.stop()}var u}),o)}))));var E=ao((function(){return(g()||a.value)&&o.value}));return console.log(s),{videoRef:n,imageRef:r,loaded:E,showResult:function(){l.value||(l.value=!0,setTimeout((function(){l.value=!1,u.value=!0}),2e3),c.value=!1,y(),p.value=[])},isLoading:l,isResult:u,stopSign:function(){u.value=!1,l.value||(l.value=!0,setTimeout((function(){l.value=!1}),1e3),c.value=!0)},user:i,start:C,isAllResult:c,arr:p,result:s,isMobile:g}}};const BT=(0,RT.Z)(DT,[["render",function(e,t,n,r,a,o){var i=ur("f-card"),s=ur("f7-row"),l=ur("f7-block"),u=ur("f7-input"),c=ur("f7-button"),p=ur("f7-page");return da(),ba(p,{name:"home",class:"home"},{default:hn((function(){return[r.loaded?_a("",!0):(da(),ga("div",HS,WS)),Sa(l,{class:"main-container"},{default:hn((function(){return[Sa(s,{class:"justify-content-center text-align-center camera-container"},{default:hn((function(){return[Sa(i,{class:"main-container"},{default:hn((function(){return[In(ka("div",US,[ka("video",qS,null,512)],512),[[qo,!r.isMobile()]]),In(ka("div",GS,[ka("img",XS,null,512)],512),[[qo,r.isMobile()]])]})),_:1})]})),_:1}),Sa(l,{class:"text-container"},{default:hn((function(){return[r.isResult?(da(),ba(l,{key:0,class:"result-container"},{default:hn((function(){return[ka("h3",YS,Z(r.result),1)]})),_:1})):_a("",!0),ka("div",null,[KS,In(ka("textarea",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.textToTranslate=t}),id:"textToTranslate",rows:"4"},null,512),[[Uo,e.textToTranslate]]),ka("button",{onClick:t[1]||(t[1]=function(){return e.transText&&e.transText.apply(e,arguments)})},"Translate"),e.translatedText?(da(),ga("div",JS,[QS,ka("p",null,Z(e.translatedText),1)])):_a("",!0)]),Sa(l,{class:"start-btns"},{default:hn((function(){return[r.isResult?_a("",!0):(da(),ba(u,{key:0,type:"text",placeholder:"Enter text",class:"textbox"})),r.isResult?(da(),ba(c,{key:2,preloader:"",loading:r.isLoading,onClick:r.stopSign,fill:"",class:"btn-red start-btn"},{default:hn((function(){return[Na("Stop Signing")]})),_:1},8,["loading","onClick"])):(da(),ba(c,{key:1,preloader:"",loading:r.isLoading,onClick:r.showResult,fill:"",class:"start-btn"},{default:hn((function(){return[Na(" Start Signing ")]})),_:1},8,["loading","onClick"]))]})),_:1}),r.isAllResult?(da(),ba(l,{key:1,class:"result-container"},{default:hn((function(){return[ka("h5",null,Z(r.arr.join(" ")),1)]})),_:1})):_a("",!0)]})),_:1})]})),_:1})]})),_:1})}],["__scopeId","data-v-51a7de96"]]);var LT=BT,zT=ka("p",null,"Sorry",-1),FT=ka("p",null,"Requested content not found.",-1);var $T={};var VT=(0,RT.Z)($T,[["render",function(e,t,n,r,a,o){var i=ur("f7-navbar"),s=ur("f7-block"),l=ur("f7-page");return da(),ba(l,null,{default:hn((function(){return[Sa(i,{title:"Not found","back-link":"Back"}),Sa(s,{strong:""},{default:hn((function(){return[zT,FT]})),_:1})]})),_:1})}]]);var jT={components:{chip:MT},data:function(){return{settings:IT,changeSettings:function(e){IT.setValue(e)}}}};var HT=[{path:"/",component:LT},{path:"/settings",component:(0,RT.Z)(jT,[["render",function(e,t,n,r,a,o){var i=ur("f7-icon"),s=ur("f7-link"),l=ur("f7-nav-left"),u=ur("chip"),c=ur("f7-nav-right"),p=ur("f7-navbar"),d=ur("f7-block"),f=ur("f7-page");return da(),ba(f,{name:"settings"},{default:hn((function(){return[Sa(p,null,{default:hn((function(){return[Sa(l,null,{default:hn((function(){return[Sa(s,{href:"/",class:"link"},{default:hn((function(){return[Sa(i,{icon:"icon-back"})]})),_:1})]})),_:1}),Sa(c,null,{default:hn((function(){return[Sa(u)]})),_:1})]})),_:1}),Sa(d)]})),_:1})}],["__scopeId","data-v-44ef5049"]])},{path:"(.*)",component:VT}],WT={setup:function(){var e={name:"",theme:"auto",routes:HT,navbar:{mdCenterTitle:!0}};return Zn((function(){Ny((function(){}))})),{f7params:e}}};var UT=(0,RT.Z)(WT,[["render",function(e,t,n,r,a,o){var i=ur("f7-navbar"),s=ur("f7-block"),l=ur("f7-page"),u=ur("f7-view"),c=ur("f7-panel"),p=ur("f7-app");return da(),ba(p,function(e){if(!e)return null;let{class:t,style:n}=e;return t&&!w(t)&&(e.class=Y(t)),n&&(e.style=W(n)),e}(Oa(r.f7params)),{default:hn((function(){return[Sa(c,{right:"",reveal:"","theme-dark":""},{default:hn((function(){return[Sa(u,null,{default:hn((function(){return[Sa(l,null,{default:hn((function(){return[Sa(i,{title:"Right Panel"}),Sa(s,null,{default:hn((function(){return[Na(Z(e.text),1)]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Sa(u,{main:"",class:"safe-areas",url:"/"})]})),_:1},16)}]]);cy.use(VS);var qT=function(e={},t){const n=__VUE_I18N_LEGACY_API__&&gi(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,r=!gi(e.globalInjection)||e.globalInjection,a=!__VUE_I18N_LEGACY_API__||!n||!!e.allowComposition,o=new Map,[i,s]=function(e,t,n){const r=new ne(a);var a;{const n=__VUE_I18N_LEGACY_API__&&t?r.run((()=>zl(e))):r.run((()=>Ll(e)));if(null==n)throw bl(gl.UNEXPECTED_ERROR);return[r,n]}}(e,n),l=ei("");{const e={get mode(){return __VUE_I18N_LEGACY_API__&&n?"legacy":"composition"},get allowComposition(){return a},async install(t,...a){__VUE_PROD_DEVTOOLS__&&(t.__VUE_I18N__=e),t.__VUE_I18N_SYMBOL__=l,t.provide(t.__VUE_I18N_SYMBOL__,e),!n&&r&&function(e,t){const n=Object.create(null);lu.forEach((e=>{const r=Object.getOwnPropertyDescriptor(t,e);if(!r)throw bl(gl.UNEXPECTED_ERROR);const a=Ct(r.value)?{get(){return r.value.value},set(e){r.value.value=e}}:{get(){return r.get&&r.get()}};Object.defineProperty(n,e,a)})),e.config.globalProperties.$i18n=n,uu.forEach((n=>{const r=Object.getOwnPropertyDescriptor(t,n);if(!r||!r.value)throw bl(gl.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${n}`,r)}))}(t,e.global),__VUE_I18N_FULL_INSTALL__&&Gl(t,e,...a),__VUE_I18N_LEGACY_API__&&n&&t.mixin(function(e,t,n){return{beforeCreate(){const r=Va();if(!r)throw bl(gl.UNEXPECTED_ERROR);const a=this.$options;if(a.i18n){const n=a.i18n;a.__i18n&&(n.__i18n=a.__i18n),n.__root=t,this===this.$root?this.$i18n=ou(e,n):(n.__injectWithOption=!0,this.$i18n=zl(n))}else a.__i18n?this===this.$root?this.$i18n=ou(e,a):this.$i18n=zl({__i18n:a.__i18n,__injectWithOption:!0,__root:t}):this.$i18n=e;a.__i18nGlobal&&_l(t,a,a),e.__onComponentInstanceCreated(this.$i18n),n.__setInstance(r,this.$i18n),this.$t=(...e)=>this.$i18n.t(...e),this.$rt=(...e)=>this.$i18n.rt(...e),this.$tc=(...e)=>this.$i18n.tc(...e),this.$te=(e,t)=>this.$i18n.te(e,t),this.$d=(...e)=>this.$i18n.d(...e),this.$n=(...e)=>this.$i18n.n(...e),this.$tm=e=>this.$i18n.tm(e)},mounted(){if(__VUE_PROD_DEVTOOLS__&&this.$el&&this.$i18n){this.$el.__VUE_I18N__=this.$i18n.__composer;const e=this.__v_emitter=Ci(),t=this.$i18n;t.__enableEmitter&&t.__enableEmitter(e),e.on("*",au)}},unmounted(){const e=Va();if(!e)throw bl(gl.UNEXPECTED_ERROR);if(__VUE_PROD_DEVTOOLS__&&this.$el&&this.$el.__VUE_I18N__&&(this.__v_emitter&&(this.__v_emitter.off("*",au),delete this.__v_emitter),this.$i18n)){const e=this.$i18n;e.__disableEmitter&&e.__disableEmitter(),delete this.$el.__VUE_I18N__}delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,n.__deleteInstance(e),delete this.$i18n}}}(s,s.__composer,e));const o=t.unmount;if(t.unmount=()=>{e.dispose(),o()},__VUE_PROD_DEVTOOLS__){if(!await Kl(t,e))throw bl(gl.CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN);const r=Ci();if(n){const e=s;e.__enableEmitter&&e.__enableEmitter(r)}else{const e=s;e[Cl]&&e[Cl](r)}r.on("*",au)}},get global(){return s},dispose(){i.stop()},__instances:o,__getInstance:function(e){return o.get(e)||null},__setInstance:function(e,t){o.set(e,t)},__deleteInstance:function(e){o.delete(e)}};return e}}({locale:"en",fallbackLocale:"en",messages:{ja:{title:"","":"","":"","":"","":"","":"","":"",img:"static/png/ja.png",ja:"",es:"",en:"",settings:"",developed:"",version:"1.0.0"},es:{title:"Lengua de signos japonesa","":"A","":"I","":"U","":"E","":"O","":"No se detecta ningn signo.",img:"static/png/es.png",ja:"Japons",es:"Espaol",en:"Ingls",settings:"Ajusta el intervalo de prediccin de la cmara",developed:"Desarrollado por Asial Corporation",version:"Versin de la App: 1.0.0"},en:{title:"Sign Language App","":"A","":"I","":"U","":"E","":"O","":"No sign detected.",img:"static/png/en.png",ja:"Japanese",es:"Spanish",en:"English",settings:"Adjust the prediction interval of the camera",developed:"Developed by Asial Corporation",version:"App Version: 1.0.0"}}}),GT=((...e)=>{const t=Ko().createApp(...e);const{mount:n}=t;return t.mount=e=>{const r=Jo(e);if(!r)return;const a=t._component;y(a)||a.render||a.template||(a.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t})(UT).use(qT);!function(e){e.component("f7-accordion-content",Wy),e.component("f7-accordion-item",qy),e.component("f7-accordion-toggle",Xy),e.component("f7-accordion",Ky),e.component("f7-actions-button",ew),e.component("f7-actions-group",rw),e.component("f7-actions-label",ow),e.component("f7-actions",lw),e.component("f7-app",dw),e.component("f7-appbar",hw),e.component("f7-area-chart",bw),e.component("f7-badge",xw),e.component("f7-block-footer",Ew),e.component("f7-block-header",Sw),e.component("f7-block-title",Ow),e.component("f7-block",Aw),e.component("f7-button",Yw),e.component("f7-card-content",Jw),e.component("f7-card-footer",Zw),e.component("f7-card-header",tx),e.component("f7-card",rx),e.component("f7-checkbox",ix),e.component("f7-chip",ux),e.component("f7-col",dx),e.component("f7-fab-backdrop",hx),e.component("f7-fab-button",gx),e.component("f7-fab-buttons",yx),e.component("f7-fab",xx),e.component("f7-gauge",Ex),e.component("f7-icon",Ww),e.component("f7-input",Mx),e.component("f7-link",Bx),e.component("f7-list-button",zx),e.component("f7-list-group",$x),e.component("f7-list-index",jx),e.component("f7-list-input",Wx),e.component("f7-list-item-cell",qx),e.component("f7-list-item-row",Xx),e.component("f7-list-item",Kx),e.component("f7-list",Qx),e.component("f7-login-screen-title",eC),e.component("f7-login-screen",nC),e.component("f7-menu-dropdown-item",aC),e.component("f7-menu-dropdown",iC),e.component("f7-menu-item",uC),e.component("f7-menu",dC),e.component("f7-message",CC),e.component("f7-messagebar-attachment",kC),e.component("f7-messagebar-attachments",TC),e.component("f7-messagebar-sheet-image",NC),e.component("f7-messagebar-sheet-item",_C),e.component("f7-messagebar-sheet",MC),e.component("f7-messagebar",DC),e.component("f7-messages-title",LC),e.component("f7-messages",FC),e.component("f7-nav-left",VC),e.component("f7-nav-right",HC),e.component("f7-nav-title-large",qC),e.component("f7-nav-title",YC),e.component("f7-navbar",eE),e.component("f7-page-content",iE),e.component("f7-page",lE),e.component("f7-panel",pE),e.component("f7-photo-browser",fE),e.component("f7-pie-chart",hE),e.component("f7-popover",bE),e.component("f7-popup",wE),e.component("f7-preloader",jw),e.component("f7-progressbar",CE),e.component("f7-radio",SE),e.component("f7-range",Ix),e.component("f7-routable-modals",cw),e.component("f7-row",IE),e.component("f7-searchbar",ME),e.component("f7-segmented",BE),e.component("f7-sheet",zE),e.component("f7-skeleton-avatar",jE),e.component("f7-skeleton-block",HE),e.component("f7-skeleton-image",WE),e.component("f7-skeleton-text",UE),e.component("f7-stepper",YE),e.component("f7-subnavbar",ZE),e.component("f7-swipeout-actions",tk),e.component("f7-swipeout-button",rk),e.component("f7-swiper-slide",yS),e.component("f7-swiper",wS),e.component("f7-tab",CS),e.component("f7-tabs",kS),e.component("f7-text-editor",_x),e.component("f7-toggle",Tx),e.component("f7-toolbar",OS),e.component("f7-treeview-item",MS),e.component("f7-treeview",DS),e.component("f7-use-icon",Uw),e.component("f7-view",zS),e.component("f7-views",$S)}(GT),GT.mount("#app")}()}();
//# sourceMappingURL=app.js.map